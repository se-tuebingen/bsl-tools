(()=>{var An=Object.defineProperty,Pn=Object.defineProperties;var Rn=Object.getOwnPropertyDescriptors;var ut=Object.getOwnPropertySymbols;var Bn=Object.prototype.hasOwnProperty,wn=Object.prototype.propertyIsEnumerable;var dt=(e,n,t)=>n in e?An(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ee=(e,n)=>{for(var t in n||(n={}))Bn.call(n,t)&&dt(e,t,n[t]);if(ut)for(var t of ut(n))wn.call(n,t)&&dt(e,t,n[t]);return e},mt=(e,n)=>Pn(e,Rn(n));function ye(e){return q(e)||K(e)||Ue(e)}function q(e){return e.type==="Function Definition"}function K(e){return e.type==="Constant Definition"}function Ue(e){return e.type==="Struct Definition"}function he(e){return J(e)||W(e)||z(e)||k(e)}function J(e){return e.type==="Function Call"}function W(e){return e.type==="Cond-Expression"}function z(e){return e.type==="Symbol"}function k(e){return e.type==="Literal Value"}function gt(e){return e.map(xe).join(`
`)}function xe(e){return ye(e)?ie(e):L(e)}function ie(e){return q(e)?`(define (${C(e.name)} ${e.args.map(C).join(" ")}) ${L(e.body)})`:K(e)?`(define ${C(e.name)} ${L(e.value)})`:Ue(e)?`(define-struct ${C(e.binding)} (${e.properties.map(C).join(" ")}))`:(console.error("Invalid input to printDefinition"),"")}function L(e){return J(e)?`(${C(e.name)} ${e.args.map(L).join(" ")})`:W(e)?`(cond ${e.options.map(G).join(" ")})`:z(e)?C(e):k(e)?ae(e.value):(console.error("Invalid input to printE"),`<${e}>`)}function ae(e){return typeof e=="string"&&e!=="'()"?`"${e}"`:typeof e=="boolean"?e?"#true":"#false":`${e}`}function G(e){return`[${L(e.condition)} ${L(e.result)}]`}function C(e){return e.symbol}var $r=[{type:"Function Definition",name:{type:"Symbol",symbol:"f"},args:[{type:"Symbol",symbol:"x"},{type:"Symbol",symbol:"y"}],body:{type:"Function Call",name:{type:"Symbol",symbol:"+"},args:[{type:"Symbol",symbol:"x"},{type:"Symbol",symbol:"y"}]}},{type:"Cond-Expression",options:[{type:"Cond-Option",condition:{type:"Function Call",name:{type:"Symbol",symbol:"="},args:[{type:"Symbol",symbol:"x"},{type:"Literal Value",value:3}]},result:{type:"Literal Value",value:"isThree"}},{type:"Cond-Option",condition:{type:"Literal Value",value:!1},result:{type:"Literal Value",value:"'()"}}]},{type:"Constant Definition",name:{type:"Symbol",symbol:"x"},value:{type:"Literal Value",value:42}},{type:"Struct Definition",binding:{type:"Symbol",symbol:"name"},properties:[{type:"Symbol",symbol:"firstName"},{type:"Symbol",symbol:"lastName"}]}];function te(e,n,t="text"){let r=[],i=0,c=0,p=0,u="",m=!1,x=!1;e.split("").forEach(d=>{if(m&&d!=='"'){u+=d;return}if(x&&d!==">"){u+=d;return}switch(d){case"(":case"[":c++;break;case")":case"]":c--;break;case'"':m=!m;break;case"<":x=t==="html";break;case">":t==="html"&&(x=!1);break;case" ":case`
`:case"	":if(!u)return;r.push({term:u,level:i}),i>p&&(p=i),u="",i=c;return}u+=d}),u!==""&&(r.push({term:u,level:i}),i>p&&(p=i));let g=t==="html"?"<br>":`
`;for(let d=p;d>0;d--){let b=[];r.forEach(T=>{T.level<d?b.push(mt(ee({},T),{subterms:[]})):b[b.length-1].subterms.push(T.term)}),r=b.map(T=>{let P=T.subterms.some(E=>E.includes(g)),I=`${T.term}${T.subterms.length>0?" ":""}${T.subterms.join(" ")}`,oe=t==="html"?kn(I):I.length;if(P||oe+T.level>n){let E=T.subterms.map(we=>`${ft(t==="html"?"&nbsp;":" ",d)}${we}`);E.unshift(T.term);let me=t==="html"?"<br>":`
`;return{term:`${E.join(me)}`,level:T.level}}else return{term:I,level:T.level}})}return r.map(d=>d.term).join(g)}function ft(e,n){let t="";for(let r=0;r<n;r++)t+=e;return t}function kn(e){let n=document.createElement("div");return n.innerHTML=e,n.textContent?n.textContent.length:0}function D(e){return e.replaceAll("<","&lt;").replaceAll(">","&gt;")}function Q(e){return e.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&nbsp;"," ")}function B(e,n,t=!1){if(e.length===0)return[];let r=n.split("/"),i=r.shift();if(i=="")return e;let c=r.join("/"),p=[];if(i=="..")p=e.map(u=>u.parentElement).filter(u=>u);else if(i=="+")p=e.map(u=>u.nextElementSibling).filter(u=>u);else if(i.startsWith(".")){let u=i.slice(1);p=e.flatMap(m=>Array.from(m.children).filter(x=>x.classList.contains(u)))}else p=e.flatMap(u=>Array.from(u.children).filter(m=>m.tagName==i.toUpperCase()));return p.length===0&&t&&console.error(`Error traversing ${n}: No element found`),B(p,c)}function X(e,n){if(e.tagName==n.toUpperCase())return e;{let t=e.parentElement;return t?X(t,n):(console.error("Could not find parent element with requested tag ",n),null)}}function w(e,n){if(e.classList.contains(n))return e;{let t=e.parentElement;return t?w(t,n):(console.error("Could not find parent element with requested class ",n),null)}}var yt=`/* ######## color variables ###### */
.tree {
  --branch-color: #666;
  --node-background: #ebf0f4; /* racket azure */
  --text-grey: #444; /* like in scribble */
  --hole-yellow: #fdf68d; /* pale yellow */
  --highlight-border-connectors: lime;
  --wrong-background: red;
  --correct-background: lime;
  --hole-selection-background: white;
}
/*
CSS for tree by Ross Angus
https://www.cssscript.com/clean-tree-diagram/
(Edited and extended)
*/

/* ###### node layout ######## */
.tree,
.tree ul,
.tree li {
    list-style: none;
    margin: 0;
    padding: 0;
    position: relative;
    white-space: nowrap;
}

.tree {
    margin: 0 0 1em;
    text-align: center;
}

.tree,
.tree ul {
    display: table;
}

.tree ul {
    width: 100%;
}

.tree li {
    display: table-cell;
    padding: 0;
    padding-top: 1.5em;
    vertical-align: top;
}

.tree code,
.tree span {
    border: solid .1em var(--branch-color);
    border-radius: .2em;
    display: inline-block;
    margin-left: 1em;
    margin-right: 1em;
    margin-top: 1.5em;
    padding: .2em .5em;
    position: relative;
    box-sizing: border-box;
}

/* ########### custom AST node  styles ######## */
/* node */
.tree span {
  font-family: 'Fira-Mono', monospace;
  background-color: var(--node-background);
  transition: 1s background-color ease-out;
}
.tree .terminal-symbol {
  border-width: .2em;
  border-style: double;
}
/* node label */
.tree .name {
  color: var(--text-grey);
  font-style: italic;
  font-size: 0.85em;
  text-align: right;

  position: absolute;
  top: calc(-0.85em - 1.5em);
  right: var(--edgetext-right, 50%); /* to be set dynamically */
  margin-right: -1.5em;
  background-color: rgba(255,255,255,0.7);
}
/* tooltip */
.tree .name .tooltip {
  display: none;
}
.tree .name:hover .tooltip {
  display: block;
  position: absolute;
  left: 100%;
  bottom: calc(-0.5em - 1px);
  background-color: var(--node-background);
  border: 1px solid var(--branch-color);
  text-align: left;
  padding: 0.5em;
  z-index: 1000;
}

/* ###### connectors ########### */
/* part above box */
.tree span:before {
    outline: solid 1px var(--branch-color);
    content: "";
    width: var(--connector-width, 0px); /* to be set dynamically */
    left: var(--connector-left, 50%); /* to be set dynamically */
    position: absolute;
    top: -1.5em;
    transform: var(--connector-transform); /* to be set dynamically */
}
.tree span.terminal-symbol:before {
  top: calc(-1.5em - .2em);
}

/* ####### highlight way back up from a node ###### */
/* .tree li:hover > span {
  border-color: var(--highlight-border-connectors);
}
.tree li:hover::before {
  border-color: var(--highlight-border-connectors);
  z-index: 1000;
}
.tree li:hover > span::before {
  outline-color: var(--highlight-border-connectors);
} */

/* ######## hide connectors over root ######## */
.tree>li:before,
.tree>li:after,
.tree>li>code:before,
.tree>li>span:before {
    outline: none !important;
    border: none !important;
}
.tree>li {
    margin-top: 0;
}

/* ####### collapse nodes ######## */
/* click on span to hide/show */
.tree .hole:hover {
  cursor: pointer;
}

.tree [data-collapsed="true"] {
  display: none;
}

/* ######### holes ########## */
.tree .char {
  display: inline;
  margin: 0;
  border: none;
  padding: 0;
  border-radius: 0;
  background-color: transparent;
  transition: background-color 1s ease-out;
}
.tree .char::before {
  display: none;
}

.tree .hole {
  display: inline-block;
  background-color: var(--hole-yellow);
  border: 1px solid var(--text-grey);
  color: var(--text-grey);
  padding-left: 0.25em;
  padding-right: 0.25em;
  position: relative;
}

/* ########### quiz ########## */

/* quiz stages */
.tree span[data-quiz-state="production"] .name,
.tree span[data-quiz-state="production"] .code,
.tree span[data-quiz-state="production"] .hole-marking {
  display: none;
}

.tree span[data-quiz-state="hole-marking"] .code,
.tree span[data-quiz-state="hole-marking"] .production {
  display: none;
}

.tree span[data-quiz-state="done"] .production,
.tree span[data-quiz-state="done"] .hole-marking {
  display: none;
}

/* highlighting text by putting a div behind a textarea */
.tree textarea,
.tree .marker-container {
  font-family: inherit;
  resize: none;
  font-size: calc(1em);
  padding: 2px;
  margin: .2em;
  border: none;
  box-sizing: border-box;
}

.tree .textarea-container {
  position: relative;
  display: inline-block;
}
.tree textarea {
  position: relative;
  background-color: transparent;
  z-index: 2;
}
.tree .marker-container {
  text-align: left;
  background-color: var(--hole-selection-background);
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
}
.tree .marker {
  color: transparent;
  background-color: transparent;
  transition: 1s background-color ease-out;
}

/* feedback for wrong answer */
.tree .wrong {
  background-color: var(--wrong-background);
  transition: none;
}
.tree .correct {
  background-color: var(--correct-background);
  transition: none;
}
`;function be(e,n,t,r=!1,i="en"){if(t||(t=Nn(e)),!document.getElementById("bsl-tools-tree-style")){let c=document.createElement("style");c.innerHTML=yt,c.id="bsl-tools-tree-style",document.getElementsByTagName("head")[0].appendChild(c)}ht.includes(i)||(console.error(`
      Selected language "${i}" is not implemented, defaulting to "en".
      Available language codes: ${ht.join(", ")}
    `),i="en"),n.innerHTML=`
    <ul class="tree ast">
      ${r?Lt(e,i,t):Tt(e,t)}
    </ul>
  `,r&&B([n],"ul/li/ul/li").map(c=>c.setAttribute("data-collapsed","false")),Te(n)}function Nn(e){let n={};return xt(e,n),n}function xt(e,n){n[e.production]=[],e.holes.map(t=>xt(t.content,n))}var ht=["en","de"],bt={en:{"select production":"Select production","mark selected text as hole":"Mark selected text as hole"},de:{"select production":"Produktion ausw\xE4hlen","mark selected text as hole":"Auswahl als Loch markieren"}};function Te(e){let n=parseFloat(getComputedStyle(e).fontSize)*3;for(let t=1;;t++){let r=Array.from(e.getElementsByClassName(`hole-${t}`));if(r.length<1)return;r.map(i=>{let c=i,p=.5*(c.getBoundingClientRect().x+c.getBoundingClientRect().right);if(p==0)return;let u=X(c,"li");!u||B([u],`ul/.child-${t}/span`).map(m=>{let x=m,g=.5*(x.getBoundingClientRect().x+x.getBoundingClientRect().right),d=p-g,b=-Math.atan2(n,d),T=Math.sqrt(d*d+n*n),P=d/2-T/2;x.style.cssText=`
          --connector-width: ${T}px;
          --connector-left: calc(50% + ${P}px);
          --edgetext-right: calc(50% - ${d/2}px);
          --connector-transform: rotate(${b}rad);
        `})})}}function Tt(e,n,t=-1){return`
    <li class="${t>=0?`child-${t+1}`:""}"
        data-collapsed="${t>=0?"true":"false"}">
      <span class="${e.holes.length>0?"":"terminal-symbol"}">

        ${Ct(e,n)}

        ${vt(e)}

      </span>
      ${e.holes.length>0?`<ul>${e.holes.map((r,i)=>Tt(r.content,n,i)).join("")}</ul>`:""}
    </li>
  `}function vt(e){return`
  <div class="code">${Fn(e).map(t=>`<span class="char ${t.pos?`hole hole-${t.pos}`:""}"
             ${t.pos?`onclick="toggleChild(event,${t.pos})"`:""}
             >${e.code.slice(t.start,t.end)}</span>`).join("")}
  </div>
  `}window.toggleChild=(e,n)=>{let t=e.target,r=X(t,"li"),i=w(t,"tree");if(!r||!i){console.error("toggleChild called from .hole not in .tree");return}B([r],`ul/.child-${n}`).map(c=>{c.setAttribute("data-collapsed",c.getAttribute("data-collapsed")==="true"?"false":"true")}),Te(i)};function Fn(e){let n=[],t=0;for(let r=0;r<e.holes.length;r++)e.holes[r].start>t&&n.push({pos:!1,start:t,end:e.holes[r].start}),n.push(ee({pos:r+1},e.holes[r])),t=e.holes[r].end;return t<e.code.length&&n.push({pos:!1,start:t,end:e.code.length}),n}function Ct(e,n){return`
    <div class="name">${D(e.production)}${n[e.production]&&n[e.production].length>0?`<div class="tooltip">::= ${n[e.production].map(D).join("<br>&nbsp;|&nbsp;&nbsp;")}</div>`:""}</div>
  `}function Lt(e,n,t,r=-1){return`
    <li class="${r>=0?`child-${r+1}`:""}"
        data-collapsed="${r>=0?"true":"false"}">
      <span class="${e.holes.length>0?"":"terminal-symbol"}"
            data-quiz-state="${r>=0?"production":"done"}"
            data-is-terminal="${e.holes.length<=0}"
            data-is-trivial-hole="${e.holes.length===1&&e.holes[0].start===0&&e.holes[0].end===e.code.length}">

        ${Dn(e,n,t)}

        ${Mn(e,n)}

        ${Ct(e,t)}
        ${vt(e)}
      </span>
      ${e.holes.length>0?`<ul>${e.holes.map((i,c)=>Lt(i.content,n,t,c)).join("")}</ul>`:""}
    </li>
  `}function Dn(e,n,t){return`
  <div class="production">
    <select onchange="checkProduction(event, '${e.production}')">
      <option selected="true">${bt[n]["select production"]}</option>
      ${Object.keys(t).map(r=>`
          <option value="${r}">${D(r)}</option>
        `).join("")}
    </select>
  </div>
  `}window.checkProduction=(e,n)=>{let t=e.target;if(t.value===n){let r=X(t,"span");if(r){r.getAttribute("data-is-terminal")==="true"?r.setAttribute("data-quiz-state","done"):r.getAttribute("data-is-trivial-hole")==="true"?(r.setAttribute("data-quiz-state","done"),B([r],"+/li",!0).map(c=>c.setAttribute("data-collapsed","false"))):r.setAttribute("data-quiz-state","hole-marking"),B([r],"../+").map(c=>c.setAttribute("data-collapsed","false"));let i=w(r,"tree");i&&Te(i)}}else{Array.from(t.selectedOptions).map(i=>i.remove());let r=X(t,"span");r&&(r.classList.add("wrong"),window.setTimeout(()=>{r.classList.remove("wrong")},100))}};function Mn(e,n){return`
  <div class="hole-marking"
       data-holes="${btoa(JSON.stringify(e.holes.map(t=>[t.start,t.end,!1])))}">
    <div class="textarea-container">
      <div class="marker-container">
        ${e.code.split(`
`).map(t=>t.split("").map(r=>`<span class="char marker">${r}</span>`).join("")).join('<span class="char marker"></span><br>')}
      </div>
      <textarea autocorrect="off"
                spellcheck="false"
                cols="${e.code.split(`
`).map(t=>t.length).reduce((t,r)=>t>r?t:r)}"
                rows="${e.code.split(`
`).length}"
                oninput="stopInput(event, '${btoa(e.code)}')">${e.code}</textarea>
    </div><br>
    <button onclick="checkSelection(event)">
      ${bt[n]["mark selected text as hole"]}
    </button>
  </div>
  `}window.stopInput=(e,n)=>{e.target.value=atob(n)};window.checkSelection=e=>{let n=e.target,t=w(n,"hole-marking");if(!t){console.error("checkProduction called from el. not wrapped in div.hole-marking");return}let r=JSON.parse(atob(t.getAttribute("data-holes"))),i=t.getElementsByTagName("textarea")[0],c=i.selectionStart,p=i.selectionEnd,u=c<p?c:p,m=c<p?p:c,x=-1;if(r.map((g,d)=>{g[0]===u&&g[1]===m&&(g[2]=!0,x=d)}),x>=0)t.setAttribute("data-holes",btoa(JSON.stringify(r))),B([t],".textarea-container/.marker-container/.marker",!0).slice(u,m).map(g=>g.classList.add("correct"));else{let g=B([t],".textarea-container/.marker-container/.marker",!0).slice(u,m);g.map(d=>d.classList.add("wrong")),window.setTimeout(()=>{g.map(d=>d.classList.remove("wrong"))},100)}if(r.every(g=>g[2])){let g=X(t,"span");if(g){g.setAttribute("data-quiz-state","done"),B([g],"../ul/.child-1").map(b=>b.setAttribute("data-collapsed","false"));let d=w(g,"tree");d&&Te(d)}}};function Fe(e,n,t){return t=t||" ",e.length>n?e:(n-=e.length,t+=t.repeat(n),e+t.slice(0,n))}var O=class extends Error{constructor(t,r,i,c){super();this.message=t,this.expected=r,this.found=i,this.location=c,this.name="SyntaxError",typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(this,O.prototype):this.__proto__=O.prototype,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,O)}static buildMessage(t,r){function i(g){return g.charCodeAt(0).toString(16).toUpperCase()}function c(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,d=>"\\x0"+i(d)).replace(/[\x10-\x1F\x7F-\x9F]/g,d=>"\\x"+i(d))}function p(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,d=>"\\x0"+i(d)).replace(/[\x10-\x1F\x7F-\x9F]/g,d=>"\\x"+i(d))}function u(g){switch(g.type){case"literal":return'"'+c(g.text)+'"';case"class":let d=g.parts.map(b=>Array.isArray(b)?p(b[0])+"-"+p(b[1]):p(b));return"["+(g.inverted?"^":"")+d+"]";case"any":return"any character";case"end":return"end of input";case"other":return g.description}}function m(g){let d=g.map(u),b,T;if(d.sort(),d.length>0){for(b=1,T=1;b<d.length;b++)d[b-1]!==d[b]&&(d[T]=d[b],T++);d.length=T}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function x(g){return g?'"'+c(g)+'"':"end of input"}return"Expected "+m(t)+" but "+x(r)+" found."}format(t){let r="Error: "+this.message;if(this.location){let i=null,c;for(c=0;c<t.length;c++)if(t[c].source===this.location.source){i=t[c].text.split(/\r\n|\n|\r/g);break}let p=this.location.start,u=this.location.source+":"+p.line+":"+p.column;if(i){let m=this.location.end,x=Fe("",p.line.toString().length," "),g=i[p.line-1],d=p.line===m.line?m.column:g.length+1;r+=`
 --> `+u+`
`+x+` |
`+p.line+" | "+g+`
`+x+" | "+Fe("",p.column-1," ")+Fe("",d-p.column,"^")}else r+=`
 at `+u}return r}};function Hn(e,n){n=n!==void 0?n:{};let t={},r=n.grammarSource,i={Program:lt},c=lt,p=function(o){return o},u=/^[\t \n \r]/,m=Se(["	"," ",`
`," ","\r"],!1,!1),x=function(o){return o},g="(define-struct",d=R("(define-struct",!1),b="(",T=R("(",!1),P=")",I=R(")",!1),oe=function(o,a){return{type:"Struct Definition",binding:o,properties:a}},E="(define",me=R("(define",!1),je=function(o,a,l){return{type:"Function Definition",name:o,args:a,body:l}},we=function(o,a){return{type:"Constant Definition",name:o,value:a}},Vt=function(o){return o},Ve="(cond",qt=R("(cond",!1),Kt=function(o){return{type:"Cond-Expression",options:o}},Jt="[",Wt=R("[",!1),Gt="]",Qt=R("]",!1),Xt=function(o,a){return{type:"Cond-Option",condition:o,result:a}},Yt=function(o,a){return{type:"Function Call",name:o,args:a}},qe="define",Zt=R("define",!1),Ke=/^[^",'`()[\]{}|#\n\t\r0-9 ]/,Je=Se(['"',",","'","`","(",")","[","]","{","}","|","#",`
`,"	","\r",["0","9"]," "],!0,!1),en=function(o){return{type:"Symbol",symbol:o.join("")}},tn=function(o){return{type:"Literal Value",value:o}},We=/^[0-9]/,Ge=Se([["0","9"]],!1,!1),nn=function(){return parseInt(fn(),10)},Qe="#true",rn=R("#true",!1),Xe="#false",on=R("#false",!1),Ye="#t",sn=R("#t",!1),Ze="#f",an=R("#f",!1),ln=function(o){return o==="#true"||o==="#t"},et="'()",cn=R("'()",!1),pn=function(){return"'()"},tt='"',nt=R('"',!1),rt=/^[^"]/,ot=Se(['"'],!0,!1),un=function(o){return o.join("")},dn=st("whitespace"),mn=function(){},s=0,v=0,fe=[{line:1,column:1}],M=0,Ie=[],y=0,ge;if(n.startRule!==void 0){if(!(n.startRule in i))throw new Error(`Can't start parsing from rule "`+n.startRule+'".');c=i[n.startRule]}function fn(){return e.substring(v,s)}function vr(){return se(v,s)}function Cr(o,a){throw a=a!==void 0?a:se(v,s),at([st(o)],e.substring(v,s),a)}function Lr(o,a){throw a=a!==void 0?a:se(v,s),Sn(o,a)}function R(o,a){return{type:"literal",text:o,ignoreCase:a}}function Se(o,a,l){return{type:"class",parts:o,inverted:a,ignoreCase:l}}function _r(){return{type:"any"}}function gn(){return{type:"end"}}function st(o){return{type:"other",description:o}}function it(o){let a=fe[o],l;if(a)return a;for(l=o-1;!fe[l];)l--;for(a=fe[l],a={line:a.line,column:a.column};l<o;)e.charCodeAt(l)===10?(a.line++,a.column=1):a.column++,l++;return fe[o]=a,a}function se(o,a){let l=it(o),f=it(a);return{source:r,start:{offset:o,line:l.line,column:l.column},end:{offset:a,line:f.line,column:f.column}}}function h(o){s<M||(s>M&&(M=s,Ie=[]),Ie.push(o))}function Sn(o,a){return new O(o,[],"",a)}function at(o,a,l){return new O(O.buildMessage(o,a),o,a,l)}function lt(){let o,a,l;if(o=s,a=[],l=ct(),l!==t)for(;l!==t;)a.push(l),l=ct();else a=t;return a!==t&&(v=o,a=p(a)),o=a,o}function ct(){let o,a,l,f;if(o=s,a=yn(),a===t&&(a=j()),a!==t){if(l=[],u.test(e.charAt(s))?(f=e.charAt(s),s++):(f=t,y===0&&h(m)),f!==t)for(;f!==t;)l.push(f),u.test(e.charAt(s))?(f=e.charAt(s),s++):(f=t,y===0&&h(m));else l=t;l!==t?(v=o,a=p(a),o=a):(s=o,o=t)}else s=o,o=t;return o}function yn(){let o,a,l;return o=s,a=$(),a!==t?(l=hn(),l===t&&(l=xn(),l===t&&(l=bn())),l!==t?(v=o,a=x(l),o=a):(s=o,o=t)):(s=o,o=t),o}function hn(){let o,a,l,f,S,F,_,A,V;if(o=s,e.substr(s,14)===g?(a=g,s+=14):(a=t,y===0&&h(d)),a!==t)if(l=H(),l!==t)if(f=$(),f!==t)if(e.charCodeAt(s)===40?(S=b,s++):(S=t,y===0&&h(T)),S!==t){if(F=[],_=H(),_!==t)for(;_!==t;)F.push(_),_=H();else F=t;F!==t?(e.charCodeAt(s)===41?(_=P,s++):(_=t,y===0&&h(I)),_!==t?(A=$(),A!==t?(e.charCodeAt(s)===41?(V=P,s++):(V=t,y===0&&h(I)),V!==t?(v=o,a=oe(l,F),o=a):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)}else s=o,o=t;else s=o,o=t;else s=o,o=t;else s=o,o=t;return o}function xn(){let o,a,l,f,S,F,_,A,V,ke;if(o=s,e.substr(s,7)===E?(a=E,s+=7):(a=t,y===0&&h(me)),a!==t)if(l=$(),l!==t)if(e.charCodeAt(s)===40?(f=b,s++):(f=t,y===0&&h(T)),f!==t)if(S=H(),S!==t)if(F=$(),F!==t){if(_=[],A=H(),A!==t)for(;A!==t;)_.push(A),A=H();else _=t;_!==t?(e.charCodeAt(s)===41?(A=P,s++):(A=t,y===0&&h(I)),A!==t?(V=j(),V!==t?(e.charCodeAt(s)===41?(ke=P,s++):(ke=t,y===0&&h(I)),ke!==t?(v=o,a=je(S,_,V),o=a):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)}else s=o,o=t;else s=o,o=t;else s=o,o=t;else s=o,o=t;else s=o,o=t;return o}function bn(){let o,a,l,f,S;return o=s,e.substr(s,7)===E?(a=E,s+=7):(a=t,y===0&&h(me)),a!==t?(l=H(),l!==t?(f=j(),f!==t?(e.charCodeAt(s)===41?(S=P,s++):(S=t,y===0&&h(I)),S!==t?(v=o,a=we(l,f),o=a):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)):(s=o,o=t),o}function j(){let o,a,l;return o=s,a=$(),a!==t?(l=Tn(),l===t&&(l=vn(),l===t&&(l=H(),l===t&&(l=Cn()))),l!==t?(v=o,a=Vt(l),o=a):(s=o,o=t)):(s=o,o=t),o}function Tn(){let o,a,l,f,S;if(o=s,e.substr(s,5)===Ve?(a=Ve,s+=5):(a=t,y===0&&h(qt)),a!==t){if(l=[],f=pt(),f!==t)for(;f!==t;)l.push(f),f=pt();else l=t;l!==t?(f=$(),f!==t?(e.charCodeAt(s)===41?(S=P,s++):(S=t,y===0&&h(I)),S!==t?(v=o,a=Kt(l),o=a):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)}else s=o,o=t;return o}function pt(){let o,a,l,f,S,F,_,A;return o=s,a=$(),a!==t?(e.charCodeAt(s)===91?(l=Jt,s++):(l=t,y===0&&h(Wt)),l!==t?(f=$(),f!==t?(S=j(),S!==t?(F=$(),F!==t?(_=j(),_!==t?(e.charCodeAt(s)===93?(A=Gt,s++):(A=t,y===0&&h(Qt)),A!==t?(v=o,a=Xt(S,_),o=a):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)):(s=o,o=t),o}function vn(){let o,a,l,f,S;if(o=s,e.charCodeAt(s)===40?(a=b,s++):(a=t,y===0&&h(T)),a!==t)if(l=H(),l!==t){for(f=[],S=j();S!==t;)f.push(S),S=j();f!==t?(e.charCodeAt(s)===41?(S=P,s++):(S=t,y===0&&h(I)),S!==t?(v=o,a=Yt(l,f),o=a):(s=o,o=t)):(s=o,o=t)}else s=o,o=t;else s=o,o=t;return o}function H(){let o,a,l,f,S;if(o=s,a=$(),a!==t)if(l=s,y++,e.substr(s,6)===qe?(f=qe,s+=6):(f=t,y===0&&h(Zt)),y--,f===t?l=void 0:(s=l,l=t),l!==t){if(f=[],Ke.test(e.charAt(s))?(S=e.charAt(s),s++):(S=t,y===0&&h(Je)),S!==t)for(;S!==t;)f.push(S),Ke.test(e.charAt(s))?(S=e.charAt(s),s++):(S=t,y===0&&h(Je));else f=t;f!==t?(v=o,a=en(f),o=a):(s=o,o=t)}else s=o,o=t;else s=o,o=t;return o}function Cn(){let o,a;return o=s,a=Ln(),a===t&&(a=_n(),a===t&&(a=En(),a===t&&(a=$n()))),a!==t&&(v=o,a=tn(a)),o=a,o}function Ln(){let o,a,l,f;if(o=s,a=$(),a!==t){if(l=[],We.test(e.charAt(s))?(f=e.charAt(s),s++):(f=t,y===0&&h(Ge)),f!==t)for(;f!==t;)l.push(f),We.test(e.charAt(s))?(f=e.charAt(s),s++):(f=t,y===0&&h(Ge));else l=t;l!==t?(v=o,a=nn(),o=a):(s=o,o=t)}else s=o,o=t;return o}function _n(){let o,a,l;return o=s,a=$(),a!==t?(e.substr(s,5)===Qe?(l=Qe,s+=5):(l=t,y===0&&h(rn)),l===t&&(e.substr(s,6)===Xe?(l=Xe,s+=6):(l=t,y===0&&h(on)),l===t&&(e.substr(s,2)===Ye?(l=Ye,s+=2):(l=t,y===0&&h(sn)),l===t&&(e.substr(s,2)===Ze?(l=Ze,s+=2):(l=t,y===0&&h(an))))),l!==t?(v=o,a=ln(l),o=a):(s=o,o=t)):(s=o,o=t),o}function En(){let o,a,l;return o=s,a=$(),a!==t?(e.substr(s,3)===et?(l=et,s+=3):(l=t,y===0&&h(cn)),l!==t?(v=o,a=pn(),o=a):(s=o,o=t)):(s=o,o=t),o}function $n(){let o,a,l,f,S;if(o=s,a=$(),a!==t)if(e.charCodeAt(s)===34?(l=tt,s++):(l=t,y===0&&h(nt)),l!==t){if(f=[],rt.test(e.charAt(s))?(S=e.charAt(s),s++):(S=t,y===0&&h(ot)),S!==t)for(;S!==t;)f.push(S),rt.test(e.charAt(s))?(S=e.charAt(s),s++):(S=t,y===0&&h(ot));else f=t;f!==t?(e.charCodeAt(s)===34?(S=tt,s++):(S=t,y===0&&h(nt)),S!==t?(v=o,a=un(f),o=a):(s=o,o=t)):(s=o,o=t)}else s=o,o=t;else s=o,o=t;return o}function $(){let o,a,l;for(y++,o=s,a=[],u.test(e.charAt(s))?(l=e.charAt(s),s++):(l=t,y===0&&h(m));l!==t;)a.push(l),u.test(e.charAt(s))?(l=e.charAt(s),s++):(l=t,y===0&&h(m));return a!==t&&(v=o,a=mn()),o=a,y--,o===t&&(a=t,y===0&&h(dn)),o}if(ge=c(),ge!==t&&s===e.length)return ge;throw ge!==t&&s<e.length&&h(gn()),at(Ie,M<e.length?e.charAt(M):null,M<e.length?se(M,M+1):se(M,M))}var ve=Hn;var _t=`/* css for errors */
.error-wrapper{
    display:flex;
    flex-direction:column;
    margin:2vw;
    font-size:inherit;
}

.error{
    font-size:1.2em;
}
`;function Et(){Array.from(document.getElementsByTagName("bsltree")).map(e=>{try{let n=ve(Q(e.innerHTML)),t=Vn(n),r=e.getAttribute("quiz")==="true",i=e.getAttribute("lang")?e.getAttribute("lang"):void 0;be(t,e,jn,r,i)}catch(n){zn(e,`${n.location.start.line}:${n.location.start.column} ${n}`)}})}function zn(e,n){if(!document.getElementById("bsl-tools-error-style")){let m=document.createElement("style");m.innerHTML=_t,m.id="bsl-tools-error-style",document.getElementsByTagName("head")[0].appendChild(m)}let t=e.innerHTML;e.innerHTML="";let r=document.createElement("div");r.classList.add("error-wrapper"),e.appendChild(r);let i=`<p> BSL-Tree could not be parsed! </p>
                  <p> Input: <b style="font-size:0.9em;">${t}</b> </p>`,c=document.createElement("div");c.classList.add("origin"),c.innerHTML=i,r.appendChild(c);let p=document.createElement("pre");p.classList.add("error");let u=document.createElement("code");u.textContent=n,r.appendChild(p),p.appendChild(u)}var jn={"<program>":["<def-or-expr>*"],"<def-or-expr>*":[],"<def-or-expr>":["<definition>","<e>"],"<definition>":["(define (<name> <name>+) <e>)","(define <name> <e>)","(define-struct <name> (<name>*))"],"<e>":["(name <e>*)","(cond {[<e>,<e>]}+)","<name>","<v>"],"<e>*":[],"{[ <e> <e> ]}+":[],"[ <e> <e> ]":[],"<name>*":[],"<name>+":[],"<name>":[],"<v>":[]};function Vn(e){let n=e.map(xe),t=[],r="";for(let i=0;i<n.length;i++){i>0&&(r=`${r}
`);let c=r.length;r=`${r}${n[i]}`;let p=r.length;t.push({start:c,end:p})}return{production:"<program>",code:r,holes:[{start:0,end:r.length,content:{production:"<def-or-expr>*",code:r,holes:t.map((i,c)=>({start:i.start,end:i.end,content:qn(e[c])}))}}]}}function qn(e){let n=xe(e);return{production:"<def-or-expr>",code:n,holes:[{start:0,end:n.length,content:ye(e)?Kn(e):ne(e)}]}}function Kn(e){let n="",t=[];if(q(e)){n="(define (";let r=n.length;n=`${n}${C(e.name)}`,t.push({start:r,end:n.length,content:Y(e.name)}),n=`${n} `,r=n.length,n=`${n}${e.args.map(C).join(" ")}`,t.push({start:r,end:n.length,content:Jn(e.args)}),n=`${n}) `,r=n.length,n=`${n}${L(e.body)}`,t.push({start:r,end:n.length,content:ne(e.body)}),n=`${n})`}else if(K(e)){n="(define ";let r=n.length;n=`${n}${C(e.name)}`,t.push({start:r,end:n.length,content:Y(e.name)}),n=`${n} `,r=n.length,n=`${n}${L(e.value)}`,t.push({start:r,end:n.length,content:ne(e.value)}),n=`${n})`}else{n="(define-struct ";let r=n.length;n=`${n}${C(e.binding)}`,t.push({start:r,end:n.length,content:Y(e.binding)}),n=`${n} (`,r=n.length,n=`${n}${e.properties.map(C).join(" ")}`,t.push({start:r,end:n.length,content:Wn(e.properties)}),n=`${n}))`}return{production:"<definition>",code:n,holes:t}}function ne(e){let n="",t=[];if(J(e)){n="(";let r=n.length;n=`${n}${C(e.name)}`,t.push({start:r,end:n.length,content:Y(e.name)}),n=`${n} `,r=n.length,n=`${n}${e.args.map(L).join(" ")}`,t.push({start:r,end:n.length,content:Gn(e.args)}),n=`${n})`}else if(W(e)){n="(cond ";let r=n.length;n=`${n}${e.options.map(G).join(" ")}`,t.push({start:r,end:n.length,content:Qn(e.options)}),n=`${n})`}else z(e)?(n=C(e),t.push({start:0,end:n.length,content:Y(e)})):(n=L(e),t.push({start:0,end:n.length,content:Yn(e)}));return{production:"<e>",code:n,holes:t}}function Y(e){return{production:"<name>",code:C(e),holes:[]}}function Jn(e){e.length<1&&console.error("<name>+ but used but names are empty");let n="",t=[];for(let r=0;r<e.length;r++){let i=n.length;n=`${n}${C(e[r])}`,t.push({start:i,end:n.length,content:Y(e[r])}),r<e.length-1&&(n=`${n} `)}return{production:"<name>+",code:n,holes:t}}function Wn(e){let n="",t=[];for(let r=0;r<e.length;r++){let i=n.length;n=`${n}${C(e[r])}`,t.push({start:i,end:n.length,content:Y(e[r])}),r<e.length-1&&(n=`${n} `)}return{production:"<name>*",code:n,holes:t}}function Gn(e){let n="",t=[];for(let r=0;r<e.length;r++){let i=n.length;n=`${n}${L(e[r])}`,t.push({start:i,end:n.length,content:ne(e[r])}),r<e.length-1&&(n=`${n} `)}return{production:"<e>*",code:n,holes:t}}function Qn(e){let n="",t=[];for(let r=0;r<e.length;r++){let i=n.length;n=`${n}${G(e[r])}`,t.push({start:i,end:n.length,content:Xn(e[r])}),r<e.length-1&&(n=`${n} `)}return{production:"{[ <e> <e> ]}+",code:n,holes:t}}function Xn(e){let n="",t=[];n=`${n}[`;let r=n.length;return n=`${n}${L(e.condition)}`,t.push({start:r,end:n.length,content:ne(e.condition)}),n=`${n} `,r=n.length,n=`${n}${L(e.result)}`,t.push({start:r,end:n.length,content:ne(e.result)}),n=`${n}]`,{production:"[ <e> <e> ]",code:n,holes:t}}function Yn(e){return{production:"<v>",code:L(e),holes:[]}}function $t(){Array.from(document.getElementsByTagName("jsontree")).map(e=>{try{let n=Zn(Q(e.innerHTML)),t=n.root,r=n.grammar,i=e.getAttribute("quiz")==="true",c=e.getAttribute("lang")?e.getAttribute("lang"):void 0;be(t,e,r,i,c)}catch(n){console.error(n),e.innerHTML=`${n}`,e.style.cssText=`
        padding: 2em;
        color: darkred;
        display: block;
      `}})}function Zn(e){let n=JSON.parse(e.trim()),t=n.grammar;return{root:At(n),grammar:t}}function At(e){let n=e.production;if(!n||typeof n!="string")throw`${JSON.stringify(e,void 0,2).replaceAll(`
`,"<br>")} has wrong structure, production needs to be a string`;let t=e.code;if(!t||typeof t!="string")throw`${JSON.stringify(e,void 0,2).replaceAll(`
`,"<br>")} has wrong structure, code needs to be a string`;e.holes||(e.holes=[]);let r=t.split("|"),i="",c=[];for(let p=0;p<r.length;p++)if(i=`${i}${r[p]}`,p++,p<r.length&&r[p]){let u=i.length;i=`${i}${r[p]}`;let m=e.holes[c.length];if(!m)throw`${JSON.stringify(e,void 0,2).replaceAll(`
`,"<br>")} has wrong structure: less holes than marked with || in the code`;c.push({start:u,end:i.length,content:At(m)})}return{production:n,code:i,holes:c}}function Ce(e){return e.type==="DefinitionStep"}function Le(e){return e.type==="EvalStep"}function le(e){return e.type==="CallRedex"}function ce(e){return e.type==="CondRedex"}function pe(e){return e.type==="NameRedex"}function _e(e){return e.type==="Hole"}function Ee(e){return e.type==="AppContext"}function $e(e){return e.type==="CondContext"}function Ae(e){return e.type==="Split"}function Pt(e){return e.type==="Prim"||e.type==="CondTrue"||e.type==="CondFalse"||e.type==="CondError"||e.type==="Const"}function ue(e){return e.type==="Kong"}function U(e){return typeof e=="number"||typeof e=="string"||typeof e=="boolean"||e==="'()"}function de(e){return e.type==="Identifier"}function wt(e,n){let t=JSON.parse(JSON.stringify(e)),r={};for(;t.length>0;){let c=n.stepperTree,p=t.shift(),u=tr(p,r);if(u instanceof Error)return u;r=u.env,c.push(u),console.log("progStep",u),console.log("env",r),n.stepperTree=c}return{type:"Stepper",root:n.root,originProgram:n.originProgram,stepperTree:n.stepperTree}}function tr(e,n){if(he(e)){let t=It(e,n);if(console.log("exprStep:",t),t instanceof Error)return t;if(t.length===0)return{type:"ExprStep",env:n,evalSteps:[],result:kt(e,n)};{let r=t[t.length-1].result;return he(r)?new Error("Result is not a value"):{type:"ExprStep",env:t[t.length-1].env,evalSteps:t,result:r}}}else{console.log("definition",e);let t=nr(e,n);return t instanceof Error||console.log("defStep",t),t}}function nr(e,n){if(K(e)){let t=e.name,r=e.value;if(console.log("name",t+"expr",r),k(r)){let i=r.value,c=Bt(n,t.symbol,i);return c instanceof Error?c:{type:"DefinitionStep",env:c,evalSteps:[],result:e}}else{let i=It(r,n);if(i instanceof Error)return i;{let c=i[i.length-1].result;if(U(c)){let p=Bt(n,t.symbol,c);if(p instanceof Error)return p;{let u={type:"Constant Definition",name:t,value:{type:"Literal Value",value:c}};return{type:"DefinitionStep",env:p,evalSteps:i,result:u}}}else return Error("calculateDefSteps: Last ExprStep is an Expr, not a Value")}}}else return q(e)?e.name.symbol in n?Error("calculateDefSteps: name already bound"):Error("calculateDefSteps: function definition not defined"):Error("calculateDefSteps: struct definition not defined")}function It(e,n){let t=[],r=e;for(;!U(r);){let i=kt(r,n);if(U(i))r=i;else if(Le(i))if(i.result instanceof Error){t.push(i);break}else r=i.result,t.push(i);else return i}return t}function kt(e,n){if(k(e))return console.log("evaluateExpression: Literal",e),e.value;{let t=He(e);if(Ae(t)){let r=rr(t.redex,n);if(Pt(r)){let i=Ut(r,t.context,n);return console.log("exprStep",i),Le(i),i}else return r}else return t}}function He(e){let n={type:"Hole"};if(J(e)){let t=e.name,r=e.args,i=[],c={},p=[],u=!1;if(r.map(m=>{!u&&k(m)?i.push(m.value):u?p.push(m):(u=!0,c=m)}),u==!1){let m={type:"CallRedex",name:t,args:i};return{type:"Split",redex:m,context:n}}else{let m=He(c);return Ae(m)?{type:"Split",redex:m.redex,context:{type:"AppContext",op:t,values:i,ctx:m.context,args:p}}:m}}else if(W(e)){let t=e.options[0];if(k(t.condition))return{type:"Split",redex:{type:"CondRedex",options:e.options},context:n};{let r=He(t.condition);return Ae(r)?{type:"Split",redex:r.redex,context:{type:"CondContext",options:e.options,ctx:r.context}}:r}}else return z(e)?{type:"Split",context:n,redex:{type:"NameRedex",symbol:e.symbol}}:Error("split: neither a call nor a cond nor name")}function rr(e,n){if(le(e))if(e.args.every(r=>U(r))){let r=e.args;console.log("step: CallRedex has no names");let i=or(e.name,r);return U(i)?{type:"Prim",redex:e,result:i}:Error("step: prim is not applicable")}else{console.log("step: env:"+JSON.stringify(n));let r=De(e,n);return r instanceof Error?r:{type:"Const",redex:e,result:r}}else if(ce(e))if(k(e.options[0].condition)){let t=sr(e);if(t==null){let r=e.options.slice(1);if(r.length<1)return{type:"CondError",redex:e,result:Error("cond: all question results were false")};let i={type:"Cond-Expression",options:r};return{type:"CondFalse",redex:e,result:i}}else return he(t)||U(t)?{type:"CondTrue",redex:e,result:t}:Error("step: cond is not applicable")}else{let t=De(e,n);return t instanceof Error?t:{type:"Const",redex:e,result:t}}else if(pe(e)){let t=De(e,n);return t instanceof Error?t:{type:"Const",redex:e,result:t}}else return Error("step: redex is neither a call nor cond nor name")}function Ut(e,n,t){if(console.log("plug: oneRule: "+JSON.stringify(e)),_e(n))return{type:"EvalStep",env:t,rule:e,result:e.result};{let r=Ut(e,n.ctx,t);if(Le(r)){if(r.result instanceof Error)return r;if(Ee(n)){let c=[n.values,r.result,n.args].flat().map(u=>U(u)?{type:"Literal Value",value:u}:de(u)?{type:"Symbol",symbol:u.symbol}:u),p={type:"Function Call",name:n.op,args:c};return console.log("plug: env: "+JSON.stringify(t)),{type:"EvalStep",env:t,rule:{type:"Kong",context:n,redexRule:e},result:p}}else if($e(n)){let i=n.options,c=U(r.result)?{type:"Literal Value",value:r.result}:r.result,u=[{type:"Cond-Option",condition:c,result:i[0].result},...i.slice(1)],m={type:"Cond-Expression",options:u};return{type:"EvalStep",env:t,rule:{type:"Kong",context:n,redexRule:e},result:m}}else return Error("plug: context is not an AppContext or CondContext")}else return r}}function or(e,n){if(e.symbol==="+"){let t=0;return n.forEach(r=>{if(typeof r=="number")t+=r;else return Error("error: argument is not a number: "+r)}),t}else if(e.symbol==="*"){let t=1;return n.forEach(r=>{if(typeof r=="number")t*=r;else return Error("error: argument is not a number: "+r)}),t}else if(e.symbol==="-"){let t=n[0];for(let r=1;r<n.length;r++){let i=n[r];if(typeof i=="number"&&typeof t=="number")t-=i;else return Error("error: argument is not a number: "+n[r])}return t}else if(e.symbol==="/"){let t=n[0];for(let r=1;r<n.length;r++){let i=n[r];if(typeof t=="number"&&typeof i=="number"&&i!=0)t/=i;else return i==0?Error("error: division by zero"):Error("error: argument is not a number: "+i)}return t}else{if(e.symbol==="and")return n.every(t=>typeof t=="boolean")?n.length>=2?!!n.every(t=>t):Error(`prim: ${e.symbol} needs at least two arguments`):Error("prim: 'and' needs boolean arguments");if(e.symbol==="or")return n.every(t=>typeof t=="boolean")?n.length>=2?!!n.some(t=>t):Error("prim: 'or' needs at least two arguments"):Error("prim: 'or' needs boolean arguments");if(e.symbol==="not")return typeof n[0]=="boolean"?n.length==1?!n[0]:Error("prim: 'not' needs exactly one argument"):Error("prim: 'not' needs boolean argument");if(["<",">","<=",">="].includes(e.symbol)){if(n.length!==2)return Error(`prim: ${e.symbol} needs exactly two arguments`);let t=n[0],r=n[1];if(typeof t!="number"||typeof r!="number")return Error(`prim: ${e.symbol} needs two numbers, but received ${t} and ${r}`);switch(e.symbol){case"<":return t<r;case"<=":return t<=r;case">=":return t>=r;case">":return t>r;default:return!0}}else return Error("prim: this function is not implemented")}}function sr(e){let n=e.options[0];return k(n.condition)&&n.condition.value==!0?k(n.result)?n.result.value:n.result:k(n.condition)&&n.condition.value==!1?void 0:Error("error: condition is not a boolean")}function De(e,n){if(le(e)){let r=e.args.filter(c=>de(c))[0],i=Me(n,r.symbol);if(i instanceof Error)return i;{let c=e.args.map(p=>de(p)&&p.symbol===r.symbol?{type:"Literal Value",value:i}:de(p)?{type:"Symbol",symbol:p.symbol}:{type:"Literal Value",value:p});return{type:"Function Call",name:e.name,args:c}}}else if(ce(e)){let t=e.options[0].condition;if(z(t)){let r=Me(n,t.symbol);if(r instanceof Error)return r;{let i={type:"Literal Value",value:r},c={type:"Cond-Option",condition:i,result:e.options[0].result};return{type:"Cond-Expression",options:[c]}}}else return Error("substConst: condition is not a name")}else if(pe(e)){let t=Me(n,e.symbol);return t instanceof Error?t:{type:"Literal Value",value:t}}else return Error("substConst: redex is not a call or cond or name")}function Bt(e,n,t){if(e[n]===void 0){let r=ee({},e);return r[n]=t,console.warn("addToEnv: "+n+":"+t+" added to "+JSON.stringify(e)),console.warn("addToEnv: newEnv = "+JSON.stringify(r)),r}else return Error("addToEnv: name already exists in environment")}function Me(e,n){return n in e?(console.warn("lookupEnv: "+n+" found in "+JSON.stringify(e)),e[n]):Error("lookupEnv: name is not bound in environment")}var Nt=`/* ######### colors ####### */
.stepper {
  /* --branch-color: #666; */
  --box-background: #ebf0f4; /* racket azure */
  --box-border: #0d3657;
  --button-border: #0d3657;
  --text-grey: #444; /* like in scribble */
  --hole-yellow: #fdf68d; /* pale yellow */
  --hole-green: lightgreen;
  --hole-red: lightpink;
  /* --highlight-border-connectors: lime;
  --wrong-background: red;
  --correct-background: lime;
  --hole-selection-background: white; */
}
/* ####### general layout ####### */
div.stepper {
  text-align: center;
  font-size: 1.2em;
  box-sizing: border-box;
  font-family: sans-serif;
}
/* ##### boxes ###### */
.stepper .box {
  text-align: left;
  background-color: var(--box-background);
  padding: 0.5em;
  padding-top: 1em;
  border: 1px solid var(--box-border);
  border-radius: 0.5em;
  position: relative;
  margin-bottom: 1.5em;
}
.stepper .boxlabel {
  position: absolute;
  top: -1em;
  left: 0.5em;
  padding: 0.25em;
  border: 0px solid transparent;
  border-radius: 0.25em;
  background-color: var(--box-background);
  color: var(--box-border);

}
/* single step */
.stepper .step {
  margin-bottom: 0.5em;
  position: relative;
  background-color: white;
  padding: 0.5em;
}

/* ####### buttons ###### */
.stepper .step[data-currentStep="true"] {
  padding-top: 1.5em;
  margin-top: 1.5em;
  padding-bottom: 1em;
  margin-bottom: 1.5em;

}
.stepper .prev-button, .stepper .next-button {
  display: none;
}
.stepper [data-currentStep="true"] .prev-button, .stepper [data-currentStep="true"] .next-button {
  position: absolute;
  display: inline-block;
  right: 2em;
  padding: 0.5em;
  font-size: small;
  border: 1px solid var(--button-border);
  background-color: white;
  border-radius: 0.25em;
}
.stepper .prev-button:hover, .stepper .next-button:hover {
  cursor: pointer;
}
.stepper .prev-button {
  top: -1em;
}
/* second child because of box label */
.stepper .step:nth-child(2) .prev-button {
  top: -5em;
}
.stepper .step:nth-child(2) .prev-button::after {
  content: ' (PROG)';
}
.stepper .next-button {
  bottom: -1em;
}
.stepper .step:last-child .next-button {
  bottom: -4em;
}
.stepper .step:last-child .next-button::after {
  content: ' (PROG)';
}
.stepper .icon {
  display: inline-block;
  height: 1em;
}
.stepper .split-result .icon {
  opacity: 70%;
}
.stepper [data-visible="false"] {
  display: none;
}

/* ######### code and rules ####### */
.stepper .code {
  font-family: 'Fira Sans', monospace;
  color: var(--text-grey);
}
.stepper .plug-result {
  position: relative;
  z-index: 2;
}
.stepper .hole {
  display: inline-block;
  background-color: var(--hole-yellow);
  /* border: 1px solid var(--text-grey); */
  color: var(--text-grey);
  padding-left: 0.25em;
  padding-right: 0.25em;
  position: relative;
}
.stepper .hole-result {
  background-color: var(--hole-green);
}
.stepper .hole-error {
  background-color: var(--hole-red);
}
.stepper .rule {
  display: inline-block;
  position: relative;
  padding-left: .5em;
  width: fit-content;
  white-space: nowrap;
  margin-top: 1em;
  margin-bottom: 1.5em;
}
.stepper .kong {
  position: absolute;
  left: 0;
  top: 0;
  padding-left: 0;
  background-color: rgba(255,255,255,0.5);
}
.stepper .one-rule {
  margin-left: var(--one-rule-margin-left, 4em);
}
.stepper .rule-description {
  font-family: 'Fira Mono', monospace;
}

/* arrow body */
.stepper .left-arrowed::before {
  position: absolute;
  content: '';
  left: 0;
  top: -0.5em;
  height: 2.5em;
  border-left: 2px solid var(--text-grey);
  z-index: -1;
}
.stepper .kong::before {
  left: 0.35em;
  border-left: 2px dotted var(--text-grey);
}

/* arrow head */
.stepper .left-arrowed::after {
  position: absolute;
  content: '';
  left: calc(2px - 0.35em); /*-0.35em; /* ca. sqrt(2)/2 * 0.5em */
  top: 1.5em;
  width: 0.5em;
  height: 0.5em;
  border-right: 2px solid var(--text-grey);
  border-bottom: 2px solid var(--text-grey);
  transform: rotate(45deg);
}
.stepper .kong::after {
  left: 2px;
}
/* rule info */
.stepper .info-toggle {
  margin-top: 1em;
  margin-bottom: 1.5em;
  margin-left: 0.5em;
  float: right;
}
.stepper .info-toggle:hover {
  cursor: pointer;
}
.stepper .rule-info {
  padding: 0.5em;
}
.stepper .rule-info-rule-text {
  font-family: Palatino,Georgia,"Times New Roman",serif;
}
.stepper .rule-info-rule-text small {
  vertical-align: sub;
}
.stepper cap {
  font-variant-caps: small-caps;
}
.stepper .rule-info-rule-name {
  position: absolute;
  left: -6em;
  top: 0;
}
.stepper .rule-info-text-container {
  position: relative;
  margin-left: 6em;
  margin-bottom: 1em;
}
/* .stepper .rule-info strong {
  font-family: sans-serif;
  font-style: normal;
} */

/* ##### showing and hiding stuff #### */
/* hide steps that are not yet reached */
.stepper .step[data-currentStep="true"] ~ .step {
  display: none;
}
/* collapsing and expanding steps */
.stepper .step[data-collapsed="true"] .plug-result {
  display: none;
}
.stepper .expander, .stepper .collapser {
  padding-left: 0.25em;
  padding-right: 0.25em;
  float: right;
}
.stepper .expander:hover, .stepper .collapser:hover {
  cursor: pointer;
}
.stepper .step[data-collapsed="true"] .collapser {
  display: none;
}
.stepper .step[data-collapsed="false"] .expander {
  display: none;
}
/* collapsing and expanding info about the rules */
.stepper .plug-result[data-info-collapsed="true"] .rule-info,
.stepper .plug-result[data-info-collapsed="true"] .info-collapse {
  display: none;
}
.stepper .plug-result[data-info-collapsed="false"] .info-expand {
  display: none;
}
`;var Pe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODQgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMzUyIDM1MmMtOC4xODggMC0xNi4zOC0zLjEyNS0yMi42Mi05LjM3NUwxOTIgMjA1LjNsLTEzNy40IDEzNy40Yy0xMi41IDEyLjUtMzIuNzUgMTIuNS00NS4yNSAwcy0xMi41LTMyLjc1IDAtNDUuMjVsMTYwLTE2MGMxMi41LTEyLjUgMzIuNzUtMTIuNSA0NS4yNSAwbDE2MCAxNjBjMTIuNSAxMi41IDEyLjUgMzIuNzUgMCA0NS4yNUMzNjguNCAzNDguOSAzNjAuMiAzNTIgMzUyIDM1MnoiLz48L3N2Zz4=";var Re="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODQgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMTkyIDM4NGMtOC4xODggMC0xNi4zOC0zLjEyNS0yMi42Mi05LjM3NWwtMTYwLTE2MGMtMTIuNS0xMi41LTEyLjUtMzIuNzUgMC00NS4yNXMzMi43NS0xMi41IDQ1LjI1IDBMMTkyIDMwNi44bDEzNy40LTEzNy40YzEyLjUtMTIuNSAzMi43NS0xMi41IDQ1LjI1IDBzMTIuNSAzMi43NSAwIDQ1LjI1bC0xNjAgMTYwQzIwOC40IDM4MC45IDIwMC4yIDM4NCAxOTIgMzg0eiIvPjwvc3ZnPg==";var Ft="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNNDMyIDI1NmMwIDE3LjY5LTE0LjMzIDMyLjAxLTMyIDMyLjAxSDI1NnYxNDRjMCAxNy42OS0xNC4zMyAzMS45OS0zMiAzMS45OXMtMzItMTQuMy0zMi0zMS45OXYtMTQ0SDQ4Yy0xNy42NyAwLTMyLTE0LjMyLTMyLTMyLjAxczE0LjMzLTMxLjk5IDMyLTMxLjk5SDE5MnYtMTQ0YzAtMTcuNjkgMTQuMzMtMzIuMDEgMzItMzIuMDFzMzIgMTQuMzIgMzIgMzIuMDF2MTQ0aDE0NEM0MTcuNyAyMjQgNDMyIDIzOC4zIDQzMiAyNTZ6Ii8+PC9zdmc+";var Dt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNNDAwIDI4OGgtMzUyYy0xNy42OSAwLTMyLTE0LjMyLTMyLTMyLjAxczE0LjMxLTMxLjk5IDMyLTMxLjk5aDM1MmMxNy42OSAwIDMyIDE0LjMgMzIgMzEuOTlTNDE3LjcgMjg4IDQwMCAyODh6Ii8+PC9zdmc+";var Mt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMjU2IDBDMTE0LjYgMCAwIDExNC42IDAgMjU2czExNC42IDI1NiAyNTYgMjU2czI1Ni0xMTQuNiAyNTYtMjU2UzM5Ny40IDAgMjU2IDB6TTI1NiAxMjhjMTcuNjcgMCAzMiAxNC4zMyAzMiAzMmMwIDE3LjY3LTE0LjMzIDMyLTMyIDMyUzIyNCAxNzcuNyAyMjQgMTYwQzIyNCAxNDIuMyAyMzguMyAxMjggMjU2IDEyOHpNMjk2IDM4NGgtODBDMjAyLjggMzg0IDE5MiAzNzMuMyAxOTIgMzYwczEwLjc1LTI0IDI0LTI0aDE2di02NEgyMjRjLTEzLjI1IDAtMjQtMTAuNzUtMjQtMjRTMjEwLjggMjI0IDIyNCAyMjRoMzJjMTMuMjUgMCAyNCAxMC43NSAyNCAyNHY4OGgxNmMxMy4yNSAwIDI0IDEwLjc1IDI0IDI0UzMwOS4zIDM4NCAyOTYgMzg0eiIvPjwvc3ZnPg==";var Ht="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMCAyNTZDMCAxMTQuNiAxMTQuNiAwIDI1NiAwQzM5Ny40IDAgNTEyIDExNC42IDUxMiAyNTZDNTEyIDM5Ny40IDM5Ny40IDUxMiAyNTYgNTEyQzExNC42IDUxMiAwIDM5Ny40IDAgMjU2ek0xNzUgMjA4LjFMMjIyLjEgMjU1LjFMMTc1IDMwM0MxNjUuNyAzMTIuNCAxNjUuNyAzMjcuNiAxNzUgMzM2LjFDMTg0LjQgMzQ2LjMgMTk5LjYgMzQ2LjMgMjA4LjEgMzM2LjFMMjU1LjEgMjg5LjlMMzAzIDMzNi4xQzMxMi40IDM0Ni4zIDMyNy42IDM0Ni4zIDMzNi4xIDMzNi4xQzM0Ni4zIDMyNy42IDM0Ni4zIDMxMi40IDMzNi4xIDMwM0wyODkuOSAyNTUuMUwzMzYuMSAyMDguMUMzNDYuMyAxOTkuNiAzNDYuMyAxODQuNCAzMzYuMSAxNzVDMzI3LjYgMTY1LjcgMzEyLjQgMTY1LjcgMzAzIDE3NUwyNTUuMSAyMjIuMUwyMDguMSAxNzVDMTk5LjYgMTY1LjcgMTg0LjQgMTY1LjcgMTc1IDE3NUMxNjUuNyAxODQuNCAxNjUuNyAxOTkuNiAxNzUgMjA4LjFWMjA4LjF6Ii8+PC9zdmc+";function zt(){Array.from(document.getElementsByTagName("stepper")).map(e=>{try{let n=ve(Q(e.innerHTML));console.log(te(gt(n),30)),mr(n,e)}catch(n){let t;n?(console.error(n),t=`${n}`):(console.log("Unknown error"),t="Unknown Error"),e.innerHTML=`
        <h3>Error turning Program into Stepper</h3>
        <div>${e.innerHTML}</div>
        <div>${t}</div>
      `,e.style.cssText=`
        padding: 2em;
        color: darkred;
        display: block;
      `}})}function mr(e,n){if(!document.getElementById("bsl-tools-stepper-style")){let p=document.createElement("style");p.innerHTML=Nt,p.id="bsl-tools-stepper-style",document.getElementsByTagName("head")[0].appendChild(p)}let t=e[0];console.log("expression",t);let r={type:"Stepper",root:n,originProgram:e,stepperTree:[]},i=wt(e,r);if(i instanceof Error)throw i;console.log("stepper",i);let c=n.getAttribute("lang");c?Ot.includes(c)||(console.error(`
        Language ${c} is not implemented for this module,
        you can choose from ${Ot.join(",")}.
        Defaulting to 'en'.
      `),c="en"):c="en",fr(n),n.innerHTML=gr(i,c)}var Ot=["en","de"],N={en:{"current evaluation":"Current Evaluation","next step":"Next Step","previous step":"Previous Step",environment:"Environment","remaining program":"Remaining Program","start evaluation":"Start Evaluation","evaluation finished":"Evaluation Finished","go back":"Go Back"},de:{"current evaluation":"Aktuelle Auswertung","next step":"N\xE4chster Schritt","previous step":"Vorheriger Schritt",environment:"Umgebung","remaining program":"\xDCbriges Programm","start evaluation":"Auswertung Starten","evaluation finished":"Auswertung Beendet","go back":"Schritt zur\xFCck"}},Be=12,Z=80;function fr(e){e.innerHTML=`
    <div class="stepper" style="width: 100%;">
      <div class="box">
        <div class="step code"
             data-currentStep="true">
          <p style="display: inline-block;">Loading...</p>
        </div>
      </div>
    </div>
  `;let n=e.getElementsByTagName("p")[0],t=e.getElementsByClassName("stepper")[0];if(!n||!t){console.error("failed to inject measuring HTML into",e);return}Be=n.clientWidth/10,console.log(`Found that 1em is ${Be} wide`);let r=.9;Z=Math.round(r*t.clientWidth/Be),console.log(`
    That means to fill ${r} of the available width,
    we may print at most ${Z} characters.
  `)}function gr(e,n){let t=e.stepperTree;return`<div class="stepper">

       <div class="box environment">
         <div class="boxlabel">${N[n].environment}</div>
         ${t.filter(Ce).map(Sr).join("")}
       </div>

       <div class="box expression-steps"
            data-progstep="-1"
            data-visible="true">
         <div class="boxlabel">${N[n]["current evaluation"]}</div>
         <div class="step"
              data-currentStep="true">
           <div class="next-button"
                onclick="gotoExpression(event, 1)">
             ${N[n]["start evaluation"]} <img class="icon" src="${Re}">
           </div>
         </div>
       </div>

       ${t.map((i,c)=>hr(i,c,n)).join("")}

       <div class="box expression-steps"
            data-progstep="${t.length}"
            data-visible="false">
         <div class="boxlabel">${N[n]["current evaluation"]}</div>
         <div class="step"
              data-currentStep="true">
            <div class="code">${N[n]["evaluation finished"]}</div>
            <div class="prev-button"
                 onclick="gotoExpression(event, -1)">
              ${N[n]["go back"]} <img class="icon" src="${Pe}">
            </div>
         </div>
       </div>

       <div class="box program">
         <div class="boxlabel">${N[n]["remaining program"]}</div>
         ${t.map(yr).join("")}
       </div>

    </div>`}window.gotoExpression=(e,n)=>{Oe(e,n)};function Sr(e,n){return`
    <div class="step code"
         data-progstep="${n}"
         data-visible="false">
      ${te(D(ie(e.result)),Z,"html")}
    </div>
  `}function yr(e,n){let t;if(e.evalSteps.length>0){let r=e.evalSteps[0],i=ue(r.rule)?ze(r.rule.context):{left:"",right:""},c=ue(r.rule)?r.rule.redexRule:r.rule,p=jt(c.redex);i.right.startsWith(")")||(i.right=` ${i.right}`),t=`${i.left}${p}${i.right}`}else Ce(e)?t=ie(e.result):t=`${e.result instanceof Error?e.result:ae(e.result)}`;return`
    <div class="step code"
         data-progstep="${n}"
         data-visible="true">
      ${te(D(t),Z,"html")}
    </div>
  `}function hr(e,n,t){return`
    <div class="box expression-steps"
         data-progstep="${n}"
         data-visible="false">
      <div class="boxlabel">${N[t]["current evaluation"]}</div>
      ${e.evalSteps.map((r,i)=>xr(i,r,t)).join("")}
      <div class="step"
           data-step="${e.evalSteps.length}"
           data-currentStep="${e.evalSteps.length===0?"true":"false"}"
           data-collapsed="false">
        <div class="prev-button"
             onclick="prevStep(event)">
          ${N[t]["previous step"]} <img class="icon" src="${Pe}">
        </div>
        <div class="next-button"
             onclick="nextStep(event)">
          ${N[t]["next step"]} <img class="icon" src="${Re}">
        </div>

        <div class="split-result code">
          ${Ce(e)?ie(e.result):`${e.result instanceof Error?e.result:ae(e.result)}`}
        </div>
      </div>
    </div>
  `}function Oe(e,n){let t=e.target,r=t.getBoundingClientRect().y,i=w(t,"expression-steps");if(!i){console.error("found no parent with class .expression-steps",t);return}let c=i.getAttribute("data-progstep");if(!c){console.error("div with class .expression-steps has no data-progstep attribute",i);return}let u=parseInt(c)+n;if(u<-1){console.error(`cannot navigate to progStep ${u}: does not exist`);return}B([i],"../.environment/div").map(m=>{let x=m.getAttribute("data-progstep");x&&(parseInt(x)<u?m.setAttribute("data-visible","true"):m.setAttribute("data-visible","false"))}),B([i],"../.program/div").map(m=>{let x=m.getAttribute("data-progstep");x&&(parseInt(x)<=u?m.setAttribute("data-visible","false"):m.setAttribute("data-visible","true"))}),B([i],"../.expression-steps").map(m=>{let x=m.getAttribute("data-progstep");x&&(parseInt(x)===u?(m.setAttribute("data-visible","true"),Array.from(m.children).filter(g=>g.getAttribute("data-currentstep")==="true").map(g=>{let d=g.querySelector(n>0?".next-button":".prev-button");if(!d)return;let b=d.getBoundingClientRect().y;window.scrollBy(0,b-r)})):m.setAttribute("data-visible","false"))})}function xr(e,n,t){let r=ue(n.rule)?ze(n.rule.context):{left:"",right:""},i=ue(n.rule)?n.rule.redexRule:n.rule,c=D(jt(i.redex));function p(E){return U(E)?`${r.left}<span class="hole hole-result">${ae(E)}</span>${r.right}`:E instanceof Error?`<span class="hole hole-result hole-error">"${E}"</span>`:`${r.left}<span class="hole hole-result">${D(L(E))}</span>${r.right}`}let u=p(i.result),m=i.type,x=te(`${r.left}<span class="hole">${c}</span>${r.right}`,Z,"html"),g=te(u,Z,"html"),d=g.slice(0,g.indexOf('<span class="hole hole-result')).split("<br>").reverse()[0],b=d?Q(d).length:0,T=4,P=r.left.length>0&&b<T?T:b,I=Z-P-re[m].name.length-5,oe=c.length+u.length<=I;return`
    <div class="step"
         data-step="${e}"
         data-currentStep="${e===0?"true":"false"}"
         data-collapsed="false">
      <div class="prev-button"
           onclick="prevStep(event)">
        ${N[t]["previous step"]} <img class="icon" src="${Pe}">
      </div>
      <div class="next-button"
           onclick="nextStep(event)">
        ${N[t]["next step"]} <img class="icon" src="${Re}">
      </div>

      <div class="split-result code">${x}<img class="icon expander"
              src="${Ft}"
              onclick="expand(event)"
        ><img class="icon collapser"
              src="${Dt}"
              onclick="collapse(event)"
      ></div>

      <div class="plug-result code"
           data-info-collapsed="true">
        <div>
          ${r.left!==""?`<span class="rule rule-name left-arrowed kong">
                 ${re.Kong.name}
              </span>`:""}

          <span class="rule left-arrowed one-rule"
                style="--one-rule-margin-left: ${P*Be}px">
             <span class="rule-name">${re[m].name}</span>${oe?`:
               <span class="rule-description">
                 <span class="hole rule-hole">${c}</span> \u2192
                 <span class="hole hole-result rule-hole">${u}</span>
               </span>`:""}
           </span>

           <img src="${Mt}"
                class="icon info-toggle info-expand"
                onclick="expandInfo(event)">
           <img src="${Ht}"
                class="icon info-toggle info-collapse"
                onclick="collapseInfo(event)">

        </div>
        ${Tr(m,r.left!=="")}
        <div>${g}</div>
      </div>

    </div>
  `}window.nextStep=e=>{let n=e.target,t=n.getBoundingClientRect().y,r=w(n,"step");if(r&&r.nextElementSibling){r.setAttribute("data-currentStep","false"),r.setAttribute("data-collapsed","true"),r.nextElementSibling.setAttribute("data-currentStep","true"),r.nextElementSibling.setAttribute("data-collapsed","false");let i=r.nextElementSibling.querySelector(".next-button");if(!i)return;let c=i.getBoundingClientRect().y;window.scrollBy(0,c-t)}else r&&!r.nextElementSibling&&Oe(e,1)};window.prevStep=e=>{let n=e.target,t=n.getBoundingClientRect().y,r=w(n,"step");if(r)if(r.getAttribute("data-step")==="0"){Oe(e,-1);return}else if(r.previousElementSibling){r.setAttribute("data-currentStep","false"),r.setAttribute("data-collapsed","true"),r.previousElementSibling.setAttribute("data-currentStep","true"),r.previousElementSibling.setAttribute("data-collapsed","false");let c=r.previousElementSibling.querySelector(".prev-button");if(!c)return;let p=c.getBoundingClientRect().y;window.scrollBy(0,p-t)}else{console.error("prevStep called on a step with no previous html element");return}else{console.error("prevStep not called from within an element of the .step class");return}};window.collapse=e=>{let n=e.target,t=w(n,"step");t&&t.setAttribute("data-collapsed","true")};window.expand=e=>{let n=e.target,t=w(n,"step");t&&t.setAttribute("data-collapsed","false")};function ze(e,n={left:"",right:""}){if(_e(e))return{left:D(n.left),right:D(n.right)};if(Ee(e)){let t=[C(e.op),...e.values.map(r=>`${r}`)];n.left=`${n.left}(${t.join(" ")} `,n.right=e.args.length>0?` ${e.args.map(L).join(" ")})${n.right}`:`)${n.right}`}else if($e(e)){n.left=`${n.left}(cond [`;let t=[`${L(e.options[0].result)}]`,...e.options.slice(1).map(G)];n.right=` ${t.join(" ")})${n.right}`}else throw console.error("Printing this context is not implemented yet",e),`Printing ${e.type} context is not implemented yet!`;return ze(e.ctx,n)}function jt(e){if(le(e))return`(${C(e.name)} ${e.args.map(n=>U(n)?`${n}`:br(n)).join(" ")})`;if(ce(e))return`(cond ${e.options.map(G).join(" ")})`;if(pe(e))return e.symbol;throw"Invalid Input to printRedex"}function br(e){return e.symbol}function Tr(e,n){let t=re[e];return`<div class="rule-info">${n?`
            <div class="rule-info-text-container">
              <div class="rule-info-rule-name">${re.Kong.name}</div>
              <div class="rule-info-rule-text">${re.Kong.text}</div>
            </div>
           `:""}
         <div class="rule-info-text-container">
           <div class="rule-info-rule-name">${t.name}</div>
           <div class="rule-info-rule-text">${t.text}</div>
         </div>
         </div>`}window.expandInfo=e=>{let n=e.target,t=w(n,"plug-result");!t||t.setAttribute("data-info-collapsed","false")};window.collapseInfo=e=>{let n=e.target,t=w(n,"plug-result");t&&t.setAttribute("data-info-collapsed","true")};var re={Kong:{name:"<cap>Kong</cap>",text:`
      <em>E[e<small>1</small>] \u2192 E[e<small>2</small>] falls e<small>1</small> \u2192 e<small>2</small></em><br>
      <em>\u2039E\u203A ::= []<br>
      &nbsp;&nbsp;&nbsp;| (\u2039name\u203A \u2039v\u203A* \u2039E\u203A \u2039e\u203A*)<br>
      &nbsp;&nbsp;&nbsp;| (<strong>cond</strong> [\u2039E\u203A \u2039e\u203A ]{[ \u2039e\u203A \u2039e\u203A]}*)</em>
    `},Fun:{name:"<cap>Fun</cap>",text:`
      <em>(name v<small>1</small> \u2026 v<small>n</small>) \u2192
      e[name<small>1</small> := v<small>1</small> \u2026 name<small>n</small> := v<small>n</small> ]</em>
      falls
      <em>(</em> <strong>define</strong> <em>(name name<small>1</small> \u2026 name<small>n</small>) e)</em> in Umgebung
    `},Prim:{name:"<cap>Prim</cap>",text:`
      <em>(name v<small>1</small> \u2026 v<small>n</small>) \u2192 v</em> falls
      <em>name</em> eine primitive Funktion <em>f</em> ist und
      <em>f(v<small>1</small> \u2026 v<small>n</small>) = v</em>
    `},Const:{name:"<cap>Const</cap>",text:`
      <em>name \u2192 v</em> falls <em>(<strong>define</strong> name v)</em> in Umgebung.
    `},CondTrue:{name:"<cap>Cond</cap>-True",text:`
      <em>(<strong>cond</strong> [<strong>#true</strong> e] \u2026) \u2192 e</em>
    `},CondFalse:{name:"<cap>Cond</cap>-False",text:`
      <em>(<strong>cond</strong> [<strong>#false</strong> e<small>1</small>]
         [e<small>2</small> e<small>3</small>] \u2026) \u2192
         (<strong>cond</strong> [e<small>2</small> e<small>3</small>] \u2026)</em>
    `},CondError:{name:"<cap>Cond</cap>-Error",text:`
      <em>(<strong>cond</strong> [e<small>1</small> e<small>2</small>] \u2026) \u2192
          (<strong>error</strong> "cond: all conditions false")</em>
    `},StructMake:{name:"<cap>Struct</cap>-make",text:`
      <em>(<strong>make</strong>-name v<small>1</small> \u2026 v<small>n</small>) \u2192
      &lt;<strong>make</strong>-name v<small>1</small> \u2026 v<small>n</small>&gt;</em>
      falls <em>(<strong>define-struct</strong> name (name<small>1</small> \u2026 name<small>n</small>))</em> in Umgebung
    `},StructSelect:{name:"<cap>Struct</cap>-select",text:`
      <em>(name-name<small>i</small> &lt;<strong>make</strong>-name
        v<small>1</small> \u2026 v<small>n</small>&gt;) \u2192 v<small>i</small></em>
        falls <em>(<strong>define-struct</strong> name
          (name<small>1</small> \u2026 name<small>n</small>))</em> in Umgebung
    `},StructPredTrue:{name:"<cap>Struct</cap>-predtrue",text:`
      <em>(name? &lt;<strong>make</strong>-name \u2026&gt;) \u2192 <strong>#true</strong></em>
    `},StructPredFalse:{name:"<cap>Struct</cap>-predfalse",text:`
      <em>(name? v) \u2192 <strong>#false</strong></em> falls <em>v</em> nicht
      <em>&lt;<strong>make</strong>-name \u2026&gt;</em> ist
    `},ProgRule:{name:"<cap>Prog</cap>",text:`
      Ein Programm wird von links nach rechts ausgef\xFChrt und startet mit der
      leeren Umgebung. Ist das n\xE4chste Programmelement eine Funktions- oder
      Strukturdefinition, so wird diese Definition in die Umgebung aufgenommen
      und die Ausf\xFChrung mit dem n\xE4chsten Programmelement in der erweiterten
      Umgebung fortgesetzt. Ist das n\xE4chste Programmelement ein Ausdruck, so
      wird dieser gem\xE4\xDF der unten stehenden Regeln in der aktuellen Umgebung zu
      einem Wert ausgewert. Ist das n\xE4chste Programmelement eine
      Konstantendefinition <em>(<strong>define</strong> x e)</em>, so wird in
      der aktuellen Umgebung zun\xE4chst <em>e</em> zu einem Wert <em>v</em>
      ausgewertet und dann <em>(<strong>define</strong> x v)</em> zur aktuellen
      Umgebung hinzugef\xFCgt.
    `}};window.onload=()=>{Et(),$t(),zt()};})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL0JTTF9BU1QudHMiLCAiLi4vc3JjL0JTTF9QcmludC50cyIsICIuLi9zcmMvRE9NX0hlbHBlcnMudHMiLCAiLi4vc3JjL1Byb2R1Y3Rpb25fVHJlZS50cyIsICIuLi9zcmMvQlNMX1BhcnNlci50cyIsICIuLi9zcmMvQlNMX1RyZWUudHMiLCAiLi4vc3JjL0pTT05fVHJlZS50cyIsICIuLi9zcmMvU0lfU1RSVUNULnRzIiwgIi4uL3NyYy9TSS50cyIsICIuLi9zcmMvU0lfUmVuZGVyZXIudHMiLCAiLi4vc3JjL2JzbF90b29scy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiZXhwb3J0IGVudW0gUHJvZHVjdGlvbiB7XG4gIEZ1bmN0aW9uRGVmaW5pdGlvbiA9ICdGdW5jdGlvbiBEZWZpbml0aW9uJyxcbiAgQ29uc3RhbnREZWZpbml0aW9uID0gJ0NvbnN0YW50IERlZmluaXRpb24nLFxuICBTdHJ1Y3REZWZpbml0aW9uID0gJ1N0cnVjdCBEZWZpbml0aW9uJyxcbiAgRnVuY3Rpb25DYWxsID0gJ0Z1bmN0aW9uIENhbGwnLFxuICBDb25kRXhwcmVzc2lvbiA9ICdDb25kLUV4cHJlc3Npb24nLFxuICBDb25kT3B0aW9uID0gJ0NvbmQtT3B0aW9uJyxcbiAgU3ltYm9sID0gJ1N5bWJvbCcsXG4gIExpdGVyYWwgPSAnTGl0ZXJhbCBWYWx1ZScsXG4gIE51bWJlciA9ICdOdW1iZXInXG59XG5cbmV4cG9ydCB0eXBlIHByb2dyYW0gPSBkZWZPckV4cHJbXTtcblxuZXhwb3J0IHR5cGUgZGVmT3JFeHByID0gZGVmaW5pdGlvbiB8IGV4cHI7XG5leHBvcnQgdHlwZSBkZWZpbml0aW9uID0gRnVuRGVmIHwgQ29uc3REZWYgfCBTdHJ1Y3REZWY7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRnVuRGVme1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uRnVuY3Rpb25EZWZpbml0aW9uO1xuICAgIG5hbWU6IE5hbWU7XG4gICAgYXJnczogTmFtZVtdO1xuICAgIGJvZHk6IGV4cHI7XG59XG5leHBvcnQgaW50ZXJmYWNlIENvbnN0RGVme1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uQ29uc3RhbnREZWZpbml0aW9uO1xuICAgIG5hbWU6IE5hbWU7XG4gICAgdmFsdWU6IGV4cHI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdERlZntcbiAgICB0eXBlOiBQcm9kdWN0aW9uLlN0cnVjdERlZmluaXRpb247XG4gICAgYmluZGluZzogTmFtZTtcbiAgICBwcm9wZXJ0aWVzOiBOYW1lW107XG59O1xuZXhwb3J0IHR5cGUgZXhwciA9IENhbGwgfCBDb25kIHwgTmFtZSB8IExpdGVyYWw7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkZ1bmN0aW9uQ2FsbDtcbiAgICBuYW1lOiBOYW1lO1xuICAgIGFyZ3M6IGV4cHJbXTtcbn07XG5leHBvcnQgaW50ZXJmYWNlIENsYXVzZXtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkNvbmRPcHRpb24sXG4gICAgY29uZGl0aW9uOiBleHByO1xuICAgIHJlc3VsdDogZXhwcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkNvbmRFeHByZXNzaW9uO1xuICAgIG9wdGlvbnM6IENsYXVzZVtdXG59XG5leHBvcnQgaW50ZXJmYWNlIE5hbWV7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5TeW1ib2w7XG4gICAgc3ltYm9sOnN0cmluZztcbn07XG5leHBvcnQgaW50ZXJmYWNlIExpdGVyYWwge1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICB2YWx1ZTogYm9vbGVhbiB8IHN0cmluZyB8IG51bWJlciB8IGAnKClgO1xufVxuXG4vLyBydW50aW1lIHR5cGUgY2hlY2tpbmdcbmV4cG9ydCBmdW5jdGlvbiBpc0RlZmluaXRpb24ob2JqOiBhbnkpOiBvYmogaXMgZGVmaW5pdGlvbiB7XG4gIHJldHVybiBpc0Z1bkRlZihvYmopIHx8IGlzQ29uc3REZWYob2JqKSB8fCBpc1N0cnVjdERlZihvYmopO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuRGVmKG9iajogYW55KTogb2JqIGlzIEZ1bkRlZiB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5GdW5jdGlvbkRlZmluaXRpb247XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25zdERlZihvYmo6IGFueSk6IG9iaiBpcyBDb25zdERlZiB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25zdGFudERlZmluaXRpb247XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTdHJ1Y3REZWYob2JqOiBhbnkpOiBvYmogaXMgU3RydWN0RGVmIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlN0cnVjdERlZmluaXRpb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0V4cHIob2JqOiBhbnkpOiBvYmogaXMgZXhwciB7XG4gIHJldHVybiBpc0NhbGwob2JqKSB8fCBpc0NvbmQob2JqKSB8fCBpc05hbWUob2JqKSB8fCBpc0xpdGVyYWwob2JqKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NhbGwob2JqOiBhbnkpOiBvYmogaXMgQ2FsbCB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5GdW5jdGlvbkNhbGw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25kKG9iajogYW55KTogb2JqIGlzIENvbmQge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ29uZEV4cHJlc3Npb247XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOYW1lKG9iajogYW55KTogb2JqIGlzIE5hbWUge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uU3ltYm9sO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTGl0ZXJhbChvYmo6IGFueSk6IG9iaiBpcyBMaXRlcmFsIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkxpdGVyYWw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIob2JqOiBhbnkpOiBvYmogaXMgbnVtYmVyIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLk51bWJlcjtcbn0iLCAiaW1wb3J0ICogYXMgQlNMX0FTVCBmcm9tIFwiLi9CU0xfQVNUXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcHJpbnQocDogQlNMX0FTVC5wcm9ncmFtKTogc3RyaW5nIHtcbiAgcmV0dXJuIHAubWFwKHByaW50RGVmT3JFeHByKS5qb2luKCdcXG4nKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwcmludERlZk9yRXhwcihlb2Q6IEJTTF9BU1QuZGVmT3JFeHByKSB7XG4gIGlmKEJTTF9BU1QuaXNEZWZpbml0aW9uKGVvZCkpIHtcbiAgICByZXR1cm4gcHJpbnREZWZpbml0aW9uKGVvZCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHByaW50RShlb2QpO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcHJpbnREZWZpbml0aW9uKGQ6IEJTTF9BU1QuZGVmaW5pdGlvbik6IHN0cmluZyB7XG4gIGlmKEJTTF9BU1QuaXNGdW5EZWYoZCkpIHtcbiAgICByZXR1cm4gYChkZWZpbmUgKCR7cHJpbnROYW1lKGQubmFtZSl9ICR7ZC5hcmdzLm1hcChwcmludE5hbWUpLmpvaW4oJyAnKX0pICR7cHJpbnRFKGQuYm9keSl9KWA7XG4gIH0gZWxzZSBpZihCU0xfQVNULmlzQ29uc3REZWYoZCkpIHtcbiAgICByZXR1cm4gYChkZWZpbmUgJHtwcmludE5hbWUoZC5uYW1lKX0gJHtwcmludEUoZC52YWx1ZSl9KWA7XG4gIH0gZWxzZSBpZihCU0xfQVNULmlzU3RydWN0RGVmKGQpKSB7XG4gICAgcmV0dXJuIGAoZGVmaW5lLXN0cnVjdCAke3ByaW50TmFtZShkLmJpbmRpbmcpfSAoJHtkLnByb3BlcnRpZXMubWFwKHByaW50TmFtZSkuam9pbignICcpfSkpYFxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgaW5wdXQgdG8gcHJpbnREZWZpbml0aW9uJyk7XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcHJpbnRFKGU6IEJTTF9BU1QuZXhwcik6IHN0cmluZyB7XG4gIGlmKEJTTF9BU1QuaXNDYWxsKGUpKSB7XG4gICAgcmV0dXJuIGAoJHtwcmludE5hbWUoZS5uYW1lKX0gJHtlLmFyZ3MubWFwKHByaW50RSkuam9pbignICcpfSlgO1xuICB9IGVsc2UgaWYoQlNMX0FTVC5pc0NvbmQoZSkpIHtcbiAgICByZXR1cm4gYChjb25kICR7ZS5vcHRpb25zLm1hcChwcmludE9wdGlvbikuam9pbignICcpfSlgO1xuICB9IGVsc2UgaWYoQlNMX0FTVC5pc05hbWUoZSkpIHtcbiAgICByZXR1cm4gcHJpbnROYW1lKGUpO1xuICB9IGVsc2UgaWYoQlNMX0FTVC5pc0xpdGVyYWwoZSkpIHtcbiAgICByZXR1cm4gcHJpbnRWYWx1ZShlLnZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIGlucHV0IHRvIHByaW50RScpO1xuICAgIHJldHVybiBgPCR7ZX0+YDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJpbnRWYWx1ZSh2YWw6IGJvb2xlYW4gfCBzdHJpbmcgfCBudW1iZXIpIHtcbiAgaWYodHlwZW9mKHZhbCkgPT09ICdzdHJpbmcnICYmIHZhbCAhPT0gYCcoKWApIHtcbiAgICByZXR1cm4gYFwiJHt2YWx9XCJgO1xuICB9IGVsc2UgaWYodHlwZW9mKHZhbCkgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiB2YWwgPyAnI3RydWUnIDogJyNmYWxzZSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGAke3ZhbH1gO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmludE9wdGlvbihvOiBCU0xfQVNULkNsYXVzZSkge1xuICByZXR1cm4gYFske3ByaW50RShvLmNvbmRpdGlvbil9ICR7cHJpbnRFKG8ucmVzdWx0KX1dYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByaW50TmFtZShzOiBCU0xfQVNULk5hbWUpOiBzdHJpbmcge1xuICByZXR1cm4gcy5zeW1ib2w7XG59XG5cbmV4cG9ydCBjb25zdCB0ZXN0cHJvZ3JhbTogQlNMX0FTVC5wcm9ncmFtID0gW1xuICB7XG4gICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkZ1bmN0aW9uRGVmaW5pdGlvbixcbiAgICBuYW1lOiB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgc3ltYm9sOiAnZidcbiAgICB9LFxuICAgIGFyZ3M6IFt7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgc3ltYm9sOiAneCdcbiAgICB9LCB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgc3ltYm9sOiAneSdcbiAgICB9XSxcbiAgICBib2R5OiB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uRnVuY3Rpb25DYWxsLFxuICAgICAgbmFtZToge1xuICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgICBzeW1ib2w6ICcrJ1xuICAgICAgfSxcbiAgICAgIGFyZ3M6IFt7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgIHN5bWJvbDogJ3gnXG4gICAgICB9LCB7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgIHN5bWJvbDogJ3knXG4gICAgICB9XX1cbiAgfSxcbiAge1xuICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kRXhwcmVzc2lvbixcbiAgICBvcHRpb25zOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kT3B0aW9uLFxuICAgICAgICBjb25kaXRpb246IHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uRnVuY3Rpb25DYWxsLFxuICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgICAgICBzeW1ib2w6ICc9J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgICAgICBzeW1ib2w6ICd4J1xuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgICAgICAgICB2YWx1ZTogM1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIHJlc3VsdDoge1xuICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgIHZhbHVlOiAnaXNUaHJlZSdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkNvbmRPcHRpb24sXG4gICAgICAgIGNvbmRpdGlvbjoge1xuICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICByZXN1bHQ6IHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICAgICAgICB2YWx1ZTogYCcoKWBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfSxcbiAge1xuICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25zdGFudERlZmluaXRpb24sXG4gICAgbmFtZToge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgIHN5bWJvbDogJ3gnXG4gICAgfSxcbiAgICB2YWx1ZToge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgICB2YWx1ZTogNDJcbiAgICB9XG4gIH0sXG4gIHtcbiAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3RydWN0RGVmaW5pdGlvbixcbiAgICBiaW5kaW5nOiB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgc3ltYm9sOiAnbmFtZSdcbiAgICB9LFxuICAgIHByb3BlcnRpZXM6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgICAgc3ltYm9sOiAnZmlyc3ROYW1lJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgICAgc3ltYm9sOiAnbGFzdE5hbWUnXG4gICAgICB9XG4gICAgXVxuICB9XG5dO1xuXG4vLyBpbmRlbnQgY29kZSB0aGF0IGlzIHdpZGVyIHRoYW4gbWF4TGVuZ3RoIGNoYXJhY3RlcnNcbmV4cG9ydCBmdW5jdGlvbiBpbmRlbnQoY29kZTogc3RyaW5nLCBtYXhXaWR0aDogbnVtYmVyLCBtb2RlOiAnaHRtbCcgfCAndGV4dCcgPSAndGV4dCcpOiBzdHJpbmcge1xuICAvLyBjb25zb2xlLmxvZygnQ29kZSBiZWZvcmUgaW5kZW50YXRpb24nLCBjb2RlKTtcbiAgLy8gZXh0cmFjdCB0ZXJtcyBhbmQgdGhlaXIgdGhlb3JldGljYWwgaW5kZW50YXRpb24gbGV2ZWxcbiAgbGV0IHRlcm1zOiB7dGVybTogc3RyaW5nLCBsZXZlbDogbnVtYmVyfVtdID0gW107XG4gIGxldCBsZXZlbCA9IDA7XG4gIGxldCBuZXh0TGV2ZWwgPSAwO1xuICBsZXQgbWF4TGV2ZWwgPSAwO1xuICBsZXQgYWNjID0gJyc7XG4gIGxldCBpblN0cmluZyA9IGZhbHNlO1xuICBsZXQgaW5UYWcgPSBmYWxzZTtcbiAgY29kZS5zcGxpdCgnJykuZm9yRWFjaChjaGFyID0+IHtcbiAgICBpZihpblN0cmluZyAmJiBjaGFyICE9PSAnXCInKSB7XG4gICAgICBhY2MgKz0gY2hhcjtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYoaW5UYWcgJiYgY2hhciAhPT0gJz4nKSB7XG4gICAgICBhY2MgKz0gY2hhcjtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3dpdGNoKGNoYXIpIHtcbiAgICAgIGNhc2UgJygnOlxuICAgICAgY2FzZSAnWyc6XG4gICAgICAgIG5leHRMZXZlbCsrO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJyknOlxuICAgICAgY2FzZSAnXSc6XG4gICAgICAgIG5leHRMZXZlbC0tO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgaW5TdHJpbmcgPSAhaW5TdHJpbmc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnPCc6XG4gICAgICAgIGluVGFnID0gbW9kZSA9PT0gJ2h0bWwnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJz4nOlxuICAgICAgICBpZihtb2RlID09PSAnaHRtbCcpIGluVGFnID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnICc6XG4gICAgICBjYXNlICdcXG4nOlxuICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgaWYoIWFjYykgcmV0dXJuO1xuICAgICAgICB0ZXJtcy5wdXNoKHt0ZXJtOiBhY2MsIGxldmVsOiBsZXZlbH0pO1xuICAgICAgICBpZiAobGV2ZWwgPiBtYXhMZXZlbCkgbWF4TGV2ZWwgPSBsZXZlbDtcbiAgICAgICAgYWNjID0gJyc7XG4gICAgICAgIGxldmVsID0gbmV4dExldmVsO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGFjYyArPSBjaGFyO1xuICAgIHJldHVybjtcbiAgfSk7XG4gIGlmKGFjYyAhPT0gJycpIHtcbiAgICB0ZXJtcy5wdXNoKHt0ZXJtOiBhY2MsIGxldmVsOiBsZXZlbH0pO1xuICAgIGlmIChsZXZlbCA+IG1heExldmVsKSBtYXhMZXZlbCA9IGxldmVsO1xuICB9XG4gIC8vIGNvbnNvbGUubG9nKHRlcm1zKTtcbiAgLy8gYXBwZW5kIHRlcm1zIHN0YXJ0aW5nIGZyb20gdGhlIGluc2lkZVxuICBjb25zdCBqb2luZXIgPSBtb2RlID09PSAnaHRtbCcgPyAnPGJyPicgOiBgXG5gO1xuICBmb3IobGV0IGxldmVsID0gbWF4TGV2ZWw7IGxldmVsID4gMDsgbGV2ZWwtLSkge1xuICAgIC8vIGdyb3VwIHRlcm1zXG4gICAgY29uc3QgbmV3VGVybXM6IHt0ZXJtOnN0cmluZywgbGV2ZWw6bnVtYmVyLCBzdWJ0ZXJtczpzdHJpbmdbXX1bXSA9IFtdO1xuICAgIHRlcm1zLmZvckVhY2godCA9PiB7XG4gICAgICBpZiAodC5sZXZlbCA8IGxldmVsKSB7XG4gICAgICAgIG5ld1Rlcm1zLnB1c2goey4uLnQsIHN1YnRlcm1zOiBbXX0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3VGVybXNbbmV3VGVybXMubGVuZ3RoIC0gMV0uc3VidGVybXMucHVzaCh0LnRlcm0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIGFwcGVuZCBhbmQgY2hlY2sgaWYgd2UgbmVlZCB0byBzdGFydCBpbmRlbnRpbmdcbiAgICB0ZXJtcyA9IG5ld1Rlcm1zLm1hcCh0ID0+IHtcbiAgICAgIGNvbnN0IGFscmVhZHlJbmRlbnRpbmcgPSB0LnN1YnRlcm1zLnNvbWUocyA9PiBzLmluY2x1ZGVzKGpvaW5lcikpO1xuICAgICAgY29uc3QgdW5pbmRlbnRlZCA9XG4gICAgICAgIGAke3QudGVybX0ke3Quc3VidGVybXMubGVuZ3RoID4gMCA/ICcgJzogJyd9JHt0LnN1YnRlcm1zLmpvaW4oJyAnKX1gO1xuICAgICAgY29uc3QgdW5pbmRlbnRlZExlbmd0aCA9XG4gICAgICAgIG1vZGUgPT09ICdodG1sJyA/IGh0bWxJZ25vcmluZ0xlbmd0aCh1bmluZGVudGVkKSA6IHVuaW5kZW50ZWQubGVuZ3RoO1xuICAgICAgaWYoYWxyZWFkeUluZGVudGluZyB8fFxuICAgICAgICAgdW5pbmRlbnRlZExlbmd0aCArIHQubGV2ZWwgPiBtYXhXaWR0aCkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHQuc3VidGVybXMubWFwKHMgPT5cbiAgICAgICAgICBgJHttb2RlID09PSAnaHRtbCcgPyByZXBlYXQoJyZuYnNwOycsIGxldmVsKSA6IHJlcGVhdCgnICcsIGxldmVsKX0ke3N9YCk7XG4gICAgICAgIHBhcnRzLnVuc2hpZnQodC50ZXJtKTtcbiAgICAgICAgY29uc3Qgam9pbmVyID0gbW9kZSA9PT0gJ2h0bWwnID8gJzxicj4nIDogYFxuYDsgLy8gbGl0ZXJhbCBuZXdsaW5lIHRvIGJlIHNhZmVcbiAgICAgICAgY29uc3QgYWxsID0gYCR7cGFydHMuam9pbihqb2luZXIpfWA7XG4gICAgICAgIHJldHVybiB7dGVybTogYWxsLCBsZXZlbDogdC5sZXZlbH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge3Rlcm06IHVuaW5kZW50ZWQsIGxldmVsOiB0LmxldmVsfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBjb25zb2xlLmxvZyh0ZXJtcyk7XG4gIH1cbiAgLy8gbm93IHRoZXJlIHNob3VsZCBiZSBvbmx5IHRvcCBsZXZlbCB0ZXJtcyBsZWZ0XG4gIHJldHVybiB0ZXJtcy5tYXAodCA9PiB0LnRlcm0pLmpvaW4oam9pbmVyKTtcbn1cblxuLy8gcmVwZWF0IGEgc3RyaW5nIHMgbiB0aW1lc1xuZnVuY3Rpb24gcmVwZWF0KHM6IHN0cmluZywgbjogbnVtYmVyKTpzdHJpbmcge1xuICBsZXQgYWNjID0gJyc7XG4gIGZvcihsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICBhY2MgKz0gcztcbiAgfVxuICByZXR1cm4gYWNjO1xufVxuLy8gbWVhc3VyZSB0aGUgbGVuZ3RoIG9mIGEgc3RyaW5nIHdoaWxlIGlnbm9yaW5nIGh0bWxcbmZ1bmN0aW9uIGh0bWxJZ25vcmluZ0xlbmd0aChzOiBzdHJpbmcpOiBudW1iZXIge1xuICBjb25zdCB0ZXN0RGl2OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0ZXN0RGl2LmlubmVySFRNTCA9IHM7XG4gIHJldHVybiB0ZXN0RGl2LnRleHRDb250ZW50ID8gdGVzdERpdi50ZXh0Q29udGVudC5sZW5ndGggOiAwO1xufVxuXG4vLyAjIyMjIHByZXZlbnRpbmcgcHJvYmxlbXMgd2l0aCBicmFja2V0c1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplKHM6IHN0cmluZyk6c3RyaW5nIHtcbiAgcmV0dXJuIHMucmVwbGFjZUFsbCgnPCcsJyZsdDsnKS5yZXBsYWNlQWxsKCc+JywnJmd0OycpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRpcnRpZnkoczogc3RyaW5nKTpzdHJpbmcge1xuICByZXR1cm4gcy5yZXBsYWNlQWxsKCcmbHQ7JywgJzwnKS5yZXBsYWNlQWxsKCcmZ3Q7JywnPicpLnJlcGxhY2VBbGwoJyZuYnNwOycsICcgJyk7XG59XG4iLCAiLy8gbmF2aWdhdGUgdGhlIERPTSB1c2luZyBwYXRoIG5vdGF0aW9uXG4vLyAuLiAtPiBwYXJlbnRcbi8vICsgIC0+IG5leHQgc2libGluZ1xuLy8gLmNsYXNzIC0+IGFsbCBjaGlsZHJlbiB3aXRoIGEgY2xhc3Ncbi8vIHRhZyAtPiBhbGwgY2hpbGRyZW4gb2YgYSBjZXJ0YWluIHRhZ1xuLy8gZGl2aWRlZCBieSAvXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVET00ocG9zaXRpb25zOiBIVE1MRWxlbWVudFtdLCBwYXRoOiBzdHJpbmcsIHN0cmljdDogYm9vbGVhbiA9IGZhbHNlKTogSFRNTEVsZW1lbnRbXSB7XG4gIGlmIChwb3NpdGlvbnMubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG4gIGNvbnN0IHN0ZXBzID0gcGF0aC5zcGxpdCgnLycpO1xuICBjb25zdCBjdXJyU3RlcCA9IHN0ZXBzLnNoaWZ0KCkgYXMgc3RyaW5nO1xuICBpZiAoY3VyclN0ZXAgPT0gJycpIHJldHVybiBwb3NpdGlvbnM7XG4gIGNvbnN0IHJlc3RTdGVwcyA9IHN0ZXBzLmpvaW4oJy8nKTtcblxuICBsZXQgbmV3UG9zaXRpb25zID0gW107XG4gIGlmIChjdXJyU3RlcCA9PSAnLi4nKSB7XG4gICAgLy8gbmF2aWdhdGUgdXBcbiAgICBuZXdQb3NpdGlvbnMgPSBwb3NpdGlvbnMubWFwKHAgPT4gcC5wYXJlbnRFbGVtZW50KS5maWx0ZXIocCA9PiBwKTtcbiAgfSBlbHNlIGlmIChjdXJyU3RlcCA9PSAnKycpIHtcbiAgICAvLyBuYXZpZ2F0ZSBzaWRld2F5c1xuICAgIG5ld1Bvc2l0aW9ucyA9IHBvc2l0aW9ucy5tYXAocCA9PiBwLm5leHRFbGVtZW50U2libGluZykuZmlsdGVyKHAgPT4gcCk7XG4gIH0gZWxzZSBpZiAoY3VyclN0ZXAuc3RhcnRzV2l0aCgnLicpKSB7XG4gICAgLy8gbmF2aWdhdGUgZG93biArIGZpbHRlciBmb3IgY2xhc3NcbiAgICBjb25zdCBjbGFzc05hbWUgPSBjdXJyU3RlcC5zbGljZSgxKTtcbiAgICBuZXdQb3NpdGlvbnMgPSBwb3NpdGlvbnMuZmxhdE1hcChwID0+IEFycmF5LmZyb20ocC5jaGlsZHJlbikuZmlsdGVyKGMgPT4gYy5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkpO1xuICB9IGVsc2Uge1xuICAgIC8vIG5hdmlnYXRlIGRvd24gKyBmaWx0ZXIgZm9yIHRhZ1xuICAgIG5ld1Bvc2l0aW9ucyA9IHBvc2l0aW9ucy5mbGF0TWFwKHAgPT4gQXJyYXkuZnJvbShwLmNoaWxkcmVuKS5maWx0ZXIoYyA9PiBjLnRhZ05hbWUgPT0gY3VyclN0ZXAudG9VcHBlckNhc2UoKSkpO1xuICB9XG4gIGlmIChuZXdQb3NpdGlvbnMubGVuZ3RoID09PSAwICYmIHN0cmljdCkge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHRyYXZlcnNpbmcgJHtwYXRofTogTm8gZWxlbWVudCBmb3VuZGApO1xuICB9XG4gIHJldHVybiBuYXZpZ2F0ZURPTShuZXdQb3NpdGlvbnMgYXMgSFRNTEVsZW1lbnRbXSwgcmVzdFN0ZXBzKTtcbn1cblxuLy8gZ2V0UGFyZW50VGFnUmVjdXJzaXZlIGZyb20gYSBjaGlsZCBlbGVtZW50XG4vLyBpZiBlbGVtZW50IGhhcyBUYWdOYW1lXG4vLyByZXR1cm47XG4vLyBlbHNlOiByZXRyeSB3aXRoIHBhcmVudEVsZW1lbnRcbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnRUYWdSZWN1cnNpdmUoZWw6IEhUTUxFbGVtZW50LCB0YWc6IHN0cmluZyk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gIGlmIChlbC50YWdOYW1lID09IHRhZy50b1VwcGVyQ2FzZSgpKSB7XG4gICAgcmV0dXJuIGVsO1xuICB9XG4gIGVsc2Uge1xuICAgIGxldCBwYXJlbnQgPSBlbC5wYXJlbnRFbGVtZW50O1xuICAgIGlmICghcGFyZW50KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgZmluZCBwYXJlbnQgZWxlbWVudCB3aXRoIHJlcXVlc3RlZCB0YWcgJywgdGFnKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0UGFyZW50VGFnUmVjdXJzaXZlKHBhcmVudCwgdGFnKSBhcyBIVE1MRWxlbWVudDtcbiAgfVxufVxuXG4vLyBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZSBmcm9tIGEgY2hpbGQgZWxlbWVudFxuLy8gaWYgZWxlbWVudCBoYXMgY2xhc3Ncbi8vIHJldHVybjtcbi8vIGVsc2U6IHJldHJ5IHdpdGggcGFyZW50RWxlbWVudFxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudENsYXNzUmVjdXJzaXZlKGVsOiBIVE1MRWxlbWVudCwgYzogc3RyaW5nKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcbiAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucyhjKSkge1xuICAgIHJldHVybiBlbDtcbiAgfVxuICBlbHNlIHtcbiAgICBsZXQgcGFyZW50ID0gZWwucGFyZW50RWxlbWVudDtcbiAgICBpZiAoIXBhcmVudCkge1xuICAgICAgY29uc29sZS5lcnJvcignQ291bGQgbm90IGZpbmQgcGFyZW50IGVsZW1lbnQgd2l0aCByZXF1ZXN0ZWQgY2xhc3MgJywgYyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGdldFBhcmVudENsYXNzUmVjdXJzaXZlKHBhcmVudCwgYyk7XG4gIH1cbn1cbiIsICJpbXBvcnQge25hdmlnYXRlRE9NLCBnZXRQYXJlbnRUYWdSZWN1cnNpdmUsIGdldFBhcmVudENsYXNzUmVjdXJzaXZlfSBmcm9tIFwiLi9ET01fSGVscGVyc1wiO1xuaW1wb3J0IHtkZWZhdWx0IGFzIHRyZWVfY3NzfSBmcm9tICcuL3Jlc3NvdXJjZXMvdHJlZS5jc3MnO1xuaW1wb3J0IHtzYW5pdGl6ZX0gZnJvbSAnLi9CU0xfUHJpbnQnO1xuXG4vLyAjIyMjIG1haW4gYXBpICMjIyMjXG4vLyBzaW1wbGUgaGVscGVyIHN0cnVjdHVyZSByZXByZXNlbnRpbmcgYSBwcmludGVkIHRyZWVcbmV4cG9ydCBpbnRlcmZhY2Ugbm9kZSB7XG4gIHByb2R1Y3Rpb246IHN0cmluZztcbiAgY29kZTogc3RyaW5nO1xuICBob2xlczoge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlciwgY29udGVudDpub2RlfVtdO1xufVxuLy8gb2JqZWN0IHJlcHJlc2VudGluZyBhIGdyYW1tYXJcbmV4cG9ydCB0eXBlIGdyYW1tYXIgPSB7W2tleTogc3RyaW5nXTogc3RyaW5nW119O1xuXG4vLyBhZGQgcHJvZHVjdGlvbiB0cmVlIHRvIGh0bWwgZWxlbWVudFxuZXhwb3J0IGZ1bmN0aW9uIHByb2R1Y3Rpb25UcmVlKFxuICByb290OiBub2RlLFxuICB0YXJnZXQ6IEhUTUxFbGVtZW50LFxuICBncmFtbWFyOiBncmFtbWFyIHwgdW5kZWZpbmVkLFxuICBxdWl6PWZhbHNlLFxuICBsYW5nPSdlbicpe1xuICAvLyBpbmZlciBncmFtbWFyIGlmIG5lY2Vzc2FyeVxuICBpZighZ3JhbW1hcikgZ3JhbW1hciA9IGV4dHJhY3RQcm9kdWN0aW9ucyhyb290KTtcbiAgLy8gYWRkIGNzcyBpZiBuZWNlc3NhcnlcbiAgaWYoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdic2wtdG9vbHMtdHJlZS1zdHlsZScpKSB7XG4gICAgY29uc3Qgc3R5bGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZU5vZGUuaW5uZXJIVE1MID0gdHJlZV9jc3M7XG4gICAgc3R5bGVOb2RlLmlkID0gJ2JzbC10b29scy10cmVlLXN0eWxlJztcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHN0eWxlTm9kZSk7XG4gIH1cbiAgLy8gY2hlY2sgbGFuZ3VhZ2UgYXZhaWxhYmlsaXR5XG4gIGlmICghaW1wbGVtZW50ZWRMYW5ndWFnZXMuaW5jbHVkZXMobGFuZykpIHtcbiAgICBjb25zb2xlLmVycm9yKGBcbiAgICAgIFNlbGVjdGVkIGxhbmd1YWdlIFwiJHtsYW5nfVwiIGlzIG5vdCBpbXBsZW1lbnRlZCwgZGVmYXVsdGluZyB0byBcImVuXCIuXG4gICAgICBBdmFpbGFibGUgbGFuZ3VhZ2UgY29kZXM6ICR7aW1wbGVtZW50ZWRMYW5ndWFnZXMuam9pbignLCAnKX1cbiAgICBgKTtcbiAgICBsYW5nID0gJ2VuJztcbiAgfVxuICAvLyByZW5kZXIgSFRNTFxuICB0YXJnZXQuaW5uZXJIVE1MID0gYFxuICAgIDx1bCBjbGFzcz1cInRyZWUgYXN0XCI+XG4gICAgICAke3F1aXpcbiAgICAgICAgPyByZW5kZXJRdWl6Tm9kZShyb290LCBsYW5nIGFzIGltcGxlbWVudGVkTGFuZ3VhZ2UsIGdyYW1tYXIgYXMgZ3JhbW1hcilcbiAgICAgICAgOiByZW5kZXJOb2RlKHJvb3QsIGdyYW1tYXIgYXMgZ3JhbW1hcil9XG4gICAgPC91bD5cbiAgYDtcbiAgaWYgKHF1aXopIHtcbiAgICAvLyBzaG93IGZpcnN0IHF1aXogbm9kZVxuICAgIG5hdmlnYXRlRE9NKFt0YXJnZXRdLCd1bC9saS91bC9saScpLm1hcChjID0+XG4gICAgICBjLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzZWQnLCdmYWxzZScpKTtcbiAgfVxuICAvLyBhbGlnbiBjb25uZWN0b3JzIGhvcml6b250YWxseVxuICBhZGp1c3RDb25uZWN0b3JzKHRhcmdldCk7XG59XG5cbi8vICMjIyB0cmF2ZXJzZSB0cmVlIHRvIGdldCBhbGwgb2NjdXJyaW5nIHByb2R1Y3Rpb25zXG5mdW5jdGlvbiBleHRyYWN0UHJvZHVjdGlvbnMobjogbm9kZSk6IGdyYW1tYXIge1xuICBjb25zdCBwcm9kdWN0aW9ucyA9IHt9O1xuICBleHRyYWN0UHJvZHVjdGlvbnNSZWN1cnNpdmUobiwgcHJvZHVjdGlvbnMpO1xuICByZXR1cm4gcHJvZHVjdGlvbnM7XG59XG5mdW5jdGlvbiBleHRyYWN0UHJvZHVjdGlvbnNSZWN1cnNpdmUobjogbm9kZSwgcDogZ3JhbW1hcikge1xuICBwW24ucHJvZHVjdGlvbl0gPSBbXTtcbiAgbi5ob2xlcy5tYXAoaCA9PiBleHRyYWN0UHJvZHVjdGlvbnNSZWN1cnNpdmUoaC5jb250ZW50LCBwKSk7XG59XG5cbi8vICMjIyMjIyBpbnRlcm5hdGlvbmFsaXphdGlvbiBmb3IgdGhpcyBtb2R1bGUgIyMjIyNcbi8vIG1haW5seSBmb3IgcXVpeiwgY3VycmVudGx5XG50eXBlIGltcGxlbWVudGVkTGFuZ3VhZ2UgPSAnZW4nIHwgJ2RlJztcbmNvbnN0IGltcGxlbWVudGVkTGFuZ3VhZ2VzID0gWydlbicsICdkZSddO1xuXG5jb25zdCBkaWN0aW9uYXJ5ID0ge1xuICAnZW4nOiB7XG4gICAgJ3NlbGVjdCBwcm9kdWN0aW9uJzogJ1NlbGVjdCBwcm9kdWN0aW9uJyxcbiAgICAnbWFyayBzZWxlY3RlZCB0ZXh0IGFzIGhvbGUnOiAnTWFyayBzZWxlY3RlZCB0ZXh0IGFzIGhvbGUnLFxuICB9LFxuICAnZGUnOiB7XG4gICAgJ3NlbGVjdCBwcm9kdWN0aW9uJzogJ1Byb2R1a3Rpb24gYXVzd1x1MDBFNGhsZW4nLFxuICAgICdtYXJrIHNlbGVjdGVkIHRleHQgYXMgaG9sZSc6ICdBdXN3YWhsIGFscyBMb2NoIG1hcmtpZXJlbicsXG4gIH0sXG59O1xuXG4vLyAjIyMjIyMgbGF5b3V0IGhlbHBlciAjIyMjIyMjI1xuLy8gZHluYW1pY2FsbHkgY29tcHV0ZSBkaW1lbnNpb25zIG9mIGNvbm5lY3RvcnMgYmV0d2VlbiBub2Rlc1xuLy8gc3VjaCB0aGF0IHRoZXkgcG9pbnQgdG8gdGhlIGNvcnJlY3QgXCJob2xlXCJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DU1NfT2JqZWN0X01vZGVsL0RldGVybWluaW5nX3RoZV9kaW1lbnNpb25zX29mX2VsZW1lbnRzXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTEVsZW1lbnQvb2Zmc2V0TGVmdFxuZnVuY3Rpb24gYWRqdXN0Q29ubmVjdG9ycyh0cmVlOiBIVE1MRWxlbWVudCkge1xuICBjb25zdCB5ZGlmZiA9IHBhcnNlRmxvYXQoZ2V0Q29tcHV0ZWRTdHlsZSh0cmVlKS5mb250U2l6ZSkgKiAzOyAvLyAzZW1cbiAgZm9yKGxldCBpID0gMTsgO2krKykge1xuICAgIGNvbnN0IGhvbGVzID0gQXJyYXkuZnJvbSh0cmVlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYGhvbGUtJHtpfWApKTtcbiAgICBpZiAoaG9sZXMubGVuZ3RoIDwgMSkgcmV0dXJuO1xuICAgIGhvbGVzLm1hcChoID0+IHtcbiAgICAgIGNvbnN0IGVsOiBIVE1MRWxlbWVudCA9IGggYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBjb25zdCB4cG9zID0gMC41ICogKGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnggKyBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCk7XG4gICAgICAvLyBubyBsYXlvdXQgZWZmZWN0IGlmIGhvbGUgaXMgaW52aXNpYmxlXG4gICAgICBpZiAoeHBvcyA9PSAwKSByZXR1cm47XG5cbiAgICAgIC8vIG5hdmlnYXRlIHRoZSBET01cbiAgICAgIGNvbnN0IGxpID0gZ2V0UGFyZW50VGFnUmVjdXJzaXZlKGVsLCAnbGknKTtcbiAgICAgIC8vIG5vdCBpbnNpZGUgYSBsaXN0IG5vZGU/IHByb2JhYmx5IHdyb25nIHRhZywgcmV0dXJuXG4gICAgICBpZighbGkpIHJldHVybjtcblxuICAgICAgLy8gcHJvY2VzcyBjaGlsZHJlblxuICAgICAgbmF2aWdhdGVET00oW2xpXSwgYHVsLy5jaGlsZC0ke2l9L3NwYW5gKS5tYXAoYyA9PiB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gYyBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3QgeHBvc0NoaWxkID0gMC41ICogKGNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnggKyBjaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCk7XG4gICAgICAgIGNvbnN0IHhkaWZmID0geHBvcyAtIHhwb3NDaGlsZDtcbiAgICAgICAgY29uc3QgYW5nbGUgPSAtIE1hdGguYXRhbjIoeWRpZmYsIHhkaWZmKTtcbiAgICAgICAgY29uc3QgYW1vdW50ID0gTWF0aC5zcXJ0KHhkaWZmKnhkaWZmICsgeWRpZmYqeWRpZmYpO1xuICAgICAgICBjb25zdCBsZWZ0ID0gKHhkaWZmLzIpIC0gKGFtb3VudC8yKTtcbiAgICAgICAgLy8gc2V0IGNzcyB2YXJpYWJsZXMgKHVzYWdlIHNlZSB0cmVlLmNzcylcbiAgICAgICAgY2hpbGQuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAtLWNvbm5lY3Rvci13aWR0aDogJHthbW91bnR9cHg7XG4gICAgICAgICAgLS1jb25uZWN0b3ItbGVmdDogY2FsYyg1MCUgKyAke2xlZnR9cHgpO1xuICAgICAgICAgIC0tZWRnZXRleHQtcmlnaHQ6IGNhbGMoNTAlIC0gJHt4ZGlmZi8yfXB4KTtcbiAgICAgICAgICAtLWNvbm5lY3Rvci10cmFuc2Zvcm06IHJvdGF0ZSgke2FuZ2xlfXJhZCk7XG4gICAgICAgIGA7XG4gICAgICB9KTtcblxuICAgIH0pO1xuICB9XG59XG5cbi8vICMjIyMjIGdlbmVyYXRlIEhUTUwgIyMjIyMjXG5cbi8vICMjIyByZWd1bGFyIG5vZGUvdHJlZVxuZnVuY3Rpb24gcmVuZGVyTm9kZShuOiBub2RlLCBwOiBncmFtbWFyLCBpOm51bWJlcj0tMSk6c3RyaW5nIHtcbiAgcmV0dXJuIGBcbiAgICA8bGkgY2xhc3M9XCIke2kgPj0gMCA/IGBjaGlsZC0ke2krMX1gIDogJyd9XCJcbiAgICAgICAgZGF0YS1jb2xsYXBzZWQ9XCIke2kgPj0gMCA/ICd0cnVlJyA6ICdmYWxzZSd9XCI+XG4gICAgICA8c3BhbiBjbGFzcz1cIiR7bi5ob2xlcy5sZW5ndGggPiAwID8gJycgOiAndGVybWluYWwtc3ltYm9sJ31cIj5cblxuICAgICAgICAke3JlbmRlclByb2R1Y3Rpb24obiwgcCl9XG5cbiAgICAgICAgJHtyZW5kZXJDb2RlKG4pfVxuXG4gICAgICA8L3NwYW4+XG4gICAgICAke24uaG9sZXMubGVuZ3RoID4gMCA/XG4gICAgICAgIGA8dWw+JHtcbiAgICAgICAgICBuLmhvbGVzLm1hcCgoaCwgaWR4KSA9PlxuICAgICAgICAgICAgcmVuZGVyTm9kZShoLmNvbnRlbnQsIHAsIGlkeCkpXG4gICAgICAgICAgLmpvaW4oJycpXG4gICAgICAgIH08L3VsPmBcbiAgICAgICAgOiAnJ1xuICAgICAgfVxuICAgIDwvbGk+XG4gIGA7XG59XG5cbi8vICMjIyBibG9jayBvZiBjb2RlIGluIG5vZGVcbmZ1bmN0aW9uIHJlbmRlckNvZGUobjogbm9kZSk6c3RyaW5nIHtcbiAgY29uc3Qgc3BhbnMgPSBnZXRTcGFucyhuKTtcbiAgcmV0dXJuIGBcbiAgPGRpdiBjbGFzcz1cImNvZGVcIj4ke1xuICAgIHNwYW5zLm1hcChzID0+XG4gICAgICBgPHNwYW4gY2xhc3M9XCJjaGFyICR7cy5wb3MgPyBgaG9sZSBob2xlLSR7cy5wb3N9YCA6ICcnfVwiXG4gICAgICAgICAgICAgJHtzLnBvcyA/IGBvbmNsaWNrPVwidG9nZ2xlQ2hpbGQoZXZlbnQsJHtzLnBvc30pXCJgIDogJyd9XG4gICAgICAgICAgICAgPiR7bi5jb2RlLnNsaWNlKHMuc3RhcnQsIHMuZW5kKX08L3NwYW4+YClcbiAgICAuam9pbignJyl9XG4gIDwvZGl2PlxuICBgO1xufVxuKHdpbmRvdyBhcyBhbnkpLnRvZ2dsZUNoaWxkID0gKGU6IEV2ZW50LGk6bnVtYmVyKSA9PiB7XG4gIGNvbnN0IGhvbGUgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3QgbGkgPSBnZXRQYXJlbnRUYWdSZWN1cnNpdmUoaG9sZSwgJ2xpJyk7XG4gIGNvbnN0IHRyZWUgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShob2xlLCAndHJlZScpO1xuICBpZighbGkgfHwgIXRyZWUpIHtcbiAgICBjb25zb2xlLmVycm9yKCd0b2dnbGVDaGlsZCBjYWxsZWQgZnJvbSAuaG9sZSBub3QgaW4gLnRyZWUnKTtcbiAgICByZXR1cm47XG4gIH07XG5cbiAgbmF2aWdhdGVET00oW2xpXSxgdWwvLmNoaWxkLSR7aX1gKS5tYXAoYyA9PiB7XG4gICAgYy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywgYy5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJykgPT09ICd0cnVlJyA/ICdmYWxzZScgOiAndHJ1ZScpO1xuICB9KTtcbiAgYWRqdXN0Q29ubmVjdG9ycyh0cmVlKTtcbn1cbmludGVyZmFjZSBzcGFuIHtcbiAgcG9zOiBib29sZWFuIHwgbnVtYmVyO1xuICBzdGFydDogbnVtYmVyO1xuICBlbmQ6IG51bWJlcjtcbn1cbmZ1bmN0aW9uIGdldFNwYW5zKG46IG5vZGUpOnNwYW5bXSB7XG4gIC8vIHNsaWNlIHRleHQgaW50byBob2xlc1xuICBjb25zdCBzcGFucyA9IFtdO1xuICBsZXQgcG9zaXRpb24gPSAwO1xuICBmb3IobGV0IGkgPSAwOyBpIDwgbi5ob2xlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChuLmhvbGVzW2ldLnN0YXJ0ID4gcG9zaXRpb24pIHtcbiAgICAgIHNwYW5zLnB1c2goe3BvczogZmFsc2UsIHN0YXJ0OnBvc2l0aW9uLCBlbmQ6bi5ob2xlc1tpXS5zdGFydH0pO1xuICAgIH1cbiAgICBzcGFucy5wdXNoKHtwb3M6IGkrMSwgLi4ubi5ob2xlc1tpXX0pO1xuICAgIHBvc2l0aW9uID0gbi5ob2xlc1tpXS5lbmQ7XG4gIH1cbiAgaWYgKHBvc2l0aW9uIDwgbi5jb2RlLmxlbmd0aCkge1xuICAgIHNwYW5zLnB1c2goe3BvczogZmFsc2UsIHN0YXJ0OnBvc2l0aW9uLCBlbmQ6bi5jb2RlLmxlbmd0aH0pO1xuICB9XG4gIHJldHVybiBzcGFucztcbn1cbi8vICMjIyBwcm9kdWN0aW9uIG5hbWUgLSB3aXRoIHRvb2x0aXAgb24gaG92ZXJcbmZ1bmN0aW9uIHJlbmRlclByb2R1Y3Rpb24objogbm9kZSwgcDogZ3JhbW1hcikge1xuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJuYW1lXCI+JHtzYW5pdGl6ZShuLnByb2R1Y3Rpb24pfSR7XG4gICAgICBwW24ucHJvZHVjdGlvbl0gJiYgcFtuLnByb2R1Y3Rpb25dLmxlbmd0aCA+IDAgP1xuICAgICAgYDxkaXYgY2xhc3M9XCJ0b29sdGlwXCI+Ojo9ICR7XG4gICAgICAgIHBbbi5wcm9kdWN0aW9uXS5tYXAoc2FuaXRpemUpLmpvaW4oJzxicj4mbmJzcDt8Jm5ic3A7Jm5ic3A7JylcbiAgICAgIH08L2Rpdj5gXG4gICAgICA6ICcnXG4gICAgfTwvZGl2PlxuICBgO1xufVxuXG4vLyAjIyMjIyMgcmVuZGVyaW5nIGEgbm9kZS90cmVlIGFzIGEgcXVpelxuZnVuY3Rpb24gcmVuZGVyUXVpek5vZGUobjogbm9kZSwgbGFuZzogaW1wbGVtZW50ZWRMYW5ndWFnZSwgZ3JhbW1hcjogZ3JhbW1hciwgaTpudW1iZXI9LTEpOnN0cmluZyB7XG4gIHJldHVybiBgXG4gICAgPGxpIGNsYXNzPVwiJHtpID49IDAgPyBgY2hpbGQtJHtpKzF9YCA6ICcnfVwiXG4gICAgICAgIGRhdGEtY29sbGFwc2VkPVwiJHtpID49IDAgPyAndHJ1ZScgOiAnZmFsc2UnfVwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCIke24uaG9sZXMubGVuZ3RoID4gMCA/ICcnIDogJ3Rlcm1pbmFsLXN5bWJvbCd9XCJcbiAgICAgICAgICAgIGRhdGEtcXVpei1zdGF0ZT1cIiR7aSA+PSAwID8gJ3Byb2R1Y3Rpb24nIDogJ2RvbmUnfVwiXG4gICAgICAgICAgICBkYXRhLWlzLXRlcm1pbmFsPVwiJHtuLmhvbGVzLmxlbmd0aCA8PSAwfVwiXG4gICAgICAgICAgICBkYXRhLWlzLXRyaXZpYWwtaG9sZT1cIiR7bi5ob2xlcy5sZW5ndGggPT09IDEgJiYgbi5ob2xlc1swXS5zdGFydCA9PT0gMCAmJiBuLmhvbGVzWzBdLmVuZCA9PT0gbi5jb2RlLmxlbmd0aH1cIj5cblxuICAgICAgICAke3JlbmRlclByb2R1Y3Rpb25RdWl6KG4sIGxhbmcsIGdyYW1tYXIpfVxuXG4gICAgICAgICR7cmVuZGVySG9sZVF1aXoobiwgbGFuZyl9XG5cbiAgICAgICAgJHtyZW5kZXJQcm9kdWN0aW9uKG4sIGdyYW1tYXIpfVxuICAgICAgICAke3JlbmRlckNvZGUobil9XG4gICAgICA8L3NwYW4+XG4gICAgICAke24uaG9sZXMubGVuZ3RoID4gMCA/XG4gICAgICAgIGA8dWw+JHtcbiAgICAgICAgICBuLmhvbGVzLm1hcCgoaCwgaWR4KSA9PlxuICAgICAgICAgICAgcmVuZGVyUXVpek5vZGUoaC5jb250ZW50LCBsYW5nLCBncmFtbWFyLCBpZHgpKVxuICAgICAgICAgICAgLmpvaW4oJycpXG4gICAgICAgICB9PC91bD5gXG4gICAgICAgIDogJydcbiAgICAgIH1cbiAgICA8L2xpPlxuICBgO1xufVxuXG4vLyAjIyMgZmlyc3QgcGFydCBvZiB0aGUgcXVpelxuZnVuY3Rpb24gcmVuZGVyUHJvZHVjdGlvblF1aXoobjogbm9kZSwgbGFuZzogaW1wbGVtZW50ZWRMYW5ndWFnZSwgZ3JhbW1hcjogZ3JhbW1hcik6c3RyaW5nIHtcbiAgcmV0dXJuIGBcbiAgPGRpdiBjbGFzcz1cInByb2R1Y3Rpb25cIj5cbiAgICA8c2VsZWN0IG9uY2hhbmdlPVwiY2hlY2tQcm9kdWN0aW9uKGV2ZW50LCAnJHtuLnByb2R1Y3Rpb259JylcIj5cbiAgICAgIDxvcHRpb24gc2VsZWN0ZWQ9XCJ0cnVlXCI+JHtkaWN0aW9uYXJ5W2xhbmddWydzZWxlY3QgcHJvZHVjdGlvbiddfTwvb3B0aW9uPlxuICAgICAgJHtPYmplY3Qua2V5cyhncmFtbWFyKS5tYXAocCA9PiBgXG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIiR7cH1cIj4ke3Nhbml0aXplKHApfTwvb3B0aW9uPlxuICAgICAgICBgKS5qb2luKCcnKX1cbiAgICA8L3NlbGVjdD5cbiAgPC9kaXY+XG4gIGA7XG59XG5cbih3aW5kb3cgYXMgYW55KS5jaGVja1Byb2R1Y3Rpb24gPSAoZTogRXZlbnQsIHA6IHN0cmluZykgPT4ge1xuICBjb25zdCBzZWwgPSBlLnRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudDtcbiAgaWYgKHNlbC52YWx1ZSA9PT0gcCkge1xuICAgIC8vIGFuc3dlciBjb3JyZWN0XG4gICAgY29uc3Qgc3BhbiA9IGdldFBhcmVudFRhZ1JlY3Vyc2l2ZShzZWwsICdzcGFuJyk7XG4gICAgaWYgKHNwYW4pIHtcbiAgICAgIGlmIChzcGFuLmdldEF0dHJpYnV0ZSgnZGF0YS1pcy10ZXJtaW5hbCcpID09PSAndHJ1ZScpIHtcbiAgICAgICAgLy8gd2UncmUgZG9uZVxuICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZSgnZGF0YS1xdWl6LXN0YXRlJywgJ2RvbmUnKTtcbiAgICAgIH0gZWxzZSBpZiAoc3Bhbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtaXMtdHJpdmlhbC1ob2xlJykgPT09ICd0cnVlJykge1xuICAgICAgICAvLyB3ZSdyZSBkb25lXG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKCdkYXRhLXF1aXotc3RhdGUnLCAnZG9uZScpO1xuICAgICAgICAvLyBidXQgd2UgYWxzbyBuZWVkIHRvIGV4cGFuZCB0aGUgY2hpbGRcbiAgICAgICAgbmF2aWdhdGVET00oW3NwYW5dLCcrL2xpJyx0cnVlKS5tYXAoYyA9PlxuICAgICAgICAgIGMuc2V0QXR0cmlidXRlKCdkYXRhLWNvbGxhcHNlZCcsICdmYWxzZScpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG1vdmUgb24gdG8gc2VsZWN0aW5nIGhvbGVzXG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKCdkYXRhLXF1aXotc3RhdGUnLCAnaG9sZS1tYXJraW5nJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGV4cGFuZCBuZXh0IHNpYmxpbmcgKGlmIHByZXNlbnQpXG4gICAgICBuYXZpZ2F0ZURPTShbc3Bhbl0sICcuLi8rJykubWFwKGwgPT5cbiAgICAgICAgbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywgJ2ZhbHNlJykpO1xuXG4gICAgICAvLyBhZGp1c3QgY29ubmVjdG9yc1xuICAgICAgY29uc3QgcXVpeiA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKHNwYW4sICd0cmVlJyk7XG4gICAgICBpZiAocXVpeikgYWRqdXN0Q29ubmVjdG9ycyhxdWl6KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gbWFyayBvcHRpb24gYXMgdHJpZWQtYW5kLXdyb25nXG4gICAgQXJyYXkuZnJvbShzZWwuc2VsZWN0ZWRPcHRpb25zKS5tYXAobyA9PlxuICAgICAgby5yZW1vdmUoKSk7XG4gICAgLy8gZ2l2ZSB2aXN1YWwgZmVlZGJhY2tcbiAgICBjb25zdCBzcGFuID0gZ2V0UGFyZW50VGFnUmVjdXJzaXZlKHNlbCwgJ3NwYW4nKTtcbiAgICBpZiAoc3Bhbikge1xuICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCd3cm9uZycpO1xuICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzcGFuLmNsYXNzTGlzdC5yZW1vdmUoJ3dyb25nJyk7XG4gICAgICB9LCAxMDApO1xuICAgIH1cbiAgfVxufVxuXG4vLyAjIyMgc2Vjb25kIHBhcnQgb2YgdGhlIHF1aXpcbmZ1bmN0aW9uIHJlbmRlckhvbGVRdWl6KG46IG5vZGUsIGxhbmc6IGltcGxlbWVudGVkTGFuZ3VhZ2UpOnN0cmluZyB7XG4gIHJldHVybiBgXG4gIDxkaXYgY2xhc3M9XCJob2xlLW1hcmtpbmdcIlxuICAgICAgIGRhdGEtaG9sZXM9XCIke2J0b2EoSlNPTi5zdHJpbmdpZnkobi5ob2xlcy5tYXAoaCA9PiBbaC5zdGFydCxoLmVuZCwgZmFsc2VdKSkpfVwiPlxuICAgIDxkaXYgY2xhc3M9XCJ0ZXh0YXJlYS1jb250YWluZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtYXJrZXItY29udGFpbmVyXCI+XG4gICAgICAgICR7bi5jb2RlLnNwbGl0KCdcXG4nKVxuICAgICAgICAgICAgLm1hcChsID0+IGwuc3BsaXQoJycpLm1hcChjID0+XG4gICAgICAgICAgICAgIGA8c3BhbiBjbGFzcz1cImNoYXIgbWFya2VyXCI+JHtjfTwvc3Bhbj5gXG4gICAgICAgICAgICApLmpvaW4oJycpKVxuICAgICAgICAgICAgLmpvaW4oJzxzcGFuIGNsYXNzPVwiY2hhciBtYXJrZXJcIj48L3NwYW4+PGJyPicpfVxuICAgICAgPC9kaXY+XG4gICAgICA8dGV4dGFyZWEgYXV0b2NvcnJlY3Q9XCJvZmZcIlxuICAgICAgICAgICAgICAgIHNwZWxsY2hlY2s9XCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgY29scz1cIiR7bi5jb2RlLnNwbGl0KCdcXG4nKS5tYXAobCA9PiBsLmxlbmd0aCkucmVkdWNlKCh4LHkpID0+IHggPiB5ID8geCA6IHkpfVwiXG4gICAgICAgICAgICAgICAgcm93cz1cIiR7bi5jb2RlLnNwbGl0KCdcXG4nKS5sZW5ndGh9XCJcbiAgICAgICAgICAgICAgICBvbmlucHV0PVwic3RvcElucHV0KGV2ZW50LCAnJHtidG9hKG4uY29kZSl9JylcIj4ke24uY29kZX08L3RleHRhcmVhPlxuICAgIDwvZGl2Pjxicj5cbiAgICA8YnV0dG9uIG9uY2xpY2s9XCJjaGVja1NlbGVjdGlvbihldmVudClcIj5cbiAgICAgICR7ZGljdGlvbmFyeVtsYW5nXVsnbWFyayBzZWxlY3RlZCB0ZXh0IGFzIGhvbGUnXX1cbiAgICA8L2J1dHRvbj5cbiAgPC9kaXY+XG4gIGA7XG59XG4od2luZG93IGFzIGFueSkuc3RvcElucHV0ID0gKGU6IEV2ZW50LCBvbGRWYWw6IHN0cmluZykgPT4ge1xuICAoZS50YXJnZXQgYXMgSFRNTFRleHRBcmVhRWxlbWVudCkudmFsdWUgPSBhdG9iKG9sZFZhbCk7XG59XG4od2luZG93IGFzIGFueSkuY2hlY2tTZWxlY3Rpb24gPSAoZTogRXZlbnQpID0+IHtcbiAgLy8gZ2V0IGNvbnRleHRcbiAgY29uc3QgYnRuID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IGRpdiA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKGJ0biwgJ2hvbGUtbWFya2luZycpO1xuICBpZiAoIWRpdikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ2NoZWNrUHJvZHVjdGlvbiBjYWxsZWQgZnJvbSBlbC4gbm90IHdyYXBwZWQgaW4gZGl2LmhvbGUtbWFya2luZycpO1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBnZXQgaG9sZXMgdG8gZmluZFxuICBjb25zdCBob2xlcyA9IEpTT04ucGFyc2UoYXRvYihkaXYuZ2V0QXR0cmlidXRlKCdkYXRhLWhvbGVzJykgYXMgc3RyaW5nKSkgYXMgW251bWJlcixudW1iZXIsYm9vbGVhbl1bXTtcblxuICAvLyBnZXQgY3VycmVudCBzZWxlY3Rpb25cbiAgY29uc3QgdGV4dGFyZWEgPSBkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RleHRhcmVhJylbMF0gYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcbiAgY29uc3Qgc2VsU3RhcnQgPSB0ZXh0YXJlYS5zZWxlY3Rpb25TdGFydDtcbiAgY29uc3Qgc2VsRW5kID0gdGV4dGFyZWEuc2VsZWN0aW9uRW5kO1xuICBjb25zdCBzdGFydCA9IHNlbFN0YXJ0IDwgc2VsRW5kID8gc2VsU3RhcnQgOiBzZWxFbmQ7XG4gIGNvbnN0IGVuZCA9IHNlbFN0YXJ0IDwgc2VsRW5kID8gc2VsRW5kIDogc2VsU3RhcnQ7XG5cbiAgLy8gY2hlY2sgaWYgaG9sZSBpcyBmb3VuZFxuICBsZXQgZm91bmQgPSAtMTtcbiAgaG9sZXMubWFwKChoLGkpID0+IHtcbiAgICBpZiAoaFswXSA9PT0gc3RhcnQgJiYgaFsxXSA9PT0gZW5kKSB7XG4gICAgICBoWzJdID0gdHJ1ZTtcbiAgICAgIGZvdW5kID0gaTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChmb3VuZCA+PSAwKSB7XG4gICAgLy8gc2F2ZSBjaGFuZ2VkIHN0YXRlXG4gICAgZGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1ob2xlcycsIGJ0b2EoSlNPTi5zdHJpbmdpZnkoaG9sZXMpKSk7XG4gICAgLy8gbWFyayBob2xlIGFzIGNvcnJlY3RcbiAgICBuYXZpZ2F0ZURPTShbZGl2XSwgJy50ZXh0YXJlYS1jb250YWluZXIvLm1hcmtlci1jb250YWluZXIvLm1hcmtlcicsIHRydWUpXG4gICAgICAuc2xpY2Uoc3RhcnQsIGVuZClcbiAgICAgIC5tYXAobSA9PiBtLmNsYXNzTGlzdC5hZGQoJ2NvcnJlY3QnKSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gZ2l2ZSBmZWVkYmFjayBhYm91dCB3cm9uZyBzZWxlY3Rpb25cbiAgICBjb25zdCBtYXJrZXJzID0gbmF2aWdhdGVET00oW2Rpdl0sICcudGV4dGFyZWEtY29udGFpbmVyLy5tYXJrZXItY29udGFpbmVyLy5tYXJrZXInLCB0cnVlKVxuICAgICAgLnNsaWNlKHN0YXJ0LCBlbmQpO1xuXG4gICAgbWFya2Vycy5tYXAobSA9PiBtLmNsYXNzTGlzdC5hZGQoJ3dyb25nJykpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIG1hcmtlcnMubWFwKG0gPT4gbS5jbGFzc0xpc3QucmVtb3ZlKCd3cm9uZycpKTtcbiAgICB9LCAxMDApO1xuICB9XG4gIGlmKGhvbGVzLmV2ZXJ5KGggPT4gaFsyXSkpIHtcbiAgICAvLyBtb3ZlIG9uIHRvIG5leHQgcGhhc2UgPT0gZG9uZVxuICAgIGNvbnN0IHNwYW4gPSBnZXRQYXJlbnRUYWdSZWN1cnNpdmUoZGl2LCAnc3BhbicpO1xuICAgIGlmIChzcGFuKSB7XG4gICAgICBzcGFuLnNldEF0dHJpYnV0ZSgnZGF0YS1xdWl6LXN0YXRlJywgJ2RvbmUnKTtcbiAgICAgIC8vIGV4cGFuZCBmaXJzdCBjaGlsZFxuICAgICAgbmF2aWdhdGVET00oW3NwYW5dLCAnLi4vdWwvLmNoaWxkLTEnKS5tYXAoYyA9PlxuICAgICAgICBjLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzZWQnLCAnZmFsc2UnKSk7XG5cbiAgICAgIC8vIGFkanVzdCBjb25uZWN0b3JzIGZvciB3aWR0aCBjaGFuZ2VcbiAgICAgIGNvbnN0IHF1aXogPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShzcGFuLCAndHJlZScpO1xuICAgICAgaWYgKHF1aXopIGFkanVzdENvbm5lY3RvcnMocXVpeik7XG4gICAgfVxuICB9XG59XG4iLCAiXG4vLyBHZW5lcmF0ZWQgYnkgcGVnZ3kgdi4gMS4yLjAgKHRzLXBlZ2pzIHBsdWdpbiB2LiAxLjIuMiApXG4vL1xuLy8gaHR0cHM6Ly9wZWdneWpzLm9yZy8gICBodHRwczovL2dpdGh1Yi5jb20vbWV0YWRldnByby90cy1wZWdqc1xuXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlUG9zaXRpb24ge1xuICBvZmZzZXQ6IG51bWJlcjtcbiAgbGluZTogbnVtYmVyO1xuICBjb2x1bW46IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRmlsZVJhbmdlIHtcbiAgc3RhcnQ6IElGaWxlUG9zaXRpb247XG4gIGVuZDogSUZpbGVQb3NpdGlvbjtcbiAgc291cmNlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxpdGVyYWxFeHBlY3RhdGlvbiB7XG4gIHR5cGU6IFwibGl0ZXJhbFwiO1xuICB0ZXh0OiBzdHJpbmc7XG4gIGlnbm9yZUNhc2U6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNsYXNzUGFydHMgZXh0ZW5kcyBBcnJheTxzdHJpbmcgfCBJQ2xhc3NQYXJ0cz4ge31cblxuZXhwb3J0IGludGVyZmFjZSBJQ2xhc3NFeHBlY3RhdGlvbiB7XG4gIHR5cGU6IFwiY2xhc3NcIjtcbiAgcGFydHM6IElDbGFzc1BhcnRzO1xuICBpbnZlcnRlZDogYm9vbGVhbjtcbiAgaWdub3JlQ2FzZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQW55RXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImFueVwiO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElFbmRFeHBlY3RhdGlvbiB7XG4gIHR5cGU6IFwiZW5kXCI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU90aGVyRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcIm90aGVyXCI7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIEV4cGVjdGF0aW9uID0gSUxpdGVyYWxFeHBlY3RhdGlvbiB8IElDbGFzc0V4cGVjdGF0aW9uIHwgSUFueUV4cGVjdGF0aW9uIHwgSUVuZEV4cGVjdGF0aW9uIHwgSU90aGVyRXhwZWN0YXRpb247XG5cbmZ1bmN0aW9uIHBlZyRwYWRFbmQoc3RyOiBzdHJpbmcsIHRhcmdldExlbmd0aDogbnVtYmVyLCBwYWRTdHJpbmc6IHN0cmluZykge1xuICBwYWRTdHJpbmcgPSBwYWRTdHJpbmcgfHwgJyAnO1xuICBpZiAoc3RyLmxlbmd0aCA+IHRhcmdldExlbmd0aCkge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgdGFyZ2V0TGVuZ3RoIC09IHN0ci5sZW5ndGg7XG4gIHBhZFN0cmluZyArPSBwYWRTdHJpbmcucmVwZWF0KHRhcmdldExlbmd0aCk7XG4gIHJldHVybiBzdHIgKyBwYWRTdHJpbmcuc2xpY2UoMCwgdGFyZ2V0TGVuZ3RoKTtcbn1cblxuZXhwb3J0IGNsYXNzIFN5bnRheEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBwdWJsaWMgc3RhdGljIGJ1aWxkTWVzc2FnZShleHBlY3RlZDogRXhwZWN0YXRpb25bXSwgZm91bmQ6IHN0cmluZyB8IG51bGwpIHtcbiAgICBmdW5jdGlvbiBoZXgoY2g6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXRlcmFsRXNjYXBlKHM6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gc1xuICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCBcIlxcXFxcXFxcXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cIi9nLCAgXCJcXFxcXFxcIlwiKVxuICAgICAgICAucmVwbGFjZSgvXFwwL2csIFwiXFxcXDBcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCBcIlxcXFx0XCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKVxuICAgICAgICAucmVwbGFjZSgvXFxyL2csIFwiXFxcXHJcIilcbiAgICAgICAgLnJlcGxhY2UoL1tcXHgwMC1cXHgwRl0vZywgICAgICAgICAgICAoY2gpID0+IFwiXFxcXHgwXCIgKyBoZXgoY2gpIClcbiAgICAgICAgLnJlcGxhY2UoL1tcXHgxMC1cXHgxRlxceDdGLVxceDlGXS9nLCAoY2gpID0+IFwiXFxcXHhcIiAgKyBoZXgoY2gpICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xhc3NFc2NhcGUoczogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBzXG4gICAgICAgIC5yZXBsYWNlKC9cXFxcL2csIFwiXFxcXFxcXFxcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcXS9nLCBcIlxcXFxdXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXF4vZywgXCJcXFxcXlwiKVxuICAgICAgICAucmVwbGFjZSgvLS9nLCAgXCJcXFxcLVwiKVxuICAgICAgICAucmVwbGFjZSgvXFwwL2csIFwiXFxcXDBcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCBcIlxcXFx0XCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKVxuICAgICAgICAucmVwbGFjZSgvXFxyL2csIFwiXFxcXHJcIilcbiAgICAgICAgLnJlcGxhY2UoL1tcXHgwMC1cXHgwRl0vZywgICAgICAgICAgICAoY2gpID0+IFwiXFxcXHgwXCIgKyBoZXgoY2gpIClcbiAgICAgICAgLnJlcGxhY2UoL1tcXHgxMC1cXHgxRlxceDdGLVxceDlGXS9nLCAoY2gpID0+IFwiXFxcXHhcIiAgKyBoZXgoY2gpICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVzY3JpYmVFeHBlY3RhdGlvbihleHBlY3RhdGlvbjogRXhwZWN0YXRpb24pIHtcbiAgICAgIHN3aXRjaCAoZXhwZWN0YXRpb24udHlwZSkge1xuICAgICAgICBjYXNlIFwibGl0ZXJhbFwiOlxuICAgICAgICAgIHJldHVybiBcIlxcXCJcIiArIGxpdGVyYWxFc2NhcGUoZXhwZWN0YXRpb24udGV4dCkgKyBcIlxcXCJcIjtcbiAgICAgICAgY2FzZSBcImNsYXNzXCI6XG4gICAgICAgICAgY29uc3QgZXNjYXBlZFBhcnRzID0gZXhwZWN0YXRpb24ucGFydHMubWFwKChwYXJ0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXJ0KVxuICAgICAgICAgICAgICA/IGNsYXNzRXNjYXBlKHBhcnRbMF0gYXMgc3RyaW5nKSArIFwiLVwiICsgY2xhc3NFc2NhcGUocGFydFsxXSBhcyBzdHJpbmcpXG4gICAgICAgICAgICAgIDogY2xhc3NFc2NhcGUocGFydCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gXCJbXCIgKyAoZXhwZWN0YXRpb24uaW52ZXJ0ZWQgPyBcIl5cIiA6IFwiXCIpICsgZXNjYXBlZFBhcnRzICsgXCJdXCI7XG4gICAgICAgIGNhc2UgXCJhbnlcIjpcbiAgICAgICAgICByZXR1cm4gXCJhbnkgY2hhcmFjdGVyXCI7XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gXCJlbmQgb2YgaW5wdXRcIjtcbiAgICAgICAgY2FzZSBcIm90aGVyXCI6XG4gICAgICAgICAgcmV0dXJuIGV4cGVjdGF0aW9uLmRlc2NyaXB0aW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRXhwZWN0ZWQoZXhwZWN0ZWQxOiBFeHBlY3RhdGlvbltdKSB7XG4gICAgICBjb25zdCBkZXNjcmlwdGlvbnMgPSBleHBlY3RlZDEubWFwKGRlc2NyaWJlRXhwZWN0YXRpb24pO1xuICAgICAgbGV0IGk6IG51bWJlcjtcbiAgICAgIGxldCBqOiBudW1iZXI7XG5cbiAgICAgIGRlc2NyaXB0aW9ucy5zb3J0KCk7XG5cbiAgICAgIGlmIChkZXNjcmlwdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGkgPSAxLCBqID0gMTsgaSA8IGRlc2NyaXB0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChkZXNjcmlwdGlvbnNbaSAtIDFdICE9PSBkZXNjcmlwdGlvbnNbaV0pIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uc1tqXSA9IGRlc2NyaXB0aW9uc1tpXTtcbiAgICAgICAgICAgIGorKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVzY3JpcHRpb25zLmxlbmd0aCA9IGo7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoZGVzY3JpcHRpb25zLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uc1swXTtcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uc1swXSArIFwiIG9yIFwiICsgZGVzY3JpcHRpb25zWzFdO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9ucy5zbGljZSgwLCAtMSkuam9pbihcIiwgXCIpXG4gICAgICAgICAgICArIFwiLCBvciBcIlxuICAgICAgICAgICAgKyBkZXNjcmlwdGlvbnNbZGVzY3JpcHRpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRm91bmQoZm91bmQxOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgICByZXR1cm4gZm91bmQxID8gXCJcXFwiXCIgKyBsaXRlcmFsRXNjYXBlKGZvdW5kMSkgKyBcIlxcXCJcIiA6IFwiZW5kIG9mIGlucHV0XCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiRXhwZWN0ZWQgXCIgKyBkZXNjcmliZUV4cGVjdGVkKGV4cGVjdGVkKSArIFwiIGJ1dCBcIiArIGRlc2NyaWJlRm91bmQoZm91bmQpICsgXCIgZm91bmQuXCI7XG4gIH1cblxuICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nO1xuICBwdWJsaWMgZXhwZWN0ZWQ6IEV4cGVjdGF0aW9uW107XG4gIHB1YmxpYyBmb3VuZDogc3RyaW5nIHwgbnVsbDtcbiAgcHVibGljIGxvY2F0aW9uOiBJRmlsZVJhbmdlO1xuICBwdWJsaWMgbmFtZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgZXhwZWN0ZWQ6IEV4cGVjdGF0aW9uW10sIGZvdW5kOiBzdHJpbmcgfCBudWxsLCBsb2NhdGlvbjogSUZpbGVSYW5nZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLmV4cGVjdGVkID0gZXhwZWN0ZWQ7XG4gICAgdGhpcy5mb3VuZCA9IGZvdW5kO1xuICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICB0aGlzLm5hbWUgPSBcIlN5bnRheEVycm9yXCI7XG5cbiAgICBpZiAodHlwZW9mIChPYmplY3QgYXMgYW55KS5zZXRQcm90b3R5cGVPZiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAoT2JqZWN0IGFzIGFueSkuc2V0UHJvdG90eXBlT2YodGhpcywgU3ludGF4RXJyb3IucHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgKHRoaXMgYXMgYW55KS5fX3Byb3RvX18gPSBTeW50YXhFcnJvci5wcm90b3R5cGU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgKEVycm9yIGFzIGFueSkuY2FwdHVyZVN0YWNrVHJhY2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgKEVycm9yIGFzIGFueSkuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgU3ludGF4RXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIGZvcm1hdChzb3VyY2VzOiB7IHNvdXJjZTogc3RyaW5nOyB0ZXh0OiBzdHJpbmcgfVtdKTogc3RyaW5nIHtcbiAgICBsZXQgc3RyID0gJ0Vycm9yOiAnICsgdGhpcy5tZXNzYWdlO1xuICAgIGlmICh0aGlzLmxvY2F0aW9uKSB7XG4gICAgICBsZXQgc3JjOiBzdHJpbmdbXSB8IG51bGwgPSBudWxsO1xuICAgICAgbGV0IGs7XG4gICAgICBmb3IgKGsgPSAwOyBrIDwgc291cmNlcy5sZW5ndGg7IGsrKykge1xuICAgICAgICBpZiAoc291cmNlc1trXS5zb3VyY2UgPT09IHRoaXMubG9jYXRpb24uc291cmNlKSB7XG4gICAgICAgICAgc3JjID0gc291cmNlc1trXS50ZXh0LnNwbGl0KC9cXHJcXG58XFxufFxcci9nKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IHMgPSB0aGlzLmxvY2F0aW9uLnN0YXJ0O1xuICAgICAgbGV0IGxvYyA9IHRoaXMubG9jYXRpb24uc291cmNlICsgJzonICsgcy5saW5lICsgJzonICsgcy5jb2x1bW47XG4gICAgICBpZiAoc3JjKSB7XG4gICAgICAgIGxldCBlID0gdGhpcy5sb2NhdGlvbi5lbmQ7XG4gICAgICAgIGxldCBmaWxsZXIgPSBwZWckcGFkRW5kKCcnLCBzLmxpbmUudG9TdHJpbmcoKS5sZW5ndGgsICcgJyk7XG4gICAgICAgIGxldCBsaW5lID0gc3JjW3MubGluZSAtIDFdO1xuICAgICAgICBsZXQgbGFzdCA9IHMubGluZSA9PT0gZS5saW5lID8gZS5jb2x1bW4gOiBsaW5lLmxlbmd0aCArIDE7XG4gICAgICAgIHN0ciArPSAnXFxuIC0tPiAnICsgbG9jICsgJ1xcbicgKyBmaWxsZXIgKyAnIHxcXG4nICsgcy5saW5lICsgJyB8ICcgKyBsaW5lICsgJ1xcbicgKyBmaWxsZXIgKyAnIHwgJyArXG4gICAgICAgICAgcGVnJHBhZEVuZCgnJywgcy5jb2x1bW4gLSAxLCAnICcpICtcbiAgICAgICAgICBwZWckcGFkRW5kKCcnLCBsYXN0IC0gcy5jb2x1bW4sICdeJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgKz0gJ1xcbiBhdCAnICsgbG9jO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBlZyRwYXJzZShpbnB1dDogc3RyaW5nLCBvcHRpb25zPzogSVBhcnNlT3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucyA6IHt9O1xuXG4gIGNvbnN0IHBlZyRGQUlMRUQ6IFJlYWRvbmx5PGFueT4gPSB7fTtcbiAgY29uc3QgcGVnJHNvdXJjZSA9IG9wdGlvbnMuZ3JhbW1hclNvdXJjZTtcblxuICBjb25zdCBwZWckc3RhcnRSdWxlRnVuY3Rpb25zOiB7W2lkOiBzdHJpbmddOiBhbnl9ID0geyBQcm9ncmFtOiBwZWckcGFyc2VQcm9ncmFtIH07XG4gIGxldCBwZWckc3RhcnRSdWxlRnVuY3Rpb246ICgpID0+IGFueSA9IHBlZyRwYXJzZVByb2dyYW07XG5cbiAgY29uc3QgcGVnJGMwID0gZnVuY3Rpb24oYWxsOiBhbnkpOiBhbnkgeyByZXR1cm4gYWxsIH07XG4gIGNvbnN0IHBlZyRjMSA9IC9eW1xcdCBcXG4gXFxyXS87XG4gIGNvbnN0IHBlZyRjMiA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIlxcdFwiLCBcIiBcIiwgXCJcXG5cIiwgXCIgXCIsIFwiXFxyXCJdLCBmYWxzZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzMgPSBmdW5jdGlvbihkZWY6IGFueSk6IGFueSB7IHJldHVybiBkZWYgfTtcbiAgY29uc3QgcGVnJGM0ID0gXCIoZGVmaW5lLXN0cnVjdFwiO1xuICBjb25zdCBwZWckYzUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKGRlZmluZS1zdHJ1Y3RcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzYgPSBcIihcIjtcbiAgY29uc3QgcGVnJGM3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIihcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzggPSBcIilcIjtcbiAgY29uc3QgcGVnJGM5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIilcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzEwID0gZnVuY3Rpb24oYmluZGluZzogYW55LCBwcm9wZXJ0aWVzOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBcInR5cGVcIjogXCJTdHJ1Y3QgRGVmaW5pdGlvblwiLFxuICAgIFx0XCJiaW5kaW5nXCI6IGJpbmRpbmcsXG4gICAgICBcInByb3BlcnRpZXNcIjogcHJvcGVydGllc1xuICAgICAgfVxuICAgIH07XG4gIGNvbnN0IHBlZyRjMTEgPSBcIihkZWZpbmVcIjtcbiAgY29uc3QgcGVnJGMxMiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIoZGVmaW5lXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMyA9IGZ1bmN0aW9uKG5hbWU6IGFueSwgYXJnczogYW55LCBib2R5OiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBcInR5cGVcIjogXCJGdW5jdGlvbiBEZWZpbml0aW9uXCIsXG4gICAgXHRcIm5hbWVcIjogbmFtZSxcbiAgICAgIFwiYXJnc1wiOiBhcmdzLFxuICAgICAgXCJib2R5XCI6IGJvZHlcbiAgICAgIH1cbiAgICB9O1xuICBjb25zdCBwZWckYzE0ID0gZnVuY3Rpb24obmFtZTogYW55LCB2YWx1ZTogYW55KTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJ0eXBlXCI6IFwiQ29uc3RhbnQgRGVmaW5pdGlvblwiLFxuICAgIFx0XCJuYW1lXCI6IG5hbWUsXG4gICAgICBcInZhbHVlXCI6IHZhbHVlXG4gICAgICB9XG4gICAgfTtcbiAgY29uc3QgcGVnJGMxNSA9IGZ1bmN0aW9uKGV4cHI6IGFueSk6IGFueSB7IHJldHVybiBleHByIH07XG4gIGNvbnN0IHBlZyRjMTYgPSBcIihjb25kXCI7XG4gIGNvbnN0IHBlZyRjMTcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKGNvbmRcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzE4ID0gZnVuY3Rpb24ob3B0aW9uczogYW55KTogYW55IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFwidHlwZVwiOiBcIkNvbmQtRXhwcmVzc2lvblwiLFxuICAgICAgICBcIm9wdGlvbnNcIjogb3B0aW9uc1xuICAgICAgfVxuICAgIH07XG4gIGNvbnN0IHBlZyRjMTkgPSBcIltcIjtcbiAgY29uc3QgcGVnJGMyMCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJbXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyMSA9IFwiXVwiO1xuICBjb25zdCBwZWckYzIyID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIl1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIzID0gZnVuY3Rpb24oY29uZGl0aW9uOiBhbnksIHJlc3VsdDogYW55KTogYW55IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFwidHlwZVwiOiBcIkNvbmQtT3B0aW9uXCIsXG4gICAgICAgIFwiY29uZGl0aW9uXCI6IGNvbmRpdGlvbixcbiAgICAgICAgXCJyZXN1bHRcIjpyZXN1bHRcbiAgICAgIH1cbiAgICB9O1xuICBjb25zdCBwZWckYzI0ID0gZnVuY3Rpb24obmFtZTogYW55LCBhcmdzOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBcInR5cGVcIjogXCJGdW5jdGlvbiBDYWxsXCIsXG4gICAgICBcIm5hbWVcIjogbmFtZSxcbiAgICAgIFwiYXJnc1wiOiBhcmdzXG4gICAgICB9XG4gICAgfTtcbiAgY29uc3QgcGVnJGMyNSA9IFwiZGVmaW5lXCI7XG4gIGNvbnN0IHBlZyRjMjYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiZGVmaW5lXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyNyA9IC9eW15cIiwnYCgpW1xcXXt9fCNcXG5cXHRcXHIwLTkgXS87XG4gIGNvbnN0IHBlZyRjMjggPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCJcXFwiXCIsIFwiLFwiLCBcIidcIiwgXCJgXCIsIFwiKFwiLCBcIilcIiwgXCJbXCIsIFwiXVwiLCBcIntcIiwgXCJ9XCIsIFwifFwiLCBcIiNcIiwgXCJcXG5cIiwgXCJcXHRcIiwgXCJcXHJcIiwgW1wiMFwiLCBcIjlcIl0sIFwiIFwiXSwgdHJ1ZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI5ID0gZnVuY3Rpb24oc3ltYm9sOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBcInR5cGVcIjogXCJTeW1ib2xcIixcbiAgICBcdFwic3ltYm9sXCI6c3ltYm9sLmpvaW4oXCJcIilcbiAgICAgIH1cbiAgICB9O1xuICBjb25zdCBwZWckYzMwID0gZnVuY3Rpb24odmFsOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBcInR5cGVcIjogXCJMaXRlcmFsIFZhbHVlXCIsXG4gICAgICBcInZhbHVlXCI6IHZhbFxuICAgICAgfVxuICAgIH07XG4gIGNvbnN0IHBlZyRjMzEgPSAvXlswLTldLztcbiAgY29uc3QgcGVnJGMzMiA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCIwXCIsIFwiOVwiXV0sIGZhbHNlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzMgPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiBwYXJzZUludCh0ZXh0KCksIDEwKX07XG4gIGNvbnN0IHBlZyRjMzQgPSBcIiN0cnVlXCI7XG4gIGNvbnN0IHBlZyRjMzUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiI3RydWVcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM2ID0gXCIjZmFsc2VcIjtcbiAgY29uc3QgcGVnJGMzNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIjZmFsc2VcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM4ID0gXCIjdFwiO1xuICBjb25zdCBwZWckYzM5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIiN0XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MCA9IFwiI2ZcIjtcbiAgY29uc3QgcGVnJGM0MSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIjZlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDIgPSBmdW5jdGlvbihib29sOiBhbnkpOiBhbnkgeyByZXR1cm4gKGJvb2wgPT09IFwiI3RydWVcIiB8fCBib29sID09PSBcIiN0XCIpIH07XG4gIGNvbnN0IHBlZyRjNDMgPSBcIicoKVwiO1xuICBjb25zdCBwZWckYzQ0ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIicoKVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDUgPSBmdW5jdGlvbigpOiBhbnkgeyByZXR1cm4gXCInKClcIiB9O1xuICBjb25zdCBwZWckYzQ2ID0gXCJcXFwiXCI7XG4gIGNvbnN0IHBlZyRjNDcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiXFxcIlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDggPSAvXlteXCJdLztcbiAgY29uc3QgcGVnJGM0OSA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIlxcXCJcIl0sIHRydWUsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM1MCA9IGZ1bmN0aW9uKHN0cjogYW55KTogYW55IHsgcmV0dXJuIHN0ci5qb2luKFwiXCIpIH07XG4gIGNvbnN0IHBlZyRjNTEgPSBwZWckb3RoZXJFeHBlY3RhdGlvbihcIndoaXRlc3BhY2VcIik7XG4gIGNvbnN0IHBlZyRjNTIgPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiB1bmRlZmluZWR9O1xuXG4gIGxldCBwZWckY3VyclBvcyA9IDA7XG4gIGxldCBwZWckc2F2ZWRQb3MgPSAwO1xuICBjb25zdCBwZWckcG9zRGV0YWlsc0NhY2hlID0gW3sgbGluZTogMSwgY29sdW1uOiAxIH1dO1xuICBsZXQgcGVnJG1heEZhaWxQb3MgPSAwO1xuICBsZXQgcGVnJG1heEZhaWxFeHBlY3RlZDogRXhwZWN0YXRpb25bXSA9IFtdO1xuICBsZXQgcGVnJHNpbGVudEZhaWxzID0gMDtcblxuICBsZXQgcGVnJHJlc3VsdDtcblxuICBpZiAob3B0aW9ucy5zdGFydFJ1bGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICghKG9wdGlvbnMuc3RhcnRSdWxlIGluIHBlZyRzdGFydFJ1bGVGdW5jdGlvbnMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBzdGFydCBwYXJzaW5nIGZyb20gcnVsZSBcXFwiXCIgKyBvcHRpb25zLnN0YXJ0UnVsZSArIFwiXFxcIi5cIik7XG4gICAgfVxuXG4gICAgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uID0gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uc1tvcHRpb25zLnN0YXJ0UnVsZV07XG4gIH1cblxuICBmdW5jdGlvbiB0ZXh0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGlucHV0LnN1YnN0cmluZyhwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvY2F0aW9uKCk6IElGaWxlUmFuZ2Uge1xuICAgIHJldHVybiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0ZWQoZGVzY3JpcHRpb246IHN0cmluZywgbG9jYXRpb24xPzogSUZpbGVSYW5nZSkge1xuICAgIGxvY2F0aW9uMSA9IGxvY2F0aW9uMSAhPT0gdW5kZWZpbmVkXG4gICAgICA/IGxvY2F0aW9uMVxuICAgICAgOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuXG4gICAgdGhyb3cgcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKFxuICAgICAgW3BlZyRvdGhlckV4cGVjdGF0aW9uKGRlc2NyaXB0aW9uKV0sXG4gICAgICBpbnB1dC5zdWJzdHJpbmcocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyksXG4gICAgICBsb2NhdGlvbjFcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZTogc3RyaW5nLCBsb2NhdGlvbjE/OiBJRmlsZVJhbmdlKSB7XG4gICAgbG9jYXRpb24xID0gbG9jYXRpb24xICE9PSB1bmRlZmluZWRcbiAgICAgID8gbG9jYXRpb24xXG4gICAgICA6IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG5cbiAgICB0aHJvdyBwZWckYnVpbGRTaW1wbGVFcnJvcihtZXNzYWdlLCBsb2NhdGlvbjEpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbih0ZXh0MTogc3RyaW5nLCBpZ25vcmVDYXNlOiBib29sZWFuKTogSUxpdGVyYWxFeHBlY3RhdGlvbiB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJsaXRlcmFsXCIsIHRleHQ6IHRleHQxLCBpZ25vcmVDYXNlOiBpZ25vcmVDYXNlIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckY2xhc3NFeHBlY3RhdGlvbihwYXJ0czogSUNsYXNzUGFydHMsIGludmVydGVkOiBib29sZWFuLCBpZ25vcmVDYXNlOiBib29sZWFuKTogSUNsYXNzRXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwiY2xhc3NcIiwgcGFydHM6IHBhcnRzLCBpbnZlcnRlZDogaW52ZXJ0ZWQsIGlnbm9yZUNhc2U6IGlnbm9yZUNhc2UgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRhbnlFeHBlY3RhdGlvbigpOiBJQW55RXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwiYW55XCIgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRlbmRFeHBlY3RhdGlvbigpOiBJRW5kRXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwiZW5kXCIgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRvdGhlckV4cGVjdGF0aW9uKGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBJT3RoZXJFeHBlY3RhdGlvbiB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJvdGhlclwiLCBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRjb21wdXRlUG9zRGV0YWlscyhwb3M6IG51bWJlcikge1xuICAgIGxldCBkZXRhaWxzID0gcGVnJHBvc0RldGFpbHNDYWNoZVtwb3NdO1xuICAgIGxldCBwO1xuXG4gICAgaWYgKGRldGFpbHMpIHtcbiAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgIH0gZWxzZSB7XG4gICAgICBwID0gcG9zIC0gMTtcbiAgICAgIHdoaWxlICghcGVnJHBvc0RldGFpbHNDYWNoZVtwXSkge1xuICAgICAgICBwLS07XG4gICAgICB9XG5cbiAgICAgIGRldGFpbHMgPSBwZWckcG9zRGV0YWlsc0NhY2hlW3BdO1xuICAgICAgZGV0YWlscyA9IHtcbiAgICAgICAgbGluZTogZGV0YWlscy5saW5lLFxuICAgICAgICBjb2x1bW46IGRldGFpbHMuY29sdW1uXG4gICAgICB9O1xuXG4gICAgICB3aGlsZSAocCA8IHBvcykge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwKSA9PT0gMTApIHtcbiAgICAgICAgICBkZXRhaWxzLmxpbmUrKztcbiAgICAgICAgICBkZXRhaWxzLmNvbHVtbiA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlscy5jb2x1bW4rKztcbiAgICAgICAgfVxuXG4gICAgICAgIHArKztcbiAgICAgIH1cblxuICAgICAgcGVnJHBvc0RldGFpbHNDYWNoZVtwb3NdID0gZGV0YWlscztcblxuICAgICAgcmV0dXJuIGRldGFpbHM7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGNvbXB1dGVMb2NhdGlvbihzdGFydFBvczogbnVtYmVyLCBlbmRQb3M6IG51bWJlcik6IElGaWxlUmFuZ2Uge1xuICAgIGNvbnN0IHN0YXJ0UG9zRGV0YWlscyA9IHBlZyRjb21wdXRlUG9zRGV0YWlscyhzdGFydFBvcyk7XG4gICAgY29uc3QgZW5kUG9zRGV0YWlscyA9IHBlZyRjb21wdXRlUG9zRGV0YWlscyhlbmRQb3MpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNvdXJjZTogcGVnJHNvdXJjZSxcbiAgICAgIHN0YXJ0OiB7XG4gICAgICAgIG9mZnNldDogc3RhcnRQb3MsXG4gICAgICAgIGxpbmU6IHN0YXJ0UG9zRGV0YWlscy5saW5lLFxuICAgICAgICBjb2x1bW46IHN0YXJ0UG9zRGV0YWlscy5jb2x1bW5cbiAgICAgIH0sXG4gICAgICBlbmQ6IHtcbiAgICAgICAgb2Zmc2V0OiBlbmRQb3MsXG4gICAgICAgIGxpbmU6IGVuZFBvc0RldGFpbHMubGluZSxcbiAgICAgICAgY29sdW1uOiBlbmRQb3NEZXRhaWxzLmNvbHVtblxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckZmFpbChleHBlY3RlZDE6IEV4cGVjdGF0aW9uKSB7XG4gICAgaWYgKHBlZyRjdXJyUG9zIDwgcGVnJG1heEZhaWxQb3MpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAocGVnJGN1cnJQb3MgPiBwZWckbWF4RmFpbFBvcykge1xuICAgICAgcGVnJG1heEZhaWxQb3MgPSBwZWckY3VyclBvcztcbiAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQgPSBbXTtcbiAgICB9XG5cbiAgICBwZWckbWF4RmFpbEV4cGVjdGVkLnB1c2goZXhwZWN0ZWQxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRidWlsZFNpbXBsZUVycm9yKG1lc3NhZ2U6IHN0cmluZywgbG9jYXRpb24xOiBJRmlsZVJhbmdlKSB7XG4gICAgcmV0dXJuIG5ldyBTeW50YXhFcnJvcihtZXNzYWdlLCBbXSwgXCJcIiwgbG9jYXRpb24xKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihleHBlY3RlZDE6IEV4cGVjdGF0aW9uW10sIGZvdW5kOiBzdHJpbmcgfCBudWxsLCBsb2NhdGlvbjE6IElGaWxlUmFuZ2UpIHtcbiAgICByZXR1cm4gbmV3IFN5bnRheEVycm9yKFxuICAgICAgU3ludGF4RXJyb3IuYnVpbGRNZXNzYWdlKGV4cGVjdGVkMSwgZm91bmQpLFxuICAgICAgZXhwZWN0ZWQxLFxuICAgICAgZm91bmQsXG4gICAgICBsb2NhdGlvbjFcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlUHJvZ3JhbSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IFtdO1xuICAgIHMyID0gcGVnJHBhcnNlRGVmT3JFeHByKCk7XG4gICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgd2hpbGUgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMS5wdXNoKHMyKTtcbiAgICAgICAgczIgPSBwZWckcGFyc2VEZWZPckV4cHIoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGMwKHMxKTtcbiAgICB9XG4gICAgczAgPSBzMTtcblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZURlZk9yRXhwcigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VEZWZpbml0aW9uKCk7XG4gICAgaWYgKHMxIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBpZiAocGVnJGMxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMik7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgd2hpbGUgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICAgIGlmIChwZWckYzEudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIpOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMChzMSk7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlRGVmaW5pdGlvbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZVN0cnVjdERlZigpO1xuICAgICAgaWYgKHMyIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZUZ1bkRlZigpO1xuICAgICAgICBpZiAoczIgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBwZWckcGFyc2VDb25zdERlZigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMyhzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlU3RydWN0RGVmKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczg7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDE0KSA9PT0gcGVnJGM0KSB7XG4gICAgICBzMSA9IHBlZyRjNDtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDE0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNSk7IH1cbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICAgICAgczQgPSBwZWckYzY7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBbXTtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgICAgICAgaWYgKHM2IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICB3aGlsZSAoczYgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczUucHVzaChzNik7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJGM4O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgICBpZiAoczcgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJGM4O1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOSk7IH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChzOCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMxMChzMiwgczUpO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUZ1bkRlZigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNykgPT09IHBlZyRjMTEpIHtcbiAgICAgIHMxID0gcGVnJGMxMTtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMik7IH1cbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VfKCk7XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICBzMyA9IHBlZyRjNjtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICBpZiAoczUgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gW107XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgICAgICAgICBpZiAoczcgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHM3IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczYucHVzaChzNyk7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZU5hbWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRjODtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczcgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZUV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzOCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJGM4O1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5KTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzOSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTMoczQsIHM2LCBzOCk7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUNvbnN0RGVmKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNDtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNykgPT09IHBlZyRjMTEpIHtcbiAgICAgIHMxID0gcGVnJGMxMTtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMik7IH1cbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgczQgPSBwZWckYzg7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMTQoczIsIHMzKTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlRXhwcmVzc2lvbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZUNvbmQoKTtcbiAgICAgIGlmIChzMiBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2VDYWxsKCk7XG4gICAgICAgIGlmIChzMiBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRwYXJzZU5hbWUoKTtcbiAgICAgICAgICBpZiAoczIgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMiA9IHBlZyRwYXJzZVZhbHVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMTUoczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUNvbmQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA1KSA9PT0gcGVnJGMxNikge1xuICAgICAgczEgPSBwZWckYzE2O1xuICAgICAgcGVnJGN1cnJQb3MgKz0gNTtcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE3KTsgfVxuICAgIH1cbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckcGFyc2VPcHRpb24oKTtcbiAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgd2hpbGUgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlT3B0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRjODtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMxOChzMik7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZU9wdGlvbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTEpIHtcbiAgICAgICAgczIgPSBwZWckYzE5O1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjApOyB9XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICBpZiAoczUgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgICBpZiAoczYgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5Mykge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzIxO1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIyKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczcgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyMyhzNCwgczYpO1xuICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VDYWxsKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNDtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgczEgPSBwZWckYzY7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNyk7IH1cbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gW107XG4gICAgICAgIHM0ID0gcGVnJHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICB3aGlsZSAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMucHVzaChzNCk7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJGM4O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzkpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzI0KHMyLCBzMyk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZU5hbWUoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMyNSkge1xuICAgICAgICBzMyA9IHBlZyRjMjU7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNik7IH1cbiAgICAgIH1cbiAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgaWYgKHMzIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBbXTtcbiAgICAgICAgaWYgKHBlZyRjMjcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgIHM0ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjgpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHdoaWxlIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzLnB1c2goczQpO1xuICAgICAgICAgICAgaWYgKHBlZyRjMjcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgICBzNCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyOCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjMjkoczMpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VWYWx1ZSgpOiBhbnkge1xuICAgIGxldCBzMCwgczE7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlTnVtYmVyKCk7XG4gICAgaWYgKHMxIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckcGFyc2VCb29sZWFuKCk7XG4gICAgICBpZiAoczEgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMxID0gcGVnJHBhcnNlRW1wdHkoKTtcbiAgICAgICAgaWYgKHMxIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMxID0gcGVnJHBhcnNlU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjMzAoczEpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlTnVtYmVyKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgaWYgKHBlZyRjMzEudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMik7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgd2hpbGUgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICAgIGlmIChwZWckYzMxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMik7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMzMygpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUJvb2xlYW4oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjMzQpIHtcbiAgICAgICAgczIgPSBwZWckYzM0O1xuICAgICAgICBwZWckY3VyclBvcyArPSA1O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzUpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzM2KSB7XG4gICAgICAgICAgczIgPSBwZWckYzM2O1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczIgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzgpIHtcbiAgICAgICAgICAgIHMyID0gcGVnJGMzODtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMyIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNDApIHtcbiAgICAgICAgICAgICAgczIgPSBwZWckYzQwO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDEpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNDIoczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUVtcHR5KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczI7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDMpID09PSBwZWckYzQzKSB7XG4gICAgICAgIHMyID0gcGVnJGM0MztcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ0KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzQ1KCk7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlU3RyaW5nKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNDtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzNCkge1xuICAgICAgICBzMiA9IHBlZyRjNDY7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0Nyk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBbXTtcbiAgICAgICAgaWYgKHBlZyRjNDgudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgIHM0ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDkpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHdoaWxlIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzLnB1c2goczQpO1xuICAgICAgICAgICAgaWYgKHBlZyRjNDgudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgICBzNCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0OSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM0KSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRjNDY7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzUwKHMzKTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlXygpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyO1xuXG4gICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IFtdO1xuICAgIGlmIChwZWckYzEudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIpOyB9XG4gICAgfVxuICAgIHdoaWxlIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxLnB1c2goczIpO1xuICAgICAgaWYgKHBlZyRjMS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIpOyB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzUyKCk7XG4gICAgfVxuICAgIHMwID0gczE7XG4gICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgaWYgKHMwIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzUxKTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIHBlZyRyZXN1bHQgPSBwZWckc3RhcnRSdWxlRnVuY3Rpb24oKTtcblxuICBpZiAocGVnJHJlc3VsdCAhPT0gcGVnJEZBSUxFRCAmJiBwZWckY3VyclBvcyA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHBlZyRyZXN1bHQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgIHBlZyRmYWlsKHBlZyRlbmRFeHBlY3RhdGlvbigpKTtcbiAgICB9XG5cbiAgICB0aHJvdyBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IoXG4gICAgICBwZWckbWF4RmFpbEV4cGVjdGVkLFxuICAgICAgcGVnJG1heEZhaWxQb3MgPCBpbnB1dC5sZW5ndGggPyBpbnB1dC5jaGFyQXQocGVnJG1heEZhaWxQb3MpIDogbnVsbCxcbiAgICAgIHBlZyRtYXhGYWlsUG9zIDwgaW5wdXQubGVuZ3RoXG4gICAgICAgID8gcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckbWF4RmFpbFBvcywgcGVnJG1heEZhaWxQb3MgKyAxKVxuICAgICAgICA6IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJG1heEZhaWxQb3MsIHBlZyRtYXhGYWlsUG9zKVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUGFyc2VPcHRpb25zIHtcbiAgZmlsZW5hbWU/OiBzdHJpbmc7XG4gIHN0YXJ0UnVsZT86IHN0cmluZztcbiAgdHJhY2VyPzogYW55O1xuICBba2V5OiBzdHJpbmddOiBhbnk7XG59XG5leHBvcnQgdHlwZSBQYXJzZUZ1bmN0aW9uID0gKGlucHV0OiBzdHJpbmcsIG9wdGlvbnM/OiBJUGFyc2VPcHRpb25zKSA9PiBhbnk7XG5leHBvcnQgY29uc3QgcGFyc2U6IFBhcnNlRnVuY3Rpb24gPSBwZWckcGFyc2U7XG4iLCAiLy8gIyMjIyMjIyMjIExBWU9VVCBBU1QgQVMgVFJFRSBESUFHUkFNICMjIyMjIyMjXG5pbXBvcnQgKiBhcyBCU0xfQVNUIGZyb20gXCIuL0JTTF9BU1RcIjtcbmltcG9ydCAqIGFzIEJTTF9QcmludCBmcm9tIFwiLi9CU0xfUHJpbnRcIjtcbmltcG9ydCB7bm9kZSwgcHJvZHVjdGlvblRyZWV9IGZyb20gXCIuL1Byb2R1Y3Rpb25fVHJlZVwiO1xuaW1wb3J0IHtwYXJzZX0gZnJvbSBcIi4vQlNMX1BhcnNlclwiO1xuaW1wb3J0IHtkZWZhdWx0IGFzIGVycm9yX2Nzc30gZnJvbSAnLi9yZXNzb3VyY2VzL2Vycm9yLmNzcyc7XG5cbi8vICMjIyBtYWluIGFwaVxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NCc2xUcmVlcygpIHtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYnNsdHJlZScpKS5tYXAoZWwgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm9ncmFtIDogQlNMX0FTVC5wcm9ncmFtID0gcGFyc2UoQlNMX1ByaW50LmRpcnRpZnkoZWwuaW5uZXJIVE1MKSk7XG4gICAgICBjb25zdCByb290ID0gcHJvZ3JhbVRvTm9kZShwcm9ncmFtKTtcbiAgICAgIGNvbnN0IHF1aXogPSBlbC5nZXRBdHRyaWJ1dGUoJ3F1aXonKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgY29uc3QgbGFuZyA9IChlbC5nZXRBdHRyaWJ1dGUoJ2xhbmcnKSA/IGVsLmdldEF0dHJpYnV0ZSgnbGFuZycpIDogdW5kZWZpbmVkKSBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICBwcm9kdWN0aW9uVHJlZShyb290LCBlbCBhcyBIVE1MRWxlbWVudCwgcHJvZHVjdGlvbnMsIHF1aXosIGxhbmcpO1xuICAgIH0gY2F0Y2goZTphbnkpIHtcbiAgICAgIHJlbmRlckVycm9yKGVsIGFzIEhUTUxFbGVtZW50LCBgJHtlLmxvY2F0aW9uLnN0YXJ0LmxpbmV9OiR7ZS5sb2NhdGlvbi5zdGFydC5jb2x1bW59ICR7ZX1gKTtcbiAgICB9XG4gIH0pO1xufVxuLy8gIyMjIGVycm9yIFJlbmRlciBGdW5jdGlvblxuZnVuY3Rpb24gcmVuZGVyRXJyb3IoZWw6IEhUTUxFbGVtZW50LCBlcnJvcjpzdHJpbmcpe1xuICAvLyBhZGQgY3NzIGlmIG5lY2Vzc2FyeVxuICBpZighZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JzbC10b29scy1lcnJvci1zdHlsZScpKSB7XG4gICAgY29uc3Qgc3R5bGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZU5vZGUuaW5uZXJIVE1MID0gZXJyb3JfY3NzO1xuICAgIHN0eWxlTm9kZS5pZCA9ICdic2wtdG9vbHMtZXJyb3Itc3R5bGUnO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc3R5bGVOb2RlKTtcbiAgfVxuXG4gIGNvbnN0IG9yaWdpbiA9IGVsLmlubmVySFRNTDtcbiAgZWwuaW5uZXJIVE1MID1cIlwiO1xuICAvL2NyZWF0ZSBlcnJvci13cmFwcGVyXG4gIGNvbnN0IGVycm9yV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBlcnJvcldyYXBwZXIuY2xhc3NMaXN0LmFkZCgnZXJyb3Itd3JhcHBlcicpO1xuICBlbC5hcHBlbmRDaGlsZChlcnJvcldyYXBwZXIpO1xuICAvL2NyZWF0ZSBvcmlnaW5EaXZcbiAgY29uc3QgbWVzc2FnZSA9YDxwPiBCU0wtVHJlZSBjb3VsZCBub3QgYmUgcGFyc2VkISA8L3A+XG4gICAgICAgICAgICAgICAgICA8cD4gSW5wdXQ6IDxiIHN0eWxlPVwiZm9udC1zaXplOjAuOWVtO1wiPiR7b3JpZ2lufTwvYj4gPC9wPmA7XG4gIGNvbnN0IG9yaWdpbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBvcmlnaW5EaXYuY2xhc3NMaXN0LmFkZCgnb3JpZ2luJyk7XG4gIG9yaWdpbkRpdi5pbm5lckhUTUwgPSBtZXNzYWdlO1xuICBlcnJvcldyYXBwZXIuYXBwZW5kQ2hpbGQob3JpZ2luRGl2KTtcbiAgLy9DcmVhdGUgZXJyUHJlXG4gIGNvbnN0IGVyclByZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ByZScpO1xuICBlcnJQcmUuY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcbiAgY29uc3QgZXJyQ29kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NvZGUnKTtcbiAgZXJyQ29kZS50ZXh0Q29udGVudCA9IGVycm9yO1xuICBlcnJvcldyYXBwZXIuYXBwZW5kQ2hpbGQoZXJyUHJlKTtcbiAgZXJyUHJlLmFwcGVuZENoaWxkKGVyckNvZGUpO1xufVxuXG4vLyAjIyMga25vd24gbGlzdCBvZiBwcm9kdWN0aW9uc1xuY29uc3QgcHJvZHVjdGlvbnMgPSB7XG4gICc8cHJvZ3JhbT4nOiAgICAgIFsnPGRlZi1vci1leHByPionXSxcbiAgJzxkZWYtb3ItZXhwcj4qJzogW10sIC8vIFsnPGRlZi1vci1leHByPiA8ZGVmLW9yLWV4cHI+KicsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAnJ10sXG4gICc8ZGVmLW9yLWV4cHI+JzogIFsnPGRlZmluaXRpb24+JyxcbiAgICAgICAgICAgICAgICAgICAgICc8ZT4nXSxcbiAgJzxkZWZpbml0aW9uPic6ICAgWycoZGVmaW5lICg8bmFtZT4gPG5hbWU+KykgPGU+KScsXG4gICAgICAgICAgICAgICAgICAgICAnKGRlZmluZSA8bmFtZT4gPGU+KScsXG4gICAgICAgICAgICAgICAgICAgICAnKGRlZmluZS1zdHJ1Y3QgPG5hbWU+ICg8bmFtZT4qKSknXSxcbiAgJzxlPic6ICAgICAgICAgICAgWycobmFtZSA8ZT4qKScsXG4gICAgICAgICAgICAgICAgICAgICAnKGNvbmQge1s8ZT4sPGU+XX0rKScsXG4gICAgICAgICAgICAgICAgICAgICAnPG5hbWU+JyxcbiAgICAgICAgICAgICAgICAgICAgICc8dj4nXSxcbiAgJzxlPionOiAgICAgICAgICAgW10sIC8vWyc8ZT4gPGU+KicsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAnJ10sXG4gICd7WyA8ZT4gPGU+IF19Kyc6IFtdLCAvL1snWzxlPiA8ZT5dJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICdbPGU+IDxlPl0ge1s8ZT4sPGU+XX0rJ10sXG4gICdbIDxlPiA8ZT4gXSc6ICAgIFtdLCAvL1snWzxlPiA8ZT5dJ10sXG4gICc8bmFtZT4qJzogICAgICAgIFtdLCAvL1snJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICc8bmFtZT4gPG5hbWU+KiddLFxuICAnPG5hbWU+Kyc6ICAgICAgICBbXSwgLy9bJzxuYW1lPicsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAnPG5hbWU+IDxuYW1lPisnXSxcbiAgJzxuYW1lPic6ICAgICAgICAgW10sXG4gICc8dj4nOiAgICAgICAgICAgIFtdXG59O1xuXG4vLyAjIyMgdHJhbnNmb3JtIEFTVCBpbnRvIG5vZGUgaGVscGVyIHN0cnVjdHVyZVxuZnVuY3Rpb24gcHJvZ3JhbVRvTm9kZShwOiBCU0xfQVNULnByb2dyYW0pOiBub2RlIHtcbiAgY29uc3QgZXhwcmVzc2lvbnMgPSBwLm1hcChCU0xfUHJpbnQucHJpbnREZWZPckV4cHIpO1xuICBjb25zdCBpbmRpY2VzID0gW107XG4gIGxldCBwcm9ncmFtID0gJyc7XG4gIGZvcihsZXQgaSA9IDA7IGkgPCBleHByZXNzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpID4gMCkgcHJvZ3JhbSA9IGAke3Byb2dyYW19XFxuYDtcbiAgICBjb25zdCBzdGFydCA9IHByb2dyYW0ubGVuZ3RoO1xuICAgIHByb2dyYW0gPSBgJHtwcm9ncmFtfSR7ZXhwcmVzc2lvbnNbaV19YDtcbiAgICBjb25zdCBlbmQgPSBwcm9ncmFtLmxlbmd0aDtcbiAgICBpbmRpY2VzLnB1c2goe3N0YXJ0OnN0YXJ0LGVuZDplbmR9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICc8cHJvZ3JhbT4nLFxuICAgIGNvZGU6IHByb2dyYW0sXG4gICAgaG9sZXM6IFtcbiAgICAgIHtcbiAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgIGVuZDogcHJvZ3JhbS5sZW5ndGgsXG4gICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICBwcm9kdWN0aW9uOiAnPGRlZi1vci1leHByPionLFxuICAgICAgICAgIGNvZGU6IHByb2dyYW0sXG4gICAgICAgICAgaG9sZXM6IGluZGljZXMubWFwKChoLGlkeCkgPT4geyByZXR1cm4ge1xuICAgICAgICAgICAgc3RhcnQ6IGguc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IGguZW5kLFxuICAgICAgICAgICAgY29udGVudDogZGVmT3JFeHByVG9Ob2RlKHBbaWR4XSlcbiAgICAgICAgICB9fSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfTtcbn1cblxuZnVuY3Rpb24gZGVmT3JFeHByVG9Ob2RlKGRlOiBCU0xfQVNULmRlZk9yRXhwcik6bm9kZSB7XG4gIGNvbnN0IGNvZGUgPSBCU0xfUHJpbnQucHJpbnREZWZPckV4cHIoZGUpIGFzIHN0cmluZztcbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAnPGRlZi1vci1leHByPicsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogW3tcbiAgICAgIHN0YXJ0OiAwLFxuICAgICAgZW5kOiBjb2RlLmxlbmd0aCxcbiAgICAgIGNvbnRlbnQ6IEJTTF9BU1QuaXNEZWZpbml0aW9uKGRlKSA/IGRlZlRvTm9kZShkZSkgOiBleHBUb05vZGUoZGUpXG4gICAgfV1cbiAgfVxufVxuXG5mdW5jdGlvbiBkZWZUb05vZGUoZDogQlNMX0FTVC5kZWZpbml0aW9uKTpub2RlIHtcbiAgbGV0IGNvZGUgPSAnJztcbiAgY29uc3QgaG9sZXMgPSBbXTtcbiAgaWYgKEJTTF9BU1QuaXNGdW5EZWYoZCkpIHtcbiAgICBjb2RlID0gJyhkZWZpbmUgKCc7XG4gICAgbGV0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnROYW1lKGQubmFtZSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVUb05vZGUoZC5uYW1lKX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9IGA7XG4gICAgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke2QuYXJncy5tYXAoQlNMX1ByaW50LnByaW50TmFtZSkuam9pbignICcpfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpuYW1lUGx1c1RvTm9kZShkLmFyZ3MpfSk7XG5cbiAgICBjb2RlID0gYCR7Y29kZX0pIGA7XG4gICAgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludEUoZC5ib2R5KX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6ZXhwVG9Ob2RlKGQuYm9keSl9KTtcblxuICAgIGNvZGUgPSBgJHtjb2RlfSlgO1xuICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNDb25zdERlZihkKSkge1xuICAgIGNvZGUgPSAnKGRlZmluZSAnO1xuICAgIGxldCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50TmFtZShkLm5hbWUpfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpuYW1lVG9Ob2RlKGQubmFtZSl9KTtcblxuICAgIGNvZGUgPSBgJHtjb2RlfSBgO1xuICAgIHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnRFKGQudmFsdWUpfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpleHBUb05vZGUoZC52YWx1ZSl9KTtcblxuICAgIGNvZGUgPSBgJHtjb2RlfSlgO1xuICB9IGVsc2Uge1xuICAgIGNvZGUgPSAnKGRlZmluZS1zdHJ1Y3QgJztcbiAgICBsZXQgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludE5hbWUoZC5iaW5kaW5nKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bmFtZVRvTm9kZShkLmJpbmRpbmcpfSk7XG5cbiAgICBjb2RlID0gYCR7Y29kZX0gKGA7XG4gICAgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke2QucHJvcGVydGllcy5tYXAoQlNMX1ByaW50LnByaW50TmFtZSkuam9pbignICcpfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpuYW1lU3RhclRvTm9kZShkLnByb3BlcnRpZXMpfSk7XG5cbiAgICBjb2RlID0gYCR7Y29kZX0pKWA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiBgPGRlZmluaXRpb24+YCxcbiAgICBjb2RlOiBjb2RlLFxuICAgIGhvbGVzOiBob2xlc1xuICB9O1xufVxuXG5mdW5jdGlvbiBleHBUb05vZGUoZTogQlNMX0FTVC5leHByKTpub2RlIHtcbiAgbGV0IGNvZGUgPSAnJztcbiAgY29uc3QgaG9sZXMgPSBbXTtcbiAgaWYoQlNMX0FTVC5pc0NhbGwoZSkpIHtcbiAgICBjb2RlID0gJygnO1xuICAgIGxldCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50TmFtZShlLm5hbWUpfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpuYW1lVG9Ob2RlKGUubmFtZSl9KTtcblxuICAgIGNvZGUgPSBgJHtjb2RlfSBgO1xuICAgIHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtlLmFyZ3MubWFwKEJTTF9QcmludC5wcmludEUpLmpvaW4oJyAnKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6ZVN0YXJUb05vZGUoZS5hcmdzKX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9KWA7XG4gIH0gZWxzZSBpZiAoQlNMX0FTVC5pc0NvbmQoZSkpIHtcbiAgICBjb2RlID0gJyhjb25kICc7XG4gICAgbGV0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtlLm9wdGlvbnMubWFwKEJTTF9QcmludC5wcmludE9wdGlvbikuam9pbignICcpfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpvcHRpb25zVG9Ob2RlKGUub3B0aW9ucyl9KTtcbiAgICBjb2RlID0gYCR7Y29kZX0pYDtcbiAgfSBlbHNlIGlmIChCU0xfQVNULmlzTmFtZShlKSkge1xuICAgIGNvZGUgPSBCU0xfUHJpbnQucHJpbnROYW1lKGUpO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OjAsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpuYW1lVG9Ob2RlKGUpfSk7XG4gIH0gZWxzZSB7XG4gICAgY29kZSA9IEJTTF9QcmludC5wcmludEUoZSk7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6MCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50OmxpdGVyYWxUb05vZGUoZSl9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICc8ZT4nLFxuICAgIGNvZGU6IGNvZGUsXG4gICAgaG9sZXM6IGhvbGVzXG4gIH07XG59XG5cbmZ1bmN0aW9uIG5hbWVUb05vZGUobjogQlNMX0FTVC5OYW1lKTpub2RlIHtcbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAnPG5hbWU+JyxcbiAgICBjb2RlOiBCU0xfUHJpbnQucHJpbnROYW1lKG4pLFxuICAgIGhvbGVzOiBbXVxuICB9O1xufVxuXG5mdW5jdGlvbiBuYW1lUGx1c1RvTm9kZShuczogQlNMX0FTVC5OYW1lW10pOm5vZGUge1xuICBpZiAobnMubGVuZ3RoIDwgMSkgY29uc29sZS5lcnJvcignPG5hbWU+KyBidXQgdXNlZCBidXQgbmFtZXMgYXJlIGVtcHR5Jyk7XG4gIGxldCBjb2RlID0gJyc7XG4gIGNvbnN0IGhvbGVzID0gW107XG4gIGZvcihsZXQgaSA9IDA7IGkgPCBucy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnROYW1lKG5zW2ldKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bmFtZVRvTm9kZShuc1tpXSl9KTtcblxuICAgIGlmKGkgPCBucy5sZW5ndGggLSAxKSBjb2RlID0gYCR7Y29kZX0gYDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICc8bmFtZT4rJyxcbiAgICBjb2RlOiBjb2RlLFxuICAgIGhvbGVzOiBob2xlc1xuICB9XG59XG5cbmZ1bmN0aW9uIG5hbWVTdGFyVG9Ob2RlKG5zOiBCU0xfQVNULk5hbWVbXSk6bm9kZSB7XG4gIGxldCBjb2RlID0gJyc7XG4gIGNvbnN0IGhvbGVzID0gW107XG4gIGZvcihsZXQgaSA9IDA7IGkgPCBucy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnROYW1lKG5zW2ldKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bmFtZVRvTm9kZShuc1tpXSl9KTtcblxuICAgIGlmKGkgPCBucy5sZW5ndGggLSAxKSBjb2RlID0gYCR7Y29kZX0gYDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICc8bmFtZT4qJyxcbiAgICBjb2RlOiBjb2RlLFxuICAgIGhvbGVzOiBob2xlc1xuICB9XG59XG5cbmZ1bmN0aW9uIGVTdGFyVG9Ob2RlKGVzOiBCU0xfQVNULmV4cHJbXSk6bm9kZSB7XG4gIGxldCBjb2RlID0gJyc7XG4gIGNvbnN0IGhvbGVzID0gW107XG4gIGZvcihsZXQgaSA9IDA7IGkgPCBlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnRFKGVzW2ldKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6ZXhwVG9Ob2RlKGVzW2ldKX0pO1xuXG4gICAgaWYoaSA8IGVzLmxlbmd0aCAtIDEpIGNvZGUgPSBgJHtjb2RlfSBgO1xuICB9XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJzxlPionLFxuICAgIGNvZGU6IGNvZGUsXG4gICAgaG9sZXM6IGhvbGVzXG4gIH1cbn1cblxuZnVuY3Rpb24gb3B0aW9uc1RvTm9kZShvczogQlNMX0FTVC5DbGF1c2VbXSk6bm9kZSB7XG4gIGxldCBjb2RlID0gJyc7XG4gIGNvbnN0IGhvbGVzID0gW107XG4gIGZvcihsZXQgaSA9IDA7IGkgPCBvcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnRPcHRpb24ob3NbaV0pfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpvcHRpb25Ub05vZGUob3NbaV0pfSk7XG5cbiAgICBpZihpIDwgb3MubGVuZ3RoIC0gMSkgY29kZSA9IGAke2NvZGV9IGA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAne1sgPGU+IDxlPiBdfSsnLFxuICAgIGNvZGU6IGNvZGUsXG4gICAgaG9sZXM6IGhvbGVzXG4gIH1cbn1cblxuZnVuY3Rpb24gb3B0aW9uVG9Ob2RlKG86IEJTTF9BU1QuQ2xhdXNlKTpub2RlIHtcbiAgbGV0IGNvZGUgPSAnJztcbiAgY29uc3QgaG9sZXMgPSBbXTtcbiAgY29kZSA9IGAke2NvZGV9W2A7XG4gIGxldCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludEUoby5jb25kaXRpb24pfWA7XG4gIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6ZXhwVG9Ob2RlKG8uY29uZGl0aW9uKX0pO1xuXG4gIGNvZGUgPSBgJHtjb2RlfSBgO1xuICBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludEUoby5yZXN1bHQpfWA7XG4gIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6ZXhwVG9Ob2RlKG8ucmVzdWx0KX0pO1xuXG4gIGNvZGUgPSBgJHtjb2RlfV1gO1xuXG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJ1sgPGU+IDxlPiBdJyxcbiAgICBjb2RlOiBjb2RlLFxuICAgIGhvbGVzOiBob2xlc1xuICB9O1xuXG59XG5cbmZ1bmN0aW9uIGxpdGVyYWxUb05vZGUodjogQlNMX0FTVC5MaXRlcmFsKTpub2RlIHtcbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAnPHY+JyxcbiAgICBjb2RlOiBCU0xfUHJpbnQucHJpbnRFKHYpLFxuICAgIGhvbGVzOiBbXVxuICB9XG59XG4iLCAiaW1wb3J0IHtub2RlLCBwcm9kdWN0aW9uVHJlZSwgZ3JhbW1hcn0gZnJvbSBcIi4vUHJvZHVjdGlvbl9UcmVlXCI7XG5pbXBvcnQge2RpcnRpZnl9IGZyb20gJy4vQlNMX1ByaW50JztcblxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NKc29uVHJlZXMoKSB7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2pzb250cmVlJykpLm1hcChlbCA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJldCA9IHBhcnNlSnNvblRyZWUoZGlydGlmeShlbC5pbm5lckhUTUwpKTtcbiAgICAgIGNvbnN0IHJvb3QgPSByZXQucm9vdDtcbiAgICAgIGNvbnN0IGdyYW1tYXIgPSByZXQuZ3JhbW1hcjtcbiAgICAgIGNvbnN0IHF1aXogPSBlbC5nZXRBdHRyaWJ1dGUoJ3F1aXonKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgY29uc3QgbGFuZyA9IChlbC5nZXRBdHRyaWJ1dGUoJ2xhbmcnKSA/IGVsLmdldEF0dHJpYnV0ZSgnbGFuZycpIDogdW5kZWZpbmVkKSBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICBwcm9kdWN0aW9uVHJlZShyb290LCBlbCBhcyBIVE1MRWxlbWVudCwgZ3JhbW1hciwgcXVpeiwgbGFuZyk7XG4gICAgfSBjYXRjaChlOmFueSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIGVsLmlubmVySFRNTCA9IGAke2V9YDtcbiAgICAgIChlbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgcGFkZGluZzogMmVtO1xuICAgICAgICBjb2xvcjogZGFya3JlZDtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBgO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlSnNvblRyZWUoanM6IHN0cmluZyk6IHtyb290OiBub2RlLCBncmFtbWFyOiBncmFtbWFyIHwgdW5kZWZpbmVkfSB7XG4gIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKGpzLnRyaW0oKSk7XG4gIGNvbnN0IGdyYW1tYXIgPSBqc29uWydncmFtbWFyJ107XG4gIGNvbnN0IHJvb3QgPSBwcm9jZXNzSG9sZXNSZWN1cnNpdmUoanNvbik7XG4gIHJldHVybiB7XG4gICAgcm9vdDogcm9vdCxcbiAgICBncmFtbWFyOiBncmFtbWFyXG4gIH07XG59XG5cbi8vICMjIyBydW50aW1lIHR5cGUgY2hlY2tpbmcsIGV4dHJhY3RpbmcgaG9sZSBwb3NpdGlvbnMgYW5kIHJlbW92aW5nXG4vLyAgICAgZGl2aWRlcnMgKHwpIGZyb20gY29kZVxuZnVuY3Rpb24gcHJvY2Vzc0hvbGVzUmVjdXJzaXZlKG46IG5vZGUpOiBub2RlIHtcbiAgLy8gcnVudGltZSB0eXBlIGNoZWNraW5nXG4gIGNvbnN0IHAgPSBuLnByb2R1Y3Rpb247XG4gIGlmKCFwIHx8IHR5cGVvZihwKSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBgJHtKU09OLnN0cmluZ2lmeShuLCB1bmRlZmluZWQsIDIpLnJlcGxhY2VBbGwoJ1xcbicsICc8YnI+Jyl9IGhhcyB3cm9uZyBzdHJ1Y3R1cmUsIHByb2R1Y3Rpb24gbmVlZHMgdG8gYmUgYSBzdHJpbmdgO1xuICB9XG4gIGNvbnN0IGMgPSBuLmNvZGU7XG4gIGlmKCFjIHx8IHR5cGVvZihjKSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBgJHtKU09OLnN0cmluZ2lmeShuLCB1bmRlZmluZWQsIDIpLnJlcGxhY2VBbGwoJ1xcbicsICc8YnI+Jyl9IGhhcyB3cm9uZyBzdHJ1Y3R1cmUsIGNvZGUgbmVlZHMgdG8gYmUgYSBzdHJpbmdgO1xuICB9XG4gIGlmICghbi5ob2xlcykgbi5ob2xlcyA9IFtdO1xuXG4gIC8vIGV4dHJhY3RpbmcgaG9sZSBwb3NpdGlvbnMgYW5kIHJlbW92aW5nIGRpdmlkZXJzIHx8IGZyb20gY29kZVxuICBjb25zdCBjb2RlUGFydHMgPSBjLnNwbGl0KCd8Jyk7XG4gIGxldCBjb2RlID0gJyc7XG4gIGxldCBob2xlcyA9IFtdO1xuICBmb3IobGV0IGkgPSAwOyBpIDwgY29kZVBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gc3RhcnQ6IG5vdCBlbmNsb3NlZCBpbiB8fFxuICAgIGNvZGUgPSBgJHtjb2RlfSR7Y29kZVBhcnRzW2ldfWA7XG5cbiAgICAvLyBuZXh0IHBhcnQ6IGVudGVyIHx8XG4gICAgaSsrO1xuICAgIGlmKGkgPCBjb2RlUGFydHMubGVuZ3RoICYmIGNvZGVQYXJ0c1tpXSkge1xuICAgICAgY29uc3Qgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICAgIGNvZGUgPSBgJHtjb2RlfSR7Y29kZVBhcnRzW2ldfWA7XG4gICAgICBjb25zdCBjb250ZW50ID0gbi5ob2xlc1tob2xlcy5sZW5ndGhdIGFzIGFueTtcbiAgICAgIGlmKCFjb250ZW50KSB7XG4gICAgICAgIHRocm93IGAke0pTT04uc3RyaW5naWZ5KG4sIHVuZGVmaW5lZCwgMikucmVwbGFjZUFsbCgnXFxuJywgJzxicj4nKX0gaGFzIHdyb25nIHN0cnVjdHVyZTogbGVzcyBob2xlcyB0aGFuIG1hcmtlZCB3aXRoIHx8IGluIHRoZSBjb2RlYDtcbiAgICAgIH1cbiAgICAgIGhvbGVzLnB1c2goe3N0YXJ0OiBzdGFydCwgZW5kOiBjb2RlLmxlbmd0aCwgY29udGVudDogcHJvY2Vzc0hvbGVzUmVjdXJzaXZlKGNvbnRlbnQpfSk7XG4gICAgfVxuICB9XG4gIC8vIHJldHVybiBwcm9jZXNzZWQgbm9kZVxuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246IHAsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfTtcblxufVxuIiwgImltcG9ydCAqIGFzIEJTTF9BU1QgZnJvbSBcIi4vQlNMX0FTVFwiO1xuXG5leHBvcnQgZW51bSBQcm9kdWN0aW9uIHtcbiAgICBTdGVwcGVyID0gXCJTdGVwcGVyXCIsXG4gICAgRXhwclN0ZXAgPSBcIkV4cHJTdGVwXCIsXG4gICAgRGVmaW5pdGlvblN0ZXAgPSBcIkRlZmluaXRpb25TdGVwXCIsXG4gICAgRXZhbFN0ZXAgPSBcIkV2YWxTdGVwXCIsXG4gICAgU3BsaXQgPSBcIlNwbGl0XCIsXG4gICAgUGx1Z1Jlc3VsdCA9IFwiUGx1Z1Jlc3VsdFwiLFxuICAgIENhbGxSZWRleCA9IFwiQ2FsbFJlZGV4XCIsXG4gICAgQ29uZFJlZGV4ID0gXCJDb25kUmVkZXhcIixcbiAgICBOYW1lUmVkZXggPSBcIk5hbWVSZWRleFwiLFxuICAgIENvbmRPcHRpb24gPSBcIkNvbmRPcHRpb25cIixcbiAgICBBcHBDb250ZXh0ID0gXCJBcHBDb250ZXh0XCIsXG4gICAgQ29uZENvbnRleHQgPSBcIkNvbmRDb250ZXh0XCIsXG4gICAgSG9sZSA9IFwiSG9sZVwiLFxuICAgIFByaW0gPSBcIlByaW1cIixcbiAgICBDb25kVHJ1ZSA9IFwiQ29uZFRydWVcIixcbiAgICBDb25kRmFsc2UgPSBcIkNvbmRGYWxzZVwiLFxuICAgIENvbmRFcnJvciA9IFwiQ29uZEVycm9yXCIsXG4gICAgUHJvZ1J1bGUgPSBcIlByb2dSdWxlXCIsXG4gICAgQ29uc3QgPSBcIkNvbnN0XCIsXG4gICAgS29uZyA9IFwiS29uZ1wiLFxuICAgIEZ1blZhbHVlID0gXCJGdW5WYWx1ZVwiLFxuICAgIFN0cnVjdFZhbHVlID0gXCJTdHJ1Y3RWYWx1ZVwiLFxuICAgIElkID0gXCJJZGVudGlmaWVyXCIsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RlcHBlciB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5TdGVwcGVyO1xuICAgIHJvb3Q6IEhUTUxFbGVtZW50O1xuICAgIG9yaWdpblByb2dyYW06IEJTTF9BU1QucHJvZ3JhbTtcbiAgICBzdGVwcGVyVHJlZTogIFByb2dTdGVwW107XG59XG4vLyBQcm9nU3RlcCByZXByZXNlbnRzIGEgbGluZSBvZiBjb2RlIGluIGEgQlNMIHByb2dyYW1cbi8vICBleHBvcnQgaW50ZXJmYWNlIFByb2dTdGVwIHtcbi8vICAgICAgdHlwZTogUHJvZHVjdGlvbi5Qcm9nU3RlcDtcbi8vICAgICAgc3RlcExpc3Q6IFN0ZXBbXTtcbi8vICB9XG5cbi8vIFN0ZXBbXVxuLy8gU3RlcCBpcyB0eXBlID0gRXhwclN0ZXAgfCBEZWZpbml0aW9uU3RlcFxuZXhwb3J0IHR5cGUgUHJvZ1N0ZXAgPSBFeHByU3RlcCB8IERlZmluaXRpb25TdGVwO1xuXG4vLyBEZWZpbml0aW9uU3RlcCBoYXMgUHJvZ1J1bGVcbmV4cG9ydCBpbnRlcmZhY2UgRGVmaW5pdGlvblN0ZXAge1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uRGVmaW5pdGlvblN0ZXA7XG4gICAgZW52OiBFbnZpcm9ubWVudDtcbiAgICBldmFsU3RlcHM6IEV2YWxTdGVwW107XG4gICAgcmVzdWx0OiBCU0xfQVNULmRlZmluaXRpb247IC8vZXZhbHVhdGVkIGRlZmluaXRpb24sIHdoaWNoIGlzIGdpdmVuIHRvIGVudlxufVxuZXhwb3J0IGludGVyZmFjZSBFeHByU3RlcCB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5FeHByU3RlcDtcbiAgICBlbnY6IEVudmlyb25tZW50O1xuICAgIGV2YWxTdGVwczogRXZhbFN0ZXBbXTtcbiAgICByZXN1bHQ6IFZhbHVlIHwgRXJyb3I7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZhbFN0ZXAge1xuICAgdHlwZTogUHJvZHVjdGlvbi5FdmFsU3RlcDtcbiAgIGVudjogRW52aXJvbm1lbnQ7XG4gICBydWxlOiBLb25nIHwgT25lUnVsZTtcbiAgIHJlc3VsdDogQlNMX0FTVC5leHByIHwgVmFsdWUgfCBFcnJvcjtcbn1cbi8vIExPQ0FMLVJ1bGUgZlx1MDBGQ3IgSVNMXG5cbmV4cG9ydCB0eXBlIFNwbGl0UmVzdWx0ID0gU3BsaXQgfCBWYWx1ZTtcblxuZXhwb3J0IGludGVyZmFjZSBTcGxpdCB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5TcGxpdDtcbiAgICByZWRleDogUmVkZXg7XG4gICAgY29udGV4dDogQ29udGV4dDtcbn1cblxuLyogZXhwb3J0IGludGVyZmFjZSBQbHVnUmVzdWx0IHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLlBsdWdSZXN1bHQ7XG4gICAgcnVsZTogS29uZyB8IE9uZVJ1bGU7XG4gICAgZXhwcjogQlNMX0FTVC5leHByIHwgVmFsdWU7XG59ICovXG4vLyBSZWRleCBpc3QgU3VtbWVudHlwOiBDYWxsUmVkZXggfCBDb25kUmVkZXgsIGV0Yy5cbi8vICMjIyMjIyMgUkVERVggIyMjIyMjI1xuZXhwb3J0IHR5cGUgUmVkZXggPSBDYWxsUmVkZXggfCBDb25kUmVkZXggIHwgTmFtZVJlZGV4O1xuXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZWRleCB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5DYWxsUmVkZXg7XG4gICAgbmFtZTogQlNMX0FTVC5OYW1lO1xuICAgIGFyZ3M6IChWYWx1ZSB8XHUwMEEwSWQpW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZFJlZGV4IHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkNvbmRSZWRleDtcbiAgICBvcHRpb25zOiBCU0xfQVNULkNsYXVzZVtdO1xufVxuXG4gZXhwb3J0IGludGVyZmFjZSBOYW1lUmVkZXh7XG4gICAgIHR5cGU6IFByb2R1Y3Rpb24uTmFtZVJlZGV4O1xuICAgICBzeW1ib2w6IHN0cmluZztcbiB9XG4vLyAjIyMjIyMjIENvbnRleHQgIyMjIyMjI1xuZXhwb3J0IHR5cGUgQ29udGV4dCA9IEFwcENvbnRleHQgfCBDb25kQ29udGV4dCB8IEhvbGU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXBwQ29udGV4dCB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5BcHBDb250ZXh0O1xuICAgIG9wOiBCU0xfQVNULk5hbWU7XG4gICAgdmFsdWVzOiAoVmFsdWUgfCBJZClbXTtcbiAgICBjdHg6IENvbnRleHQ7XG4gICAgYXJnczogQlNMX0FTVC5leHByW107XG59XG5leHBvcnQgaW50ZXJmYWNlIENvbmRDb250ZXh0IHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkNvbmRDb250ZXh0O1xuICAgIG9wdGlvbnM6IEJTTF9BU1QuQ2xhdXNlW107XG4gICAgY3R4OiBDb250ZXh0O1xufVxuZXhwb3J0IGludGVyZmFjZSBIb2xlIHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkhvbGU7XG59XG5leHBvcnQgdHlwZSBWYWx1ZSA9IG51bWJlciB8IHN0cmluZyB8IGJvb2xlYW4gfCBgJygpYCAvKnwgRnVuVmFsdWUvKnwgQ2xvc3VyZSB8IFN0cnVjdFZhbHVlKi87XG5leHBvcnQgaW50ZXJmYWNlIElke1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uSWQ7XG4gICAgc3ltYm9sOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIEZ1blZhbHVle1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uRnVuVmFsdWU7XG4gICAgcGFyYW1zOiBCU0xfQVNULk5hbWVbXTtcbiAgICBib2R5OiBCU0xfQVNULmV4cHI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdFZhbHVle1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uU3RydWN0VmFsdWU7XG4gICAgcGFyYW1zOiBCU0xfQVNULk5hbWVbXTtcbn1cbi8vIyMjIyMjIyMgT25lUnVsZShzKSAjIyMjIyMjI2FcbmV4cG9ydCBpbnRlcmZhY2UgUHJpbSB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5QcmltO1xuICAgIHJlZGV4OiBDYWxsUmVkZXg7XG4gICAgcmVzdWx0OiBWYWx1ZTtcbn1cbmV4cG9ydCB0eXBlIENvbmRSdWxlID0gQ29uZFRydWUgfCBDb25kRmFsc2UgIHwgQ29uZEVycm9yO1xuZXhwb3J0IGludGVyZmFjZSBDb25kVHJ1ZXtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkNvbmRUcnVlO1xuICAgIHJlZGV4OkNvbmRSZWRleDtcbiAgICByZXN1bHQ6QlNMX0FTVC5leHByIHwgVmFsdWU7XG59XG5leHBvcnQgaW50ZXJmYWNlIENvbmRGYWxzZXtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkNvbmRGYWxzZTtcbiAgICByZWRleDpDb25kUmVkZXg7XG4gICAgcmVzdWx0OiBCU0xfQVNULkNvbmQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIENvbmRFcnJvcntcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkNvbmRFcnJvcjtcbiAgICByZWRleDpDb25kUmVkZXg7XG4gICAgcmVzdWx0OiBFcnJvcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUHJvZ1J1bGUge1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uUHJvZ1J1bGU7XG4gICAgZGVmaW5pdGlvbjogQlNMX0FTVC5kZWZpbml0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnN0IHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkNvbnN0O1xuICAgIHJlZGV4OiBSZWRleDtcbiAgICByZXN1bHQ6IEJTTF9BU1QuZXhwciB8IFZhbHVlO1xufVxuXG5leHBvcnQgdHlwZSBPbmVSdWxlID0gUHJpbSB8IENvbmRSdWxlIHwgQ29uc3Q7IC8qfCBQcm9nUnVsZSovXG5cbi8vICMjIyMjIyMgUHJvZ1N0ZXBSdWxlKHMpICMjIyMjIyMjXG5leHBvcnQgaW50ZXJmYWNlIEtvbmcge1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uS29uZztcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIHJlZGV4UnVsZTogT25lUnVsZTtcbn1cbi8vICMjIyMjIyMjIyBERUZJTklUSU9OUyAjIyMjIyMjI1xuXG4vLyBkZWZpbml0aW9uIGlzIGVpdGhlciBzdHJ1Y3REZWYsIGZ1bkRlZiBvciBjb25zdERlZlxuLy8gRGVmUnVsZXMgUFJPRywgU1RSVUNULCBGVU4sIENPTlNUXG5cblxuLy8gRU5WSVJPTk1FTlRcblxuZXhwb3J0IHR5cGUgRW52aXJvbm1lbnQgPSB7IFtrZXk6IHN0cmluZ106IFZhbHVlIH07XG4vLyBCU0xfQVNULmV4cHIgenVlcnN0IGF1c3dlcnRlbiAoY2FsbCBieSB2YWx1ZSlcbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbi8vIHJ1bnRpbWUgdHlwZSBjaGVja2luZ1xuLy8gU3RlcHBlciBhbmQgU3RlcHNcbmV4cG9ydCBmdW5jdGlvbiBpc1N0ZXBwZXIob2JqOmFueSk6IG9iaiBpcyBTdGVwcGVyIHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uU3RlcHBlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0V4cHJTdGVwKG9iajphbnkpOiBvYmogaXMgRXhwclN0ZXAge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5FeHByU3RlcDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0RlZmluaXRpb25TdGVwKG9iajogYW55KTogb2JqIGlzIERlZmluaXRpb25TdGVwIHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uRGVmaW5pdGlvblN0ZXA7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFdmFsU3RlcChvYmo6IGFueSk6IG9iaiBpcyBFdmFsU3RlcCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkV2YWxTdGVwO1xufVxuLy9SZWRleFxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2FsbFJlZGV4KG9iajogYW55KTogb2JqIGlzIENhbGxSZWRleCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkNhbGxSZWRleDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbmRSZWRleChvYmo6IGFueSk6IG9iaiBpcyBDb25kUmVkZXgge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25kUmVkZXg7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOYW1lUmVkZXgob2JqOiBhbnkpOiBvYmogaXMgTmFtZVJlZGV4IHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uTmFtZVJlZGV4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNIb2xlKG9iajogYW55KTogb2JqIGlzIEhvbGUge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Ib2xlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29udGV4dChvYmo6IGFueSk6IG9iaiBpcyBDb250ZXh0IHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQXBwQ29udGV4dCB8fCBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25kQ29udGV4dDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FwcENvbnRleHQob2JqOiBhbnkpOiBvYmogaXMgQXBwQ29udGV4dCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkFwcENvbnRleHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25kQ29udGV4dChvYmo6IGFueSk6IG9iaiBpcyBDb25kQ29udGV4dCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkNvbmRDb250ZXh0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU3BsaXQob2JqOiBhbnkpOiBvYmogaXMgU3BsaXQge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5TcGxpdDtcbn1cbi8qIGV4cG9ydCBmdW5jdGlvbiBpc1BsdWdSZXN1bHQob2JqOiBhbnkpOiBvYmogaXMgUGx1Z1Jlc3VsdCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlBsdWdSZXN1bHQ7XG59ICovXG5leHBvcnQgZnVuY3Rpb24gaXNPbmVSdWxlKG9iajogYW55KTogb2JqIGlzIE9uZVJ1bGUge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5QcmltIHx8IChvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25kVHJ1ZSB8fCBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25kRmFsc2UgfHwgb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ29uZEVycm9yKSB8fCBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25zdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ByaW0ob2JqOiBhbnkpOiBvYmogaXMgUHJpbSB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlByaW07XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25kUnVsZShvYmo6IGFueSk6IG9iaiBpcyBDb25kUnVsZSB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkNvbmRUcnVlIHx8IG9iai50eXBlID09PSBQcm9kdWN0aW9uLkNvbmRGYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbnN0KG9iajogYW55KTogb2JqIGlzIENvbnN0IHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ29uc3Q7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNLb25nKG9iajogYW55KTogb2JqIGlzIEtvbmcge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Lb25nO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsdWUob2JqOiBhbnkpOiBvYmogaXMgVmFsdWUge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnbnVtYmVyJyB8fCB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb2JqID09PSAnYm9vbGVhbicgfHwgb2JqID09PSBgJygpYCAvL3x8IGlzQ2xvc3VyZShvYmopO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzSWQob2JqOiBhbnkpOiBvYmogaXMgSWQge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5JZDtcbn0iLCAiaW1wb3J0ICogYXMgQlNMX0FTVCBmcm9tIFwiLi9CU0xfQVNUXCI7XG5pbXBvcnQgKiBhcyBTSV9TVFJVQ1QgZnJvbSBcIi4vU0lfU1RSVUNUXCI7XG5cbi8vIGNhbGN1bGF0ZUFsbFN0ZXBzIChmb3IgdGhlIHdob2xlIHByb2dyYW0pXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlUHJvZ3JhbShcbiAgICBwcm9ncmFtOiBCU0xfQVNULnByb2dyYW0sXG4gICAgc3RlcHBlcjogU0lfU1RSVUNULlN0ZXBwZXJcbik6IFNJX1NUUlVDVC5TdGVwcGVyIHwgRXJyb3Ige1xuICAgIGNvbnN0IGNvcHlQcm9ncmFtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwcm9ncmFtKSk7XG4gICAgbGV0IGVudjogU0lfU1RSVUNULkVudmlyb25tZW50ID0ge307XG4gICAgd2hpbGUgKGNvcHlQcm9ncmFtLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy9wcm9ncmFtLmZvckVhY2hcbiAgICAgICAgbGV0IHN0ZXBwZXJUcmVlOiBTSV9TVFJVQ1QuUHJvZ1N0ZXBbXSA9IHN0ZXBwZXIuc3RlcHBlclRyZWU7XG4gICAgICAgIGxldCBkZWZPckV4cHIgPSBjb3B5UHJvZ3JhbS5zaGlmdCgpO1xuICAgICAgICAvL05FVyBBUFBST0FDSFxuICAgICAgICBsZXQgcHJvZ1N0ZXAgPSBjYWxjdWxhdGVQcm9nU3RlcChkZWZPckV4cHIsIGVudik7XG4gICAgICAgIGlmIChwcm9nU3RlcCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvZ1N0ZXA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbnYgPSBwcm9nU3RlcC5lbnY7XG4gICAgICAgICAgICBzdGVwcGVyVHJlZS5wdXNoKHByb2dTdGVwKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcInByb2dTdGVwXCIsIHByb2dTdGVwKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJlbnZcIiwgZW52KTtcbiAgICAgICAgc3RlcHBlci5zdGVwcGVyVHJlZSA9IHN0ZXBwZXJUcmVlO1xuICAgIH1cbiAgICBjb25zdCBuZXdTdGVwcGVyOiBTSV9TVFJVQ1QuU3RlcHBlciA9IHtcbiAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uU3RlcHBlcixcbiAgICAgICAgcm9vdDogc3RlcHBlci5yb290LFxuICAgICAgICBvcmlnaW5Qcm9ncmFtOiBzdGVwcGVyLm9yaWdpblByb2dyYW0sXG4gICAgICAgIHN0ZXBwZXJUcmVlOiBzdGVwcGVyLnN0ZXBwZXJUcmVlLFxuICAgIH07XG4gICAgLy9uZXdTdGVwcGVyLnN0ZXBwZXJUcmVlLm1hcCgoc3RlcCwgaSkgPT4gKHN0ZXAuY3VycmVudFN0ZXAgPSBpKSk7XG4gICAgcmV0dXJuIG5ld1N0ZXBwZXI7XG59XG5cbi8vIGNhbGN1bGF0ZSBQcm9nU3RlcFxuLy8gbGluZSBpcyBhIGxpbmUgb2YgcHJvZ3JhbSBjb2RlIC0+IFByb2dTdGVwIHwgRXJyb3JcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVQcm9nU3RlcChcbiAgICBkZWZPckV4cHI6IEJTTF9BU1QuZXhwciB8IEJTTF9BU1QuZGVmaW5pdGlvbixcbiAgICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudFxuKTogU0lfU1RSVUNULlByb2dTdGVwIHwgRXJyb3Ige1xuICAgIGlmIChCU0xfQVNULmlzRXhwcihkZWZPckV4cHIpKSB7XG4gICAgICAgIGNvbnN0IGV2YWxTdGVwID0gY2FsY3VsYXRlRXZhbFN0ZXBzKGRlZk9yRXhwciwgZW52KTtcbiAgICAgICAgY29uc29sZS5sb2coXCJleHByU3RlcDpcIiwgZXZhbFN0ZXApO1xuICAgICAgICBpZiAoZXZhbFN0ZXAgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGV2YWxTdGVwO1xuICAgICAgICB9IGVsc2UgaWYoZXZhbFN0ZXAubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5FeHByU3RlcCxcbiAgICAgICAgICAgICAgZW52OiBlbnYsXG4gICAgICAgICAgICAgIGV2YWxTdGVwczogW10sXG4gICAgICAgICAgICAgIHJlc3VsdDogZXZhbHVhdGVFeHByZXNzaW9uKGRlZk9yRXhwciwgZW52KSBhcyBTSV9TVFJVQ1QuVmFsdWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBldmFsU3RlcFtldmFsU3RlcC5sZW5ndGggLSAxXS5yZXN1bHQ7XG4gICAgICAgICAgICBpZihCU0xfQVNULmlzRXhwcihyZXN1bHQpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiUmVzdWx0IGlzIG5vdCBhIHZhbHVlXCIpXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uRXhwclN0ZXAsXG4gICAgICAgICAgICAgICAgZW52OiBldmFsU3RlcFtldmFsU3RlcC5sZW5ndGggLSAxXS5lbnYsXG4gICAgICAgICAgICAgICAgZXZhbFN0ZXBzOiBldmFsU3RlcCxcbiAgICAgICAgICAgICAgICByZXN1bHQ6IHJlc3VsdCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZGVmaW5pdGlvblwiLCBkZWZPckV4cHIpO1xuICAgICAgICBjb25zdCBkZWZTdGVwID0gY2FsY3VsYXRlRGVmU3RlcHMoZGVmT3JFeHByLCBlbnYpO1xuICAgICAgICBpZiAoZGVmU3RlcCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmU3RlcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZGVmU3RlcFwiLCBkZWZTdGVwKTtcbiAgICAgICAgICAgIHJldHVybiBkZWZTdGVwO1xuICAgICAgICB9XG4gICAgfVxufVxuLy9wcm9nXG4vL2RlZmluaXRpb24sIEVudmlyb25tZW50ID0+IFNJX1NUUlVDVC5EZWZTdGVwXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlRGVmU3RlcHMoXG4gICAgZGVmOiBCU0xfQVNULmRlZmluaXRpb24sXG4gICAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IFNJX1NUUlVDVC5EZWZpbml0aW9uU3RlcCB8IEVycm9yIHtcbiAgICBpZiAoQlNMX0FTVC5pc0NvbnN0RGVmKGRlZikpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGRlZi5uYW1lO1xuICAgICAgICBjb25zdCBleHByID0gZGVmLnZhbHVlO1xuICAgICAgICBjb25zb2xlLmxvZyhcIm5hbWVcIiwgbmFtZSArIFwiZXhwclwiLCBleHByKTtcbiAgICAgICAgaWYgKEJTTF9BU1QuaXNMaXRlcmFsKGV4cHIpKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGV4cHIudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBuZXdFbnYgPSBhZGRUb0VudihlbnYsIG5hbWUuc3ltYm9sLCB2YWx1ZSk7XG4gICAgICAgICAgICBpZiAobmV3RW52IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3RW52O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5EZWZpbml0aW9uU3RlcCxcbiAgICAgICAgICAgICAgICAgICAgZW52OiBuZXdFbnYsXG4gICAgICAgICAgICAgICAgICAgIGV2YWxTdGVwczogW10sXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogZGVmLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc3RlcExpc3QgPSBjYWxjdWxhdGVFdmFsU3RlcHMoZXhwciwgZW52KTtcbiAgICAgICAgICAgIGlmIChzdGVwTGlzdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ZXBMaXN0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHN0ZXBMaXN0W3N0ZXBMaXN0Lmxlbmd0aCAtIDFdLnJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAoU0lfU1RSVUNULmlzVmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0VudiA9IGFkZFRvRW52KGVudiwgbmFtZS5zeW1ib2wsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0VudiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3RW52O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RGVmOiBCU0xfQVNULkNvbnN0RGVmID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25zdGFudERlZmluaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogeyB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCwgdmFsdWU6IHZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5EZWZpbml0aW9uU3RlcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnY6IG5ld0VudixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmFsU3RlcHM6IHN0ZXBMaXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogbmV3RGVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2FsY3VsYXRlRGVmU3RlcHM6IExhc3QgRXhwclN0ZXAgaXMgYW4gRXhwciwgbm90IGEgVmFsdWVcIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoQlNMX0FTVC5pc0Z1bkRlZihkZWYpKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBkZWYubmFtZTtcbiAgICAgICAgaWYgKG5hbWUuc3ltYm9sIGluIGVudikge1xuICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwiY2FsY3VsYXRlRGVmU3RlcHM6IG5hbWUgYWxyZWFkeSBib3VuZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBFcnJvcihcImNhbGN1bGF0ZURlZlN0ZXBzOiBmdW5jdGlvbiBkZWZpbml0aW9uIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEVycm9yKFwiY2FsY3VsYXRlRGVmU3RlcHM6IHN0cnVjdCBkZWZpbml0aW9uIG5vdCBkZWZpbmVkXCIpO1xuICAgIH1cbn1cbi8vIGNhbGN1bGF0ZUV4cHJTdGVwc1xuLy8gZXhwciwgc3RlcHBSZXN1bHRbXSA9PiBleHByU3RlcFtdIHwgRXJyb3JcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVFdmFsU3RlcHMoXG4gICAgZXhwcjogQlNMX0FTVC5leHByLFxuICAgIGVudjogU0lfU1RSVUNULkVudmlyb25tZW50XG4pOiBTSV9TVFJVQ1QuRXZhbFN0ZXBbXSB8IEVycm9yIHtcbiAgICBsZXQgc3RlcExpc3Q6IFNJX1NUUlVDVC5FdmFsU3RlcFtdID0gW107XG4gICAgbGV0IGN1cnJlbnRFeHByOiBCU0xfQVNULmV4cHIgfCBTSV9TVFJVQ1QuVmFsdWUgPSBleHByO1xuICAgIHdoaWxlICghU0lfU1RSVUNULmlzVmFsdWUoY3VycmVudEV4cHIpKSB7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSBldmFsdWF0ZUV4cHJlc3Npb24oY3VycmVudEV4cHIsIGVudik7XG4gICAgICAgIGlmIChTSV9TVFJVQ1QuaXNWYWx1ZShzdGVwKSkge1xuICAgICAgICAgICAgY3VycmVudEV4cHIgPSBzdGVwO1xuICAgICAgICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0V2YWxTdGVwKHN0ZXApKSB7XG4gICAgICAgICAgICBpZiAoc3RlcC5yZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIHN0ZXBMaXN0LnB1c2goc3RlcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRFeHByID0gc3RlcC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgc3RlcExpc3QucHVzaChzdGVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdGVwTGlzdDtcbn1cblxuLy9ldmFsdWF0ZUV4cHJlc3Npb25cblxuZXhwb3J0IGZ1bmN0aW9uIGV2YWx1YXRlRXhwcmVzc2lvbihcbiAgICBleHByOiBCU0xfQVNULmV4cHIsXG4gICAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IFNJX1NUUlVDVC5FdmFsU3RlcCB8IFNJX1NUUlVDVC5WYWx1ZSB8IEVycm9yIHtcbiAgICBpZiAoQlNMX0FTVC5pc0xpdGVyYWwoZXhwcikpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJldmFsdWF0ZUV4cHJlc3Npb246IExpdGVyYWxcIiwgZXhwcik7XG4gICAgICAgIHJldHVybiBleHByLnZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNwbGl0RXhwciA9IHNwbGl0KGV4cHIpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwic3BsaXRFeHByXCIsIHNwbGl0RXhwcik7XG4gICAgICAgIGlmIChTSV9TVFJVQ1QuaXNTcGxpdChzcGxpdEV4cHIpKSB7XG4gICAgICAgICAgICBjb25zdCBzdGVwRXhwciA9IHN0ZXAoc3BsaXRFeHByLnJlZGV4LCBlbnYpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInN0ZXBFeHByXCIsIHN0ZXBFeHByKTtcbiAgICAgICAgICAgIGlmIChTSV9TVFJVQ1QuaXNPbmVSdWxlKHN0ZXBFeHByKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4cHJTdGVwID0gcGx1ZyhzdGVwRXhwciwgc3BsaXRFeHByLmNvbnRleHQsIGVudik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJleHByU3RlcFwiLCBleHByU3RlcCk7XG4gICAgICAgICAgICAgICAgaWYgKFNJX1NUUlVDVC5pc0V2YWxTdGVwKGV4cHJTdGVwKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwclN0ZXA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cHJTdGVwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ZXBFeHByO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNwbGl0RXhwcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy9zcGxpdFxuLy8gRXhwcmVzc2lvbiA9ID4gU3BsaXRSZXN1bHQgfCBFcnJvclxuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0KGV4cHI6IEJTTF9BU1QuZXhwcik6IFNJX1NUUlVDVC5TcGxpdFJlc3VsdCB8IEVycm9yIHtcbiAgICBjb25zdCBob2xlOiBTSV9TVFJVQ1QuSG9sZSA9IHsgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uSG9sZSB9O1xuICAgIGlmIChCU0xfQVNULmlzQ2FsbChleHByKSkge1xuICAgICAgICBjb25zdCBuYW1lID0gZXhwci5uYW1lO1xuICAgICAgICBjb25zdCBhcmdzID0gZXhwci5hcmdzO1xuICAgICAgICBjb25zdCB2YWx1ZUxzdDogU0lfU1RSVUNULlZhbHVlW10gPSBbXTtcbiAgICAgICAgbGV0IHJlY0V4cHI6IEJTTF9BU1QuZXhwciA9IHt9IGFzIEJTTF9BU1QuZXhwcjtcbiAgICAgICAgY29uc3QgZXhwckxzdDogQlNMX0FTVC5leHByW10gPSBbXTtcbiAgICAgICAgLy8gbG9jYWwgZnVuY3Rpb24gc3BsaXQgaW50byB2YWx1ZSBhbmQgZXhwclxuICAgICAgICAvLyA9PiBFaXRoZXIoVmFsdWVbXSwgKFZhbHVlW10sZXhwciwgZXhwcltdKSlcbiAgICAgICAgLy8gZmluZCBwb3NpdGlvbiB3aXRoIG1hcFxuICAgICAgICBsZXQgcG9zRm91bmQgPSBmYWxzZTtcbiAgICAgICAgYXJncy5tYXAoKGFyZykgPT4ge1xuICAgICAgICAgICAgLy9pZiB0aGUgYXJndW1lbnQgaXMgYSB2YWx1ZSwgYWRkIGl0IHRvIHRoZSB2YWx1ZSBsaXN0XG4gICAgICAgICAgICBpZiAoIXBvc0ZvdW5kICYmIEJTTF9BU1QuaXNMaXRlcmFsKGFyZykpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZUxzdC5wdXNoKGFyZy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgLy9lbHNlIGlmIHRoZSBhcmd1bWVudCBpcyBuZWl0aGVyIGEgdmFsdWUgbm9yIGEgbmFtZSwgc2V0IHRoZSBwb3NpdGlvblxuICAgICAgICAgICAgfSBlbHNlIGlmICghcG9zRm91bmQpIHtcbiAgICAgICAgICAgICAgICBwb3NGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVjRXhwciA9IGFyZztcbiAgICAgICAgICAgICAgICAvLyBlbHNlIHRoZSBhcmd1bWVudCBpcyBhbiBleHByZXNzaW9uLCBhZGQgaXQgdG8gdGhlIGV4cHJlc3Npb24gbGlzdFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBleHByTHN0LnB1c2goYXJnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGNvbnRleHQsIGFsbCBhcmd1bWVudHMgYXJlIHZhbHVlcyBhbmQgdGhlIHJlc3VsdCBpcyBhIHZhbHVlXG4gICAgICAgIGlmIChwb3NGb3VuZCA9PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgcmVkZXg6IFNJX1NUUlVDVC5DYWxsUmVkZXggPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uQ2FsbFJlZGV4LFxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgYXJnczogdmFsdWVMc3QsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5TcGxpdCxcbiAgICAgICAgICAgICAgICByZWRleDogcmVkZXgsXG4gICAgICAgICAgICAgICAgY29udGV4dDogaG9sZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBlbHNlIHRoZXJlIGlzIGEgY29udGV4dCBhbmQgdGhlIHJlc3VsdCBpcyBhbiBleHByZXNzaW9uXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzcGxpdFJlc3VsdCA9IHNwbGl0KHJlY0V4cHIpO1xuICAgICAgICAgICAgaWYgKFNJX1NUUlVDVC5pc1NwbGl0KHNwbGl0UmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLlNwbGl0LFxuICAgICAgICAgICAgICAgICAgICByZWRleDogc3BsaXRSZXN1bHQucmVkZXgsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkFwcENvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcDogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogdmFsdWVMc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHg6IHNwbGl0UmVzdWx0LmNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBleHByTHN0LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzcGxpdFJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoQlNMX0FTVC5pc0NvbmQoZXhwcikpIHtcbiAgICAgICAgY29uc3QgY2xhdXNlID0gZXhwci5vcHRpb25zWzBdO1xuICAgICAgICAvLyBpZiBjb25kaXRpb24gaXMgYWxyZWFkeSByZWR1Y2VkLCBidWlsZCBDb25kUmVkZXhcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgQlNMX0FTVC5pc0xpdGVyYWwoY2xhdXNlLmNvbmRpdGlvbilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLlNwbGl0LFxuICAgICAgICAgICAgICAgIHJlZGV4OiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkNvbmRSZWRleCxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogZXhwci5vcHRpb25zLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29udGV4dDogaG9sZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gZWxzZSBzcGxpdCBjb25kaXRpb25cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzcGxpdFJlc3VsdCA9IHNwbGl0KGNsYXVzZS5jb25kaXRpb24pO1xuICAgICAgICAgICAgaWYgKFNJX1NUUlVDVC5pc1NwbGl0KHNwbGl0UmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLlNwbGl0LFxuICAgICAgICAgICAgICAgICAgICByZWRleDogc3BsaXRSZXN1bHQucmVkZXgsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkNvbmRDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogZXhwci5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4OiBzcGxpdFJlc3VsdC5jb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzcGxpdFJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoQlNMX0FTVC5pc05hbWUoZXhwcikpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLlNwbGl0LFxuICAgICAgICAgICAgY29udGV4dDogaG9sZSxcbiAgICAgICAgICAgIHJlZGV4OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uTmFtZVJlZGV4LFxuICAgICAgICAgICAgICAgIHN5bWJvbDogZXhwci5zeW1ib2wsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBFcnJvcihcInNwbGl0OiBuZWl0aGVyIGEgY2FsbCBub3IgYSBjb25kIG5vciBuYW1lXCIpO1xuICAgIH1cbn1cblxuLy8gc3RlcFxuLy8gUmVkZXggPT4gT25lUnVsZSB8IEVycm9yXG5leHBvcnQgZnVuY3Rpb24gc3RlcChcbiAgICByOiBTSV9TVFJVQ1QuUmVkZXgsXG4gICAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IFNJX1NUUlVDVC5PbmVSdWxlIHwgRXJyb3Ige1xuICAgIC8vIGJlZm9yZSBzdGVwcGluZyBjaGVjayBpZiB0aGUgcmVkZXggaGFzIG5vIG5hbWVzIGluIGl0XG4gICAgLy8gaWYgaXQgaGFzLCBsb29rdXAgaW4gZW52aXJvbm1lbnQgYW5kIGNvbnN0cnVjdCBSdWxlIChDb25zdCwgRnVuLCBvciBTdHJ1Y3QpXG4gICAgaWYgKFNJX1NUUlVDVC5pc0NhbGxSZWRleChyKSkge1xuICAgICAgICAvL2NoZWNrIGlmIGFsbCBhcmdzIGRvIG5vdCBjb250YWluIG5hbWVzXG4gICAgICAgIGNvbnN0IGFsbEFyZ3NBcmVWYWx1ZXMgPSByLmFyZ3MuZXZlcnkoKGFyZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFNJX1NUUlVDVC5pc1ZhbHVlKGFyZyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYWxsQXJnc0FyZVZhbHVlcykge1xuICAgICAgICAgICAgY29uc3QgYXJnczogU0lfU1RSVUNULlZhbHVlW10gPSByLmFyZ3MgYXMgU0lfU1RSVUNULlZhbHVlW107XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0ZXA6IENhbGxSZWRleCBoYXMgbm8gbmFtZXNcIik7XG4gICAgICAgICAgICBjb25zdCBwcmltUmVzdWx0ID0gcHJpbShyLm5hbWUsIGFyZ3MpO1xuICAgICAgICAgICAgaWYgKFNJX1NUUlVDVC5pc1ZhbHVlKHByaW1SZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uUHJpbSxcbiAgICAgICAgICAgICAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogcHJpbVJlc3VsdCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJzdGVwOiBwcmltIGlzIG5vdCBhcHBsaWNhYmxlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdGVwOiBlbnY6XCIgKyBKU09OLnN0cmluZ2lmeShlbnYpKTtcbiAgICAgICAgICAgIGNvbnN0IHN1YnN0UmVkOiBCU0xfQVNULmV4cHIgfCBFcnJvciA9IHN1YnN0Q29uc3QociwgZW52KTtcbiAgICAgICAgICAgIGlmIChzdWJzdFJlZCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnN0UmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5Db25zdCxcbiAgICAgICAgICAgICAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogc3Vic3RSZWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzQ29uZFJlZGV4KHIpKSB7XG4gICAgICAgIC8vY2hlY2sgaWYgY29uZGl0aW9uIGlzIGEgbmFtZVxuICAgICAgICBpZiAoQlNMX0FTVC5pc0xpdGVyYWwoci5vcHRpb25zWzBdLmNvbmRpdGlvbikpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbmRSZXN1bHQgPSBjb25kKHIpO1xuICAgICAgICAgICAgaWYgKGNvbmRSZXN1bHQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3T3B0aW9ucyA9IHIub3B0aW9ucy5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3T3B0aW9ucy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5Db25kRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogRXJyb3IoXCJjb25kOiBhbGwgcXVlc3Rpb24gcmVzdWx0cyB3ZXJlIGZhbHNlXCIpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBuZXdFeHByOiBCU0xfQVNULkNvbmQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kRXhwcmVzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogbmV3T3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkNvbmRGYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogbmV3RXhwcixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChCU0xfQVNULmlzRXhwcihjb25kUmVzdWx0KSB8fCBTSV9TVFJVQ1QuaXNWYWx1ZShjb25kUmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkNvbmRUcnVlLFxuICAgICAgICAgICAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBjb25kUmVzdWx0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBFcnJvcihcInN0ZXA6IGNvbmQgaXMgbm90IGFwcGxpY2FibGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzdWJzdFJlZDogQlNMX0FTVC5leHByIHwgRXJyb3IgPSBzdWJzdENvbnN0KHIsIGVudik7XG4gICAgICAgICAgICBpZiAoc3Vic3RSZWQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWJzdFJlZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uQ29uc3QsXG4gICAgICAgICAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHN1YnN0UmVkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc05hbWVSZWRleChyKSkge1xuICAgICAgICBjb25zdCBzdWJzdFJlZDogQlNMX0FTVC5leHByIHwgRXJyb3IgPSBzdWJzdENvbnN0KHIsIGVudik7XG4gICAgICAgIGlmIChzdWJzdFJlZCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gc3Vic3RSZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkNvbnN0LFxuICAgICAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgICAgIHJlc3VsdDogc3Vic3RSZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEVycm9yKFwic3RlcDogcmVkZXggaXMgbmVpdGhlciBhIGNhbGwgbm9yIGNvbmQgbm9yIG5hbWVcIik7XG4gICAgfVxufVxuXG4vLyBwbHVnXG4vLyBwbHVnKG9uZVJ1bGUsIGM6IENvbnRleHQpOiBFeHByU3RlcCB8IEVycm9yXG5leHBvcnQgZnVuY3Rpb24gcGx1ZyhcbiAgICBvbmVSdWxlOiBTSV9TVFJVQ1QuT25lUnVsZSxcbiAgICBjOiBTSV9TVFJVQ1QuQ29udGV4dCxcbiAgICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudFxuKTogU0lfU1RSVUNULkV2YWxTdGVwIHwgRXJyb3Ige1xuICAgIC8vY2hlY2sgaWYgY29udGV4dCBpcyBhIEhvbGVcbiAgICBjb25zb2xlLmxvZyhcInBsdWc6IG9uZVJ1bGU6IFwiICsgSlNPTi5zdHJpbmdpZnkob25lUnVsZSkpO1xuICAgIGlmIChTSV9TVFJVQ1QuaXNIb2xlKGMpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5FdmFsU3RlcCxcbiAgICAgICAgICAgIGVudjogZW52LFxuICAgICAgICAgICAgcnVsZTogb25lUnVsZSxcbiAgICAgICAgICAgIHJlc3VsdDogb25lUnVsZS5yZXN1bHQsXG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy9BcHBseSBPbmVSdWxlIHdpdGggS09ORyBSVUxFXG4gICAgICAgIGNvbnN0IGV4cHJTdGVwID0gcGx1ZyhvbmVSdWxlLCBjLmN0eCwgZW52KTtcbiAgICAgICAgaWYgKFNJX1NUUlVDVC5pc0V2YWxTdGVwKGV4cHJTdGVwKSkge1xuICAgICAgICAgICAgLy8gUmVzdWx0IGlzIFJ1bGVFcnJvclxuICAgICAgICAgICAgaWYgKGV4cHJTdGVwLnJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cHJTdGVwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL0FwcENvbnRleHRcbiAgICAgICAgICAgICAgICBpZiAoU0lfU1RSVUNULmlzQXBwQ29udGV4dChjKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhcmdzID0gW2MudmFsdWVzLCBleHByU3RlcC5yZXN1bHQsIGMuYXJnc10uZmxhdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdBcmdzID0gYXJncy5tYXAoKGFyZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFNJX1NUUlVDVC5pc1ZhbHVlKGFyZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdBcmc6IEJTTF9BU1QuTGl0ZXJhbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhcmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3QXJnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNJZChhcmcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QXJnOiBCU0xfQVNULk5hbWUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbDogYXJnLnN5bWJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdBcmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbEV4cHI6IEJTTF9BU1QuQ2FsbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5GdW5jdGlvbkNhbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBjLm9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogbmV3QXJncyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJwbHVnOiBlbnY6IFwiICsgSlNPTi5zdHJpbmdpZnkoZW52KSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5FdmFsU3RlcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudjogZW52LFxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLktvbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRleFJ1bGU6IG9uZVJ1bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBmaW5hbEV4cHIsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8vQ29uZENvbnRleHRcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0NvbmRDb250ZXh0KGMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjLm9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cHI6IEJTTF9BU1QuZXhwciA9IFNJX1NUUlVDVC5pc1ZhbHVlKGV4cHJTdGVwLnJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgICAgID8geyB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCwgdmFsdWU6IGV4cHJTdGVwLnJlc3VsdCB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IGV4cHJTdGVwLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RDbGF1c2U6IEJTTF9BU1QuQ2xhdXNlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkNvbmRPcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb246IGV4cHIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IG9wdGlvbnNbMF0ucmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdPcHRpb25zID0gW2ZpcnN0Q2xhdXNlLCAuLi5vcHRpb25zLnNsaWNlKDEpXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxFeHByOiBCU0xfQVNULkNvbmQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZEV4cHJlc3Npb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBuZXdPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uRXZhbFN0ZXAsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnY6IGVudixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5Lb25nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IGMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkZXhSdWxlOiBvbmVSdWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogZmluYWxFeHByLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBFcnJvcihcInBsdWc6IGNvbnRleHQgaXMgbm90IGFuIEFwcENvbnRleHQgb3IgQ29uZENvbnRleHRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGV4cHJTdGVwO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyAjIyMjIyMjIE9ORSBSVUxFIEZVTkNUSU9OUyAjIyMjIyMjXG4vL1RPRE86IHJlZmFjdG9yIHByaW0gd2l0aCBtYXAgaW5zdGVhZCBvZiBmb3IgbG9vcFxuZXhwb3J0IGZ1bmN0aW9uIHByaW0oXG4gICAgbmFtZTogQlNMX0FTVC5OYW1lLFxuICAgIGFyZ3M6IFNJX1NUUlVDVC5WYWx1ZVtdXG4pOiBTSV9TVFJVQ1QuVmFsdWUgfCBFcnJvciB7XG4gICAgLy8gKyAtICpcbiAgICBpZiAobmFtZS5zeW1ib2wgPT09IFwiK1wiKSB7XG4gICAgICAgIGxldCBuID0gMDtcbiAgICAgICAgYXJncy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbCA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgbiArPSBlbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwiZXJyb3I6IGFyZ3VtZW50IGlzIG5vdCBhIG51bWJlcjogXCIgKyBlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbjtcbiAgICB9IGVsc2UgaWYgKG5hbWUuc3ltYm9sID09PSBcIipcIikge1xuICAgICAgICBsZXQgbiA9IDE7XG4gICAgICAgIGFyZ3MuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZWwgPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIG4gKj0gZWw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBFcnJvcihcImVycm9yOiBhcmd1bWVudCBpcyBub3QgYSBudW1iZXI6IFwiICsgZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgfSBlbHNlIGlmIChuYW1lLnN5bWJvbCA9PT0gXCItXCIpIHtcbiAgICAgICAgbGV0IG4gPSBhcmdzWzBdO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBlbCA9IGFyZ3NbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVsID09IFwibnVtYmVyXCIgJiYgdHlwZW9mIG4gPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIG4gLT0gZWw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBFcnJvcihcImVycm9yOiBhcmd1bWVudCBpcyBub3QgYSBudW1iZXI6IFwiICsgYXJnc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG47XG4gICAgfSBlbHNlIGlmIChuYW1lLnN5bWJvbCA9PT0gXCIvXCIpIHtcbiAgICAgICAgbGV0IG4gPSBhcmdzWzBdO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBlbCA9IGFyZ3NbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIG4gPT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgZWwgPT0gXCJudW1iZXJcIiAmJiBlbCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgbiAvPSBlbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwgPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBFcnJvcihcImVycm9yOiBkaXZpc2lvbiBieSB6ZXJvXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJlcnJvcjogYXJndW1lbnQgaXMgbm90IGEgbnVtYmVyOiBcIiArIGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbjtcbiAgICB9XG4gICAgLy8gYW5kLCBvciwgbm90XG4gICAgZWxzZSBpZiAobmFtZS5zeW1ib2wgPT09IFwiYW5kXCIpIHtcbiAgICAgICAgaWYgKGFyZ3MuZXZlcnkoKGVsKSA9PiB0eXBlb2YgZWwgPT0gXCJib29sZWFuXCIpKSB7XG4gICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgICAgIGlmIChhcmdzLmV2ZXJ5KChlbCkgPT4gZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBFcnJvcihgcHJpbTogJHtuYW1lLnN5bWJvbH0gbmVlZHMgYXQgbGVhc3QgdHdvIGFyZ3VtZW50c2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwicHJpbTogJ2FuZCcgbmVlZHMgYm9vbGVhbiBhcmd1bWVudHNcIik7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5hbWUuc3ltYm9sID09PSBcIm9yXCIpIHtcbiAgICAgICAgaWYgKGFyZ3MuZXZlcnkoKGVsKSA9PiB0eXBlb2YgZWwgPT0gXCJib29sZWFuXCIpKSB7XG4gICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgICAgIGlmIChhcmdzLnNvbWUoKGVsKSA9PiBlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwicHJpbTogJ29yJyBuZWVkcyBhdCBsZWFzdCB0d28gYXJndW1lbnRzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwicHJpbTogJ29yJyBuZWVkcyBib29sZWFuIGFyZ3VtZW50c1wiKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAobmFtZS5zeW1ib2wgPT09IFwibm90XCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhYXJnc1swXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwicHJpbTogJ25vdCcgbmVlZHMgZXhhY3RseSBvbmUgYXJndW1lbnRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJwcmltOiAnbm90JyBuZWVkcyBib29sZWFuIGFyZ3VtZW50XCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGxlc3MgdGhhbiBhbmQgZ3JlYXRlciB0aGFuLCB0byB0ZXN0IEhUTUwgZXNjYXBpbmdcbiAgICBlbHNlIGlmIChbXCI8XCIsIFwiPlwiLCBcIjw9XCIsIFwiPj1cIl0uaW5jbHVkZXMobmFtZS5zeW1ib2wpKSB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgcmV0dXJuIEVycm9yKGBwcmltOiAke25hbWUuc3ltYm9sfSBuZWVkcyBleGFjdGx5IHR3byBhcmd1bWVudHNgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZWZ0ID0gYXJnc1swXTtcbiAgICAgICAgY29uc3QgcmlnaHQgPSBhcmdzWzFdO1xuICAgICAgICBpZiAodHlwZW9mIGxlZnQgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHJpZ2h0ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICByZXR1cm4gRXJyb3IoXG4gICAgICAgICAgICAgICAgYHByaW06ICR7bmFtZS5zeW1ib2x9IG5lZWRzIHR3byBudW1iZXJzLCBidXQgcmVjZWl2ZWQgJHtsZWZ0fSBhbmQgJHtyaWdodH1gXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAobmFtZS5zeW1ib2wpIHtcbiAgICAgICAgICAgIGNhc2UgXCI8XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnQgPCByaWdodDtcbiAgICAgICAgICAgIGNhc2UgXCI8PVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0IDw9IHJpZ2h0O1xuICAgICAgICAgICAgY2FzZSBcIj49XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnQgPj0gcmlnaHQ7XG4gICAgICAgICAgICBjYXNlIFwiPlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0ID4gcmlnaHQ7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBuZXZlciByZWFjaGVkIGJ1dCBuZWVkZWQgZm9yIGNvbXBpbGVyXG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZWxzZSB0aHJvdyBlcnJvclxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gRXJyb3IoXCJwcmltOiB0aGlzIGZ1bmN0aW9uIGlzIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgICB9XG59XG5cbi8vIGNvbmRcbi8vIGNvbmQgUmVkZXggPT4gIEJTTF9BU1QuZXhwciB8IGZhbHNlXG5mdW5jdGlvbiBjb25kKFxuICAgIHI6IFNJX1NUUlVDVC5Db25kUmVkZXhcbik6IEJTTF9BU1QuZXhwciB8IFNJX1NUUlVDVC5WYWx1ZSB8IHVuZGVmaW5lZCB8IEVycm9yIHtcbiAgICBjb25zdCBjbGF1c2UgPSByLm9wdGlvbnNbMF07XG4gICAgaWYgKEJTTF9BU1QuaXNMaXRlcmFsKGNsYXVzZS5jb25kaXRpb24pICYmIGNsYXVzZS5jb25kaXRpb24udmFsdWUgPT0gdHJ1ZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBCU0xfQVNULmlzTGl0ZXJhbChjbGF1c2UucmVzdWx0KVxuICAgICAgICAgICAgPyBjbGF1c2UucmVzdWx0LnZhbHVlXG4gICAgICAgICAgICA6IGNsYXVzZS5yZXN1bHQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgICAgQlNMX0FTVC5pc0xpdGVyYWwoY2xhdXNlLmNvbmRpdGlvbikgJiZcbiAgICAgICAgY2xhdXNlLmNvbmRpdGlvbi52YWx1ZSA9PSBmYWxzZVxuICAgICkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBFcnJvcihcImVycm9yOiBjb25kaXRpb24gaXMgbm90IGEgYm9vbGVhblwiKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHN1YnN0Q29uc3QoXG4gICAgcjogU0lfU1RSVUNULlJlZGV4LFxuICAgIGVudjogU0lfU1RSVUNULkVudmlyb25tZW50XG4pOiBCU0xfQVNULmV4cHIgfCBFcnJvciB7XG4gICAgaWYgKFNJX1NUUlVDVC5pc0NhbGxSZWRleChyKSkge1xuICAgICAgICAvLyBnZXQgdGhlIGlkZW50aWZpZXIgYXJndW1lbnRcbiAgICAgICAgY29uc3QgaWRMc3Q6IFNJX1NUUlVDVC5JZFtdID0gci5hcmdzLmZpbHRlcigoZWwpID0+XG4gICAgICAgICAgICBTSV9TVFJVQ1QuaXNJZChlbClcbiAgICAgICAgKSBhcyBTSV9TVFJVQ1QuSWRbXTtcbiAgICAgICAgY29uc3QgaWQ6IFNJX1NUUlVDVC5JZCA9IGlkTHN0WzBdO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGxvb2t1cEVudihlbnYsIGlkLnN5bWJvbCk7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBuZXdBcmdzOiBCU0xfQVNULmV4cHJbXSA9IHIuYXJncy5tYXAoKGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKFNJX1NUUlVDVC5pc0lkKGVsKSAmJiBlbC5zeW1ib2wgPT09IGlkLnN5bWJvbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3TGl0OiBCU0xfQVNULkxpdGVyYWwgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld0xpdDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0lkKGVsKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3TmFtZTogQlNMX0FTVC5OYW1lID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbDogZWwuc3ltYm9sLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3TmFtZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3TGl0OiBCU0xfQVNULkxpdGVyYWwgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlbCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld0xpdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkZ1bmN0aW9uQ2FsbCxcbiAgICAgICAgICAgICAgICBuYW1lOiByLm5hbWUsXG4gICAgICAgICAgICAgICAgYXJnczogbmV3QXJncyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0NvbmRSZWRleChyKSkge1xuICAgICAgICBjb25zdCBuYW1lID0gci5vcHRpb25zWzBdLmNvbmRpdGlvbjtcbiAgICAgICAgaWYgKEJTTF9BU1QuaXNOYW1lKG5hbWUpKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGxvb2t1cEVudihlbnYsIG5hbWUuc3ltYm9sKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3TGl0OiBCU0xfQVNULkxpdGVyYWwgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3T3B0OiBCU0xfQVNULkNsYXVzZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkNvbmRPcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogbmV3TGl0LFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHIub3B0aW9uc1swXS5yZXN1bHQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3Q29uZDogQlNMX0FTVC5Db25kID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZEV4cHJlc3Npb24sXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtuZXdPcHRdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld0NvbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJzdWJzdENvbnN0OiBjb25kaXRpb24gaXMgbm90IGEgbmFtZVwiKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzTmFtZVJlZGV4KHIpKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gbG9va3VwRW52KGVudiwgci5zeW1ib2wpO1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IG5ld0xpdDogQlNMX0FTVC5MaXRlcmFsID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gbmV3TGl0O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEVycm9yKFwic3Vic3RDb25zdDogcmVkZXggaXMgbm90IGEgY2FsbCBvciBjb25kIG9yIG5hbWVcIik7XG4gICAgfVxufVxuXG4vL2Z1blxuLypmdW5jdGlvbiBzdWJzdEZ1bihyOlNJX1NUUlVDVC5DYWxsUmVkZXgsIGVudjogU0lfU1RSVUNULkVudmlyb25tZW50KTogQlNMX0FTVC5leHByIHwgRXJyb3Ige1xuICAgIGNvbnN0IHZhbHVlOiBTSV9TVFJVQ1QuVmFsdWUgPSBsb29rdXBFbnYoZW52LCByLm5hbWUuc3ltYm9sKTtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNGdW4odmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtID0gdmFsdWUucGFyYW07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB2YWx1ZS5ib2R5O1xuICAgICAgICBpZiAoci5hcmdzLmxlbmd0aCA9PSBwYXJhbS5sZW5ndGgpIHtcbiAgICAgICAgLy9EbyBTSElUXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwic3Vic3RGdW46IG51bWJlciBvZiBhcmd1bWVudHMgZG9lc24ndCBtYXRjaFwiKTtcbiAgICAgICAgfVxuXG59Ki9cblxuLy9zdHJ1Y3RcbmZ1bmN0aW9uIHN0cnVjdFJ1bGUoKSB7IH1cblxuLy8gIyMjIyMjIyBFbnZpcm9ubWVudCBGdW5jdGlvbnMgIyMjIyMjI1xuXG5mdW5jdGlvbiBhZGRUb0VudihcbiAgICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudCxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgdmFsdWU6IFNJX1NUUlVDVC5WYWx1ZVxuKTogU0lfU1RSVUNULkVudmlyb25tZW50IHwgRXJyb3Ige1xuICAgIGlmIChlbnZbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBuZXdFbnYgPSB7IC4uLmVudiB9O1xuICAgICAgICBuZXdFbnZbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCJhZGRUb0VudjogXCIgKyBuYW1lICsgXCI6XCIgKyB2YWx1ZSArIFwiIGFkZGVkIHRvIFwiICsgSlNPTi5zdHJpbmdpZnkoZW52KVxuICAgICAgICApO1xuICAgICAgICBjb25zb2xlLndhcm4oXCJhZGRUb0VudjogbmV3RW52ID0gXCIgKyBKU09OLnN0cmluZ2lmeShuZXdFbnYpKTtcbiAgICAgICAgcmV0dXJuIG5ld0VudjtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gRXJyb3IoXCJhZGRUb0VudjogbmFtZSBhbHJlYWR5IGV4aXN0cyBpbiBlbnZpcm9ubWVudFwiKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxvb2t1cEVudihcbiAgICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudCxcbiAgICBuYW1lOiBzdHJpbmdcbik6IFNJX1NUUlVDVC5WYWx1ZSB8IEVycm9yIHtcbiAgICBpZiAobmFtZSBpbiBlbnYpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwibG9va3VwRW52OiBcIiArIG5hbWUgKyBcIiBmb3VuZCBpbiBcIiArIEpTT04uc3RyaW5naWZ5KGVudikpO1xuICAgICAgICByZXR1cm4gZW52W25hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBFcnJvcihcImxvb2t1cEVudjogbmFtZSBpcyBub3QgYm91bmQgaW4gZW52aXJvbm1lbnRcIik7XG4gICAgfVxufVxuIiwgIi8vIHBhcnNpbmcgYW5kIHByb2Nlc3NpbmcgY29kZSBpbnB1dFxuaW1wb3J0IHsgcGFyc2UgfSBmcm9tICcuL0JTTF9QYXJzZXInO1xuaW1wb3J0ICogYXMgQlNMX0FTVCBmcm9tIFwiLi9CU0xfQVNUXCI7XG5pbXBvcnQgKiBhcyBCU0xfUHJpbnQgZnJvbSAnLi9CU0xfUHJpbnQnO1xuLy8gc21hbGwtc3RlcCBpbnRlcnByZXRlciBiYWNrLWVuZFxuaW1wb3J0ICogYXMgU0lfU1RSVUNUIGZyb20gXCIuL1NJX1NUUlVDVFwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlUHJvZ3JhbSB9IGZyb20gJy4vU0knO1xuLy8gc3R5bGVzICYgaWNvbiByZXNzb3VyY2VzXG5pbXBvcnQgeyBkZWZhdWx0IGFzIHNtYWxsX2ludGVycHJldGVyX2NzcyB9IGZyb20gJy4vcmVzc291cmNlcy9zbWFsbC1pbnRlcnByZXRlci5jc3MnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBhbmdsZV91cCB9IGZyb20gJy4vcmVzc291cmNlcy9pY29ucy9hbmdsZS11cC1zb2xpZC5zdmcnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBhbmdsZV9kb3duIH0gZnJvbSAnLi9yZXNzb3VyY2VzL2ljb25zL2FuZ2xlLWRvd24tc29saWQuc3ZnJztcbmltcG9ydCB7IGRlZmF1bHQgYXMgcGx1c19pY29uIH0gZnJvbSAnLi9yZXNzb3VyY2VzL2ljb25zL3BsdXMtc29saWQuc3ZnJztcbmltcG9ydCB7IGRlZmF1bHQgYXMgbWludXNfaWNvbiB9IGZyb20gJy4vcmVzc291cmNlcy9pY29ucy9taW51cy1zb2xpZC5zdmcnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBjaXJjbGVfaW5mbyB9IGZyb20gJy4vcmVzc291cmNlcy9pY29ucy9jaXJjbGUtaW5mby1zb2xpZC5zdmcnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBjaXJjbGVfeG1hcmsgfSBmcm9tICcuL3Jlc3NvdXJjZXMvaWNvbnMvY2lyY2xlLXhtYXJrLXNvbGlkLnN2Zyc7XG4vLyBodG1sIGhlbHBlcnNcbmltcG9ydCB7IGdldFBhcmVudENsYXNzUmVjdXJzaXZlLCBuYXZpZ2F0ZURPTSB9IGZyb20gJy4vRE9NX0hlbHBlcnMnO1xuXG4vLyAjIyMjIyMjIyMgbWFpbiBmdW5jdGlvbiBwcm9jZXNzaW5nIHN0ZXBwZXJzICMjIyMjIyMjIyMjXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc1N0ZXBwZXJzKCkge1xuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdGVwcGVyJykpLm1hcChlbCA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHByb2dyYW0gOiBCU0xfQVNULnByb2dyYW0gPSBwYXJzZShCU0xfUHJpbnQuZGlydGlmeShlbC5pbm5lckhUTUwpKTtcbiAgICAgIGNvbnNvbGUubG9nKEJTTF9QcmludC5pbmRlbnQoQlNMX1ByaW50LnBwcmludChwcm9ncmFtKSwgMzApKTtcbiAgICAgIHNldFVwU3RlcHBlckd1aShwcm9ncmFtLCBlbCBhcyBIVE1MRWxlbWVudCk7XG4gICAgfSBjYXRjaCAoZTphbnkpIHtcbiAgICAgIGxldCBlcnJvcjtcbiAgICAgIGlmKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgZXJyb3IgPSBgJHtlfWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBlcnJvcicpO1xuICAgICAgICBlcnJvciA9ICdVbmtub3duIEVycm9yJztcbiAgICAgIH1cbiAgICAgIGVsLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGgzPkVycm9yIHR1cm5pbmcgUHJvZ3JhbSBpbnRvIFN0ZXBwZXI8L2gzPlxuICAgICAgICA8ZGl2PiR7ZWwuaW5uZXJIVE1MfTwvZGl2PlxuICAgICAgICA8ZGl2PiR7ZXJyb3J9PC9kaXY+XG4gICAgICBgO1xuICAgICAgKGVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICBwYWRkaW5nOiAyZW07XG4gICAgICAgIGNvbG9yOiBkYXJrcmVkO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGA7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gIyMjIHNldCB1cCBhIHNpbmdsZSBzdGVwcGVyICMjI1xuZXhwb3J0IGZ1bmN0aW9uIHNldFVwU3RlcHBlckd1aShwcm9ncmFtOkJTTF9BU1QucHJvZ3JhbSwgZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgLy8gYWRkIGNzcyBpZiBuZWNlc3NhcnlcbiAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdic2wtdG9vbHMtc3RlcHBlci1zdHlsZScpKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgIHN0eWxlTm9kZS5pbm5lckhUTUwgPSBzbWFsbF9pbnRlcnByZXRlcl9jc3M7XG4gICAgICAgIHN0eWxlTm9kZS5pZCA9ICdic2wtdG9vbHMtc3RlcHBlci1zdHlsZSc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc3R5bGVOb2RlKTtcbiAgICB9XG4gICAgLy8gY2FsY3VsYXRlIFN0ZXBzXG4gICAgY29uc3QgZXhwciA9ICBwcm9ncmFtWzBdIGFzIEJTTF9BU1QuZXhwcjtcbiAgICBjb25zb2xlLmxvZyhcImV4cHJlc3Npb25cIiwgZXhwcik7XG4gICAgY29uc3QgZW1wdHlTdGVwcGVyOiBTSV9TVFJVQ1QuU3RlcHBlciA9IHtcbiAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uU3RlcHBlcixcbiAgICAgICAgcm9vdDogZWwsXG4gICAgICAgIG9yaWdpblByb2dyYW06IHByb2dyYW0sXG4gICAgICAgIHN0ZXBwZXJUcmVlOiBbXSxcbiAgICB9O1xuICAgIGNvbnN0IHN0ZXBwZXIgPSBjYWxjdWxhdGVQcm9ncmFtKHByb2dyYW0sIGVtcHR5U3RlcHBlcik7XG4gICAgaWYgKHN0ZXBwZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgdGhyb3cgc3RlcHBlcjtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJzdGVwcGVyXCIsIHN0ZXBwZXIpO1xuICAgIC8vIHNldCBsYW5ndWFnZVxuICAgIGxldCBsYW5nID0gZWwuZ2V0QXR0cmlidXRlKCdsYW5nJyk7XG4gICAgaWYgKCFsYW5nKSB7XG4gICAgICBsYW5nID0gJ2VuJztcbiAgICB9IGVsc2UgaWYgKCFpbXBsZW1lbnRlZExhbmd1YWdlcy5pbmNsdWRlcyhsYW5nKSkge1xuICAgICAgY29uc29sZS5lcnJvcihgXG4gICAgICAgIExhbmd1YWdlICR7bGFuZ30gaXMgbm90IGltcGxlbWVudGVkIGZvciB0aGlzIG1vZHVsZSxcbiAgICAgICAgeW91IGNhbiBjaG9vc2UgZnJvbSAke2ltcGxlbWVudGVkTGFuZ3VhZ2VzLmpvaW4oJywnKX0uXG4gICAgICAgIERlZmF1bHRpbmcgdG8gJ2VuJy5cbiAgICAgIGApO1xuICAgICAgbGFuZyA9ICdlbic7XG4gICAgfVxuICAgIC8vIGdldCB3aWR0aCBvZiBzaW5nbGUgY2hhcmFjdGVyIGZvciBkeW5hbWljIG1heHdpZHRoIGluZGVudGF0aW9uXG4gICAgc2V0Q2hhclB4V2lkdGgoZWwpO1xuICAgIC8vIHJlbmRlciBhbmQgYXR0YWNoXG4gICAgZWwuaW5uZXJIVE1MID0gcmVuZGVyU3RlcHBlcihzdGVwcGVyLCBsYW5nIGFzIGltcGxlbWVudGVkTGFuZ3VhZ2UpO1xufVxuXG4vLyAjIyMjIyMgaW50ZXJuYXRpb25hbGl6YXRpb24gZm9yIHRoaXMgbW9kdWxlICMjIyMjXG50eXBlIGltcGxlbWVudGVkTGFuZ3VhZ2UgPSAnZW4nIHwgJ2RlJztcbmNvbnN0IGltcGxlbWVudGVkTGFuZ3VhZ2VzID0gWydlbicsICdkZSddO1xuXG5jb25zdCBkaWN0aW9uYXJ5ID0ge1xuICAnZW4nOiB7XG4gICAgJ2N1cnJlbnQgZXZhbHVhdGlvbic6ICdDdXJyZW50IEV2YWx1YXRpb24nLFxuICAgICduZXh0IHN0ZXAnOiAnTmV4dCBTdGVwJyxcbiAgICAncHJldmlvdXMgc3RlcCc6ICdQcmV2aW91cyBTdGVwJyxcbiAgICAnZW52aXJvbm1lbnQnOiAnRW52aXJvbm1lbnQnLFxuICAgICdyZW1haW5pbmcgcHJvZ3JhbSc6ICdSZW1haW5pbmcgUHJvZ3JhbScsXG4gICAgJ3N0YXJ0IGV2YWx1YXRpb24nOiAnU3RhcnQgRXZhbHVhdGlvbicsXG4gICAgJ2V2YWx1YXRpb24gZmluaXNoZWQnOiAnRXZhbHVhdGlvbiBGaW5pc2hlZCcsXG4gICAgJ2dvIGJhY2snOiAnR28gQmFjaydcbiAgfSxcbiAgJ2RlJzoge1xuICAgICdjdXJyZW50IGV2YWx1YXRpb24nOiAnQWt0dWVsbGUgQXVzd2VydHVuZycsXG4gICAgJ25leHQgc3RlcCc6ICdOXHUwMEU0Y2hzdGVyIFNjaHJpdHQnLFxuICAgICdwcmV2aW91cyBzdGVwJzogJ1ZvcmhlcmlnZXIgU2Nocml0dCcsXG4gICAgJ2Vudmlyb25tZW50JzogJ1VtZ2VidW5nJyxcbiAgICAncmVtYWluaW5nIHByb2dyYW0nOiAnXHUwMERDYnJpZ2VzIFByb2dyYW1tJyxcbiAgICAnc3RhcnQgZXZhbHVhdGlvbic6ICdBdXN3ZXJ0dW5nIFN0YXJ0ZW4nLFxuICAgICdldmFsdWF0aW9uIGZpbmlzaGVkJzogJ0F1c3dlcnR1bmcgQmVlbmRldCcsXG4gICAgJ2dvIGJhY2snOiAnU2Nocml0dCB6dXJcdTAwRkNjaydcbiAgfSxcbn07XG5cbi8vICMjIyMjIyMgUkVOREVSIEZVTkNUSU9OUyAjIyMjIyMjXG4vLyBoZWxwZXIgZm9yIGdldHRpbmcgd2lkdGggb2YgZW0gaW4gcHhcbmxldCBjaGFyUHhXaWR0aCA9IDEyOyAvLyBhcmJpdHJhcnkgZGVmYXVsdFxubGV0IG1heFdpZHRoSW5DaGFycyA9IDgwO1xuZnVuY3Rpb24gc2V0Q2hhclB4V2lkdGgoZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gIGVsLmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwic3RlcHBlclwiIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiYm94XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwIGNvZGVcIlxuICAgICAgICAgICAgIGRhdGEtY3VycmVudFN0ZXA9XCJ0cnVlXCI+XG4gICAgICAgICAgPHAgc3R5bGU9XCJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+TG9hZGluZy4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcbiAgY29uc3QgcCA9IGVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwJylbMF07XG4gIGNvbnN0IHN0ZXBwZXIgPSBlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGVwcGVyJylbMF07XG4gIGlmKCFwIHx8ICFzdGVwcGVyKSB7XG4gICAgY29uc29sZS5lcnJvcignZmFpbGVkIHRvIGluamVjdCBtZWFzdXJpbmcgSFRNTCBpbnRvJywgZWwpO1xuICAgIHJldHVybjtcbiAgfVxuICBjaGFyUHhXaWR0aCA9IHAuY2xpZW50V2lkdGggLyAnTG9hZGluZy4uLicubGVuZ3RoO1xuICBjb25zb2xlLmxvZyhgRm91bmQgdGhhdCAxZW0gaXMgJHtjaGFyUHhXaWR0aH0gd2lkZWApO1xuICBjb25zdCBmYWN0b3IgPSAwLjk7XG4gIG1heFdpZHRoSW5DaGFycyA9IE1hdGgucm91bmQoKGZhY3RvciAqIHN0ZXBwZXIuY2xpZW50V2lkdGgpIC8gY2hhclB4V2lkdGgpO1xuICBjb25zb2xlLmxvZyhgXG4gICAgVGhhdCBtZWFucyB0byBmaWxsICR7ZmFjdG9yfSBvZiB0aGUgYXZhaWxhYmxlIHdpZHRoLFxuICAgIHdlIG1heSBwcmludCBhdCBtb3N0ICR7bWF4V2lkdGhJbkNoYXJzfSBjaGFyYWN0ZXJzLlxuICBgKTtcbn1cblxuLy8gbWFpbiBmdW5jdGlvblxuZnVuY3Rpb24gcmVuZGVyU3RlcHBlcihzdGVwcGVyOiBTSV9TVFJVQ1QuU3RlcHBlciwgbGFuZzogaW1wbGVtZW50ZWRMYW5ndWFnZSk6IHN0cmluZ3tcbiAgICBjb25zdCBzdGVwcGVyVHJlZSA9IHN0ZXBwZXIuc3RlcHBlclRyZWU7XG5cbiAgICBjb25zdCBzdHIgPVxuICAgIGA8ZGl2IGNsYXNzPVwic3RlcHBlclwiPlxuXG4gICAgICAgPGRpdiBjbGFzcz1cImJveCBlbnZpcm9ubWVudFwiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cImJveGxhYmVsXCI+JHtkaWN0aW9uYXJ5W2xhbmddWydlbnZpcm9ubWVudCddfTwvZGl2PlxuICAgICAgICAgJHtzdGVwcGVyVHJlZS5maWx0ZXIoU0lfU1RSVUNULmlzRGVmaW5pdGlvblN0ZXApLm1hcChyZW5kZXJEZWZpbml0aW9uKS5qb2luKCcnKX1cbiAgICAgICA8L2Rpdj5cblxuICAgICAgIDxkaXYgY2xhc3M9XCJib3ggZXhwcmVzc2lvbi1zdGVwc1wiXG4gICAgICAgICAgICBkYXRhLXByb2dzdGVwPVwiLTFcIlxuICAgICAgICAgICAgZGF0YS12aXNpYmxlPVwidHJ1ZVwiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cImJveGxhYmVsXCI+JHtkaWN0aW9uYXJ5W2xhbmddWydjdXJyZW50IGV2YWx1YXRpb24nXX08L2Rpdj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwXCJcbiAgICAgICAgICAgICAgZGF0YS1jdXJyZW50U3RlcD1cInRydWVcIj5cbiAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5leHQtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbmNsaWNrPVwiZ290b0V4cHJlc3Npb24oZXZlbnQsIDEpXCI+XG4gICAgICAgICAgICAgJHtkaWN0aW9uYXJ5W2xhbmddWydzdGFydCBldmFsdWF0aW9uJ119IDxpbWcgY2xhc3M9XCJpY29uXCIgc3JjPVwiJHthbmdsZV9kb3dufVwiPlxuICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZGl2PlxuXG4gICAgICAgJHtzdGVwcGVyVHJlZS5tYXAoKGVsLCBpKSA9PiByZW5kZXJFdmFsU3RlcHMoZWwsIGksIGxhbmcpKS5qb2luKCcnKX1cblxuICAgICAgIDxkaXYgY2xhc3M9XCJib3ggZXhwcmVzc2lvbi1zdGVwc1wiXG4gICAgICAgICAgICBkYXRhLXByb2dzdGVwPVwiJHtzdGVwcGVyVHJlZS5sZW5ndGh9XCJcbiAgICAgICAgICAgIGRhdGEtdmlzaWJsZT1cImZhbHNlXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYm94bGFiZWxcIj4ke2RpY3Rpb25hcnlbbGFuZ11bJ2N1cnJlbnQgZXZhbHVhdGlvbiddfTwvZGl2PlxuICAgICAgICAgPGRpdiBjbGFzcz1cInN0ZXBcIlxuICAgICAgICAgICAgICBkYXRhLWN1cnJlbnRTdGVwPVwidHJ1ZVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvZGVcIj4ke2RpY3Rpb25hcnlbbGFuZ11bJ2V2YWx1YXRpb24gZmluaXNoZWQnXX08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgIG9uY2xpY2s9XCJnb3RvRXhwcmVzc2lvbihldmVudCwgLTEpXCI+XG4gICAgICAgICAgICAgICR7ZGljdGlvbmFyeVtsYW5nXVsnZ28gYmFjayddfSA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cIiR7YW5nbGVfdXB9XCI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZGl2PlxuXG4gICAgICAgPGRpdiBjbGFzcz1cImJveCBwcm9ncmFtXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYm94bGFiZWxcIj4ke2RpY3Rpb25hcnlbbGFuZ11bJ3JlbWFpbmluZyBwcm9ncmFtJ119PC9kaXY+XG4gICAgICAgICAke3N0ZXBwZXJUcmVlLm1hcChyZW5kZXJPcmlnaW5hbEV4cHJlc3Npb24pLmpvaW4oJycpfVxuICAgICAgIDwvZGl2PlxuXG4gICAgPC9kaXY+YDtcbiAgICByZXR1cm4gc3RyO1xufVxuKHdpbmRvdyBhcyBhbnkpLmdvdG9FeHByZXNzaW9uID0gKGU6IEV2ZW50LCBhOiBudW1iZXIpID0+IHtcbiAgbmF2aWdhdGVFeHByZXNzaW9uKGUsIGEpO1xufVxuLy8gcmVuZGVyIHdoYXQgcmVtYWlucyBvZiBhbiBleHByZXNzaW9uIGFmdGVyIGV2YWx1YXRpb25cbmZ1bmN0aW9uIHJlbmRlckRlZmluaXRpb24ocHJvZ1N0ZXA6IFNJX1NUUlVDVC5EZWZpbml0aW9uU3RlcCwgaWR4OiBudW1iZXIpOiBzdHJpbmcge1xuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJzdGVwIGNvZGVcIlxuICAgICAgICAgZGF0YS1wcm9nc3RlcD1cIiR7aWR4fVwiXG4gICAgICAgICBkYXRhLXZpc2libGU9XCJmYWxzZVwiPlxuICAgICAgJHtCU0xfUHJpbnQuaW5kZW50KFxuICAgICAgICAgIEJTTF9QcmludC5zYW5pdGl6ZShcbiAgICAgICAgICAgIEJTTF9QcmludC5wcmludERlZmluaXRpb24ocHJvZ1N0ZXAucmVzdWx0KSksXG4gICAgICAgICAgbWF4V2lkdGhJbkNoYXJzLCAnaHRtbCcpfVxuICAgIDwvZGl2PlxuICBgO1xufVxuXG4vLyByZW5kZXIgdGhlIHBhcnQgb2YgdGhlIG9yaWdpbmFsIFByb2dyYW0gdGhhdCBpcyBiZWluZyByZXByZXNlbnRlZCBieSBhIHByb2dzdGVwXG5mdW5jdGlvbiByZW5kZXJPcmlnaW5hbEV4cHJlc3Npb24ocHJvZ1N0ZXA6IFNJX1NUUlVDVC5Qcm9nU3RlcCwgaWR4OiBudW1iZXIpOiBzdHJpbmcge1xuICBsZXQgY29kZTtcbiAgaWYocHJvZ1N0ZXAuZXZhbFN0ZXBzLmxlbmd0aCA+IDApIHtcbiAgICAvLyBtYW51YWxseSByZW5kZXIgb3V0IGV4cHJlc3Npb24gZnJvbSBjb250ZXh0IGFuZCByZWRleFxuICAgIGNvbnN0IGZpcnN0U3RlcCA9IHByb2dTdGVwLmV2YWxTdGVwc1swXTtcbiAgICBjb25zdCBjb250ZXh0OkNvbnRleHQgPVxuICAgICAgU0lfU1RSVUNULmlzS29uZyhmaXJzdFN0ZXAucnVsZSkgP1xuICAgICAgICBwcmludENvbnRleHQoZmlyc3RTdGVwLnJ1bGUuY29udGV4dClcbiAgICAgICAgOiB7bGVmdDonJywgcmlnaHQ6Jyd9O1xuICAgIGNvbnN0IHJlZGV4UnVsZSA9XG4gICAgICBTSV9TVFJVQ1QuaXNLb25nKGZpcnN0U3RlcC5ydWxlKSA/XG4gICAgICAgIGZpcnN0U3RlcC5ydWxlLnJlZGV4UnVsZVxuICAgICAgICA6IGZpcnN0U3RlcC5ydWxlO1xuICAgIGNvbnN0IHJlZGV4OiBzdHJpbmcgPVxuICAgICAgcHJpbnRSZWRleChyZWRleFJ1bGUucmVkZXgpO1xuICAgIGlmICghY29udGV4dC5yaWdodC5zdGFydHNXaXRoKCcpJykpIGNvbnRleHQucmlnaHQgPSBgICR7Y29udGV4dC5yaWdodH1gO1xuICAgIGNvZGUgPSBgJHtjb250ZXh0LmxlZnR9JHtyZWRleH0ke2NvbnRleHQucmlnaHR9YDtcbiAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNEZWZpbml0aW9uU3RlcChwcm9nU3RlcCkpIHtcbiAgICAvLyBubyBzdGVwcyAtPiBzaW1wbHkgcHJpbnQgcmVzdWx0XG4gICAgY29kZSA9IEJTTF9QcmludC5wcmludERlZmluaXRpb24ocHJvZ1N0ZXAucmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBleHByZXNzaW9uIHdpdGhvdXQgZXZhbHVhdGlvbiBzdGVwcz8gVGhhdCdzIGEgdmFsdWUhXG4gICAgY29kZSA9IGAke3Byb2dTdGVwLnJlc3VsdCBpbnN0YW5jZW9mIEVycm9yID9cbiAgICAgICAgICAgICAgcHJvZ1N0ZXAucmVzdWx0IDogQlNMX1ByaW50LnByaW50VmFsdWUocHJvZ1N0ZXAucmVzdWx0KX1gO1xuICB9XG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cInN0ZXAgY29kZVwiXG4gICAgICAgICBkYXRhLXByb2dzdGVwPVwiJHtpZHh9XCJcbiAgICAgICAgIGRhdGEtdmlzaWJsZT1cInRydWVcIj5cbiAgICAgICR7QlNMX1ByaW50LmluZGVudChcbiAgICAgICAgICBCU0xfUHJpbnQuc2FuaXRpemUoY29kZSksXG4gICAgICAgICAgbWF4V2lkdGhJbkNoYXJzLCAnaHRtbCcpfVxuICAgIDwvZGl2PlxuICBgO1xufVxuLy8gb25lIHN0ZXBwZXIgZm9yIG9uZSBleHByZXNzaW9uXG5mdW5jdGlvbiByZW5kZXJFdmFsU3RlcHMocHJvZ1N0ZXA6IFNJX1NUUlVDVC5Qcm9nU3RlcCwgaWR4OiBudW1iZXIsIGxhbmc6IGltcGxlbWVudGVkTGFuZ3VhZ2UpOiBzdHJpbmcge1xuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJib3ggZXhwcmVzc2lvbi1zdGVwc1wiXG4gICAgICAgICBkYXRhLXByb2dzdGVwPVwiJHtpZHh9XCJcbiAgICAgICAgIGRhdGEtdmlzaWJsZT1cImZhbHNlXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiYm94bGFiZWxcIj4ke2RpY3Rpb25hcnlbbGFuZ11bJ2N1cnJlbnQgZXZhbHVhdGlvbiddfTwvZGl2PlxuICAgICAgJHtcbiAgICAgICAgICAvLyBhbGwgZXZhbHVhdGlvbiBzdGVwc1xuICAgICAgICAgIHByb2dTdGVwLmV2YWxTdGVwcy5tYXAoKGVsLCBpKSA9PiByZW5kZXJTdGVwKGksIGVsLCBsYW5nKSkuam9pbignJylcbiAgICAgICAgICAvLyByZXN1bHRcbiAgICAgICB9XG4gICAgICA8ZGl2IGNsYXNzPVwic3RlcFwiXG4gICAgICAgICAgIGRhdGEtc3RlcD1cIiR7cHJvZ1N0ZXAuZXZhbFN0ZXBzLmxlbmd0aH1cIlxuICAgICAgICAgICBkYXRhLWN1cnJlbnRTdGVwPVwiJHtwcm9nU3RlcC5ldmFsU3RlcHMubGVuZ3RoID09PSAwID8gJ3RydWUnIDogJ2ZhbHNlJ31cIlxuICAgICAgICAgICBkYXRhLWNvbGxhcHNlZD1cImZhbHNlXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2LWJ1dHRvblwiXG4gICAgICAgICAgICAgb25jbGljaz1cInByZXZTdGVwKGV2ZW50KVwiPlxuICAgICAgICAgICR7ZGljdGlvbmFyeVtsYW5nXVsncHJldmlvdXMgc3RlcCddfSA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cIiR7YW5nbGVfdXB9XCI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibmV4dC1idXR0b25cIlxuICAgICAgICAgICAgIG9uY2xpY2s9XCJuZXh0U3RlcChldmVudClcIj5cbiAgICAgICAgICAke2RpY3Rpb25hcnlbbGFuZ11bJ25leHQgc3RlcCddfSA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cIiR7YW5nbGVfZG93bn1cIj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNwbGl0LXJlc3VsdCBjb2RlXCI+XG4gICAgICAgICAgJHtTSV9TVFJVQ1QuaXNEZWZpbml0aW9uU3RlcChwcm9nU3RlcClcbiAgICAgICAgICAgID8gQlNMX1ByaW50LnByaW50RGVmaW5pdGlvbihwcm9nU3RlcC5yZXN1bHQpXG4gICAgICAgICAgICA6IGAke3Byb2dTdGVwLnJlc3VsdCBpbnN0YW5jZW9mIEVycm9yID9cbiAgICAgICAgICAgICAgICAgICAgICBwcm9nU3RlcC5yZXN1bHQgOiBCU0xfUHJpbnQucHJpbnRWYWx1ZShwcm9nU3RlcC5yZXN1bHQpfWBcbiAgICAgICAgICB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG59XG4vLyBuYXZpZ2F0ZSBiZXR3ZWVuIGV4cHJlc3Npb25zXG5mdW5jdGlvbiBuYXZpZ2F0ZUV4cHJlc3Npb24oZTogRXZlbnQsIGFtb3VudDogbnVtYmVyKTogdm9pZCB7XG4gIGNvbnN0IGVsID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIC8vIGVsIHdpbGwgYmUgYSBidXR0b25cbiAgY29uc3Qgb2xkQnV0dG9uUG9zaXRpb24gPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55O1xuICBjb25zdCBleHByZXNzaW9uRGl2ID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoZWwsICdleHByZXNzaW9uLXN0ZXBzJyk7XG4gIGlmKCFleHByZXNzaW9uRGl2KSB7XG4gICAgY29uc29sZS5lcnJvcignZm91bmQgbm8gcGFyZW50IHdpdGggY2xhc3MgLmV4cHJlc3Npb24tc3RlcHMnLCBlbCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGlkeFN0cmluZyA9IGV4cHJlc3Npb25EaXYuZ2V0QXR0cmlidXRlKCdkYXRhLXByb2dzdGVwJyk7XG4gIGlmKCFpZHhTdHJpbmcpIHtcbiAgICBjb25zb2xlLmVycm9yKCdkaXYgd2l0aCBjbGFzcyAuZXhwcmVzc2lvbi1zdGVwcyBoYXMgbm8gZGF0YS1wcm9nc3RlcCBhdHRyaWJ1dGUnLCBleHByZXNzaW9uRGl2KTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgaWR4ID0gcGFyc2VJbnQoaWR4U3RyaW5nKTtcbiAgY29uc3QgdGFyZ2V0SWR4ID0gaWR4ICsgYW1vdW50O1xuICBpZih0YXJnZXRJZHggPCAtMSkge1xuICAgIGNvbnNvbGUuZXJyb3IoYGNhbm5vdCBuYXZpZ2F0ZSB0byBwcm9nU3RlcCAke3RhcmdldElkeH06IGRvZXMgbm90IGV4aXN0YCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIHNldCB2aXNpYmlsaXR5IGluIGVudmlyb25tZW50XG4gIG5hdmlnYXRlRE9NKFtleHByZXNzaW9uRGl2XSwgJy4uLy5lbnZpcm9ubWVudC9kaXYnKS5tYXAoZGVmID0+IHtcbiAgICBjb25zdCBpZHhTdHJpbmcgPSBkZWYuZ2V0QXR0cmlidXRlKCdkYXRhLXByb2dzdGVwJyk7XG4gICAgaWYoaWR4U3RyaW5nKSB7XG4gICAgICBpZihwYXJzZUludChpZHhTdHJpbmcpIDwgdGFyZ2V0SWR4KSB7XG4gICAgICAgIGRlZi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmlzaWJsZScsICd0cnVlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWYuc2V0QXR0cmlidXRlKCdkYXRhLXZpc2libGUnLCAnZmFsc2UnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAvLyBzZXQgdmlzaWJpbGl0eSBpbiBwcm9ncmFtXG4gIG5hdmlnYXRlRE9NKFtleHByZXNzaW9uRGl2XSwgJy4uLy5wcm9ncmFtL2RpdicpLm1hcChwcm9nID0+IHtcbiAgICBjb25zdCBpZHhTdHJpbmcgPSBwcm9nLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9nc3RlcCcpO1xuICAgIGlmKGlkeFN0cmluZykge1xuICAgICAgaWYocGFyc2VJbnQoaWR4U3RyaW5nKSA8PSB0YXJnZXRJZHgpIHtcbiAgICAgICAgcHJvZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmlzaWJsZScsICdmYWxzZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmlzaWJsZScsICd0cnVlJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgLy8gc2hvdyBjb3JyZWN0IHN0ZXBwZXJcbiAgbmF2aWdhdGVET00oW2V4cHJlc3Npb25EaXZdLCAnLi4vLmV4cHJlc3Npb24tc3RlcHMnKS5tYXAoZSA9PiB7XG4gICAgY29uc3QgaWR4U3RyaW5nID0gZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZ3N0ZXAnKTtcbiAgICBpZihpZHhTdHJpbmcpIHtcbiAgICAgIGlmKHBhcnNlSW50KGlkeFN0cmluZykgPT09IHRhcmdldElkeCkge1xuICAgICAgICBlLnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgJ3RydWUnKTtcbiAgICAgICAgLy8gbW92ZSBwcmV2L25leHQtYnV0dG9uIHRvIHN0YXkgdW5kZXIgbW91c2VcbiAgICAgICAgQXJyYXkuZnJvbShlLmNoaWxkcmVuKS5maWx0ZXIoYyA9PlxuICAgICAgICAgIGMuZ2V0QXR0cmlidXRlKCdkYXRhLWN1cnJlbnRzdGVwJykgPT09ICd0cnVlJ1xuICAgICAgICApLm1hcChjID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdCdXR0b24gPSBjLnF1ZXJ5U2VsZWN0b3IoYW1vdW50ID4gMCA/ICcubmV4dC1idXR0b24nIDogJy5wcmV2LWJ1dHRvbicpO1xuICAgICAgICAgIGlmICghbmV3QnV0dG9uKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgbmV3QnV0dG9uUG9zaXRpb24gPSBuZXdCdXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueTtcbiAgICAgICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgbmV3QnV0dG9uUG9zaXRpb24gLSBvbGRCdXR0b25Qb3NpdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmlzaWJsZScsICdmYWxzZScpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbn1cblxuLy8gb25lIGluZGl2aWR1YWwgc3RlcFxuZnVuY3Rpb24gcmVuZGVyU3RlcChjdXJyZW50U3RlcDogbnVtYmVyLCBzdGVwOiBTSV9TVFJVQ1QuRXZhbFN0ZXAsIGxhbmc6IGltcGxlbWVudGVkTGFuZ3VhZ2UpOiBzdHJpbmcge1xuICAvLyBjb25zb2xlLmxvZyhgUmVuZGVyaW5nIHN0ZXAgJHtjdXJyZW50U3RlcH1gKTtcbiAgLy8gYWNxdWlyZSBuZWNlc3NhcnkgaW5mb3JtYXRpb246XG4gIC8vIGNvbnRleHQgYW5kIHJlZGV4XG4gIGNvbnN0IGNvbnRleHQ6Q29udGV4dCA9XG4gICAgU0lfU1RSVUNULmlzS29uZyhzdGVwLnJ1bGUpID9cbiAgICAgIHByaW50Q29udGV4dChzdGVwLnJ1bGUuY29udGV4dClcbiAgICAgIDoge2xlZnQ6JycsIHJpZ2h0OicnfTtcbiAgY29uc3QgcmVkZXhSdWxlID0gU0lfU1RSVUNULmlzS29uZyhzdGVwLnJ1bGUpID8gc3RlcC5ydWxlLnJlZGV4UnVsZSA6IHN0ZXAucnVsZTtcbiAgLy8gcmVzdWx0IGFuZCBydWxlIG5hbWVcbiAgY29uc3QgcmVkZXg6IHN0cmluZyA9XG4gICAgQlNMX1ByaW50LnNhbml0aXplKHByaW50UmVkZXgocmVkZXhSdWxlLnJlZGV4KSk7XG4gIGZ1bmN0aW9uIHJlbmRlclJlc3VsdChyZXM6IEJTTF9BU1QuZXhwciB8IFNJX1NUUlVDVC5WYWx1ZSB8IEVycm9yKTogc3RyaW5nIHtcbiAgICBpZihTSV9TVFJVQ1QuaXNWYWx1ZShyZXMpKSB7XG4gICAgICByZXR1cm4gYCR7Y29udGV4dC5sZWZ0fTxzcGFuIGNsYXNzPVwiaG9sZSBob2xlLXJlc3VsdFwiPiR7XG4gICAgICAgIEJTTF9QcmludC5wcmludFZhbHVlKHJlcylcbiAgICAgIH08L3NwYW4+JHtjb250ZXh0LnJpZ2h0fWA7XG4gICAgfSBlbHNlIGlmKHJlcyBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICByZXR1cm4gYDxzcGFuIGNsYXNzPVwiaG9sZSBob2xlLXJlc3VsdCBob2xlLWVycm9yXCI+XCIke3Jlc31cIjwvc3Bhbj5gOyAvLyB0byBwcmV2ZW50IGluZGVudGF0aW9uIGlzc3Vlc1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYCR7Y29udGV4dC5sZWZ0fTxzcGFuIGNsYXNzPVwiaG9sZSBob2xlLXJlc3VsdFwiPiR7QlNMX1ByaW50LnNhbml0aXplKEJTTF9QcmludC5wcmludEUocmVzKSl9PC9zcGFuPiR7Y29udGV4dC5yaWdodH1gO1xuICAgIH1cbiAgfVxuICBjb25zdCByZXN1bHQ6IHN0cmluZyA9IHJlbmRlclJlc3VsdChyZWRleFJ1bGUucmVzdWx0KTtcbiAgY29uc3QgcnVsZU5hbWUgPSByZWRleFJ1bGUudHlwZTtcbiAgLy8gcHJlcGFyZSBpbmRlbnRlZCBjb2RlIGV4cHJlc3Npb25zXG4gIGNvbnN0IGNvZGVfYmVmb3JlID1cbiAgICBCU0xfUHJpbnQuaW5kZW50KFxuICAgICAgYCR7Y29udGV4dC5sZWZ0fTxzcGFuIGNsYXNzPVwiaG9sZVwiPiR7cmVkZXh9PC9zcGFuPiR7Y29udGV4dC5yaWdodH1gLFxuICAgICAgbWF4V2lkdGhJbkNoYXJzLFxuICAgICAgJ2h0bWwnKTtcbiAgY29uc3QgY29kZV9hZnRlciA9XG4gICAgQlNMX1ByaW50LmluZGVudChcbiAgICAgIHJlc3VsdCxcbiAgICAgIG1heFdpZHRoSW5DaGFycyxcbiAgICAgICdodG1sJyk7XG5cbiAgLy8gZmluZCBvdXQgd2hlcmUgdG8gcG9zaXRpb24gdGhlIHJ1bGUgYXJyb3cgc28gdGhhdCBpdCBwb2ludHMgYXQgdGhlIGhvbGVcbiAgY29uc3QgY29kZV9iZWZvcmVfaG9sZSA9XG4gICAgY29kZV9hZnRlci5zbGljZSgwLGNvZGVfYWZ0ZXIuaW5kZXhPZignPHNwYW4gY2xhc3M9XCJob2xlIGhvbGUtcmVzdWx0JykpXG4gICAgICAgICAgICAgIC5zcGxpdCgnPGJyPicpXG4gICAgICAgICAgICAgIC5yZXZlcnNlKClbMF07XG4gIGNvbnN0IGhvbGVfcG9zaXRpb24gPSBjb2RlX2JlZm9yZV9ob2xlID8gQlNMX1ByaW50LmRpcnRpZnkoY29kZV9iZWZvcmVfaG9sZSkubGVuZ3RoIDogMDtcbiAgY29uc3QgS09OR19XSURUSCA9IDQ7XG4gIGNvbnN0IGxlZnRfb2Zmc2V0X2Fycm93ID1cbiAgICBjb250ZXh0LmxlZnQubGVuZ3RoID4gMCAmJiBob2xlX3Bvc2l0aW9uIDwgS09OR19XSURUSFxuICAgID8gS09OR19XSURUSFxuICAgIDogaG9sZV9wb3NpdGlvbjtcbiAgLy8gZmluZCBvdXQgaWYgd2UgaGF2ZSBwbGFjZSB0byByZXBlYXQgdGhlIGhvbGVzXG4gIGNvbnN0IHNwYWNlX2xlZnQgPSAgICAgICAgICAgICAgICAgLy8gMyBmb3IgdGhlIGFycm93LCAyIGZvciB0aGUgaWNvbiAtLS12XG4gICAgbWF4V2lkdGhJbkNoYXJzIC0gbGVmdF9vZmZzZXRfYXJyb3cgLSBydWxlc1tydWxlTmFtZV1bJ25hbWUnXS5sZW5ndGggLSA1O1xuICBjb25zdCByZW5kZXJIb2xlc0luUnVsZSA9XG4gICAgcmVkZXgubGVuZ3RoICsgcmVzdWx0Lmxlbmd0aCA8PSBzcGFjZV9sZWZ0O1xuXG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cInN0ZXBcIlxuICAgICAgICAgZGF0YS1zdGVwPVwiJHtjdXJyZW50U3RlcH1cIlxuICAgICAgICAgZGF0YS1jdXJyZW50U3RlcD1cIiR7Y3VycmVudFN0ZXAgPT09IDAgPyAndHJ1ZScgOiAnZmFsc2UnfVwiXG4gICAgICAgICBkYXRhLWNvbGxhcHNlZD1cImZhbHNlXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwicHJldi1idXR0b25cIlxuICAgICAgICAgICBvbmNsaWNrPVwicHJldlN0ZXAoZXZlbnQpXCI+XG4gICAgICAgICR7ZGljdGlvbmFyeVtsYW5nXVsncHJldmlvdXMgc3RlcCddfSA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cIiR7YW5nbGVfdXB9XCI+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJuZXh0LWJ1dHRvblwiXG4gICAgICAgICAgIG9uY2xpY2s9XCJuZXh0U3RlcChldmVudClcIj5cbiAgICAgICAgJHtkaWN0aW9uYXJ5W2xhbmddWyduZXh0IHN0ZXAnXX0gPGltZyBjbGFzcz1cImljb25cIiBzcmM9XCIke2FuZ2xlX2Rvd259XCI+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cInNwbGl0LXJlc3VsdCBjb2RlXCI+JHtcbiAgICAgICAgICBjb2RlX2JlZm9yZVxuICAgICAgICB9PGltZyBjbGFzcz1cImljb24gZXhwYW5kZXJcIlxuICAgICAgICAgICAgICBzcmM9XCIke3BsdXNfaWNvbn1cIlxuICAgICAgICAgICAgICBvbmNsaWNrPVwiZXhwYW5kKGV2ZW50KVwiXG4gICAgICAgID48aW1nIGNsYXNzPVwiaWNvbiBjb2xsYXBzZXJcIlxuICAgICAgICAgICAgICBzcmM9XCIke21pbnVzX2ljb259XCJcbiAgICAgICAgICAgICAgb25jbGljaz1cImNvbGxhcHNlKGV2ZW50KVwiXG4gICAgICA+PC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJwbHVnLXJlc3VsdCBjb2RlXCJcbiAgICAgICAgICAgZGF0YS1pbmZvLWNvbGxhcHNlZD1cInRydWVcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAkey8vIGlmIGNvbnRleHQgaXMgbm90IGVtcHR5LCB3ZSBhcmUgYXBwbHlpbmcgS09OR1xuICAgICAgICAgICAgY29udGV4dC5sZWZ0ICE9PSAnJyA/XG4gICAgICAgICAgICAgIGA8c3BhbiBjbGFzcz1cInJ1bGUgcnVsZS1uYW1lIGxlZnQtYXJyb3dlZCBrb25nXCI+XG4gICAgICAgICAgICAgICAgICR7cnVsZXNbJ0tvbmcnXVsnbmFtZSddfVxuICAgICAgICAgICAgICA8L3NwYW4+YCA6ICcnfVxuXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJydWxlIGxlZnQtYXJyb3dlZCBvbmUtcnVsZVwiXG4gICAgICAgICAgICAgICAgc3R5bGU9XCItLW9uZS1ydWxlLW1hcmdpbi1sZWZ0OiAke2xlZnRfb2Zmc2V0X2Fycm93ICogY2hhclB4V2lkdGh9cHhcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJ1bGUtbmFtZVwiPiR7XG4gICAgICAgICAgICAgICBydWxlc1tydWxlTmFtZV1bJ25hbWUnXVxuICAgICAgICAgICAgIH08L3NwYW4+JHtcbiAgICAgICAgICAgICAgIHJlbmRlckhvbGVzSW5SdWxlID9cbiAgICAgICAgICAgICAgIGA6XG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJ1bGUtZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJob2xlIHJ1bGUtaG9sZVwiPiR7XG4gICAgICAgICAgICAgICAgICAgcmVkZXhcbiAgICAgICAgICAgICAgICAgfTwvc3Bhbj4gXHUyMTkyXG4gICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaG9sZSBob2xlLXJlc3VsdCBydWxlLWhvbGVcIj4ke1xuICAgICAgICAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgICAgICB9PC9zcGFuPlxuICAgICAgICAgICAgICAgPC9zcGFuPmAgOiAnJ1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgIDxpbWcgc3JjPVwiJHtjaXJjbGVfaW5mb31cIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwiaWNvbiBpbmZvLXRvZ2dsZSBpbmZvLWV4cGFuZFwiXG4gICAgICAgICAgICAgICAgb25jbGljaz1cImV4cGFuZEluZm8oZXZlbnQpXCI+XG4gICAgICAgICAgIDxpbWcgc3JjPVwiJHtjaXJjbGVfeG1hcmt9XCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImljb24gaW5mby10b2dnbGUgaW5mby1jb2xsYXBzZVwiXG4gICAgICAgICAgICAgICAgb25jbGljaz1cImNvbGxhcHNlSW5mbyhldmVudClcIj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgJHtcbiAgICAgICAgICByZW5kZXJSdWxlSW5mb3JtYXRpb24ocnVsZU5hbWUsIGNvbnRleHQubGVmdCAhPT0gJycpXG4gICAgICAgIH1cbiAgICAgICAgPGRpdj4ke1xuICAgICAgICAgIGNvZGVfYWZ0ZXJcbiAgICAgICAgfTwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICA8L2Rpdj5cbiAgYDtcbn1cbi8vIGV2ZW50IGhhbmRsZXJzXG4od2luZG93IGFzIGFueSkubmV4dFN0ZXAgPSAoZTogRXZlbnQpID0+IHtcbiAgY29uc3QgYnV0dG9uID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IG9sZEJ1dHRvblBvc2l0aW9uID0gYnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnk7XG4gIGNvbnN0IGN1cnJlbnRTdGVwID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoYnV0dG9uLCAnc3RlcCcpO1xuICBpZihjdXJyZW50U3RlcCAmJiBjdXJyZW50U3RlcC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICBjdXJyZW50U3RlcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3VycmVudFN0ZXAnLCAnZmFsc2UnKTtcbiAgICBjdXJyZW50U3RlcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywgJ3RydWUnKTtcbiAgICBjdXJyZW50U3RlcC5uZXh0RWxlbWVudFNpYmxpbmcuc2V0QXR0cmlidXRlKCdkYXRhLWN1cnJlbnRTdGVwJywgJ3RydWUnKTtcbiAgICBjdXJyZW50U3RlcC5uZXh0RWxlbWVudFNpYmxpbmcuc2V0QXR0cmlidXRlKCdkYXRhLWNvbGxhcHNlZCcsJ2ZhbHNlJyk7XG4gICAgLy8gbW92ZSBcIm5leHRcIiBidXR0b24gdW5kZXIgbW91c2VcbiAgICBjb25zdCBuZXdCdXR0b24gPSBjdXJyZW50U3RlcC5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignLm5leHQtYnV0dG9uJyk7XG4gICAgaWYgKCFuZXdCdXR0b24pIHJldHVybjtcbiAgICBjb25zdCBuZXdCdXR0b25Qb3NpdGlvbiA9IG5ld0J1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55O1xuICAgIHdpbmRvdy5zY3JvbGxCeSgwLCBuZXdCdXR0b25Qb3NpdGlvbiAtIG9sZEJ1dHRvblBvc2l0aW9uKTtcbn0gZWxzZSBpZiAoY3VycmVudFN0ZXAgJiYgIWN1cnJlbnRTdGVwLm5leHRFbGVtZW50U2libGluZykge1xuICAgIC8vIGNvbnRpbnVlIHdpdGggbmV4dCBleHByZXNzaW9uXG4gICAgbmF2aWdhdGVFeHByZXNzaW9uKGUsIDEpO1xuICB9XG59XG4od2luZG93IGFzIGFueSkucHJldlN0ZXAgPSAoZTogRXZlbnQpID0+IHtcbiAgY29uc3QgYnV0dG9uID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IG9sZEJ1dHRvblBvc2l0aW9uID0gYnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnk7XG4gIGNvbnN0IGN1cnJlbnRTdGVwID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoYnV0dG9uLCAnc3RlcCcpO1xuICBpZighY3VycmVudFN0ZXApIHtcbiAgICBjb25zb2xlLmVycm9yKCdwcmV2U3RlcCBub3QgY2FsbGVkIGZyb20gd2l0aGluIGFuIGVsZW1lbnQgb2YgdGhlIC5zdGVwIGNsYXNzJyk7XG4gICAgcmV0dXJuO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gY3VycmVudFN0ZXAuZ2V0QXR0cmlidXRlKCdkYXRhLXN0ZXAnKTtcbiAgICBpZihwb3NpdGlvbiA9PT0gJzAnKSB7XG4gICAgICBuYXZpZ2F0ZUV4cHJlc3Npb24oZSwgLTEpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZihjdXJyZW50U3RlcC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgICBjdXJyZW50U3RlcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3VycmVudFN0ZXAnLCAnZmFsc2UnKTtcbiAgICAgIGN1cnJlbnRTdGVwLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzZWQnLCAndHJ1ZScpO1xuICAgICAgY3VycmVudFN0ZXAucHJldmlvdXNFbGVtZW50U2libGluZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3VycmVudFN0ZXAnLCAndHJ1ZScpO1xuICAgICAgY3VycmVudFN0ZXAucHJldmlvdXNFbGVtZW50U2libGluZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywgJ2ZhbHNlJyk7XG4gICAgICAvLyBtb3ZlIFwicHJldlwiIGJ1dHRvbiB0byBiZSB1bmRlciBtb3VzZVxuICAgICAgY29uc3QgbmV3QnV0dG9uID0gY3VycmVudFN0ZXAucHJldmlvdXNFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcucHJldi1idXR0b24nKTtcbiAgICAgIGlmICghbmV3QnV0dG9uKSByZXR1cm47XG4gICAgICBjb25zdCBuZXdCdXR0b25Qb3NpdGlvbiA9IG5ld0J1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55O1xuICAgICAgd2luZG93LnNjcm9sbEJ5KDAsIG5ld0J1dHRvblBvc2l0aW9uIC0gb2xkQnV0dG9uUG9zaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdwcmV2U3RlcCBjYWxsZWQgb24gYSBzdGVwIHdpdGggbm8gcHJldmlvdXMgaHRtbCBlbGVtZW50Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG59XG4od2luZG93IGFzIGFueSkuY29sbGFwc2UgPSAoZTogRXZlbnQpID0+IHtcbiAgY29uc3QgYnV0dG9uID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IHN0ZXAgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShidXR0b24sICdzdGVwJyk7XG4gIGlmKHN0ZXApIHtcbiAgICBzdGVwLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzZWQnLCAndHJ1ZScpO1xuICB9XG59XG4od2luZG93IGFzIGFueSkuZXhwYW5kID0gKGU6IEV2ZW50KSA9PiB7XG4gIGNvbnN0IGJ1dHRvbiA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICBjb25zdCBzdGVwID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoYnV0dG9uLCAnc3RlcCcpO1xuICBpZihzdGVwKSB7XG4gICAgc3RlcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywgJ2ZhbHNlJyk7XG4gIH1cbn1cblxuLy8gcmVjdXJzaXZlIGRlZmluaXRpb24gb2YgcHJpbnRpbmcgdGhlIGNvbnRleHRcbmludGVyZmFjZSBDb250ZXh0IHtcbiAgbGVmdDogc3RyaW5nLFxuICByaWdodDogc3RyaW5nXG59XG5mdW5jdGlvbiBwcmludENvbnRleHQoY3R4OiBTSV9TVFJVQ1QuQ29udGV4dCwgYWNjOiBDb250ZXh0ID0ge2xlZnQ6ICcnLCByaWdodDogJyd9KTogQ29udGV4dCB7XG4gIGlmIChTSV9TVFJVQ1QuaXNIb2xlKGN0eCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDpCU0xfUHJpbnQuc2FuaXRpemUoYWNjLmxlZnQpLFxuICAgICAgcmlnaHQ6IEJTTF9QcmludC5zYW5pdGl6ZShhY2MucmlnaHQpXG4gICAgfTtcbiAgfVxuICBpZiAoU0lfU1RSVUNULmlzQXBwQ29udGV4dChjdHgpKSB7XG4gICAgY29uc3QgbGVmdEVscyA9IFtCU0xfUHJpbnQucHJpbnROYW1lKGN0eC5vcCksIC4uLmN0eC52YWx1ZXMubWFwKHYgPT4gYCR7dn1gKV07XG4gICAgYWNjLmxlZnQgPVxuICAgICAgYCR7YWNjLmxlZnR9KCR7bGVmdEVscy5qb2luKCcgJyl9IGA7XG4gICAgYWNjLnJpZ2h0ID1cbiAgICAgICBjdHguYXJncy5sZW5ndGggPiAwID9cbiAgICAgIGAgJHtjdHguYXJncy5tYXAoQlNMX1ByaW50LnByaW50RSkuam9pbignICcpfSkke2FjYy5yaWdodH1gXG4gICAgICA6IGApJHthY2MucmlnaHR9YDtcbiAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNDb25kQ29udGV4dChjdHgpKSB7XG4gICAgYWNjLmxlZnQgPVxuICAgICAgYCR7YWNjLmxlZnR9KGNvbmQgW2A7XG4gICAgY29uc3QgcmVzdCA9IFtcbiAgICAgIGAke0JTTF9QcmludC5wcmludEUoY3R4Lm9wdGlvbnNbMF0ucmVzdWx0KX1dYCxcbiAgICAgIC4uLmN0eC5vcHRpb25zLnNsaWNlKDEpLm1hcChCU0xfUHJpbnQucHJpbnRPcHRpb24pXG4gICAgXTtcbiAgICBhY2MucmlnaHQgPVxuICAgICAgYCAke3Jlc3Quam9pbignICcpfSkke2FjYy5yaWdodH1gO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1ByaW50aW5nIHRoaXMgY29udGV4dCBpcyBub3QgaW1wbGVtZW50ZWQgeWV0JywgY3R4KTtcbiAgICB0aHJvdyhgUHJpbnRpbmcgJHtjdHhbJ3R5cGUnXX0gY29udGV4dCBpcyBub3QgaW1wbGVtZW50ZWQgeWV0IWApO1xuICB9XG4gIHJldHVybiBwcmludENvbnRleHQoY3R4LmN0eCwgYWNjKTtcbn1cbi8vIHJlY3Vyc2l2ZSBkZWZpbml0aW9uIG9mIHByaW50aW5nIHRoZSByZWRleFxuZnVuY3Rpb24gcHJpbnRSZWRleChyZWRleDogU0lfU1RSVUNULlJlZGV4KTogc3RyaW5nIHtcbiAgaWYgKFNJX1NUUlVDVC5pc0NhbGxSZWRleChyZWRleCkpIHtcbiAgICByZXR1cm4gYCgke0JTTF9QcmludC5wcmludE5hbWUocmVkZXgubmFtZSl9ICR7cmVkZXguYXJncy5tYXAoYXJnID0+IFNJX1NUUlVDVC5pc1ZhbHVlKGFyZykgPyBgJHthcmd9YCA6IHByaW50SWRlbnRpZmllcihhcmcpKS5qb2luKCcgJyl9KWA7XG4gIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzQ29uZFJlZGV4KHJlZGV4KSkge1xuICAgIHJldHVybiBgKGNvbmQgJHtyZWRleC5vcHRpb25zLm1hcChCU0xfUHJpbnQucHJpbnRPcHRpb24pLmpvaW4oJyAnKX0pYDtcbiAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNOYW1lUmVkZXgocmVkZXgpKXtcbiAgICByZXR1cm4gcmVkZXguc3ltYm9sO1xuICB9ZWxzZXtcbiAgICB0aHJvdyBcIkludmFsaWQgSW5wdXQgdG8gcHJpbnRSZWRleFwiO1xuICB9XG59XG4vLyBQcmludCBJZGVudGlmaWVyXG5mdW5jdGlvbiBwcmludElkZW50aWZpZXIoaWQ6IFNJX1NUUlVDVC5JZCk6IHN0cmluZyB7XG4gIHJldHVybiBpZC5zeW1ib2w7XG59XG5cbi8vIHJlbmRlcmluZyB0aGUgcnVsZSB0aXBcbmZ1bmN0aW9uIHJlbmRlclJ1bGVJbmZvcm1hdGlvbihydWxlOiBhdmFpbGFibGVSdWxlcywga29uZzogYm9vbGVhbik6c3RyaW5nIHtcbiAgY29uc3QgcnVsZUluZm8gPSBydWxlc1tydWxlXTtcbiAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwicnVsZS1pbmZvXCI+JHtcbiAgICAgICAgICAga29uZyA/IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJydWxlLWluZm8tdGV4dC1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby1ydWxlLW5hbWVcIj4ke3J1bGVzWydLb25nJ11bJ25hbWUnXX08L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby1ydWxlLXRleHRcIj4ke3J1bGVzWydLb25nJ11bJ3RleHQnXX08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICBgIDogJydcbiAgICAgICAgIH1cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJydWxlLWluZm8tdGV4dC1jb250YWluZXJcIj5cbiAgICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby1ydWxlLW5hbWVcIj4ke3J1bGVJbmZvWyduYW1lJ119PC9kaXY+XG4gICAgICAgICAgIDxkaXYgY2xhc3M9XCJydWxlLWluZm8tcnVsZS10ZXh0XCI+JHtydWxlSW5mb1sndGV4dCddfTwvZGl2PlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8L2Rpdj5gO1xufVxuKHdpbmRvdyBhcyBhbnkpLmV4cGFuZEluZm8gPSAoZTogRXZlbnQpID0+IHtcbiAgY29uc3QgdCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICBjb25zdCBwID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUodCwgJ3BsdWctcmVzdWx0Jyk7XG4gIGlmKCFwKSByZXR1cm47XG4gIHAuc2V0QXR0cmlidXRlKCdkYXRhLWluZm8tY29sbGFwc2VkJywgJ2ZhbHNlJyk7XG59XG4od2luZG93IGFzIGFueSkuY29sbGFwc2VJbmZvID0gKGU6IEV2ZW50KSA9PiB7XG4gIGNvbnN0IHQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3QgcCA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKHQsICdwbHVnLXJlc3VsdCcpO1xuICBpZihwKSBwLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmZvLWNvbGxhcHNlZCcsICd0cnVlJyk7XG59XG4vLyAjIyMgcnVsZXMgIyMjXG4vLyBhcyB0YWtlbiBmcm9tIG92ZXJ2aWV3LXJlZHVjdGlvbi1hbmQtZXF1aXZhbGVuY2UucGRmLCBpLmUuIHRoZSBzY3JpcHRcbi8vIHRvIGJlIGRpc3BsYXllZCBhcyByZWZlcmVuY2VcbnR5cGUgYXZhaWxhYmxlUnVsZXMgPSAnS29uZycgfCAnRnVuJyB8ICdQcmltJyB8ICdDb25zdCcgfCAnQ29uZFRydWUnIHwgJ0NvbmRGYWxzZScgfFx1MDBBMCdDb25kRXJyb3InIHwgJ1N0cnVjdE1ha2UnIHwgJ1N0cnVjdFNlbGVjdCcgfCAnU3RydWN0UHJlZFRydWUnIHwgJ1N0cnVjdFByZWRGYWxzZScgfCAnUHJvZ1J1bGUnO1xuY29uc3QgcnVsZXMgPSB7XG4gICdLb25nJzoge1xuICAgICduYW1lJzogYDxjYXA+S29uZzwvY2FwPmAsXG4gICAgJ3RleHQnOiBgXG4gICAgICA8ZW0+RVtlPHNtYWxsPjE8L3NtYWxsPl0gXHUyMTkyIEVbZTxzbWFsbD4yPC9zbWFsbD5dIGZhbGxzIGU8c21hbGw+MTwvc21hbGw+IFx1MjE5MiBlPHNtYWxsPjI8L3NtYWxsPjwvZW0+PGJyPlxuICAgICAgPGVtPlx1MjAzOUVcdTIwM0EgOjo9IFtdPGJyPlxuICAgICAgJm5ic3A7Jm5ic3A7Jm5ic3A7fCAoXHUyMDM5bmFtZVx1MjAzQSBcdTIwMzl2XHUyMDNBKiBcdTIwMzlFXHUyMDNBIFx1MjAzOWVcdTIwM0EqKTxicj5cbiAgICAgICZuYnNwOyZuYnNwOyZuYnNwO3wgKDxzdHJvbmc+Y29uZDwvc3Ryb25nPiBbXHUyMDM5RVx1MjAzQSBcdTIwMzllXHUyMDNBIF17WyBcdTIwMzllXHUyMDNBIFx1MjAzOWVcdTIwM0FdfSopPC9lbT5cbiAgICBgXG4gIH0sXG4gICdGdW4nOiB7XG4gICAgJ25hbWUnOiBgPGNhcD5GdW48L2NhcD5gLFxuICAgICd0ZXh0JzogYFxuICAgICAgPGVtPihuYW1lIHY8c21hbGw+MTwvc21hbGw+IFx1MjAyNiB2PHNtYWxsPm48L3NtYWxsPikgXHUyMTkyXG4gICAgICBlW25hbWU8c21hbGw+MTwvc21hbGw+IDo9IHY8c21hbGw+MTwvc21hbGw+IFx1MjAyNiBuYW1lPHNtYWxsPm48L3NtYWxsPiA6PSB2PHNtYWxsPm48L3NtYWxsPiBdPC9lbT5cbiAgICAgIGZhbGxzXG4gICAgICA8ZW0+KDwvZW0+IDxzdHJvbmc+ZGVmaW5lPC9zdHJvbmc+IDxlbT4obmFtZSBuYW1lPHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgbmFtZTxzbWFsbD5uPC9zbWFsbD4pIGUpPC9lbT4gaW4gVW1nZWJ1bmdcbiAgICBgXG4gIH0sXG4gICdQcmltJzoge1xuICAgICduYW1lJzogYDxjYXA+UHJpbTwvY2FwPmAsXG4gICAgJ3RleHQnOiBgXG4gICAgICA8ZW0+KG5hbWUgdjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IHY8c21hbGw+bjwvc21hbGw+KSBcdTIxOTIgdjwvZW0+IGZhbGxzXG4gICAgICA8ZW0+bmFtZTwvZW0+IGVpbmUgcHJpbWl0aXZlIEZ1bmt0aW9uIDxlbT5mPC9lbT4gaXN0IHVuZFxuICAgICAgPGVtPmYodjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IHY8c21hbGw+bjwvc21hbGw+KSA9IHY8L2VtPlxuICAgIGBcbiAgfSxcbiAgJ0NvbnN0Jzoge1xuICAgICduYW1lJzogYDxjYXA+Q29uc3Q8L2NhcD5gLFxuICAgICd0ZXh0JzogYFxuICAgICAgPGVtPm5hbWUgXHUyMTkyIHY8L2VtPiBmYWxscyA8ZW0+KDxzdHJvbmc+ZGVmaW5lPC9zdHJvbmc+IG5hbWUgdik8L2VtPiBpbiBVbWdlYnVuZy5cbiAgICBgXG4gIH0sXG4gICdDb25kVHJ1ZSc6IHtcbiAgICAnbmFtZSc6IGA8Y2FwPkNvbmQ8L2NhcD4tVHJ1ZWAsXG4gICAgJ3RleHQnOiBgXG4gICAgICA8ZW0+KDxzdHJvbmc+Y29uZDwvc3Ryb25nPiBbPHN0cm9uZz4jdHJ1ZTwvc3Ryb25nPiBlXSBcdTIwMjYpIFx1MjE5MiBlPC9lbT5cbiAgICBgXG4gIH0sXG4gICdDb25kRmFsc2UnOiB7XG4gICAgJ25hbWUnOiBgPGNhcD5Db25kPC9jYXA+LUZhbHNlYCxcbiAgICAndGV4dCc6IGBcbiAgICAgIDxlbT4oPHN0cm9uZz5jb25kPC9zdHJvbmc+IFs8c3Ryb25nPiNmYWxzZTwvc3Ryb25nPiBlPHNtYWxsPjE8L3NtYWxsPl1cbiAgICAgICAgIFtlPHNtYWxsPjI8L3NtYWxsPiBlPHNtYWxsPjM8L3NtYWxsPl0gXHUyMDI2KSBcdTIxOTJcbiAgICAgICAgICg8c3Ryb25nPmNvbmQ8L3N0cm9uZz4gW2U8c21hbGw+Mjwvc21hbGw+IGU8c21hbGw+Mzwvc21hbGw+XSBcdTIwMjYpPC9lbT5cbiAgICBgXG4gIH0sXG4gICdDb25kRXJyb3InOiB7XG4gICAgJ25hbWUnOiBgPGNhcD5Db25kPC9jYXA+LUVycm9yYCxcbiAgICAndGV4dCc6IGBcbiAgICAgIDxlbT4oPHN0cm9uZz5jb25kPC9zdHJvbmc+IFtlPHNtYWxsPjE8L3NtYWxsPiBlPHNtYWxsPjI8L3NtYWxsPl0gXHUyMDI2KSBcdTIxOTJcbiAgICAgICAgICAoPHN0cm9uZz5lcnJvcjwvc3Ryb25nPiBcImNvbmQ6IGFsbCBjb25kaXRpb25zIGZhbHNlXCIpPC9lbT5cbiAgICBgXG4gIH0sXG4gICdTdHJ1Y3RNYWtlJzoge1xuICAgICduYW1lJzogYDxjYXA+U3RydWN0PC9jYXA+LW1ha2VgLFxuICAgICd0ZXh0JzogYFxuICAgICAgPGVtPig8c3Ryb25nPm1ha2U8L3N0cm9uZz4tbmFtZSB2PHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgdjxzbWFsbD5uPC9zbWFsbD4pIFx1MjE5MlxuICAgICAgJmx0OzxzdHJvbmc+bWFrZTwvc3Ryb25nPi1uYW1lIHY8c21hbGw+MTwvc21hbGw+IFx1MjAyNiB2PHNtYWxsPm48L3NtYWxsPiZndDs8L2VtPlxuICAgICAgZmFsbHMgPGVtPig8c3Ryb25nPmRlZmluZS1zdHJ1Y3Q8L3N0cm9uZz4gbmFtZSAobmFtZTxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IG5hbWU8c21hbGw+bjwvc21hbGw+KSk8L2VtPiBpbiBVbWdlYnVuZ1xuICAgIGBcbiAgfSxcbiAgJ1N0cnVjdFNlbGVjdCc6IHtcbiAgICAnbmFtZSc6IGA8Y2FwPlN0cnVjdDwvY2FwPi1zZWxlY3RgLFxuICAgICd0ZXh0JzogYFxuICAgICAgPGVtPihuYW1lLW5hbWU8c21hbGw+aTwvc21hbGw+ICZsdDs8c3Ryb25nPm1ha2U8L3N0cm9uZz4tbmFtZVxuICAgICAgICB2PHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgdjxzbWFsbD5uPC9zbWFsbD4mZ3Q7KSBcdTIxOTIgdjxzbWFsbD5pPC9zbWFsbD48L2VtPlxuICAgICAgICBmYWxscyA8ZW0+KDxzdHJvbmc+ZGVmaW5lLXN0cnVjdDwvc3Ryb25nPiBuYW1lXG4gICAgICAgICAgKG5hbWU8c21hbGw+MTwvc21hbGw+IFx1MjAyNiBuYW1lPHNtYWxsPm48L3NtYWxsPikpPC9lbT4gaW4gVW1nZWJ1bmdcbiAgICBgXG4gIH0sXG4gICdTdHJ1Y3RQcmVkVHJ1ZSc6IHtcbiAgICAnbmFtZSc6IGA8Y2FwPlN0cnVjdDwvY2FwPi1wcmVkdHJ1ZWAsXG4gICAgJ3RleHQnOiBgXG4gICAgICA8ZW0+KG5hbWU/ICZsdDs8c3Ryb25nPm1ha2U8L3N0cm9uZz4tbmFtZSBcdTIwMjYmZ3Q7KSBcdTIxOTIgPHN0cm9uZz4jdHJ1ZTwvc3Ryb25nPjwvZW0+XG4gICAgYFxuICB9LFxuICAnU3RydWN0UHJlZEZhbHNlJzoge1xuICAgICduYW1lJzogYDxjYXA+U3RydWN0PC9jYXA+LXByZWRmYWxzZWAsXG4gICAgJ3RleHQnOiBgXG4gICAgICA8ZW0+KG5hbWU/IHYpIFx1MjE5MiA8c3Ryb25nPiNmYWxzZTwvc3Ryb25nPjwvZW0+IGZhbGxzIDxlbT52PC9lbT4gbmljaHRcbiAgICAgIDxlbT4mbHQ7PHN0cm9uZz5tYWtlPC9zdHJvbmc+LW5hbWUgXHUyMDI2Jmd0OzwvZW0+IGlzdFxuICAgIGBcbiAgfSxcbiAgJ1Byb2dSdWxlJzoge1xuICAgICduYW1lJzogYDxjYXA+UHJvZzwvY2FwPmAsXG4gICAgJ3RleHQnOiBgXG4gICAgICBFaW4gUHJvZ3JhbW0gd2lyZCB2b24gbGlua3MgbmFjaCByZWNodHMgYXVzZ2VmXHUwMEZDaHJ0IHVuZCBzdGFydGV0IG1pdCBkZXJcbiAgICAgIGxlZXJlbiBVbWdlYnVuZy4gSXN0IGRhcyBuXHUwMEU0Y2hzdGUgUHJvZ3JhbW1lbGVtZW50IGVpbmUgRnVua3Rpb25zLSBvZGVyXG4gICAgICBTdHJ1a3R1cmRlZmluaXRpb24sIHNvIHdpcmQgZGllc2UgRGVmaW5pdGlvbiBpbiBkaWUgVW1nZWJ1bmcgYXVmZ2Vub21tZW5cbiAgICAgIHVuZCBkaWUgQXVzZlx1MDBGQ2hydW5nIG1pdCBkZW0gblx1MDBFNGNoc3RlbiBQcm9ncmFtbWVsZW1lbnQgaW4gZGVyIGVyd2VpdGVydGVuXG4gICAgICBVbWdlYnVuZyBmb3J0Z2VzZXR6dC4gSXN0IGRhcyBuXHUwMEU0Y2hzdGUgUHJvZ3JhbW1lbGVtZW50IGVpbiBBdXNkcnVjaywgc29cbiAgICAgIHdpcmQgZGllc2VyIGdlbVx1MDBFNFx1MDBERiBkZXIgdW50ZW4gc3RlaGVuZGVuIFJlZ2VsbiBpbiBkZXIgYWt0dWVsbGVuIFVtZ2VidW5nIHp1XG4gICAgICBlaW5lbSBXZXJ0IGF1c2dld2VydC4gSXN0IGRhcyBuXHUwMEU0Y2hzdGUgUHJvZ3JhbW1lbGVtZW50IGVpbmVcbiAgICAgIEtvbnN0YW50ZW5kZWZpbml0aW9uIDxlbT4oPHN0cm9uZz5kZWZpbmU8L3N0cm9uZz4geCBlKTwvZW0+LCBzbyB3aXJkIGluXG4gICAgICBkZXIgYWt0dWVsbGVuIFVtZ2VidW5nIHp1blx1MDBFNGNoc3QgPGVtPmU8L2VtPiB6dSBlaW5lbSBXZXJ0IDxlbT52PC9lbT5cbiAgICAgIGF1c2dld2VydGV0IHVuZCBkYW5uIDxlbT4oPHN0cm9uZz5kZWZpbmU8L3N0cm9uZz4geCB2KTwvZW0+IHp1ciBha3R1ZWxsZW5cbiAgICAgIFVtZ2VidW5nIGhpbnp1Z2VmXHUwMEZDZ3QuXG4gICAgYFxuICB9LFxufVxuIiwgImltcG9ydCB7cHJvY2Vzc0JzbFRyZWVzfSBmcm9tICcuL0JTTF9UcmVlJztcbmltcG9ydCB7cHJvY2Vzc0pzb25UcmVlc30gZnJvbSAnLi9KU09OX1RyZWUnO1xuaW1wb3J0IHtwcm9jZXNzU3RlcHBlcnN9IGZyb20gJy4vU0lfUmVuZGVyZXInO1xuXG4vLyBzZXR1cCBjYWxsYmFja3NcbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gIHByb2Nlc3NCc2xUcmVlcygpO1xuICBwcm9jZXNzSnNvblRyZWVzKCk7XG4gIHByb2Nlc3NTdGVwcGVycygpO1xufVxuIl0sCiAgIm1hcHBpbmdzIjogInFjQTJETyxZQUFzQixFQUE2QixDQUN4RCxNQUFPLEdBQVMsQ0FBRyxHQUFLLEVBQVcsQ0FBRyxHQUFLLEdBQVksQ0FBRyxDQUM1RCxDQUNPLFdBQWtCLEVBQXlCLENBQ2hELE1BQU8sR0FBSSxPQUFTLHFCQUN0QixDQUNPLFdBQW9CLEVBQTJCLENBQ3BELE1BQU8sR0FBSSxPQUFTLHFCQUN0QixDQUNPLFlBQXFCLEVBQTRCLENBQ3RELE1BQU8sR0FBSSxPQUFTLG1CQUN0QixDQUVPLFlBQWdCLEVBQXVCLENBQzVDLE1BQU8sR0FBTyxDQUFHLEdBQUssRUFBTyxDQUFHLEdBQUssRUFBTyxDQUFHLEdBQUssRUFBVSxDQUFHLENBQ25F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
