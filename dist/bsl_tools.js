(()=>{var En=Object.defineProperty,An=Object.defineProperties;var Pn=Object.getOwnPropertyDescriptors;var at=Object.getOwnPropertySymbols;var wn=Object.prototype.hasOwnProperty,Rn=Object.prototype.propertyIsEnumerable;var lt=(e,n,t)=>n in e?En(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ee=(e,n)=>{for(var t in n||(n={}))wn.call(n,t)&&lt(e,t,n[t]);if(at)for(var t of at(n))Rn.call(n,t)&&lt(e,t,n[t]);return e},pt=(e,n)=>An(e,Pn(n));function ge(e){return q(e)||K(e)||Be(e)}function q(e){return e.type==="Function Definition"}function K(e){return e.type==="Constant Definition"}function Be(e){return e.type==="Struct Definition"}function Ie(e){return J(e)||W(e)||N(e)||I(e)}function J(e){return e.type==="Function Call"}function W(e){return e.type==="Cond-Expression"}function N(e){return e.type==="Symbol"}function I(e){return e.type==="Literal Value"}function ut(e){return e.map(Se).join(`
`)}function Se(e){return ge(e)?ie(e):L(e)}function ie(e){return q(e)?`(define (${C(e.name)} ${e.args.map(C).join(" ")}) ${L(e.body)})`:K(e)?`(define ${C(e.name)} ${L(e.value)})`:Be(e)?`(define-struct ${C(e.binding)} (${e.properties.map(C).join(" ")}))`:(console.error("Invalid input to printDefinition"),"")}function L(e){return J(e)?`(${C(e.name)} ${e.args.map(L).join(" ")})`:W(e)?`(cond ${e.options.map(G).join(" ")})`:N(e)?C(e):I(e)?typeof e.value=="string"&&e.value!=="'()"?`"${e.value}"`:typeof e.value=="boolean"?e.value?"#true":"#false":`${e.value}`:(console.error("Invalid input to printE"),`<${e}>`)}function G(e){return`[${L(e.condition)} ${L(e.result)}]`}function C(e){return e.symbol}var _r=[{type:"Function Definition",name:{type:"Symbol",symbol:"f"},args:[{type:"Symbol",symbol:"x"},{type:"Symbol",symbol:"y"}],body:{type:"Function Call",name:{type:"Symbol",symbol:"+"},args:[{type:"Symbol",symbol:"x"},{type:"Symbol",symbol:"y"}]}},{type:"Cond-Expression",options:[{type:"Cond-Option",condition:{type:"Function Call",name:{type:"Symbol",symbol:"="},args:[{type:"Symbol",symbol:"x"},{type:"Literal Value",value:3}]},result:{type:"Literal Value",value:"isThree"}},{type:"Cond-Option",condition:{type:"Literal Value",value:!1},result:{type:"Literal Value",value:"'()"}}]},{type:"Constant Definition",name:{type:"Symbol",symbol:"x"},value:{type:"Literal Value",value:42}},{type:"Struct Definition",binding:{type:"Symbol",symbol:"name"},properties:[{type:"Symbol",symbol:"firstName"},{type:"Symbol",symbol:"lastName"}]}];function te(e,n,t="text"){let o=[],a=0,p=0,c=0,u="",f=!1,x=!1;e.split("").forEach(d=>{if(f&&d!=='"'){u+=d;return}if(x&&d!==">"){u+=d;return}switch(d){case"(":case"[":p++;break;case")":case"]":p--;break;case'"':f=!f;break;case"<":x=t==="html";break;case">":t==="html"&&(x=!1);break;case" ":case`
`:case"	":if(!u)return;o.push({term:u,level:a}),a>c&&(c=a),u="",a=p;return}u+=d}),u!==""&&(o.push({term:u,level:a}),a>c&&(c=a));let g=t==="html"?"<br>":`
`;for(let d=c;d>0;d--){let T=[];o.forEach(b=>{b.level<d?T.push(pt(ee({},b),{subterms:[]})):T[T.length-1].subterms.push(b.term)}),o=T.map(b=>{let R=b.subterms.some(H=>H.includes(g)),B=`${b.term}${b.subterms.length>0?" ":""}${b.subterms.join(" ")}`,Ae=t==="html"?In(B):B.length;if(R||Ae+b.level>n){let H=b.subterms.map(Pe=>`${ct(t==="html"?"&nbsp;":" ",d)}${Pe}`);H.unshift(b.term);let ue=t==="html"?"<br>":`
`;return{term:`${H.join(ue)}`,level:b.level}}else return{term:B,level:b.level}})}return o.map(d=>d.term).join(g)}function ct(e,n){let t="";for(let o=0;o<n;o++)t+=e;return t}function In(e){let n=document.createElement("div");return n.innerHTML=e,n.textContent?n.textContent.length:0}function F(e){return e.replaceAll("<","&lt;").replaceAll(">","&gt;")}function Q(e){return e.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&nbsp;"," ")}function P(e,n,t=!1){if(e.length===0)return[];let o=n.split("/"),a=o.shift();if(a=="")return e;let p=o.join("/"),c=[];if(a=="..")c=e.map(u=>u.parentElement).filter(u=>u);else if(a=="+")c=e.map(u=>u.nextElementSibling).filter(u=>u);else if(a.startsWith(".")){let u=a.slice(1);c=e.flatMap(f=>Array.from(f.children).filter(x=>x.classList.contains(u)))}else c=e.flatMap(u=>Array.from(u.children).filter(f=>f.tagName==a.toUpperCase()));return c.length===0&&t&&console.error(`Error traversing ${n}: No element found`),P(c,p)}function X(e,n){if(e.tagName==n.toUpperCase())return e;{let t=e.parentElement;return t?X(t,n):(console.error("Could not find parent element with requested tag ",n),null)}}function w(e,n){if(e.classList.contains(n))return e;{let t=e.parentElement;return t?w(t,n):(console.error("Could not find parent element with requested class ",n),null)}}var mt=`/* ######## color variables ###### */
.tree {
  --branch-color: #666;
  --node-background: #ebf0f4; /* racket azure */
  --text-grey: #444; /* like in scribble */
  --hole-yellow: #fdf68d; /* pale yellow */
  --highlight-border-connectors: lime;
  --wrong-background: red;
  --correct-background: lime;
  --hole-selection-background: white;
}
/*
CSS for tree by Ross Angus
https://www.cssscript.com/clean-tree-diagram/
(Edited and extended)
*/

/* ###### node layout ######## */
.tree,
.tree ul,
.tree li {
    list-style: none;
    margin: 0;
    padding: 0;
    position: relative;
    white-space: nowrap;
}

.tree {
    margin: 0 0 1em;
    text-align: center;
}

.tree,
.tree ul {
    display: table;
}

.tree ul {
    width: 100%;
}

.tree li {
    display: table-cell;
    padding: 0;
    padding-top: 1.5em;
    vertical-align: top;
}

.tree code,
.tree span {
    border: solid .1em var(--branch-color);
    border-radius: .2em;
    display: inline-block;
    margin-left: 1em;
    margin-right: 1em;
    margin-top: 1.5em;
    padding: .2em .5em;
    position: relative;
    box-sizing: border-box;
}

/* ########### custom AST node  styles ######## */
/* node */
.tree span {
  font-family: 'Fira-Mono', monospace;
  background-color: var(--node-background);
  transition: 1s background-color ease-out;
}
.tree .terminal-symbol {
  border-width: .2em;
  border-style: double;
}
/* node label */
.tree .name {
  color: var(--text-grey);
  font-style: italic;
  font-size: 0.85em;
  text-align: right;

  position: absolute;
  top: calc(-0.85em - 1.5em);
  right: var(--edgetext-right, 50%); /* to be set dynamically */
  margin-right: -1.5em;
  background-color: rgba(255,255,255,0.7);
}
/* tooltip */
.tree .name .tooltip {
  display: none;
}
.tree .name:hover .tooltip {
  display: block;
  position: absolute;
  left: 100%;
  bottom: calc(-0.5em - 1px);
  background-color: var(--node-background);
  border: 1px solid var(--branch-color);
  text-align: left;
  padding: 0.5em;
  z-index: 1000;
}

/* ###### connectors ########### */
/* part above box */
.tree span:before {
    outline: solid 1px var(--branch-color);
    content: "";
    width: var(--connector-width, 0px); /* to be set dynamically */
    left: var(--connector-left, 50%); /* to be set dynamically */
    position: absolute;
    top: -1.5em;
    transform: var(--connector-transform); /* to be set dynamically */
}
.tree span.terminal-symbol:before {
  top: calc(-1.5em - .2em);
}

/* ####### highlight way back up from a node ###### */
/* .tree li:hover > span {
  border-color: var(--highlight-border-connectors);
}
.tree li:hover::before {
  border-color: var(--highlight-border-connectors);
  z-index: 1000;
}
.tree li:hover > span::before {
  outline-color: var(--highlight-border-connectors);
} */

/* ######## hide connectors over root ######## */
.tree>li:before,
.tree>li:after,
.tree>li>code:before,
.tree>li>span:before {
    outline: none !important;
    border: none !important;
}
.tree>li {
    margin-top: 0;
}

/* ####### collapse nodes ######## */
/* click on span to hide/show */
.tree .hole:hover {
  cursor: pointer;
}

.tree [data-collapsed="true"] {
  display: none;
}

/* ######### holes ########## */
.tree .char {
  display: inline;
  margin: 0;
  border: none;
  padding: 0;
  border-radius: 0;
  background-color: transparent;
  transition: background-color 1s ease-out;
}
.tree .char::before {
  display: none;
}

.tree .hole {
  display: inline-block;
  background-color: var(--hole-yellow);
  border: 1px solid var(--text-grey);
  color: var(--text-grey);
  padding-left: 0.25em;
  padding-right: 0.25em;
  position: relative;
}

/* ########### quiz ########## */

/* quiz stages */
.tree span[data-quiz-state="production"] .name,
.tree span[data-quiz-state="production"] .code,
.tree span[data-quiz-state="production"] .hole-marking {
  display: none;
}

.tree span[data-quiz-state="hole-marking"] .code,
.tree span[data-quiz-state="hole-marking"] .production {
  display: none;
}

.tree span[data-quiz-state="done"] .production,
.tree span[data-quiz-state="done"] .hole-marking {
  display: none;
}

/* highlighting text by putting a div behind a textarea */
.tree textarea,
.tree .marker-container {
  font-family: inherit;
  resize: none;
  font-size: calc(1em);
  padding: 2px;
  margin: .2em;
  border: none;
  box-sizing: border-box;
}

.tree .textarea-container {
  position: relative;
  display: inline-block;
}
.tree textarea {
  position: relative;
  background-color: transparent;
  z-index: 2;
}
.tree .marker-container {
  text-align: left;
  background-color: var(--hole-selection-background);
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
}
.tree .marker {
  color: transparent;
  background-color: transparent;
  transition: 1s background-color ease-out;
}

/* feedback for wrong answer */
.tree .wrong {
  background-color: var(--wrong-background);
  transition: none;
}
.tree .correct {
  background-color: var(--correct-background);
  transition: none;
}
`;function ye(e,n,t,o=!1,a="en"){if(t||(t=Un(e)),!document.getElementById("bsl-tools-tree-style")){let p=document.createElement("style");p.innerHTML=mt,p.id="bsl-tools-tree-style",document.getElementsByTagName("head")[0].appendChild(p)}ft.includes(a)||(console.error(`
      Selected language "${a}" is not implemented, defaulting to "en".
      Available language codes: ${ft.join(", ")}
    `),a="en"),n.innerHTML=`
    <ul class="tree ast">
      ${o?bt(e,a,t):yt(e,t)}
    </ul>
  `,o&&P([n],"ul/li/ul/li").map(p=>p.setAttribute("data-collapsed","false")),he(n)}function Un(e){let n={};return gt(e,n),n}function gt(e,n){n[e.production]=[],e.holes.map(t=>gt(t.content,n))}var ft=["en","de"],St={en:{"select production":"Select production","mark selected text as hole":"Mark selected text as hole"},de:{"select production":"Produktion ausw\xE4hlen","mark selected text as hole":"Auswahl als Loch markieren"}};function he(e){let n=parseFloat(getComputedStyle(e).fontSize)*3;for(let t=1;;t++){let o=Array.from(e.getElementsByClassName(`hole-${t}`));if(o.length<1)return;o.map(a=>{let p=a,c=.5*(p.getBoundingClientRect().x+p.getBoundingClientRect().right);if(c==0)return;let u=X(p,"li");!u||P([u],`ul/.child-${t}/span`).map(f=>{let x=f,g=.5*(x.getBoundingClientRect().x+x.getBoundingClientRect().right),d=c-g,T=-Math.atan2(n,d),b=Math.sqrt(d*d+n*n),R=d/2-b/2;x.style.cssText=`
          --connector-width: ${b}px;
          --connector-left: calc(50% + ${R}px);
          --edgetext-right: calc(50% - ${d/2}px);
          --connector-transform: rotate(${T}rad);
        `})})}}function yt(e,n,t=-1){return`
    <li class="${t>=0?`child-${t+1}`:""}"
        data-collapsed="${t>=0?"true":"false"}">
      <span class="${e.holes.length>0?"":"terminal-symbol"}">

        ${xt(e,n)}

        ${ht(e)}

      </span>
      ${e.holes.length>0?`<ul>${e.holes.map((o,a)=>yt(o.content,n,a)).join("")}</ul>`:""}
    </li>
  `}function ht(e){return`
  <div class="code">${Nn(e).map(t=>`<span class="char ${t.pos?`hole hole-${t.pos}`:""}"
             ${t.pos?`onclick="toggleChild(event,${t.pos})"`:""}
             >${e.code.slice(t.start,t.end)}</span>`).join("")}
  </div>
  `}window.toggleChild=(e,n)=>{let t=e.target,o=X(t,"li"),a=w(t,"tree");if(!o||!a){console.error("toggleChild called from .hole not in .tree");return}P([o],`ul/.child-${n}`).map(p=>{p.setAttribute("data-collapsed",p.getAttribute("data-collapsed")==="true"?"false":"true")}),he(a)};function Nn(e){let n=[],t=0;for(let o=0;o<e.holes.length;o++)e.holes[o].start>t&&n.push({pos:!1,start:t,end:e.holes[o].start}),n.push(ee({pos:o+1},e.holes[o])),t=e.holes[o].end;return t<e.code.length&&n.push({pos:!1,start:t,end:e.code.length}),n}function xt(e,n){return`
    <div class="name">${F(e.production)}${n[e.production]&&n[e.production].length>0?`<div class="tooltip">::= ${n[e.production].map(F).join("<br>&nbsp;|&nbsp;&nbsp;")}</div>`:""}</div>
  `}function bt(e,n,t,o=-1){return`
    <li class="${o>=0?`child-${o+1}`:""}"
        data-collapsed="${o>=0?"true":"false"}">
      <span class="${e.holes.length>0?"":"terminal-symbol"}"
            data-quiz-state="${o>=0?"production":"done"}"
            data-is-terminal="${e.holes.length<=0}"
            data-is-trivial-hole="${e.holes.length===1&&e.holes[0].start===0&&e.holes[0].end===e.code.length}">

        ${Fn(e,n,t)}

        ${Dn(e,n)}

        ${xt(e,t)}
        ${ht(e)}
      </span>
      ${e.holes.length>0?`<ul>${e.holes.map((a,p)=>bt(a.content,n,t,p)).join("")}</ul>`:""}
    </li>
  `}function Fn(e,n,t){return`
  <div class="production">
    <select onchange="checkProduction(event, '${e.production}')">
      <option selected="true">${St[n]["select production"]}</option>
      ${Object.keys(t).map(o=>`
          <option value="${o}">${F(o)}</option>
        `).join("")}
    </select>
  </div>
  `}window.checkProduction=(e,n)=>{let t=e.target;if(t.value===n){let o=X(t,"span");if(o){o.getAttribute("data-is-terminal")==="true"?o.setAttribute("data-quiz-state","done"):o.getAttribute("data-is-trivial-hole")==="true"?(o.setAttribute("data-quiz-state","done"),P([o],"+/li",!0).map(p=>p.setAttribute("data-collapsed","false"))):o.setAttribute("data-quiz-state","hole-marking"),P([o],"../+").map(p=>p.setAttribute("data-collapsed","false"));let a=w(o,"tree");a&&he(a)}}else{Array.from(t.selectedOptions).map(a=>a.remove());let o=X(t,"span");o&&(o.classList.add("wrong"),window.setTimeout(()=>{o.classList.remove("wrong")},100))}};function Dn(e,n){return`
  <div class="hole-marking"
       data-holes="${btoa(JSON.stringify(e.holes.map(t=>[t.start,t.end,!1])))}">
    <div class="textarea-container">
      <div class="marker-container">
        ${e.code.split(`
`).map(t=>t.split("").map(o=>`<span class="char marker">${o}</span>`).join("")).join('<span class="char marker"></span><br>')}
      </div>
      <textarea autocorrect="off"
                spellcheck="false"
                cols="${e.code.split(`
`).map(t=>t.length).reduce((t,o)=>t>o?t:o)}"
                rows="${e.code.split(`
`).length}"
                oninput="stopInput(event, '${btoa(e.code)}')">${e.code}</textarea>
    </div><br>
    <button onclick="checkSelection(event)">
      ${St[n]["mark selected text as hole"]}
    </button>
  </div>
  `}window.stopInput=(e,n)=>{e.target.value=atob(n)};window.checkSelection=e=>{let n=e.target,t=w(n,"hole-marking");if(!t){console.error("checkProduction called from el. not wrapped in div.hole-marking");return}let o=JSON.parse(atob(t.getAttribute("data-holes"))),a=t.getElementsByTagName("textarea")[0],p=a.selectionStart,c=a.selectionEnd,u=p<c?p:c,f=p<c?c:p,x=-1;if(o.map((g,d)=>{g[0]===u&&g[1]===f&&(g[2]=!0,x=d)}),x>=0)t.setAttribute("data-holes",btoa(JSON.stringify(o))),P([t],".textarea-container/.marker-container/.marker",!0).slice(u,f).map(g=>g.classList.add("correct"));else{let g=P([t],".textarea-container/.marker-container/.marker",!0).slice(u,f);g.map(d=>d.classList.add("wrong")),window.setTimeout(()=>{g.map(d=>d.classList.remove("wrong"))},100)}if(o.every(g=>g[2])){let g=X(t,"span");if(g){g.setAttribute("data-quiz-state","done"),P([g],"../ul/.child-1").map(T=>T.setAttribute("data-collapsed","false"));let d=w(g,"tree");d&&he(d)}}};function Ue(e,n,t){return t=t||" ",e.length>n?e:(n-=e.length,t+=t.repeat(n),e+t.slice(0,n))}var O=class extends Error{constructor(t,o,a,p){super();this.message=t,this.expected=o,this.found=a,this.location=p,this.name="SyntaxError",typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(this,O.prototype):this.__proto__=O.prototype,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,O)}static buildMessage(t,o){function a(g){return g.charCodeAt(0).toString(16).toUpperCase()}function p(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,d=>"\\x0"+a(d)).replace(/[\x10-\x1F\x7F-\x9F]/g,d=>"\\x"+a(d))}function c(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,d=>"\\x0"+a(d)).replace(/[\x10-\x1F\x7F-\x9F]/g,d=>"\\x"+a(d))}function u(g){switch(g.type){case"literal":return'"'+p(g.text)+'"';case"class":let d=g.parts.map(T=>Array.isArray(T)?c(T[0])+"-"+c(T[1]):c(T));return"["+(g.inverted?"^":"")+d+"]";case"any":return"any character";case"end":return"end of input";case"other":return g.description}}function f(g){let d=g.map(u),T,b;if(d.sort(),d.length>0){for(T=1,b=1;T<d.length;T++)d[T-1]!==d[T]&&(d[b]=d[T],b++);d.length=b}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function x(g){return g?'"'+p(g)+'"':"end of input"}return"Expected "+f(t)+" but "+x(o)+" found."}format(t){let o="Error: "+this.message;if(this.location){let a=null,p;for(p=0;p<t.length;p++)if(t[p].source===this.location.source){a=t[p].text.split(/\r\n|\n|\r/g);break}let c=this.location.start,u=this.location.source+":"+c.line+":"+c.column;if(a){let f=this.location.end,x=Ue("",c.line.toString().length," "),g=a[c.line-1],d=c.line===f.line?f.column:g.length+1;o+=`
 --> `+u+`
`+x+` |
`+c.line+" | "+g+`
`+x+" | "+Ue("",c.column-1," ")+Ue("",d-c.column,"^")}else o+=`
 at `+u}return o}};function Mn(e,n){n=n!==void 0?n:{};let t={},o=n.grammarSource,a={Program:ot},p=ot,c=function(r){return r},u=/^[\t \n \r]/,f=fe(["	"," ",`
`," ","\r"],!1,!1),x=function(r){return r},g="(define-struct",d=A("(define-struct",!1),T="(",b=A("(",!1),R=")",B=A(")",!1),Ae=function(r,i){return{type:"Struct Definition",binding:r,properties:i}},H="(define",ue=A("(define",!1),Me=function(r,i,l){return{type:"Function Definition",name:r,args:i,body:l}},Pe=function(r,i){return{type:"Constant Definition",name:r,value:i}},jt=function(r){return r},He="(cond",Vt=A("(cond",!1),qt=function(r){return{type:"Cond-Expression",options:r}},Kt="[",Jt=A("[",!1),Wt="]",Gt=A("]",!1),Qt=function(r,i){return{type:"Cond-Option",condition:r,result:i}},Xt=function(r,i){return{type:"Function Call",name:r,args:i}},ze="define",Yt=A("define",!1),Oe=/^[^",'`()[\]{}|#\n\t\r0-9 ]/,je=fe(['"',",","'","`","(",")","[","]","{","}","|","#",`
`,"	","\r",["0","9"]," "],!0,!1),Zt=function(r){return{type:"Symbol",symbol:r.join("")}},en=function(r){return{type:"Literal Value",value:r}},Ve=/^[0-9]/,qe=fe([["0","9"]],!1,!1),tn=function(){return parseInt(mn(),10)},Ke="#true",nn=A("#true",!1),Je="#false",rn=A("#false",!1),We="#t",on=A("#t",!1),Ge="#f",sn=A("#f",!1),an=function(r){return r==="#true"||r==="#t"},Qe="'()",ln=A("'()",!1),pn=function(){return"'()"},Xe='"',Ye=A('"',!1),Ze=/^[^"]/,et=fe(['"'],!0,!1),cn=function(r){return r.join("")},un=tt("whitespace"),dn=function(){},s=0,v=0,de=[{line:1,column:1}],M=0,we=[],y=0,me;if(n.startRule!==void 0){if(!(n.startRule in a))throw new Error(`Can't start parsing from rule "`+n.startRule+'".');p=a[n.startRule]}function mn(){return e.substring(v,s)}function br(){return se(v,s)}function Tr(r,i){throw i=i!==void 0?i:se(v,s),rt([tt(r)],e.substring(v,s),i)}function vr(r,i){throw i=i!==void 0?i:se(v,s),gn(r,i)}function A(r,i){return{type:"literal",text:r,ignoreCase:i}}function fe(r,i,l){return{type:"class",parts:r,inverted:i,ignoreCase:l}}function Cr(){return{type:"any"}}function fn(){return{type:"end"}}function tt(r){return{type:"other",description:r}}function nt(r){let i=de[r],l;if(i)return i;for(l=r-1;!de[l];)l--;for(i=de[l],i={line:i.line,column:i.column};l<r;)e.charCodeAt(l)===10?(i.line++,i.column=1):i.column++,l++;return de[r]=i,i}function se(r,i){let l=nt(r),m=nt(i);return{source:o,start:{offset:r,line:l.line,column:l.column},end:{offset:i,line:m.line,column:m.column}}}function h(r){s<M||(s>M&&(M=s,we=[]),we.push(r))}function gn(r,i){return new O(r,[],"",i)}function rt(r,i,l){return new O(O.buildMessage(r,i),r,i,l)}function ot(){let r,i,l;if(r=s,i=[],l=st(),l!==t)for(;l!==t;)i.push(l),l=st();else i=t;return i!==t&&(v=r,i=c(i)),r=i,r}function st(){let r,i,l,m;if(r=s,i=Sn(),i===t&&(i=j()),i!==t){if(l=[],u.test(e.charAt(s))?(m=e.charAt(s),s++):(m=t,y===0&&h(f)),m!==t)for(;m!==t;)l.push(m),u.test(e.charAt(s))?(m=e.charAt(s),s++):(m=t,y===0&&h(f));else l=t;l!==t?(v=r,i=c(i),r=i):(s=r,r=t)}else s=r,r=t;return r}function Sn(){let r,i,l;return r=s,i=$(),i!==t?(l=yn(),l===t&&(l=hn(),l===t&&(l=xn())),l!==t?(v=r,i=x(l),r=i):(s=r,r=t)):(s=r,r=t),r}function yn(){let r,i,l,m,S,U,_,E,V;if(r=s,e.substr(s,14)===g?(i=g,s+=14):(i=t,y===0&&h(d)),i!==t)if(l=z(),l!==t)if(m=$(),m!==t)if(e.charCodeAt(s)===40?(S=T,s++):(S=t,y===0&&h(b)),S!==t){if(U=[],_=z(),_!==t)for(;_!==t;)U.push(_),_=z();else U=t;U!==t?(e.charCodeAt(s)===41?(_=R,s++):(_=t,y===0&&h(B)),_!==t?(E=$(),E!==t?(e.charCodeAt(s)===41?(V=R,s++):(V=t,y===0&&h(B)),V!==t?(v=r,i=Ae(l,U),r=i):(s=r,r=t)):(s=r,r=t)):(s=r,r=t)):(s=r,r=t)}else s=r,r=t;else s=r,r=t;else s=r,r=t;else s=r,r=t;return r}function hn(){let r,i,l,m,S,U,_,E,V,Re;if(r=s,e.substr(s,7)===H?(i=H,s+=7):(i=t,y===0&&h(ue)),i!==t)if(l=$(),l!==t)if(e.charCodeAt(s)===40?(m=T,s++):(m=t,y===0&&h(b)),m!==t)if(S=z(),S!==t)if(U=$(),U!==t){if(_=[],E=z(),E!==t)for(;E!==t;)_.push(E),E=z();else _=t;_!==t?(e.charCodeAt(s)===41?(E=R,s++):(E=t,y===0&&h(B)),E!==t?(V=j(),V!==t?(e.charCodeAt(s)===41?(Re=R,s++):(Re=t,y===0&&h(B)),Re!==t?(v=r,i=Me(S,_,V),r=i):(s=r,r=t)):(s=r,r=t)):(s=r,r=t)):(s=r,r=t)}else s=r,r=t;else s=r,r=t;else s=r,r=t;else s=r,r=t;else s=r,r=t;return r}function xn(){let r,i,l,m,S;return r=s,e.substr(s,7)===H?(i=H,s+=7):(i=t,y===0&&h(ue)),i!==t?(l=z(),l!==t?(m=j(),m!==t?(e.charCodeAt(s)===41?(S=R,s++):(S=t,y===0&&h(B)),S!==t?(v=r,i=Pe(l,m),r=i):(s=r,r=t)):(s=r,r=t)):(s=r,r=t)):(s=r,r=t),r}function j(){let r,i,l;return r=s,i=$(),i!==t?(l=bn(),l===t&&(l=Tn(),l===t&&(l=z(),l===t&&(l=vn()))),l!==t?(v=r,i=jt(l),r=i):(s=r,r=t)):(s=r,r=t),r}function bn(){let r,i,l,m,S;if(r=s,e.substr(s,5)===He?(i=He,s+=5):(i=t,y===0&&h(Vt)),i!==t){if(l=[],m=it(),m!==t)for(;m!==t;)l.push(m),m=it();else l=t;l!==t?(m=$(),m!==t?(e.charCodeAt(s)===41?(S=R,s++):(S=t,y===0&&h(B)),S!==t?(v=r,i=qt(l),r=i):(s=r,r=t)):(s=r,r=t)):(s=r,r=t)}else s=r,r=t;return r}function it(){let r,i,l,m,S,U,_,E;return r=s,i=$(),i!==t?(e.charCodeAt(s)===91?(l=Kt,s++):(l=t,y===0&&h(Jt)),l!==t?(m=$(),m!==t?(S=j(),S!==t?(U=$(),U!==t?(_=j(),_!==t?(e.charCodeAt(s)===93?(E=Wt,s++):(E=t,y===0&&h(Gt)),E!==t?(v=r,i=Qt(S,_),r=i):(s=r,r=t)):(s=r,r=t)):(s=r,r=t)):(s=r,r=t)):(s=r,r=t)):(s=r,r=t)):(s=r,r=t),r}function Tn(){let r,i,l,m,S;if(r=s,e.charCodeAt(s)===40?(i=T,s++):(i=t,y===0&&h(b)),i!==t)if(l=z(),l!==t){for(m=[],S=j();S!==t;)m.push(S),S=j();m!==t?(e.charCodeAt(s)===41?(S=R,s++):(S=t,y===0&&h(B)),S!==t?(v=r,i=Xt(l,m),r=i):(s=r,r=t)):(s=r,r=t)}else s=r,r=t;else s=r,r=t;return r}function z(){let r,i,l,m,S;if(r=s,i=$(),i!==t)if(l=s,y++,e.substr(s,6)===ze?(m=ze,s+=6):(m=t,y===0&&h(Yt)),y--,m===t?l=void 0:(s=l,l=t),l!==t){if(m=[],Oe.test(e.charAt(s))?(S=e.charAt(s),s++):(S=t,y===0&&h(je)),S!==t)for(;S!==t;)m.push(S),Oe.test(e.charAt(s))?(S=e.charAt(s),s++):(S=t,y===0&&h(je));else m=t;m!==t?(v=r,i=Zt(m),r=i):(s=r,r=t)}else s=r,r=t;else s=r,r=t;return r}function vn(){let r,i;return r=s,i=Cn(),i===t&&(i=Ln(),i===t&&(i=_n(),i===t&&(i=$n()))),i!==t&&(v=r,i=en(i)),r=i,r}function Cn(){let r,i,l,m;if(r=s,i=$(),i!==t){if(l=[],Ve.test(e.charAt(s))?(m=e.charAt(s),s++):(m=t,y===0&&h(qe)),m!==t)for(;m!==t;)l.push(m),Ve.test(e.charAt(s))?(m=e.charAt(s),s++):(m=t,y===0&&h(qe));else l=t;l!==t?(v=r,i=tn(),r=i):(s=r,r=t)}else s=r,r=t;return r}function Ln(){let r,i,l;return r=s,i=$(),i!==t?(e.substr(s,5)===Ke?(l=Ke,s+=5):(l=t,y===0&&h(nn)),l===t&&(e.substr(s,6)===Je?(l=Je,s+=6):(l=t,y===0&&h(rn)),l===t&&(e.substr(s,2)===We?(l=We,s+=2):(l=t,y===0&&h(on)),l===t&&(e.substr(s,2)===Ge?(l=Ge,s+=2):(l=t,y===0&&h(sn))))),l!==t?(v=r,i=an(l),r=i):(s=r,r=t)):(s=r,r=t),r}function _n(){let r,i,l;return r=s,i=$(),i!==t?(e.substr(s,3)===Qe?(l=Qe,s+=3):(l=t,y===0&&h(ln)),l!==t?(v=r,i=pn(),r=i):(s=r,r=t)):(s=r,r=t),r}function $n(){let r,i,l,m,S;if(r=s,i=$(),i!==t)if(e.charCodeAt(s)===34?(l=Xe,s++):(l=t,y===0&&h(Ye)),l!==t){if(m=[],Ze.test(e.charAt(s))?(S=e.charAt(s),s++):(S=t,y===0&&h(et)),S!==t)for(;S!==t;)m.push(S),Ze.test(e.charAt(s))?(S=e.charAt(s),s++):(S=t,y===0&&h(et));else m=t;m!==t?(e.charCodeAt(s)===34?(S=Xe,s++):(S=t,y===0&&h(Ye)),S!==t?(v=r,i=cn(m),r=i):(s=r,r=t)):(s=r,r=t)}else s=r,r=t;else s=r,r=t;return r}function $(){let r,i,l;for(y++,r=s,i=[],u.test(e.charAt(s))?(l=e.charAt(s),s++):(l=t,y===0&&h(f));l!==t;)i.push(l),u.test(e.charAt(s))?(l=e.charAt(s),s++):(l=t,y===0&&h(f));return i!==t&&(v=r,i=dn()),r=i,y--,r===t&&(i=t,y===0&&h(un)),r}if(me=p(),me!==t&&s===e.length)return me;throw me!==t&&s<e.length&&h(fn()),rt(we,M<e.length?e.charAt(M):null,M<e.length?se(M,M+1):se(M,M))}var xe=Mn;var Tt=`/* css for errors */
.error-wrapper{
    display:flex;
    flex-direction:column;
    margin:2vw;
    font-size:inherit;
}

.error{
    font-size:1.2em;
}
`;function vt(){Array.from(document.getElementsByTagName("bsltree")).map(e=>{try{let n=xe(Q(e.innerHTML)),t=jn(n),o=e.getAttribute("quiz")==="true",a=e.getAttribute("lang")?e.getAttribute("lang"):void 0;ye(t,e,On,o,a)}catch(n){zn(e,`${n.location.start.line}:${n.location.start.column} ${n}`)}})}function zn(e,n){if(!document.getElementById("bsl-tools-error-style")){let f=document.createElement("style");f.innerHTML=Tt,f.id="bsl-tools-error-style",document.getElementsByTagName("head")[0].appendChild(f)}let t=e.innerHTML;e.innerHTML="";let o=document.createElement("div");o.classList.add("error-wrapper"),e.appendChild(o);let a=`<p> BSL-Tree could not be parsed! </p>
                  <p> Input: <b style="font-size:0.9em;">${t}</b> </p>`,p=document.createElement("div");p.classList.add("origin"),p.innerHTML=a,o.appendChild(p);let c=document.createElement("pre");c.classList.add("error");let u=document.createElement("code");u.textContent=n,o.appendChild(c),c.appendChild(u)}var On={"<program>":["<def-or-expr>*"],"<def-or-expr>*":[],"<def-or-expr>":["<definition>","<e>"],"<definition>":["(define (<name> <name>+) <e>)","(define <name> <e>)","(define-struct <name> (<name>*))"],"<e>":["(name <e>*)","(cond {[<e>,<e>]}+)","<name>","<v>"],"<e>*":[],"{[ <e> <e> ]}+":[],"[ <e> <e> ]":[],"<name>*":[],"<name>+":[],"<name>":[],"<v>":[]};function jn(e){let n=e.map(Se),t=[],o="";for(let a=0;a<n.length;a++){a>0&&(o=`${o}
`);let p=o.length;o=`${o}${n[a]}`;let c=o.length;t.push({start:p,end:c})}return{production:"<program>",code:o,holes:[{start:0,end:o.length,content:{production:"<def-or-expr>*",code:o,holes:t.map((a,p)=>({start:a.start,end:a.end,content:Vn(e[p])}))}}]}}function Vn(e){let n=Se(e);return{production:"<def-or-expr>",code:n,holes:[{start:0,end:n.length,content:ge(e)?qn(e):ne(e)}]}}function qn(e){let n="",t=[];if(q(e)){n="(define (";let o=n.length;n=`${n}${C(e.name)}`,t.push({start:o,end:n.length,content:Y(e.name)}),n=`${n} `,o=n.length,n=`${n}${e.args.map(C).join(" ")}`,t.push({start:o,end:n.length,content:Kn(e.args)}),n=`${n}) `,o=n.length,n=`${n}${L(e.body)}`,t.push({start:o,end:n.length,content:ne(e.body)}),n=`${n})`}else if(K(e)){n="(define ";let o=n.length;n=`${n}${C(e.name)}`,t.push({start:o,end:n.length,content:Y(e.name)}),n=`${n} `,o=n.length,n=`${n}${L(e.value)}`,t.push({start:o,end:n.length,content:ne(e.value)}),n=`${n})`}else{n="(define-struct ";let o=n.length;n=`${n}${C(e.binding)}`,t.push({start:o,end:n.length,content:Y(e.binding)}),n=`${n} (`,o=n.length,n=`${n}${e.properties.map(C).join(" ")}`,t.push({start:o,end:n.length,content:Jn(e.properties)}),n=`${n}))`}return{production:"<definition>",code:n,holes:t}}function ne(e){let n="",t=[];if(J(e)){n="(";let o=n.length;n=`${n}${C(e.name)}`,t.push({start:o,end:n.length,content:Y(e.name)}),n=`${n} `,o=n.length,n=`${n}${e.args.map(L).join(" ")}`,t.push({start:o,end:n.length,content:Wn(e.args)}),n=`${n})`}else if(W(e)){n="(cond ";let o=n.length;n=`${n}${e.options.map(G).join(" ")}`,t.push({start:o,end:n.length,content:Gn(e.options)}),n=`${n})`}else N(e)?(n=C(e),t.push({start:0,end:n.length,content:Y(e)})):(n=L(e),t.push({start:0,end:n.length,content:Xn(e)}));return{production:"<e>",code:n,holes:t}}function Y(e){return{production:"<name>",code:C(e),holes:[]}}function Kn(e){e.length<1&&console.error("<name>+ but used but names are empty");let n="",t=[];for(let o=0;o<e.length;o++){let a=n.length;n=`${n}${C(e[o])}`,t.push({start:a,end:n.length,content:Y(e[o])}),o<e.length-1&&(n=`${n} `)}return{production:"<name>+",code:n,holes:t}}function Jn(e){let n="",t=[];for(let o=0;o<e.length;o++){let a=n.length;n=`${n}${C(e[o])}`,t.push({start:a,end:n.length,content:Y(e[o])}),o<e.length-1&&(n=`${n} `)}return{production:"<name>*",code:n,holes:t}}function Wn(e){let n="",t=[];for(let o=0;o<e.length;o++){let a=n.length;n=`${n}${L(e[o])}`,t.push({start:a,end:n.length,content:ne(e[o])}),o<e.length-1&&(n=`${n} `)}return{production:"<e>*",code:n,holes:t}}function Gn(e){let n="",t=[];for(let o=0;o<e.length;o++){let a=n.length;n=`${n}${G(e[o])}`,t.push({start:a,end:n.length,content:Qn(e[o])}),o<e.length-1&&(n=`${n} `)}return{production:"{[ <e> <e> ]}+",code:n,holes:t}}function Qn(e){let n="",t=[];n=`${n}[`;let o=n.length;return n=`${n}${L(e.condition)}`,t.push({start:o,end:n.length,content:ne(e.condition)}),n=`${n} `,o=n.length,n=`${n}${L(e.result)}`,t.push({start:o,end:n.length,content:ne(e.result)}),n=`${n}]`,{production:"[ <e> <e> ]",code:n,holes:t}}function Xn(e){return{production:"<v>",code:L(e),holes:[]}}function Ct(){Array.from(document.getElementsByTagName("jsontree")).map(e=>{try{let n=Yn(Q(e.innerHTML)),t=n.root,o=n.grammar,a=e.getAttribute("quiz")==="true",p=e.getAttribute("lang")?e.getAttribute("lang"):void 0;ye(t,e,o,a,p)}catch(n){console.error(n),e.innerHTML=`${n}`,e.style.cssText=`
        padding: 2em;
        color: darkred;
        display: block;
      `}})}function Yn(e){let n=JSON.parse(e.trim()),t=n.grammar;return{root:Lt(n),grammar:t}}function Lt(e){let n=e.production;if(!n||typeof n!="string")throw`${JSON.stringify(e,void 0,2).replaceAll(`
`,"<br>")} has wrong structure, production needs to be a string`;let t=e.code;if(!t||typeof t!="string")throw`${JSON.stringify(e,void 0,2).replaceAll(`
`,"<br>")} has wrong structure, code needs to be a string`;e.holes||(e.holes=[]);let o=t.split("|"),a="",p=[];for(let c=0;c<o.length;c++)if(a=`${a}${o[c]}`,c++,c<o.length&&o[c]){let u=a.length;a=`${a}${o[c]}`;let f=e.holes[p.length];if(!f)throw`${JSON.stringify(e,void 0,2).replaceAll(`
`,"<br>")} has wrong structure: less holes than marked with || in the code`;p.push({start:u,end:a.length,content:Lt(f)})}return{production:n,code:a,holes:p}}function _t(e){return e.type==="ExprStep"||e.type==="DefinitionStep"}function be(e){return e.type==="DefinitionStep"}function re(e){return e.type==="ExprStep"}function ae(e){return e.type==="CallRedex"}function le(e){return e.type==="CondRedex"}function Te(e){return e.type==="Hole"}function ve(e){return e.type==="AppContext"}function Ce(e){return e.type==="CondContext"}function Le(e){return e.type==="Split"}function $t(e){return e.type==="Prim"||e.type==="CondTrue"||e.type==="CondFalse"||e.type==="Const"}function pe(e){return e.type==="Kong"}function D(e){return typeof e=="number"||typeof e=="string"||typeof e=="boolean"||e==="'()"}function ce(e){return e.type==="Identifier"}function Bt(e,n){let t=JSON.parse(JSON.stringify(e)),o={};for(;t.length>0;){let p=n.stepperTree,c=t.shift(),u=er(c,o);if(u instanceof Error)return u;o=u.stepList[u.stepList.length-1].env,p.push(u),console.log("progStep",u),console.log("env",o),n.stepperTree=p}return{type:"Stepper",root:n.root,originProgram:n.originProgram,stepperTree:n.stepperTree}}function er(e,n){if(Ie(e)){let t=It(e,n);return t instanceof Error?t:{type:"ProgStep",stepList:t}}else{console.log("definition",e),console.log("calculateDefSteps",At(e,n));let t=At(e,n);return t instanceof Error?t:{type:"ProgStep",stepList:t}}}function At(e,n){if(K(e)){let t=e.name,o=e.value;if(console.log("name",t+"expr",o),I(o)){let a=o.value,p=wt(n,t.symbol,a);return p instanceof Error?p:[{type:"DefinitionStep",env:p,rule:{type:"ProgRule",definition:e},evalSteps:[],result:e}]}else{let a=It(o,n);if(a instanceof Error)return a;{let p=a[a.length-1].result;if(D(p)){let c=wt(n,t.symbol,p);if(c instanceof Error)return c;{let u={type:"Constant Definition",name:t,value:{type:"Literal Value",value:p}};return[{type:"DefinitionStep",env:c,rule:{type:"ProgRule",definition:u},evalSteps:a,result:u}]}}else return Error("calculateDefSteps: Last ExprStep is an Expr, not a Value")}}}else return q(e)?e.name.symbol in n?Error("calculateDefSteps: name already bound"):Error("calculateDefSteps: function definition not defined"):Error("calculateDefSteps: struct definition not defined")}function It(e,n){let t=[];if(D(e))return t;for(;!D(e);){let o=tr(e,n);if(D(o))e=o;else if(re(o))e=o.result,t.push(o);else return o}return t}function tr(e,n){if(I(e))return e.value;{let t=Ne(e);if(Le(t)){let o=nr(t.redex,n);if($t(o)){let a=kt(o,t.context,n);return console.log("exprStep",a),re(a),a}else return o}else return t}}function Ne(e){let n={type:"Hole"};if(J(e)){let t=e.name,o=e.args,a=[],p=[],c=-1,u=!1;if(o.map((f,x)=>{if(!u&&I(f))a.push(f.value);else if(!u&&N(f)){let g={type:"Identifier",symbol:f.symbol};a.push(g)}else!u&&!I(f)&&!N(f)?(u=!0,c=x):p.push(f)}),c==-1){let f={type:"CallRedex",name:t,args:a};return{type:"Split",redex:f,context:n}}else{let f=o[c],x=Ne(f);return Le(x)?{type:"Split",redex:x.redex,context:{type:"AppContext",op:t,values:a,ctx:x.context,args:p}}:x}}else if(W(e)){let t=e.options[0];if(I(t.condition)||N(t.condition))return{type:"Split",redex:{type:"CondRedex",options:e.options},context:n};{let o=Ne(t.condition);return Le(o)?{type:"Split",redex:o.redex,context:{type:"CondContext",options:e.options,ctx:o.context}}:o}}else return N(e)?(console.log("split: expr is Name"),Error("split: expr is Name")):Error("split: something unexpected occured")}function nr(e,n){if(ae(e))if(e.args.every(o=>D(o))){console.log("step: CallRedex has no names");let o=rr(e);return D(o)?{type:"Prim",redex:e,result:o}:Error("step: prim is not applicable")}else{console.log("step: env:"+JSON.stringify(n));let o=Pt(e,n);return o instanceof Error?o:{type:"Const",redex:e,result:o}}else if(le(e))if(I(e.options[0].condition)){let t=or(e);if(t==null){let o=e.options.slice(1);if(o.length<1)return Error("step: cond: all question results were false");let a={type:"Cond-Expression",options:o};return{type:"CondFalse",redex:e,result:a}}else return Ie(t)?{type:"CondTrue",redex:e,result:t}:Error("step: cond is not applicable")}else{let t=Pt(e,n);return t instanceof Error?t:{type:"Const",redex:e,result:t}}else return Error("step: redex is neither a call nor cond")}function kt(e,n,t){if(Te(n))return{type:"ExprStep",env:t,rule:e,result:e.result};{let o=kt(e,n.ctx,t);if(_t(o))if(ve(n)){let p=[n.values,o.result,n.args].flat().map(u=>D(u)?{type:"Literal Value",value:u}:ce(u)?{type:"Symbol",symbol:u.symbol}:u),c={type:"Function Call",name:n.op,args:p};return console.log("plug: env: "+JSON.stringify(t)),{type:"ExprStep",env:t,rule:{type:"Kong",context:n,redexRule:e},result:c}}else if(Ce(n)){let a=n.options,p=D(o.result)?{type:"Literal Value",value:o.result}:o.result,u=[{type:"Cond-Option",condition:p,result:a[0].result},...a.slice(1)],f={type:"Cond-Expression",options:u};return{type:"ExprStep",env:t,rule:{type:"Kong",context:n,redexRule:e},result:f}}else return Error("plug: context is not an AppContext or CondContext");else return o}}function rr(e){if(e.name.symbol==="+"){let n=0;return e.args.forEach(t=>{if(typeof t=="number")n+=t;else return Error("error: argument is not a number: "+t)}),n}else if(e.name.symbol==="*"){let n=1;return e.args.forEach(t=>{if(typeof t=="number")n*=t;else return Error("error: argument is not a number: "+t)}),n}else if(e.name.symbol==="-"){let n=e.args[0];for(let t=1;t<e.args.length;t++){let o=e.args[t];if(typeof o=="number"&&typeof n=="number")n-=o;else return Error("error: argument is not a number: "+e.args[t])}return n}else if(e.name.symbol==="/"){let n=e.args[0];for(let t=1;t<e.args.length;t++){let o=e.args[t];if(typeof n=="number"&&typeof o=="number"&&o!=0)n/=o;else return o==0?Error("error: division by zero"):Error("error: argument is not a number: "+o)}return n}else{if(e.name.symbol==="and")return e.args.every(n=>typeof n=="boolean")?e.args.length>=2?!!e.args.every(n=>n):Error("prim: 'and' needs at least two arguments"):Error("prim: 'and' needs boolean arguments");if(e.name.symbol==="or")return e.args.every(n=>typeof n=="boolean")?e.args.length>=2?!!e.args.some(n=>n):Error("prim: 'or' needs at least two arguments"):Error("prim: 'or' needs boolean arguments");if(e.name.symbol==="not")return typeof e.args[0]=="boolean"?e.args.length==1?!e.args[0]:Error("prim: 'not' needs exactly one argument"):Error("prim: 'not' needs boolean argument");if(["<",">","<=",">="].includes(e.name.symbol)){if(e.args.length!==2)return Error(`prim: ${e.name.symbol} needs exactly two arguments`);let n=e.args[0],t=e.args[1];if(typeof n!="number"||typeof t!="number")return Error(`prim: ${e.name.symbol} needs two numbers, but received ${n} and ${t}`);switch(e.name.symbol){case"<":return n<t;case"<=":return n<=t;case">=":return n>=t;case">":return n>t;default:return!0}}else return Error("prim: this function is not implemented")}}function or(e){let n=e.options[0];return I(n.condition)&&n.condition.value==!0?n.result:I(n.condition)&&n.condition.value==!1?void 0:Error("error: condition is not a boolean")}function Pt(e,n){if(ae(e)){let o=e.args.filter(p=>ce(p))[0],a=Rt(n,o.symbol);if(a instanceof Error)return a;{let p=e.args.map(c=>ce(c)&&c.symbol===o.symbol?{type:"Literal Value",value:a}:ce(c)?{type:"Symbol",symbol:c.symbol}:{type:"Literal Value",value:c});return{type:"Function Call",name:e.name,args:p}}}else if(le(e)){let t=e.options[0].condition;if(N(t)){let o=Rt(n,t.symbol);if(o instanceof Error)return o;{let a={type:"Literal Value",value:o},p={type:"Cond-Option",condition:a,result:e.options[0].result};return{type:"Cond-Expression",options:[p]}}}else return Error("substConst: condition is not a name")}else return Error("substConst: not a redex")}function wt(e,n,t){if(e[n]===void 0){let o=ee({},e);return o[n]=t,console.warn("addToEnv: "+n+":"+t+" added to "+JSON.stringify(e)),console.warn("addToEnv: newEnv = "+JSON.stringify(o)),o}else return Error("addToEnv: name already exists in environment")}function Rt(e,n){return n in e?(console.warn("lookupEnv: "+n+" found in "+JSON.stringify(e)),e[n]):Error("lookupEnv: name is not bound in environment")}var Ut=`/* ######### colors ####### */
.stepper {
  /* --branch-color: #666; */
  --box-background: #ebf0f4; /* racket azure */
  --box-border: #0d3657;
  --button-border: #0d3657;
  --text-grey: #444; /* like in scribble */
  --hole-yellow: #fdf68d; /* pale yellow */
  --hole-green: lightgreen;
  /* --highlight-border-connectors: lime;
  --wrong-background: red;
  --correct-background: lime;
  --hole-selection-background: white; */
}
/* ####### general layout ####### */
div.stepper {
  display:flex;
  flex-direction:column;
  align-items:center;
  font-size: 1.2em;
  box-sizing: border-box;
  font-family: sans-serif;
}
.stepper .program-wrapper{
  margin:2vw;
  padding: 1vh 2vw;
  font-size: 1.1em;
  font-weight: 600;
  border: 1px solid #000;
}
.stepper .program-overview{
  display: flex;
  flex-direction: column;
  margin: 1vh auto;
}
/* ##### boxes ###### */
.stepper .box {
  background-color: var(--box-background);
  padding: 0.5em;
  padding-top: 1em;
  border: 1px solid var(--box-border);
  border-radius: 0.5em;
  position: relative;
  min-width: 600px;
  max-width: 100%;
  margin-bottom: 1.5em;
}
.stepper .boxlabel {
  position: absolute;
  top: -1em;
  left: 0.5em;
  padding: 0.25em;
  border: 0px solid transparent;
  border-radius: 0.25em;
  background-color: var(--box-background);
  color: var(--box-border);

}
/* single step */
.stepper .step {
  margin-bottom: 0.5em;
  position: relative;
  background-color: white;
  padding: 0.5em;
}

/* ####### buttons ###### */
.stepper .step[data-currentStep="true"] {
  padding-top: 1.5em;
  margin-top: 1.5em;
  padding-bottom: 1em;
  margin-bottom: 1.5em;

}
.stepper .prev-button, .stepper .next-button {
  display: none;
}
.stepper [data-currentStep="true"] .prev-button, .stepper [data-currentStep="true"] .next-button {
  position: absolute;
  display: inline-block;
  right: 2em;
  padding: 0.5em;
  font-size: small;
  border: 1px solid var(--button-border);
  background-color: white;
  border-radius: 0.25em;
}
.stepper .prev-button:hover, .stepper .next-button:hover {
  cursor: pointer;
}
.stepper .prev-button {
  top: -1em;
}
/* second child because of box label */
.stepper .step:nth-child(2) .prev-button {
  top: -5em;
}
.stepper .step:nth-child(2) .prev-button::after {
  content: ' (PROG)';
}
.stepper .next-button {
  bottom: -1em;
}
.stepper .step:last-child .next-button {
  bottom: -4em;
}
.stepper .step:last-child .next-button::after {
  content: ' (PROG)';
}
.stepper .icon {
  display: inline-block;
  height: 1em;
}
.stepper .split-result .icon {
  opacity: 70%;
}
.stepper [data-visible="false"] {
  display: none;
}

/* ######### code and rules ####### */
.stepper .code {
  font-family: 'Fira Sans', monospace;
  color: var(--text-grey);
}
.stepper .plug-result {
  position: relative;
  z-index: 2;
}
.stepper .hole {
  display: inline-block;
  background-color: var(--hole-yellow);
  /* border: 1px solid var(--text-grey); */
  color: var(--text-grey);
  padding-left: 0.25em;
  padding-right: 0.25em;
  position: relative;
}
.stepper .hole-result {
  background-color: var(--hole-green);
}
.stepper .rule {
  display: inline-block;
  position: relative;
  padding-left: .5em;
  width: fit-content;
  white-space: nowrap;
  margin-top: 1em;
  margin-bottom: 1.5em;
}
.stepper .kong {
  position: absolute;
  left: 0;
  top: 0;
  padding-left: 0;
  background-color: rgba(255,255,255,0.5);
}
.stepper .one-rule {
  margin-left: var(--one-rule-margin-left, 4em);
}
.stepper .rule-description {
  font-family: 'Fira Mono', monospace;
}

/* arrow body */
.stepper .left-arrowed::before {
  position: absolute;
  content: '';
  left: 0;
  top: -0.5em;
  height: 2.5em;
  border-left: 2px solid var(--text-grey);
  z-index: -1;
}
.stepper .kong::before {
  left: 0.35em;
  border-left: 2px dotted var(--text-grey);
}

/* arrow head */
.stepper .left-arrowed::after {
  position: absolute;
  content: '';
  left: calc(2px - 0.35em); /*-0.35em; /* ca. sqrt(2)/2 * 0.5em */
  top: 1.5em;
  width: 0.5em;
  height: 0.5em;
  border-right: 2px solid var(--text-grey);
  border-bottom: 2px solid var(--text-grey);
  transform: rotate(45deg);
}
.stepper .kong::after {
  left: 2px;
}
/* rule info */
.stepper .info-toggle {
  margin-top: 1em;
  margin-bottom: 1.5em;
  margin-left: 0.5em;
  float: right;
}
.stepper .info-toggle:hover {
  cursor: pointer;
}
.stepper .rule-info {
  padding: 0.5em;
}
.stepper .rule-info-rule-text {
  font-family: Palatino,Georgia,"Times New Roman",serif;
}
.stepper .rule-info-rule-text small {
  vertical-align: sub;
}
.stepper cap {
  font-variant-caps: small-caps;
}
.stepper .rule-info-rule-name {
  position: absolute;
  left: -6em;
  top: 0;
}
.stepper .rule-info-text-container {
  position: relative;
  margin-left: 6em;
  margin-bottom: 1em;
}
/* .stepper .rule-info strong {
  font-family: sans-serif;
  font-style: normal;
} */

/* ##### showing and hiding stuff #### */
/* hide steps that are not yet reached */
.stepper .step[data-currentStep="true"] ~ .step {
  display: none;
}
/* collapsing and expanding steps */
.stepper .step[data-collapsed="true"] .plug-result {
  display: none;
}
.stepper .expander, .stepper .collapser {
  padding-left: 0.25em;
  padding-right: 0.25em;
  float: right;
}
.stepper .expander:hover, .stepper .collapser:hover {
  cursor: pointer;
}
.stepper .step[data-collapsed="true"] .collapser {
  display: none;
}
.stepper .step[data-collapsed="false"] .expander {
  display: none;
}
/* collapsing and expanding info about the rules */
.stepper .plug-result[data-info-collapsed="true"] .rule-info,
.stepper .plug-result[data-info-collapsed="true"] .info-collapse {
  display: none;
}
.stepper .plug-result[data-info-collapsed="false"] .info-expand {
  display: none;
}
`;var _e="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODQgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMzUyIDM1MmMtOC4xODggMC0xNi4zOC0zLjEyNS0yMi42Mi05LjM3NUwxOTIgMjA1LjNsLTEzNy40IDEzNy40Yy0xMi41IDEyLjUtMzIuNzUgMTIuNS00NS4yNSAwcy0xMi41LTMyLjc1IDAtNDUuMjVsMTYwLTE2MGMxMi41LTEyLjUgMzIuNzUtMTIuNSA0NS4yNSAwbDE2MCAxNjBjMTIuNSAxMi41IDEyLjUgMzIuNzUgMCA0NS4yNUMzNjguNCAzNDguOSAzNjAuMiAzNTIgMzUyIDM1MnoiLz48L3N2Zz4=";var $e="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODQgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMTkyIDM4NGMtOC4xODggMC0xNi4zOC0zLjEyNS0yMi42Mi05LjM3NWwtMTYwLTE2MGMtMTIuNS0xMi41LTEyLjUtMzIuNzUgMC00NS4yNXMzMi43NS0xMi41IDQ1LjI1IDBMMTkyIDMwNi44bDEzNy40LTEzNy40YzEyLjUtMTIuNSAzMi43NS0xMi41IDQ1LjI1IDBzMTIuNSAzMi43NSAwIDQ1LjI1bC0xNjAgMTYwQzIwOC40IDM4MC45IDIwMC4yIDM4NCAxOTIgMzg0eiIvPjwvc3ZnPg==";var Nt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNNDMyIDI1NmMwIDE3LjY5LTE0LjMzIDMyLjAxLTMyIDMyLjAxSDI1NnYxNDRjMCAxNy42OS0xNC4zMyAzMS45OS0zMiAzMS45OXMtMzItMTQuMy0zMi0zMS45OXYtMTQ0SDQ4Yy0xNy42NyAwLTMyLTE0LjMyLTMyLTMyLjAxczE0LjMzLTMxLjk5IDMyLTMxLjk5SDE5MnYtMTQ0YzAtMTcuNjkgMTQuMzMtMzIuMDEgMzItMzIuMDFzMzIgMTQuMzIgMzIgMzIuMDF2MTQ0aDE0NEM0MTcuNyAyMjQgNDMyIDIzOC4zIDQzMiAyNTZ6Ii8+PC9zdmc+";var Ft="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNNDAwIDI4OGgtMzUyYy0xNy42OSAwLTMyLTE0LjMyLTMyLTMyLjAxczE0LjMxLTMxLjk5IDMyLTMxLjk5aDM1MmMxNy42OSAwIDMyIDE0LjMgMzIgMzEuOTlTNDE3LjcgMjg4IDQwMCAyODh6Ii8+PC9zdmc+";var Dt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMjU2IDBDMTE0LjYgMCAwIDExNC42IDAgMjU2czExNC42IDI1NiAyNTYgMjU2czI1Ni0xMTQuNiAyNTYtMjU2UzM5Ny40IDAgMjU2IDB6TTI1NiAxMjhjMTcuNjcgMCAzMiAxNC4zMyAzMiAzMmMwIDE3LjY3LTE0LjMzIDMyLTMyIDMyUzIyNCAxNzcuNyAyMjQgMTYwQzIyNCAxNDIuMyAyMzguMyAxMjggMjU2IDEyOHpNMjk2IDM4NGgtODBDMjAyLjggMzg0IDE5MiAzNzMuMyAxOTIgMzYwczEwLjc1LTI0IDI0LTI0aDE2di02NEgyMjRjLTEzLjI1IDAtMjQtMTAuNzUtMjQtMjRTMjEwLjggMjI0IDIyNCAyMjRoMzJjMTMuMjUgMCAyNCAxMC43NSAyNCAyNHY4OGgxNmMxMy4yNSAwIDI0IDEwLjc1IDI0IDI0UzMwOS4zIDM4NCAyOTYgMzg0eiIvPjwvc3ZnPg==";var Mt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMCAyNTZDMCAxMTQuNiAxMTQuNiAwIDI1NiAwQzM5Ny40IDAgNTEyIDExNC42IDUxMiAyNTZDNTEyIDM5Ny40IDM5Ny40IDUxMiAyNTYgNTEyQzExNC42IDUxMiAwIDM5Ny40IDAgMjU2ek0xNzUgMjA4LjFMMjIyLjEgMjU1LjFMMTc1IDMwM0MxNjUuNyAzMTIuNCAxNjUuNyAzMjcuNiAxNzUgMzM2LjFDMTg0LjQgMzQ2LjMgMTk5LjYgMzQ2LjMgMjA4LjEgMzM2LjFMMjU1LjEgMjg5LjlMMzAzIDMzNi4xQzMxMi40IDM0Ni4zIDMyNy42IDM0Ni4zIDMzNi4xIDMzNi4xQzM0Ni4zIDMyNy42IDM0Ni4zIDMxMi40IDMzNi4xIDMwM0wyODkuOSAyNTUuMUwzMzYuMSAyMDguMUMzNDYuMyAxOTkuNiAzNDYuMyAxODQuNCAzMzYuMSAxNzVDMzI3LjYgMTY1LjcgMzEyLjQgMTY1LjcgMzAzIDE3NUwyNTUuMSAyMjIuMUwyMDguMSAxNzVDMTk5LjYgMTY1LjcgMTg0LjQgMTY1LjcgMTc1IDE3NUMxNjUuNyAxODQuNCAxNjUuNyAxOTkuNiAxNzUgMjA4LjFWMjA4LjF6Ii8+PC9zdmc+";function zt(){Array.from(document.getElementsByTagName("stepper")).map(e=>{try{let n=xe(Q(e.innerHTML));console.log(te(ut(n),30)),dr(n,e)}catch(n){let t;n?(console.error(n),t=`${n}`):(console.log("Unknown error"),t="Unknown Error"),e.innerHTML=`
        <h3>Error turning Program into Stepper</h3>
        <div>${e.innerHTML}</div>
        <div>${t}</div>
      `,e.style.cssText=`
        padding: 2em;
        color: darkred;
        display: block;
      `}})}function dr(e,n){if(!document.getElementById("bsl-tools-stepper-style")){let c=document.createElement("style");c.innerHTML=Ut,c.id="bsl-tools-stepper-style",document.getElementsByTagName("head")[0].appendChild(c)}let t=e[0];console.log("expression",t);let o={type:"Stepper",root:n,originProgram:e,stepperTree:[]},a=Bt(e,o);if(a instanceof Error)throw a;console.log("stepper",a);let p=n.getAttribute("lang");p?Ht.includes(p)||(console.error(`
        Language ${p} is not implemented for this module,
        you can choose from ${Ht.join(",")}.
        Defaulting to 'en'.
      `),p="en"):p="en",mr(n),n.innerHTML=fr(a,p)}var Ht=["en","de"],k={en:{"current evaluation":"Current Evaluation","next step":"Next Step","previous step":"Previous Step",environment:"Environment","remaining program":"Remaining Program","start evaluation":"Start Evaluation","evaluation finished":"Evaluation Finished","go back":"Go Back"},de:{"current evaluation":"Aktuelle Auswertung","next step":"N\xE4chster Schritt","previous step":"Vorheriger Schritt",environment:"Umgebung","remaining program":"\xDCbriges Programm","start evaluation":"Auswertung Starten","evaluation finished":"Auswertung Beendet","go back":"Schritt zur\xFCck"}},Ee=12,Z=80;function mr(e){e.innerHTML=`
    <div class="stepper" style="width: 100%;">
      <div class="box">
        <div class="step code"
             data-currentStep="true">
          <p style="display: inline-block;">Loading...</p>
        </div>
      </div>
    </div>
  `;let n=e.getElementsByTagName("p")[0],t=e.getElementsByClassName("stepper")[0];if(!n||!t){console.error("failed to inject measuring HTML into",e);return}Ee=n.clientWidth/10,console.log(`Found that 1em is ${Ee} wide`);let o=.9;Z=Math.round(o*t.clientWidth/Ee),console.log(`
    That means to fill ${o} of the available width,
    we may print at most ${Z} characters.
  `)}function fr(e,n){let t=e.stepperTree;return`<div class="stepper">

       <div class="box environment">
         <div class="boxlabel">${k[n].environment}</div>
         ${t.map(gr).join("")}
       </div>

       <div class="box expression-steps"
            data-progstep="-1"
            data-visible="true">
         <div class="boxlabel">${k[n]["current evaluation"]}</div>
         <div class="step"
              data-currentStep="true">
           <div class="next-button"
                onclick="gotoExpression(event, 1)">
             ${k[n]["start evaluation"]} <img class="icon" src="${$e}">
           </div>
         </div>
       </div>

       ${t.map((a,p)=>yr(a,p,n)).join("")}

       <div class="box expression-steps"
            data-progstep="${t.length}"
            data-visible="false">
         <div class="boxlabel">${k[n]["current evaluation"]}</div>
         <div class="step"
              data-currentStep="true">
            <div class="code">${k[n]["evaluation finished"]}</div>
            <div class="prev-button"
                 onclick="gotoExpression(event, -1)">
              ${k[n]["go back"]} <img class="icon" src="${_e}">
            </div>
         </div>
       </div>

       <div class="box program">
         <div class="boxlabel">${k[n]["remaining program"]}</div>
         ${t.map(Sr).join("")}
       </div>

    </div>`}window.gotoExpression=(e,n)=>{Fe(e,n)};function gr(e,n){let t=e.stepList[e.stepList.length-1];return be(t)?`
      <div class="step code"
           data-progstep="${n}"
           data-visible="false">
        ${te(F(ie(t.result)),Z,"html")}
      </div>
    `:""}function Sr(e,n){let t=e.stepList[0],o="";if(be(t))o=ie(t.result);else{let a=pe(t.rule)?De(t.rule.context):{left:"",right:""},p=pe(t.rule)?t.rule.redexRule:t.rule,c=Ot(p.redex);a.right.startsWith(")")||(a.right=` ${a.right}`),o=`${a.left}${c}${a.right}`}return`
    <div class="step code"
         data-progstep="${n}"
         data-visible="true">
      ${te(F(o),Z,"html")}
    </div>
  `}function yr(e,n,t){return`
    <div class="box expression-steps"
         data-progstep="${n}"
         data-visible="false">
      <div class="boxlabel">${k[t]["current evaluation"]}</div>
      ${e.stepList.filter(re).length>0?e.stepList.filter(re).map((o,a)=>hr(a,o,t)).join(""):`
          <div class="step"
               data-step="0"
               data-currentStep="true"
               data-collapsed="false">
            <div class="prev-button"
                 onclick="prevStep(event)">
              ${k[t]["previous step"]} <img class="icon" src="${_e}">
            </div>
            <div class="next-button"
                 onclick="nextStep(event)">
              ${k[t]["next step"]} <img class="icon" src="${$e}">
            </div>

            <div class="split-result code">
              ${ie(e.stepList.filter(be)[0].result)}
            </div>
          </div>
          `}
    </div>
  `}function Fe(e,n){let t=e.target,o=w(t,"expression-steps");if(!o){console.error("found no parent with class .expression-steps",t);return}let a=o.getAttribute("data-progstep");if(!a){console.error("div with class .expression-steps has no data-progstep attribute",o);return}let c=parseInt(a)+n;if(c<-1){console.error(`cannot navigate to progStep ${c}: does not exist`);return}P([o],"../.environment/div").map(u=>{let f=u.getAttribute("data-progstep");f&&(parseInt(f)<c?u.setAttribute("data-visible","true"):u.setAttribute("data-visible","false"))}),P([o],"../.program/div").map(u=>{let f=u.getAttribute("data-progstep");f&&(parseInt(f)<=c?u.setAttribute("data-visible","false"):u.setAttribute("data-visible","true"))}),P([o],"../.expression-steps").map(u=>{let f=u.getAttribute("data-progstep");f&&(parseInt(f)===c?u.setAttribute("data-visible","true"):u.setAttribute("data-visible","false"))})}function hr(e,n,t){let o=pe(n.rule)?De(n.rule.context):{left:"",right:""},a=pe(n.rule)?n.rule.redexRule:n.rule,p=F(Ot(a.redex)),c=D(a.result)?`${a.result}`:F(L(a.result)),u=a.type,f=te(`${o.left}<span class="hole">${p}</span>${o.right}`,Z,"html"),x=te(`${o.left}<span class="hole hole-result">${c}</span>${o.right}`,Z,"html"),g=x.slice(0,x.indexOf('<span class="hole hole-result">')).split("<br>").reverse()[0];console.log("code before hole:",g);let d=g?Q(g).length:0,T=4,b=o.left.length>0&&d<T?T:d,R=Z-b-oe[u].name.length-5,B=p.length+c.length<=R;return`
    <div class="step"
         data-step="${e}"
         data-currentStep="${e===0?"true":"false"}"
         data-collapsed="false">
      <div class="prev-button"
           onclick="prevStep(event)">
        ${k[t]["previous step"]} <img class="icon" src="${_e}">
      </div>
      <div class="next-button"
           onclick="nextStep(event)">
        ${k[t]["next step"]} <img class="icon" src="${$e}">
      </div>

      <div class="split-result code">${f}<img class="icon expander"
              src="${Nt}"
              onclick="expand(event)"
        ><img class="icon collapser"
              src="${Ft}"
              onclick="collapse(event)"
      ></div>

      <div class="plug-result code"
           data-info-collapsed="true">
        <div>
          ${o.left!==""?`<span class="rule rule-name left-arrowed kong">
                 ${oe.Kong.name}
              </span>`:""}

          <span class="rule left-arrowed one-rule"
                style="--one-rule-margin-left: ${b*Ee}px">
             <span class="rule-name">${oe[u].name}</span>${B?`:
               <span class="rule-description">
                 <span class="hole rule-hole">${p}</span> \u2192
                 <span class="hole hole-result rule-hole">${c}</span>
               </span>`:""}
           </span>

           <img src="${Dt}"
                class="icon info-toggle info-expand"
                onclick="expandInfo(event)">
           <img src="${Mt}"
                class="icon info-toggle info-collapse"
                onclick="collapseInfo(event)">

        </div>
        ${xr(u,o.left!=="")}
        <div>${x}</div>
      </div>

    </div>
  `}window.nextStep=e=>{let n=e.target,t=w(n,"step");t&&t.nextElementSibling?(t.setAttribute("data-currentStep","false"),t.setAttribute("data-collapsed","true"),t.nextElementSibling.setAttribute("data-currentStep","true"),t.nextElementSibling.setAttribute("data-collapsed","false")):t&&!t.nextElementSibling&&Fe(e,1)};window.prevStep=e=>{let n=e.target,t=w(n,"step");if(t)if(t.getAttribute("data-step")==="0"){Fe(e,-1);return}else if(t.previousElementSibling)t.setAttribute("data-currentStep","false"),t.setAttribute("data-collapsed","true"),t.previousElementSibling.setAttribute("data-currentStep","true"),t.previousElementSibling.setAttribute("data-collapsed","false");else{console.error("prevStep called on a step with no previous html element");return}else{console.error("prevStep not called from within an element of the .step class");return}};window.collapse=e=>{let n=e.target,t=w(n,"step");t&&t.setAttribute("data-collapsed","true")};window.expand=e=>{let n=e.target,t=w(n,"step");t&&t.setAttribute("data-collapsed","false")};function De(e,n={left:"",right:""}){if(Te(e))return{left:F(n.left),right:F(n.right)};if(ve(e)){let t=[C(e.op),...e.values.map(o=>`${o}`)];n.left=`${n.left}(${t.join(" ")} `,n.right=e.args.length>0?` ${e.args.map(L).join(" ")})${n.right}`:`)${n.right}`}else if(Ce(e)){n.left=`${n.left}(cond [`;let t=[`${L(e.options[0].result)}]`,...e.options.slice(1).map(G)];n.right=` ${t.join(" ")})${n.right}`}else throw console.error("Printing this context is not implemented yet",e),`Printing ${e.type} context is not implemented yet!`;return De(e.ctx,n)}function Ot(e){if(ae(e))return`(${C(e.name)} ${e.args.join(" ")})`;if(le(e))return`(cond ${e.options.map(G).join(" ")})`;throw"Invalid Input to printRedex"}function xr(e,n){let t=oe[e];return`<div class="rule-info">${n?`
            <div class="rule-info-text-container">
              <div class="rule-info-rule-name">${oe.Kong.name}</div>
              <div class="rule-info-rule-text">${oe.Kong.text}</div>
            </div>
           `:""}
         <div class="rule-info-text-container">
           <div class="rule-info-rule-name">${t.name}</div>
           <div class="rule-info-rule-text">${t.text}</div>
         </div>
         </div>`}window.expandInfo=e=>{let n=e.target,t=w(n,"plug-result");!t||t.setAttribute("data-info-collapsed","false")};window.collapseInfo=e=>{let n=e.target,t=w(n,"plug-result");t&&t.setAttribute("data-info-collapsed","true")};var oe={Kong:{name:"<cap>Kong</cap>",text:`
      <em>E[e<small>1</small>] \u2192 E[e<small>2</small>] falls e<small>1</small> \u2192 e<small>2</small></em><br>
      <em>\u2039E\u203A ::= []<br>
      &nbsp;&nbsp;&nbsp;| (\u2039name\u203A \u2039v\u203A* \u2039E\u203A \u2039e\u203A*)<br>
      &nbsp;&nbsp;&nbsp;| (<strong>cond</strong> [\u2039E\u203A \u2039e\u203A ]{[ \u2039e\u203A \u2039e\u203A]}*)</em>
    `},Fun:{name:"<cap>Fun</cap>",text:`
      <em>(name v<small>1</small> \u2026 v<small>n</small>) \u2192
      e[name<small>1</small> := v<small>1</small> \u2026 name<small>n</small> := v<small>n</small> ]</em>
      falls
      <em>(</em> <strong>define</strong> <em>(name name<small>1</small> \u2026 name<small>n</small>) e)</em> in Umgebung
    `},Prim:{name:"<cap>Prim</cap>",text:`
      <em>(name v<small>1</small> \u2026 v<small>n</small>) \u2192 v</em> falls
      <em>name</em> eine primitive Funktion <em>f</em> ist und
      <em>f(v<small>1</small> \u2026 v<small>n</small>) = v</em>
    `},Const:{name:"<cap>Const</cap>",text:`
      <em>name \u2192 v</em> falls <em>(<strong>define</strong> name v)</em> in Umgebung.
    `},CondTrue:{name:"<cap>Cond</cap>-True",text:`
      <em>(<strong>cond</strong> [<strong>#true</strong> e] \u2026) \u2192 e</em>
    `},CondFalse:{name:"<cap>Cond</cap>-False",text:`
      <em>(<strong>cond</strong> [<strong>#false</strong> e<small>1</small>]
         [e<small>2</small> e<small>3</small>] \u2026) \u2192
         (<strong>cond</strong> [e<small>2</small> e<small>3</small>] \u2026)</em>
    `},StructMake:{name:"<cap>Struct</cap>-make",text:`
      <em>(<strong>make</strong>-name v<small>1</small> \u2026 v<small>n</small>) \u2192
      &lt;<strong>make</strong>-name v<small>1</small> \u2026 v<small>n</small>&gt;</em>
      falls <em>(<strong>define-struct</strong> name (name<small>1</small> \u2026 name<small>n</small>))</em> in Umgebung
    `},StructSelect:{name:"<cap>Struct</cap>-select",text:`
      <em>(name-name<small>i</small> &lt;<strong>make</strong>-name
        v<small>1</small> \u2026 v<small>n</small>&gt;) \u2192 v<small>i</small></em>
        falls <em>(<strong>define-struct</strong> name
          (name<small>1</small> \u2026 name<small>n</small>))</em> in Umgebung
    `},StructPredTrue:{name:"<cap>Struct</cap>-predtrue",text:`
      <em>(name? &lt;<strong>make</strong>-name \u2026&gt;) \u2192 <strong>#true</strong></em>
    `},StructPredFalse:{name:"<cap>Struct</cap>-predfalse",text:`
      <em>(name? v) \u2192 <strong>#false</strong></em> falls <em>v</em> nicht
      <em>&lt;<strong>make</strong>-name \u2026&gt;</em> ist
    `},ProgRule:{name:"<cap>Prog</cap>",text:`
      Ein Programm wird von links nach rechts ausgef\xFChrt und startet mit der
      leeren Umgebung. Ist das n\xE4chste Programmelement eine Funktions- oder
      Strukturdefinition, so wird diese Definition in die Umgebung aufgenommen
      und die Ausf\xFChrung mit dem n\xE4chsten Programmelement in der erweiterten
      Umgebung fortgesetzt. Ist das n\xE4chste Programmelement ein Ausdruck, so
      wird dieser gem\xE4\xDF der unten stehenden Regeln in der aktuellen Umgebung zu
      einem Wert ausgewert. Ist das n\xE4chste Programmelement eine
      Konstantendefinition <em>(<strong>define</strong> x e)</em>, so wird in
      der aktuellen Umgebung zun\xE4chst <em>e</em> zu einem Wert <em>v</em>
      ausgewertet und dann <em>(<strong>define</strong> x v)</em> zur aktuellen
      Umgebung hinzugef\xFCgt.
    `}};window.onload=()=>{vt(),Ct(),zt()};})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL0JTTF9BU1QudHMiLCAiLi4vc3JjL0JTTF9QcmludC50cyIsICIuLi9zcmMvRE9NX0hlbHBlcnMudHMiLCAiLi4vc3JjL1Byb2R1Y3Rpb25fVHJlZS50cyIsICIuLi9zcmMvQlNMX1BhcnNlci50cyIsICIuLi9zcmMvQlNMX1RyZWUudHMiLCAiLi4vc3JjL0pTT05fVHJlZS50cyIsICIuLi9zcmMvU0lfU1RSVUNULnRzIiwgIi4uL3NyYy9TSS50cyIsICIuLi9zcmMvU0lfUmVuZGVyZXIudHMiLCAiLi4vc3JjL2JzbF90b29scy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiZXhwb3J0IGVudW0gUHJvZHVjdGlvbiB7XG4gIEZ1bmN0aW9uRGVmaW5pdGlvbiA9ICdGdW5jdGlvbiBEZWZpbml0aW9uJyxcbiAgQ29uc3RhbnREZWZpbml0aW9uID0gJ0NvbnN0YW50IERlZmluaXRpb24nLFxuICBTdHJ1Y3REZWZpbml0aW9uID0gJ1N0cnVjdCBEZWZpbml0aW9uJyxcbiAgRnVuY3Rpb25DYWxsID0gJ0Z1bmN0aW9uIENhbGwnLFxuICBDb25kRXhwcmVzc2lvbiA9ICdDb25kLUV4cHJlc3Npb24nLFxuICBDb25kT3B0aW9uID0gJ0NvbmQtT3B0aW9uJyxcbiAgU3ltYm9sID0gJ1N5bWJvbCcsXG4gIExpdGVyYWwgPSAnTGl0ZXJhbCBWYWx1ZScsXG4gIE51bWJlciA9ICdOdW1iZXInXG59XG5cbmV4cG9ydCB0eXBlIHByb2dyYW0gPSBkZWZPckV4cHJbXTtcblxuZXhwb3J0IHR5cGUgZGVmT3JFeHByID0gZGVmaW5pdGlvbiB8IGV4cHI7XG5leHBvcnQgdHlwZSBkZWZpbml0aW9uID0gRnVuRGVmIHwgQ29uc3REZWYgfCBTdHJ1Y3REZWY7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRnVuRGVme1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uRnVuY3Rpb25EZWZpbml0aW9uO1xuICAgIG5hbWU6IE5hbWU7XG4gICAgYXJnczogTmFtZVtdO1xuICAgIGJvZHk6IGV4cHI7XG59XG5leHBvcnQgaW50ZXJmYWNlIENvbnN0RGVme1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uQ29uc3RhbnREZWZpbml0aW9uO1xuICAgIG5hbWU6IE5hbWU7XG4gICAgdmFsdWU6IGV4cHI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdERlZntcbiAgICB0eXBlOiBQcm9kdWN0aW9uLlN0cnVjdERlZmluaXRpb247XG4gICAgYmluZGluZzogTmFtZTtcbiAgICBwcm9wZXJ0aWVzOiBOYW1lW107XG59O1xuZXhwb3J0IHR5cGUgZXhwciA9IENhbGwgfCBDb25kIHwgTmFtZSB8IExpdGVyYWw7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkZ1bmN0aW9uQ2FsbDtcbiAgICBuYW1lOiBOYW1lO1xuICAgIGFyZ3M6IGV4cHJbXTtcbn07XG5leHBvcnQgaW50ZXJmYWNlIENsYXVzZXtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkNvbmRPcHRpb24sXG4gICAgY29uZGl0aW9uOiBleHByO1xuICAgIHJlc3VsdDogZXhwcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkNvbmRFeHByZXNzaW9uO1xuICAgIG9wdGlvbnM6IENsYXVzZVtdXG59XG5leHBvcnQgaW50ZXJmYWNlIE5hbWV7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5TeW1ib2w7XG4gICAgc3ltYm9sOnN0cmluZztcbn07XG5leHBvcnQgaW50ZXJmYWNlIExpdGVyYWwge1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICB2YWx1ZTogYm9vbGVhbiB8IHN0cmluZyB8IG51bWJlciB8IGAnKClgO1xufVxuXG4vLyBydW50aW1lIHR5cGUgY2hlY2tpbmdcbmV4cG9ydCBmdW5jdGlvbiBpc0RlZmluaXRpb24ob2JqOiBhbnkpOiBvYmogaXMgZGVmaW5pdGlvbiB7XG4gIHJldHVybiBpc0Z1bkRlZihvYmopIHx8IGlzQ29uc3REZWYob2JqKSB8fCBpc1N0cnVjdERlZihvYmopO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuRGVmKG9iajogYW55KTogb2JqIGlzIEZ1bkRlZiB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5GdW5jdGlvbkRlZmluaXRpb247XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25zdERlZihvYmo6IGFueSk6IG9iaiBpcyBDb25zdERlZiB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25zdGFudERlZmluaXRpb247XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTdHJ1Y3REZWYob2JqOiBhbnkpOiBvYmogaXMgU3RydWN0RGVmIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlN0cnVjdERlZmluaXRpb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0V4cHIob2JqOiBhbnkpOiBvYmogaXMgZXhwciB7XG4gIHJldHVybiBpc0NhbGwob2JqKSB8fCBpc0NvbmQob2JqKSB8fCBpc05hbWUob2JqKSB8fCBpc0xpdGVyYWwob2JqKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NhbGwob2JqOiBhbnkpOiBvYmogaXMgQ2FsbCB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5GdW5jdGlvbkNhbGw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25kKG9iajogYW55KTogb2JqIGlzIENvbmQge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ29uZEV4cHJlc3Npb247XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOYW1lKG9iajogYW55KTogb2JqIGlzIE5hbWUge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uU3ltYm9sO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTGl0ZXJhbChvYmo6IGFueSk6IG9iaiBpcyBMaXRlcmFsIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkxpdGVyYWw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIob2JqOiBhbnkpOiBvYmogaXMgbnVtYmVyIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLk51bWJlcjtcbn0iLCAiaW1wb3J0ICogYXMgQlNMX0FTVCBmcm9tIFwiLi9CU0xfQVNUXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcHJpbnQocDogQlNMX0FTVC5wcm9ncmFtKTogc3RyaW5nIHtcbiAgcmV0dXJuIHAubWFwKHByaW50RGVmT3JFeHByKS5qb2luKCdcXG4nKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwcmludERlZk9yRXhwcihlb2Q6IEJTTF9BU1QuZGVmT3JFeHByKSB7XG4gIGlmKEJTTF9BU1QuaXNEZWZpbml0aW9uKGVvZCkpIHtcbiAgICByZXR1cm4gcHJpbnREZWZpbml0aW9uKGVvZCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHByaW50RShlb2QpO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcHJpbnREZWZpbml0aW9uKGQ6IEJTTF9BU1QuZGVmaW5pdGlvbik6IHN0cmluZyB7XG4gIGlmKEJTTF9BU1QuaXNGdW5EZWYoZCkpIHtcbiAgICByZXR1cm4gYChkZWZpbmUgKCR7cHJpbnROYW1lKGQubmFtZSl9ICR7ZC5hcmdzLm1hcChwcmludE5hbWUpLmpvaW4oJyAnKX0pICR7cHJpbnRFKGQuYm9keSl9KWA7XG4gIH0gZWxzZSBpZihCU0xfQVNULmlzQ29uc3REZWYoZCkpIHtcbiAgICByZXR1cm4gYChkZWZpbmUgJHtwcmludE5hbWUoZC5uYW1lKX0gJHtwcmludEUoZC52YWx1ZSl9KWA7XG4gIH0gZWxzZSBpZihCU0xfQVNULmlzU3RydWN0RGVmKGQpKSB7XG4gICAgcmV0dXJuIGAoZGVmaW5lLXN0cnVjdCAke3ByaW50TmFtZShkLmJpbmRpbmcpfSAoJHtkLnByb3BlcnRpZXMubWFwKHByaW50TmFtZSkuam9pbignICcpfSkpYFxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgaW5wdXQgdG8gcHJpbnREZWZpbml0aW9uJyk7XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcHJpbnRFKGU6IEJTTF9BU1QuZXhwcik6IHN0cmluZyB7XG4gIGlmKEJTTF9BU1QuaXNDYWxsKGUpKSB7XG4gICAgcmV0dXJuIGAoJHtwcmludE5hbWUoZS5uYW1lKX0gJHtlLmFyZ3MubWFwKHByaW50RSkuam9pbignICcpfSlgO1xuICB9IGVsc2UgaWYoQlNMX0FTVC5pc0NvbmQoZSkpIHtcbiAgICByZXR1cm4gYChjb25kICR7ZS5vcHRpb25zLm1hcChwcmludE9wdGlvbikuam9pbignICcpfSlgO1xuICB9IGVsc2UgaWYoQlNMX0FTVC5pc05hbWUoZSkpIHtcbiAgICByZXR1cm4gcHJpbnROYW1lKGUpO1xuICB9IGVsc2UgaWYoQlNMX0FTVC5pc0xpdGVyYWwoZSkpIHtcbiAgICBpZih0eXBlb2YoZS52YWx1ZSkgPT09ICdzdHJpbmcnICYmIGUudmFsdWUgIT09IGAnKClgKSB7XG4gICAgICByZXR1cm4gYFwiJHtlLnZhbHVlfVwiYDtcbiAgICB9IGVsc2UgaWYodHlwZW9mKGUudmFsdWUpID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHJldHVybiBlLnZhbHVlID8gJyN0cnVlJyA6ICcjZmFsc2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYCR7ZS52YWx1ZX1gO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIGlucHV0IHRvIHByaW50RScpO1xuICAgIHJldHVybiBgPCR7ZX0+YDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJpbnRPcHRpb24obzogQlNMX0FTVC5DbGF1c2UpIHtcbiAgcmV0dXJuIGBbJHtwcmludEUoby5jb25kaXRpb24pfSAke3ByaW50RShvLnJlc3VsdCl9XWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmludE5hbWUoczogQlNMX0FTVC5OYW1lKTogc3RyaW5nIHtcbiAgcmV0dXJuIHMuc3ltYm9sO1xufVxuXG5leHBvcnQgY29uc3QgdGVzdHByb2dyYW06IEJTTF9BU1QucHJvZ3JhbSA9IFtcbiAge1xuICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5GdW5jdGlvbkRlZmluaXRpb24sXG4gICAgbmFtZToge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgIHN5bWJvbDogJ2YnXG4gICAgfSxcbiAgICBhcmdzOiBbe1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgIHN5bWJvbDogJ3gnXG4gICAgfSwge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgIHN5bWJvbDogJ3knXG4gICAgfV0sXG4gICAgYm9keToge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkZ1bmN0aW9uQ2FsbCxcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgICAgc3ltYm9sOiAnKydcbiAgICAgIH0sXG4gICAgICBhcmdzOiBbe1xuICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgICBzeW1ib2w6ICd4J1xuICAgICAgfSwge1xuICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgICBzeW1ib2w6ICd5J1xuICAgICAgfV19XG4gIH0sXG4gIHtcbiAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZEV4cHJlc3Npb24sXG4gICAgb3B0aW9uczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZE9wdGlvbixcbiAgICAgICAgY29uZGl0aW9uOiB7XG4gICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkZ1bmN0aW9uQ2FsbCxcbiAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgICAgICAgc3ltYm9sOiAnPSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgICAgICAgc3ltYm9sOiAneCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgICAgdmFsdWU6IDNcbiAgICAgICAgICB9XVxuICAgICAgICB9LFxuICAgICAgICByZXN1bHQ6IHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICAgICAgICB2YWx1ZTogJ2lzVGhyZWUnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kT3B0aW9uLFxuICAgICAgICBjb25kaXRpb246IHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdWx0OiB7XG4gICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgICAgICAgdmFsdWU6IGAnKClgXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uc3RhbnREZWZpbml0aW9uLFxuICAgIG5hbWU6IHtcbiAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICBzeW1ib2w6ICd4J1xuICAgIH0sXG4gICAgdmFsdWU6IHtcbiAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgdmFsdWU6IDQyXG4gICAgfVxuICB9LFxuICB7XG4gICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN0cnVjdERlZmluaXRpb24sXG4gICAgYmluZGluZzoge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgIHN5bWJvbDogJ25hbWUnXG4gICAgfSxcbiAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgIHN5bWJvbDogJ2ZpcnN0TmFtZSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgIHN5bWJvbDogJ2xhc3ROYW1lJ1xuICAgICAgfVxuICAgIF1cbiAgfVxuXTtcblxuLy8gaW5kZW50IGNvZGUgdGhhdCBpcyB3aWRlciB0aGFuIG1heExlbmd0aCBjaGFyYWN0ZXJzXG5leHBvcnQgZnVuY3Rpb24gaW5kZW50KGNvZGU6IHN0cmluZywgbWF4V2lkdGg6IG51bWJlciwgbW9kZTogJ2h0bWwnIHwgJ3RleHQnID0gJ3RleHQnKTogc3RyaW5nIHtcbiAgLy8gY29uc29sZS5sb2coJ0NvZGUgYmVmb3JlIGluZGVudGF0aW9uJywgY29kZSk7XG4gIC8vIGV4dHJhY3QgdGVybXMgYW5kIHRoZWlyIHRoZW9yZXRpY2FsIGluZGVudGF0aW9uIGxldmVsXG4gIGxldCB0ZXJtczoge3Rlcm06IHN0cmluZywgbGV2ZWw6IG51bWJlcn1bXSA9IFtdO1xuICBsZXQgbGV2ZWwgPSAwO1xuICBsZXQgbmV4dExldmVsID0gMDtcbiAgbGV0IG1heExldmVsID0gMDtcbiAgbGV0IGFjYyA9ICcnO1xuICBsZXQgaW5TdHJpbmcgPSBmYWxzZTtcbiAgbGV0IGluVGFnID0gZmFsc2U7XG4gIGNvZGUuc3BsaXQoJycpLmZvckVhY2goY2hhciA9PiB7XG4gICAgaWYoaW5TdHJpbmcgJiYgY2hhciAhPT0gJ1wiJykge1xuICAgICAgYWNjICs9IGNoYXI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmKGluVGFnICYmIGNoYXIgIT09ICc+Jykge1xuICAgICAgYWNjICs9IGNoYXI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaChjaGFyKSB7XG4gICAgICBjYXNlICcoJzpcbiAgICAgIGNhc2UgJ1snOlxuICAgICAgICBuZXh0TGV2ZWwrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcpJzpcbiAgICAgIGNhc2UgJ10nOlxuICAgICAgICBuZXh0TGV2ZWwtLTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdcIic6XG4gICAgICAgIGluU3RyaW5nID0gIWluU3RyaW5nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzwnOlxuICAgICAgICBpblRhZyA9IG1vZGUgPT09ICdodG1sJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICc+JzpcbiAgICAgICAgaWYobW9kZSA9PT0gJ2h0bWwnKSBpblRhZyA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJyAnOlxuICAgICAgY2FzZSAnXFxuJzpcbiAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgIGlmKCFhY2MpIHJldHVybjtcbiAgICAgICAgdGVybXMucHVzaCh7dGVybTogYWNjLCBsZXZlbDogbGV2ZWx9KTtcbiAgICAgICAgaWYgKGxldmVsID4gbWF4TGV2ZWwpIG1heExldmVsID0gbGV2ZWw7XG4gICAgICAgIGFjYyA9ICcnO1xuICAgICAgICBsZXZlbCA9IG5leHRMZXZlbDtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhY2MgKz0gY2hhcjtcbiAgICByZXR1cm47XG4gIH0pO1xuICBpZihhY2MgIT09ICcnKSB7XG4gICAgdGVybXMucHVzaCh7dGVybTogYWNjLCBsZXZlbDogbGV2ZWx9KTtcbiAgICBpZiAobGV2ZWwgPiBtYXhMZXZlbCkgbWF4TGV2ZWwgPSBsZXZlbDtcbiAgfVxuICAvLyBjb25zb2xlLmxvZyh0ZXJtcyk7XG4gIC8vIGFwcGVuZCB0ZXJtcyBzdGFydGluZyBmcm9tIHRoZSBpbnNpZGVcbiAgY29uc3Qgam9pbmVyID0gbW9kZSA9PT0gJ2h0bWwnID8gJzxicj4nIDogYFxuYDtcbiAgZm9yKGxldCBsZXZlbCA9IG1heExldmVsOyBsZXZlbCA+IDA7IGxldmVsLS0pIHtcbiAgICAvLyBncm91cCB0ZXJtc1xuICAgIGNvbnN0IG5ld1Rlcm1zOiB7dGVybTpzdHJpbmcsIGxldmVsOm51bWJlciwgc3VidGVybXM6c3RyaW5nW119W10gPSBbXTtcbiAgICB0ZXJtcy5mb3JFYWNoKHQgPT4ge1xuICAgICAgaWYgKHQubGV2ZWwgPCBsZXZlbCkge1xuICAgICAgICBuZXdUZXJtcy5wdXNoKHsuLi50LCBzdWJ0ZXJtczogW119KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1Rlcm1zW25ld1Rlcm1zLmxlbmd0aCAtIDFdLnN1YnRlcm1zLnB1c2godC50ZXJtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBhcHBlbmQgYW5kIGNoZWNrIGlmIHdlIG5lZWQgdG8gc3RhcnQgaW5kZW50aW5nXG4gICAgdGVybXMgPSBuZXdUZXJtcy5tYXAodCA9PiB7XG4gICAgICBjb25zdCBhbHJlYWR5SW5kZW50aW5nID0gdC5zdWJ0ZXJtcy5zb21lKHMgPT4gcy5pbmNsdWRlcyhqb2luZXIpKTtcbiAgICAgIGNvbnN0IHVuaW5kZW50ZWQgPVxuICAgICAgICBgJHt0LnRlcm19JHt0LnN1YnRlcm1zLmxlbmd0aCA+IDAgPyAnICc6ICcnfSR7dC5zdWJ0ZXJtcy5qb2luKCcgJyl9YDtcbiAgICAgIGNvbnN0IHVuaW5kZW50ZWRMZW5ndGggPVxuICAgICAgICBtb2RlID09PSAnaHRtbCcgPyBodG1sSWdub3JpbmdMZW5ndGgodW5pbmRlbnRlZCkgOiB1bmluZGVudGVkLmxlbmd0aDtcbiAgICAgIGlmKGFscmVhZHlJbmRlbnRpbmcgfHxcbiAgICAgICAgIHVuaW5kZW50ZWRMZW5ndGggKyB0LmxldmVsID4gbWF4V2lkdGgpIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSB0LnN1YnRlcm1zLm1hcChzID0+XG4gICAgICAgICAgYCR7bW9kZSA9PT0gJ2h0bWwnID8gcmVwZWF0KCcmbmJzcDsnLCBsZXZlbCkgOiByZXBlYXQoJyAnLCBsZXZlbCl9JHtzfWApO1xuICAgICAgICBwYXJ0cy51bnNoaWZ0KHQudGVybSk7XG4gICAgICAgIGNvbnN0IGpvaW5lciA9IG1vZGUgPT09ICdodG1sJyA/ICc8YnI+JyA6IGBcbmA7IC8vIGxpdGVyYWwgbmV3bGluZSB0byBiZSBzYWZlXG4gICAgICAgIGNvbnN0IGFsbCA9IGAke3BhcnRzLmpvaW4oam9pbmVyKX1gO1xuICAgICAgICByZXR1cm4ge3Rlcm06IGFsbCwgbGV2ZWw6IHQubGV2ZWx9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHt0ZXJtOiB1bmluZGVudGVkLCBsZXZlbDogdC5sZXZlbH07XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gY29uc29sZS5sb2codGVybXMpO1xuICB9XG4gIC8vIG5vdyB0aGVyZSBzaG91bGQgYmUgb25seSB0b3AgbGV2ZWwgdGVybXMgbGVmdFxuICByZXR1cm4gdGVybXMubWFwKHQgPT4gdC50ZXJtKS5qb2luKGpvaW5lcik7XG59XG5cbi8vIHJlcGVhdCBhIHN0cmluZyBzIG4gdGltZXNcbmZ1bmN0aW9uIHJlcGVhdChzOiBzdHJpbmcsIG46IG51bWJlcik6c3RyaW5nIHtcbiAgbGV0IGFjYyA9ICcnO1xuICBmb3IobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgYWNjICs9IHM7XG4gIH1cbiAgcmV0dXJuIGFjYztcbn1cbi8vIG1lYXN1cmUgdGhlIGxlbmd0aCBvZiBhIHN0cmluZyB3aGlsZSBpZ25vcmluZyBodG1sXG5mdW5jdGlvbiBodG1sSWdub3JpbmdMZW5ndGgoczogc3RyaW5nKTogbnVtYmVyIHtcbiAgY29uc3QgdGVzdERpdjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGVzdERpdi5pbm5lckhUTUwgPSBzO1xuICByZXR1cm4gdGVzdERpdi50ZXh0Q29udGVudCA/IHRlc3REaXYudGV4dENvbnRlbnQubGVuZ3RoIDogMDtcbn1cblxuLy8gIyMjIyBwcmV2ZW50aW5nIHByb2JsZW1zIHdpdGggYnJhY2tldHNcbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZShzOiBzdHJpbmcpOnN0cmluZyB7XG4gIHJldHVybiBzLnJlcGxhY2VBbGwoJzwnLCcmbHQ7JykucmVwbGFjZUFsbCgnPicsJyZndDsnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkaXJ0aWZ5KHM6IHN0cmluZyk6c3RyaW5nIHtcbiAgcmV0dXJuIHMucmVwbGFjZUFsbCgnJmx0OycsICc8JykucmVwbGFjZUFsbCgnJmd0OycsJz4nKS5yZXBsYWNlQWxsKCcmbmJzcDsnLCAnICcpO1xufVxuIiwgIi8vIG5hdmlnYXRlIHRoZSBET00gdXNpbmcgcGF0aCBub3RhdGlvblxuLy8gLi4gLT4gcGFyZW50XG4vLyArICAtPiBuZXh0IHNpYmxpbmdcbi8vIC5jbGFzcyAtPiBhbGwgY2hpbGRyZW4gd2l0aCBhIGNsYXNzXG4vLyB0YWcgLT4gYWxsIGNoaWxkcmVuIG9mIGEgY2VydGFpbiB0YWdcbi8vIGRpdmlkZWQgYnkgL1xuZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRlRE9NKHBvc2l0aW9uczogSFRNTEVsZW1lbnRbXSwgcGF0aDogc3RyaW5nLCBzdHJpY3Q6IGJvb2xlYW4gPSBmYWxzZSk6IEhUTUxFbGVtZW50W10ge1xuICBpZiAocG9zaXRpb25zLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdO1xuICBjb25zdCBzdGVwcyA9IHBhdGguc3BsaXQoJy8nKTtcbiAgY29uc3QgY3VyclN0ZXAgPSBzdGVwcy5zaGlmdCgpIGFzIHN0cmluZztcbiAgaWYgKGN1cnJTdGVwID09ICcnKSByZXR1cm4gcG9zaXRpb25zO1xuICBjb25zdCByZXN0U3RlcHMgPSBzdGVwcy5qb2luKCcvJyk7XG5cbiAgbGV0IG5ld1Bvc2l0aW9ucyA9IFtdO1xuICBpZiAoY3VyclN0ZXAgPT0gJy4uJykge1xuICAgIC8vIG5hdmlnYXRlIHVwXG4gICAgbmV3UG9zaXRpb25zID0gcG9zaXRpb25zLm1hcChwID0+IHAucGFyZW50RWxlbWVudCkuZmlsdGVyKHAgPT4gcCk7XG4gIH0gZWxzZSBpZiAoY3VyclN0ZXAgPT0gJysnKSB7XG4gICAgLy8gbmF2aWdhdGUgc2lkZXdheXNcbiAgICBuZXdQb3NpdGlvbnMgPSBwb3NpdGlvbnMubWFwKHAgPT4gcC5uZXh0RWxlbWVudFNpYmxpbmcpLmZpbHRlcihwID0+IHApO1xuICB9IGVsc2UgaWYgKGN1cnJTdGVwLnN0YXJ0c1dpdGgoJy4nKSkge1xuICAgIC8vIG5hdmlnYXRlIGRvd24gKyBmaWx0ZXIgZm9yIGNsYXNzXG4gICAgY29uc3QgY2xhc3NOYW1lID0gY3VyclN0ZXAuc2xpY2UoMSk7XG4gICAgbmV3UG9zaXRpb25zID0gcG9zaXRpb25zLmZsYXRNYXAocCA9PiBBcnJheS5mcm9tKHAuY2hpbGRyZW4pLmZpbHRlcihjID0+IGMuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkpKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBuYXZpZ2F0ZSBkb3duICsgZmlsdGVyIGZvciB0YWdcbiAgICBuZXdQb3NpdGlvbnMgPSBwb3NpdGlvbnMuZmxhdE1hcChwID0+IEFycmF5LmZyb20ocC5jaGlsZHJlbikuZmlsdGVyKGMgPT4gYy50YWdOYW1lID09IGN1cnJTdGVwLnRvVXBwZXJDYXNlKCkpKTtcbiAgfVxuICBpZiAobmV3UG9zaXRpb25zLmxlbmd0aCA9PT0gMCAmJiBzdHJpY3QpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciB0cmF2ZXJzaW5nICR7cGF0aH06IE5vIGVsZW1lbnQgZm91bmRgKTtcbiAgfVxuICByZXR1cm4gbmF2aWdhdGVET00obmV3UG9zaXRpb25zIGFzIEhUTUxFbGVtZW50W10sIHJlc3RTdGVwcyk7XG59XG5cbi8vIGdldFBhcmVudFRhZ1JlY3Vyc2l2ZSBmcm9tIGEgY2hpbGQgZWxlbWVudFxuLy8gaWYgZWxlbWVudCBoYXMgVGFnTmFtZVxuLy8gcmV0dXJuO1xuLy8gZWxzZTogcmV0cnkgd2l0aCBwYXJlbnRFbGVtZW50XG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyZW50VGFnUmVjdXJzaXZlKGVsOiBIVE1MRWxlbWVudCwgdGFnOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICBpZiAoZWwudGFnTmFtZSA9PSB0YWcudG9VcHBlckNhc2UoKSkge1xuICAgIHJldHVybiBlbDtcbiAgfVxuICBlbHNlIHtcbiAgICBsZXQgcGFyZW50ID0gZWwucGFyZW50RWxlbWVudDtcbiAgICBpZiAoIXBhcmVudCkge1xuICAgICAgY29uc29sZS5lcnJvcignQ291bGQgbm90IGZpbmQgcGFyZW50IGVsZW1lbnQgd2l0aCByZXF1ZXN0ZWQgdGFnICcsIHRhZyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGdldFBhcmVudFRhZ1JlY3Vyc2l2ZShwYXJlbnQsIHRhZykgYXMgSFRNTEVsZW1lbnQ7XG4gIH1cbn1cblxuLy8gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUgZnJvbSBhIGNoaWxkIGVsZW1lbnRcbi8vIGlmIGVsZW1lbnQgaGFzIGNsYXNzXG4vLyByZXR1cm47XG4vLyBlbHNlOiByZXRyeSB3aXRoIHBhcmVudEVsZW1lbnRcbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShlbDogSFRNTEVsZW1lbnQsIGM6IHN0cmluZyk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoYykpIHtcbiAgICByZXR1cm4gZWw7XG4gIH1cbiAgZWxzZSB7XG4gICAgbGV0IHBhcmVudCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBmaW5kIHBhcmVudCBlbGVtZW50IHdpdGggcmVxdWVzdGVkIGNsYXNzICcsIGMpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShwYXJlbnQsIGMpO1xuICB9XG59XG4iLCAiaW1wb3J0IHtuYXZpZ2F0ZURPTSwgZ2V0UGFyZW50VGFnUmVjdXJzaXZlLCBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZX0gZnJvbSBcIi4vRE9NX0hlbHBlcnNcIjtcbmltcG9ydCB7ZGVmYXVsdCBhcyB0cmVlX2Nzc30gZnJvbSAnLi9yZXNzb3VyY2VzL3RyZWUuY3NzJztcbmltcG9ydCB7c2FuaXRpemV9IGZyb20gJy4vQlNMX1ByaW50JztcblxuLy8gIyMjIyBtYWluIGFwaSAjIyMjI1xuLy8gc2ltcGxlIGhlbHBlciBzdHJ1Y3R1cmUgcmVwcmVzZW50aW5nIGEgcHJpbnRlZCB0cmVlXG5leHBvcnQgaW50ZXJmYWNlIG5vZGUge1xuICBwcm9kdWN0aW9uOiBzdHJpbmc7XG4gIGNvZGU6IHN0cmluZztcbiAgaG9sZXM6IHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXIsIGNvbnRlbnQ6bm9kZX1bXTtcbn1cbi8vIG9iamVjdCByZXByZXNlbnRpbmcgYSBncmFtbWFyXG5leHBvcnQgdHlwZSBncmFtbWFyID0ge1trZXk6IHN0cmluZ106IHN0cmluZ1tdfTtcblxuLy8gYWRkIHByb2R1Y3Rpb24gdHJlZSB0byBodG1sIGVsZW1lbnRcbmV4cG9ydCBmdW5jdGlvbiBwcm9kdWN0aW9uVHJlZShcbiAgcm9vdDogbm9kZSxcbiAgdGFyZ2V0OiBIVE1MRWxlbWVudCxcbiAgZ3JhbW1hcjogZ3JhbW1hciB8IHVuZGVmaW5lZCxcbiAgcXVpej1mYWxzZSxcbiAgbGFuZz0nZW4nKXtcbiAgLy8gaW5mZXIgZ3JhbW1hciBpZiBuZWNlc3NhcnlcbiAgaWYoIWdyYW1tYXIpIGdyYW1tYXIgPSBleHRyYWN0UHJvZHVjdGlvbnMocm9vdCk7XG4gIC8vIGFkZCBjc3MgaWYgbmVjZXNzYXJ5XG4gIGlmKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnNsLXRvb2xzLXRyZWUtc3R5bGUnKSkge1xuICAgIGNvbnN0IHN0eWxlTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGVOb2RlLmlubmVySFRNTCA9IHRyZWVfY3NzO1xuICAgIHN0eWxlTm9kZS5pZCA9ICdic2wtdG9vbHMtdHJlZS1zdHlsZSc7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChzdHlsZU5vZGUpO1xuICB9XG4gIC8vIGNoZWNrIGxhbmd1YWdlIGF2YWlsYWJpbGl0eVxuICBpZiAoIWltcGxlbWVudGVkTGFuZ3VhZ2VzLmluY2x1ZGVzKGxhbmcpKSB7XG4gICAgY29uc29sZS5lcnJvcihgXG4gICAgICBTZWxlY3RlZCBsYW5ndWFnZSBcIiR7bGFuZ31cIiBpcyBub3QgaW1wbGVtZW50ZWQsIGRlZmF1bHRpbmcgdG8gXCJlblwiLlxuICAgICAgQXZhaWxhYmxlIGxhbmd1YWdlIGNvZGVzOiAke2ltcGxlbWVudGVkTGFuZ3VhZ2VzLmpvaW4oJywgJyl9XG4gICAgYCk7XG4gICAgbGFuZyA9ICdlbic7XG4gIH1cbiAgLy8gcmVuZGVyIEhUTUxcbiAgdGFyZ2V0LmlubmVySFRNTCA9IGBcbiAgICA8dWwgY2xhc3M9XCJ0cmVlIGFzdFwiPlxuICAgICAgJHtxdWl6XG4gICAgICAgID8gcmVuZGVyUXVpek5vZGUocm9vdCwgbGFuZyBhcyBpbXBsZW1lbnRlZExhbmd1YWdlLCBncmFtbWFyIGFzIGdyYW1tYXIpXG4gICAgICAgIDogcmVuZGVyTm9kZShyb290LCBncmFtbWFyIGFzIGdyYW1tYXIpfVxuICAgIDwvdWw+XG4gIGA7XG4gIGlmIChxdWl6KSB7XG4gICAgLy8gc2hvdyBmaXJzdCBxdWl6IG5vZGVcbiAgICBuYXZpZ2F0ZURPTShbdGFyZ2V0XSwndWwvbGkvdWwvbGknKS5tYXAoYyA9PlxuICAgICAgYy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywnZmFsc2UnKSk7XG4gIH1cbiAgLy8gYWxpZ24gY29ubmVjdG9ycyBob3Jpem9udGFsbHlcbiAgYWRqdXN0Q29ubmVjdG9ycyh0YXJnZXQpO1xufVxuXG4vLyAjIyMgdHJhdmVyc2UgdHJlZSB0byBnZXQgYWxsIG9jY3VycmluZyBwcm9kdWN0aW9uc1xuZnVuY3Rpb24gZXh0cmFjdFByb2R1Y3Rpb25zKG46IG5vZGUpOiBncmFtbWFyIHtcbiAgY29uc3QgcHJvZHVjdGlvbnMgPSB7fTtcbiAgZXh0cmFjdFByb2R1Y3Rpb25zUmVjdXJzaXZlKG4sIHByb2R1Y3Rpb25zKTtcbiAgcmV0dXJuIHByb2R1Y3Rpb25zO1xufVxuZnVuY3Rpb24gZXh0cmFjdFByb2R1Y3Rpb25zUmVjdXJzaXZlKG46IG5vZGUsIHA6IGdyYW1tYXIpIHtcbiAgcFtuLnByb2R1Y3Rpb25dID0gW107XG4gIG4uaG9sZXMubWFwKGggPT4gZXh0cmFjdFByb2R1Y3Rpb25zUmVjdXJzaXZlKGguY29udGVudCwgcCkpO1xufVxuXG4vLyAjIyMjIyMgaW50ZXJuYXRpb25hbGl6YXRpb24gZm9yIHRoaXMgbW9kdWxlICMjIyMjXG4vLyBtYWlubHkgZm9yIHF1aXosIGN1cnJlbnRseVxudHlwZSBpbXBsZW1lbnRlZExhbmd1YWdlID0gJ2VuJyB8ICdkZSc7XG5jb25zdCBpbXBsZW1lbnRlZExhbmd1YWdlcyA9IFsnZW4nLCAnZGUnXTtcblxuY29uc3QgZGljdGlvbmFyeSA9IHtcbiAgJ2VuJzoge1xuICAgICdzZWxlY3QgcHJvZHVjdGlvbic6ICdTZWxlY3QgcHJvZHVjdGlvbicsXG4gICAgJ21hcmsgc2VsZWN0ZWQgdGV4dCBhcyBob2xlJzogJ01hcmsgc2VsZWN0ZWQgdGV4dCBhcyBob2xlJyxcbiAgfSxcbiAgJ2RlJzoge1xuICAgICdzZWxlY3QgcHJvZHVjdGlvbic6ICdQcm9kdWt0aW9uIGF1c3dcdTAwRTRobGVuJyxcbiAgICAnbWFyayBzZWxlY3RlZCB0ZXh0IGFzIGhvbGUnOiAnQXVzd2FobCBhbHMgTG9jaCBtYXJraWVyZW4nLFxuICB9LFxufTtcblxuLy8gIyMjIyMjIGxheW91dCBoZWxwZXIgIyMjIyMjIyNcbi8vIGR5bmFtaWNhbGx5IGNvbXB1dGUgZGltZW5zaW9ucyBvZiBjb25uZWN0b3JzIGJldHdlZW4gbm9kZXNcbi8vIHN1Y2ggdGhhdCB0aGV5IHBvaW50IHRvIHRoZSBjb3JyZWN0IFwiaG9sZVwiXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ1NTX09iamVjdF9Nb2RlbC9EZXRlcm1pbmluZ190aGVfZGltZW5zaW9uc19vZl9lbGVtZW50c1xuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L29mZnNldExlZnRcbmZ1bmN0aW9uIGFkanVzdENvbm5lY3RvcnModHJlZTogSFRNTEVsZW1lbnQpIHtcbiAgY29uc3QgeWRpZmYgPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUodHJlZSkuZm9udFNpemUpICogMzsgLy8gM2VtXG4gIGZvcihsZXQgaSA9IDE7IDtpKyspIHtcbiAgICBjb25zdCBob2xlcyA9IEFycmF5LmZyb20odHJlZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGBob2xlLSR7aX1gKSk7XG4gICAgaWYgKGhvbGVzLmxlbmd0aCA8IDEpIHJldHVybjtcbiAgICBob2xlcy5tYXAoaCA9PiB7XG4gICAgICBjb25zdCBlbDogSFRNTEVsZW1lbnQgPSBoIGFzIEhUTUxFbGVtZW50O1xuICAgICAgY29uc3QgeHBvcyA9IDAuNSAqIChlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54ICsgZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQpO1xuICAgICAgLy8gbm8gbGF5b3V0IGVmZmVjdCBpZiBob2xlIGlzIGludmlzaWJsZVxuICAgICAgaWYgKHhwb3MgPT0gMCkgcmV0dXJuO1xuXG4gICAgICAvLyBuYXZpZ2F0ZSB0aGUgRE9NXG4gICAgICBjb25zdCBsaSA9IGdldFBhcmVudFRhZ1JlY3Vyc2l2ZShlbCwgJ2xpJyk7XG4gICAgICAvLyBub3QgaW5zaWRlIGEgbGlzdCBub2RlPyBwcm9iYWJseSB3cm9uZyB0YWcsIHJldHVyblxuICAgICAgaWYoIWxpKSByZXR1cm47XG5cbiAgICAgIC8vIHByb2Nlc3MgY2hpbGRyZW5cbiAgICAgIG5hdmlnYXRlRE9NKFtsaV0sIGB1bC8uY2hpbGQtJHtpfS9zcGFuYCkubWFwKGMgPT4ge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGMgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHhwb3NDaGlsZCA9IDAuNSAqIChjaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54ICsgY2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQpO1xuICAgICAgICBjb25zdCB4ZGlmZiA9IHhwb3MgLSB4cG9zQ2hpbGQ7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gLSBNYXRoLmF0YW4yKHlkaWZmLCB4ZGlmZik7XG4gICAgICAgIGNvbnN0IGFtb3VudCA9IE1hdGguc3FydCh4ZGlmZip4ZGlmZiArIHlkaWZmKnlkaWZmKTtcbiAgICAgICAgY29uc3QgbGVmdCA9ICh4ZGlmZi8yKSAtIChhbW91bnQvMik7XG4gICAgICAgIC8vIHNldCBjc3MgdmFyaWFibGVzICh1c2FnZSBzZWUgdHJlZS5jc3MpXG4gICAgICAgIGNoaWxkLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgLS1jb25uZWN0b3Itd2lkdGg6ICR7YW1vdW50fXB4O1xuICAgICAgICAgIC0tY29ubmVjdG9yLWxlZnQ6IGNhbGMoNTAlICsgJHtsZWZ0fXB4KTtcbiAgICAgICAgICAtLWVkZ2V0ZXh0LXJpZ2h0OiBjYWxjKDUwJSAtICR7eGRpZmYvMn1weCk7XG4gICAgICAgICAgLS1jb25uZWN0b3ItdHJhbnNmb3JtOiByb3RhdGUoJHthbmdsZX1yYWQpO1xuICAgICAgICBgO1xuICAgICAgfSk7XG5cbiAgICB9KTtcbiAgfVxufVxuXG4vLyAjIyMjIyBnZW5lcmF0ZSBIVE1MICMjIyMjI1xuXG4vLyAjIyMgcmVndWxhciBub2RlL3RyZWVcbmZ1bmN0aW9uIHJlbmRlck5vZGUobjogbm9kZSwgcDogZ3JhbW1hciwgaTpudW1iZXI9LTEpOnN0cmluZyB7XG4gIHJldHVybiBgXG4gICAgPGxpIGNsYXNzPVwiJHtpID49IDAgPyBgY2hpbGQtJHtpKzF9YCA6ICcnfVwiXG4gICAgICAgIGRhdGEtY29sbGFwc2VkPVwiJHtpID49IDAgPyAndHJ1ZScgOiAnZmFsc2UnfVwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCIke24uaG9sZXMubGVuZ3RoID4gMCA/ICcnIDogJ3Rlcm1pbmFsLXN5bWJvbCd9XCI+XG5cbiAgICAgICAgJHtyZW5kZXJQcm9kdWN0aW9uKG4sIHApfVxuXG4gICAgICAgICR7cmVuZGVyQ29kZShuKX1cblxuICAgICAgPC9zcGFuPlxuICAgICAgJHtuLmhvbGVzLmxlbmd0aCA+IDAgP1xuICAgICAgICBgPHVsPiR7XG4gICAgICAgICAgbi5ob2xlcy5tYXAoKGgsIGlkeCkgPT5cbiAgICAgICAgICAgIHJlbmRlck5vZGUoaC5jb250ZW50LCBwLCBpZHgpKVxuICAgICAgICAgIC5qb2luKCcnKVxuICAgICAgICB9PC91bD5gXG4gICAgICAgIDogJydcbiAgICAgIH1cbiAgICA8L2xpPlxuICBgO1xufVxuXG4vLyAjIyMgYmxvY2sgb2YgY29kZSBpbiBub2RlXG5mdW5jdGlvbiByZW5kZXJDb2RlKG46IG5vZGUpOnN0cmluZyB7XG4gIGNvbnN0IHNwYW5zID0gZ2V0U3BhbnMobik7XG4gIHJldHVybiBgXG4gIDxkaXYgY2xhc3M9XCJjb2RlXCI+JHtcbiAgICBzcGFucy5tYXAocyA9PlxuICAgICAgYDxzcGFuIGNsYXNzPVwiY2hhciAke3MucG9zID8gYGhvbGUgaG9sZS0ke3MucG9zfWAgOiAnJ31cIlxuICAgICAgICAgICAgICR7cy5wb3MgPyBgb25jbGljaz1cInRvZ2dsZUNoaWxkKGV2ZW50LCR7cy5wb3N9KVwiYCA6ICcnfVxuICAgICAgICAgICAgID4ke24uY29kZS5zbGljZShzLnN0YXJ0LCBzLmVuZCl9PC9zcGFuPmApXG4gICAgLmpvaW4oJycpfVxuICA8L2Rpdj5cbiAgYDtcbn1cbih3aW5kb3cgYXMgYW55KS50b2dnbGVDaGlsZCA9IChlOiBFdmVudCxpOm51bWJlcikgPT4ge1xuICBjb25zdCBob2xlID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IGxpID0gZ2V0UGFyZW50VGFnUmVjdXJzaXZlKGhvbGUsICdsaScpO1xuICBjb25zdCB0cmVlID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoaG9sZSwgJ3RyZWUnKTtcbiAgaWYoIWxpIHx8ICF0cmVlKSB7XG4gICAgY29uc29sZS5lcnJvcigndG9nZ2xlQ2hpbGQgY2FsbGVkIGZyb20gLmhvbGUgbm90IGluIC50cmVlJyk7XG4gICAgcmV0dXJuO1xuICB9O1xuXG4gIG5hdmlnYXRlRE9NKFtsaV0sYHVsLy5jaGlsZC0ke2l9YCkubWFwKGMgPT4ge1xuICAgIGMuc2V0QXR0cmlidXRlKCdkYXRhLWNvbGxhcHNlZCcsIGMuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxhcHNlZCcpID09PSAndHJ1ZScgPyAnZmFsc2UnIDogJ3RydWUnKTtcbiAgfSk7XG4gIGFkanVzdENvbm5lY3RvcnModHJlZSk7XG59XG5pbnRlcmZhY2Ugc3BhbiB7XG4gIHBvczogYm9vbGVhbiB8IG51bWJlcjtcbiAgc3RhcnQ6IG51bWJlcjtcbiAgZW5kOiBudW1iZXI7XG59XG5mdW5jdGlvbiBnZXRTcGFucyhuOiBub2RlKTpzcGFuW10ge1xuICAvLyBzbGljZSB0ZXh0IGludG8gaG9sZXNcbiAgY29uc3Qgc3BhbnMgPSBbXTtcbiAgbGV0IHBvc2l0aW9uID0gMDtcbiAgZm9yKGxldCBpID0gMDsgaSA8IG4uaG9sZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobi5ob2xlc1tpXS5zdGFydCA+IHBvc2l0aW9uKSB7XG4gICAgICBzcGFucy5wdXNoKHtwb3M6IGZhbHNlLCBzdGFydDpwb3NpdGlvbiwgZW5kOm4uaG9sZXNbaV0uc3RhcnR9KTtcbiAgICB9XG4gICAgc3BhbnMucHVzaCh7cG9zOiBpKzEsIC4uLm4uaG9sZXNbaV19KTtcbiAgICBwb3NpdGlvbiA9IG4uaG9sZXNbaV0uZW5kO1xuICB9XG4gIGlmIChwb3NpdGlvbiA8IG4uY29kZS5sZW5ndGgpIHtcbiAgICBzcGFucy5wdXNoKHtwb3M6IGZhbHNlLCBzdGFydDpwb3NpdGlvbiwgZW5kOm4uY29kZS5sZW5ndGh9KTtcbiAgfVxuICByZXR1cm4gc3BhbnM7XG59XG4vLyAjIyMgcHJvZHVjdGlvbiBuYW1lIC0gd2l0aCB0b29sdGlwIG9uIGhvdmVyXG5mdW5jdGlvbiByZW5kZXJQcm9kdWN0aW9uKG46IG5vZGUsIHA6IGdyYW1tYXIpIHtcbiAgcmV0dXJuIGBcbiAgICA8ZGl2IGNsYXNzPVwibmFtZVwiPiR7c2FuaXRpemUobi5wcm9kdWN0aW9uKX0ke1xuICAgICAgcFtuLnByb2R1Y3Rpb25dICYmIHBbbi5wcm9kdWN0aW9uXS5sZW5ndGggPiAwID9cbiAgICAgIGA8ZGl2IGNsYXNzPVwidG9vbHRpcFwiPjo6PSAke1xuICAgICAgICBwW24ucHJvZHVjdGlvbl0ubWFwKHNhbml0aXplKS5qb2luKCc8YnI+Jm5ic3A7fCZuYnNwOyZuYnNwOycpXG4gICAgICB9PC9kaXY+YFxuICAgICAgOiAnJ1xuICAgIH08L2Rpdj5cbiAgYDtcbn1cblxuLy8gIyMjIyMjIHJlbmRlcmluZyBhIG5vZGUvdHJlZSBhcyBhIHF1aXpcbmZ1bmN0aW9uIHJlbmRlclF1aXpOb2RlKG46IG5vZGUsIGxhbmc6IGltcGxlbWVudGVkTGFuZ3VhZ2UsIGdyYW1tYXI6IGdyYW1tYXIsIGk6bnVtYmVyPS0xKTpzdHJpbmcge1xuICByZXR1cm4gYFxuICAgIDxsaSBjbGFzcz1cIiR7aSA+PSAwID8gYGNoaWxkLSR7aSsxfWAgOiAnJ31cIlxuICAgICAgICBkYXRhLWNvbGxhcHNlZD1cIiR7aSA+PSAwID8gJ3RydWUnIDogJ2ZhbHNlJ31cIj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiJHtuLmhvbGVzLmxlbmd0aCA+IDAgPyAnJyA6ICd0ZXJtaW5hbC1zeW1ib2wnfVwiXG4gICAgICAgICAgICBkYXRhLXF1aXotc3RhdGU9XCIke2kgPj0gMCA/ICdwcm9kdWN0aW9uJyA6ICdkb25lJ31cIlxuICAgICAgICAgICAgZGF0YS1pcy10ZXJtaW5hbD1cIiR7bi5ob2xlcy5sZW5ndGggPD0gMH1cIlxuICAgICAgICAgICAgZGF0YS1pcy10cml2aWFsLWhvbGU9XCIke24uaG9sZXMubGVuZ3RoID09PSAxICYmIG4uaG9sZXNbMF0uc3RhcnQgPT09IDAgJiYgbi5ob2xlc1swXS5lbmQgPT09IG4uY29kZS5sZW5ndGh9XCI+XG5cbiAgICAgICAgJHtyZW5kZXJQcm9kdWN0aW9uUXVpeihuLCBsYW5nLCBncmFtbWFyKX1cblxuICAgICAgICAke3JlbmRlckhvbGVRdWl6KG4sIGxhbmcpfVxuXG4gICAgICAgICR7cmVuZGVyUHJvZHVjdGlvbihuLCBncmFtbWFyKX1cbiAgICAgICAgJHtyZW5kZXJDb2RlKG4pfVxuICAgICAgPC9zcGFuPlxuICAgICAgJHtuLmhvbGVzLmxlbmd0aCA+IDAgP1xuICAgICAgICBgPHVsPiR7XG4gICAgICAgICAgbi5ob2xlcy5tYXAoKGgsIGlkeCkgPT5cbiAgICAgICAgICAgIHJlbmRlclF1aXpOb2RlKGguY29udGVudCwgbGFuZywgZ3JhbW1hciwgaWR4KSlcbiAgICAgICAgICAgIC5qb2luKCcnKVxuICAgICAgICAgfTwvdWw+YFxuICAgICAgICA6ICcnXG4gICAgICB9XG4gICAgPC9saT5cbiAgYDtcbn1cblxuLy8gIyMjIGZpcnN0IHBhcnQgb2YgdGhlIHF1aXpcbmZ1bmN0aW9uIHJlbmRlclByb2R1Y3Rpb25RdWl6KG46IG5vZGUsIGxhbmc6IGltcGxlbWVudGVkTGFuZ3VhZ2UsIGdyYW1tYXI6IGdyYW1tYXIpOnN0cmluZyB7XG4gIHJldHVybiBgXG4gIDxkaXYgY2xhc3M9XCJwcm9kdWN0aW9uXCI+XG4gICAgPHNlbGVjdCBvbmNoYW5nZT1cImNoZWNrUHJvZHVjdGlvbihldmVudCwgJyR7bi5wcm9kdWN0aW9ufScpXCI+XG4gICAgICA8b3B0aW9uIHNlbGVjdGVkPVwidHJ1ZVwiPiR7ZGljdGlvbmFyeVtsYW5nXVsnc2VsZWN0IHByb2R1Y3Rpb24nXX08L29wdGlvbj5cbiAgICAgICR7T2JqZWN0LmtleXMoZ3JhbW1hcikubWFwKHAgPT4gYFxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIke3B9XCI+JHtzYW5pdGl6ZShwKX08L29wdGlvbj5cbiAgICAgICAgYCkuam9pbignJyl9XG4gICAgPC9zZWxlY3Q+XG4gIDwvZGl2PlxuICBgO1xufVxuXG4od2luZG93IGFzIGFueSkuY2hlY2tQcm9kdWN0aW9uID0gKGU6IEV2ZW50LCBwOiBzdHJpbmcpID0+IHtcbiAgY29uc3Qgc2VsID0gZS50YXJnZXQgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XG4gIGlmIChzZWwudmFsdWUgPT09IHApIHtcbiAgICAvLyBhbnN3ZXIgY29ycmVjdFxuICAgIGNvbnN0IHNwYW4gPSBnZXRQYXJlbnRUYWdSZWN1cnNpdmUoc2VsLCAnc3BhbicpO1xuICAgIGlmIChzcGFuKSB7XG4gICAgICBpZiAoc3Bhbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtaXMtdGVybWluYWwnKSA9PT0gJ3RydWUnKSB7XG4gICAgICAgIC8vIHdlJ3JlIGRvbmVcbiAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcXVpei1zdGF0ZScsICdkb25lJyk7XG4gICAgICB9IGVsc2UgaWYgKHNwYW4uZ2V0QXR0cmlidXRlKCdkYXRhLWlzLXRyaXZpYWwtaG9sZScpID09PSAndHJ1ZScpIHtcbiAgICAgICAgLy8gd2UncmUgZG9uZVxuICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZSgnZGF0YS1xdWl6LXN0YXRlJywgJ2RvbmUnKTtcbiAgICAgICAgLy8gYnV0IHdlIGFsc28gbmVlZCB0byBleHBhbmQgdGhlIGNoaWxkXG4gICAgICAgIG5hdmlnYXRlRE9NKFtzcGFuXSwnKy9saScsdHJ1ZSkubWFwKGMgPT5cbiAgICAgICAgICBjLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzZWQnLCAnZmFsc2UnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBtb3ZlIG9uIHRvIHNlbGVjdGluZyBob2xlc1xuICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZSgnZGF0YS1xdWl6LXN0YXRlJywgJ2hvbGUtbWFya2luZycpO1xuICAgICAgfVxuXG4gICAgICAvLyBleHBhbmQgbmV4dCBzaWJsaW5nIChpZiBwcmVzZW50KVxuICAgICAgbmF2aWdhdGVET00oW3NwYW5dLCAnLi4vKycpLm1hcChsID0+XG4gICAgICAgIGwuc2V0QXR0cmlidXRlKCdkYXRhLWNvbGxhcHNlZCcsICdmYWxzZScpKTtcblxuICAgICAgLy8gYWRqdXN0IGNvbm5lY3RvcnNcbiAgICAgIGNvbnN0IHF1aXogPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShzcGFuLCAndHJlZScpO1xuICAgICAgaWYgKHF1aXopIGFkanVzdENvbm5lY3RvcnMocXVpeik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIG1hcmsgb3B0aW9uIGFzIHRyaWVkLWFuZC13cm9uZ1xuICAgIEFycmF5LmZyb20oc2VsLnNlbGVjdGVkT3B0aW9ucykubWFwKG8gPT5cbiAgICAgIG8ucmVtb3ZlKCkpO1xuICAgIC8vIGdpdmUgdmlzdWFsIGZlZWRiYWNrXG4gICAgY29uc3Qgc3BhbiA9IGdldFBhcmVudFRhZ1JlY3Vyc2l2ZShzZWwsICdzcGFuJyk7XG4gICAgaWYgKHNwYW4pIHtcbiAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgnd3JvbmcnKTtcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QucmVtb3ZlKCd3cm9uZycpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gIyMjIHNlY29uZCBwYXJ0IG9mIHRoZSBxdWl6XG5mdW5jdGlvbiByZW5kZXJIb2xlUXVpeihuOiBub2RlLCBsYW5nOiBpbXBsZW1lbnRlZExhbmd1YWdlKTpzdHJpbmcge1xuICByZXR1cm4gYFxuICA8ZGl2IGNsYXNzPVwiaG9sZS1tYXJraW5nXCJcbiAgICAgICBkYXRhLWhvbGVzPVwiJHtidG9hKEpTT04uc3RyaW5naWZ5KG4uaG9sZXMubWFwKGggPT4gW2guc3RhcnQsaC5lbmQsIGZhbHNlXSkpKX1cIj5cbiAgICA8ZGl2IGNsYXNzPVwidGV4dGFyZWEtY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibWFya2VyLWNvbnRhaW5lclwiPlxuICAgICAgICAke24uY29kZS5zcGxpdCgnXFxuJylcbiAgICAgICAgICAgIC5tYXAobCA9PiBsLnNwbGl0KCcnKS5tYXAoYyA9PlxuICAgICAgICAgICAgICBgPHNwYW4gY2xhc3M9XCJjaGFyIG1hcmtlclwiPiR7Y308L3NwYW4+YFxuICAgICAgICAgICAgKS5qb2luKCcnKSlcbiAgICAgICAgICAgIC5qb2luKCc8c3BhbiBjbGFzcz1cImNoYXIgbWFya2VyXCI+PC9zcGFuPjxicj4nKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPHRleHRhcmVhIGF1dG9jb3JyZWN0PVwib2ZmXCJcbiAgICAgICAgICAgICAgICBzcGVsbGNoZWNrPVwiZmFsc2VcIlxuICAgICAgICAgICAgICAgIGNvbHM9XCIke24uY29kZS5zcGxpdCgnXFxuJykubWFwKGwgPT4gbC5sZW5ndGgpLnJlZHVjZSgoeCx5KSA9PiB4ID4geSA/IHggOiB5KX1cIlxuICAgICAgICAgICAgICAgIHJvd3M9XCIke24uY29kZS5zcGxpdCgnXFxuJykubGVuZ3RofVwiXG4gICAgICAgICAgICAgICAgb25pbnB1dD1cInN0b3BJbnB1dChldmVudCwgJyR7YnRvYShuLmNvZGUpfScpXCI+JHtuLmNvZGV9PC90ZXh0YXJlYT5cbiAgICA8L2Rpdj48YnI+XG4gICAgPGJ1dHRvbiBvbmNsaWNrPVwiY2hlY2tTZWxlY3Rpb24oZXZlbnQpXCI+XG4gICAgICAke2RpY3Rpb25hcnlbbGFuZ11bJ21hcmsgc2VsZWN0ZWQgdGV4dCBhcyBob2xlJ119XG4gICAgPC9idXR0b24+XG4gIDwvZGl2PlxuICBgO1xufVxuKHdpbmRvdyBhcyBhbnkpLnN0b3BJbnB1dCA9IChlOiBFdmVudCwgb2xkVmFsOiBzdHJpbmcpID0+IHtcbiAgKGUudGFyZ2V0IGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQpLnZhbHVlID0gYXRvYihvbGRWYWwpO1xufVxuKHdpbmRvdyBhcyBhbnkpLmNoZWNrU2VsZWN0aW9uID0gKGU6IEV2ZW50KSA9PiB7XG4gIC8vIGdldCBjb250ZXh0XG4gIGNvbnN0IGJ0biA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICBjb25zdCBkaXYgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShidG4sICdob2xlLW1hcmtpbmcnKTtcbiAgaWYgKCFkaXYpIHtcbiAgICBjb25zb2xlLmVycm9yKCdjaGVja1Byb2R1Y3Rpb24gY2FsbGVkIGZyb20gZWwuIG5vdCB3cmFwcGVkIGluIGRpdi5ob2xlLW1hcmtpbmcnKTtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gZ2V0IGhvbGVzIHRvIGZpbmRcbiAgY29uc3QgaG9sZXMgPSBKU09OLnBhcnNlKGF0b2IoZGl2LmdldEF0dHJpYnV0ZSgnZGF0YS1ob2xlcycpIGFzIHN0cmluZykpIGFzIFtudW1iZXIsbnVtYmVyLGJvb2xlYW5dW107XG5cbiAgLy8gZ2V0IGN1cnJlbnQgc2VsZWN0aW9uXG4gIGNvbnN0IHRleHRhcmVhID0gZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0ZXh0YXJlYScpWzBdIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gIGNvbnN0IHNlbFN0YXJ0ID0gdGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQ7XG4gIGNvbnN0IHNlbEVuZCA9IHRleHRhcmVhLnNlbGVjdGlvbkVuZDtcbiAgY29uc3Qgc3RhcnQgPSBzZWxTdGFydCA8IHNlbEVuZCA/IHNlbFN0YXJ0IDogc2VsRW5kO1xuICBjb25zdCBlbmQgPSBzZWxTdGFydCA8IHNlbEVuZCA/IHNlbEVuZCA6IHNlbFN0YXJ0O1xuXG4gIC8vIGNoZWNrIGlmIGhvbGUgaXMgZm91bmRcbiAgbGV0IGZvdW5kID0gLTE7XG4gIGhvbGVzLm1hcCgoaCxpKSA9PiB7XG4gICAgaWYgKGhbMF0gPT09IHN0YXJ0ICYmIGhbMV0gPT09IGVuZCkge1xuICAgICAgaFsyXSA9IHRydWU7XG4gICAgICBmb3VuZCA9IGk7XG4gICAgfVxuICB9KTtcblxuICBpZiAoZm91bmQgPj0gMCkge1xuICAgIC8vIHNhdmUgY2hhbmdlZCBzdGF0ZVxuICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaG9sZXMnLCBidG9hKEpTT04uc3RyaW5naWZ5KGhvbGVzKSkpO1xuICAgIC8vIG1hcmsgaG9sZSBhcyBjb3JyZWN0XG4gICAgbmF2aWdhdGVET00oW2Rpdl0sICcudGV4dGFyZWEtY29udGFpbmVyLy5tYXJrZXItY29udGFpbmVyLy5tYXJrZXInLCB0cnVlKVxuICAgICAgLnNsaWNlKHN0YXJ0LCBlbmQpXG4gICAgICAubWFwKG0gPT4gbS5jbGFzc0xpc3QuYWRkKCdjb3JyZWN0JykpO1xuICB9IGVsc2Uge1xuICAgIC8vIGdpdmUgZmVlZGJhY2sgYWJvdXQgd3Jvbmcgc2VsZWN0aW9uXG4gICAgY29uc3QgbWFya2VycyA9IG5hdmlnYXRlRE9NKFtkaXZdLCAnLnRleHRhcmVhLWNvbnRhaW5lci8ubWFya2VyLWNvbnRhaW5lci8ubWFya2VyJywgdHJ1ZSlcbiAgICAgIC5zbGljZShzdGFydCwgZW5kKTtcblxuICAgIG1hcmtlcnMubWFwKG0gPT4gbS5jbGFzc0xpc3QuYWRkKCd3cm9uZycpKTtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBtYXJrZXJzLm1hcChtID0+IG0uY2xhc3NMaXN0LnJlbW92ZSgnd3JvbmcnKSk7XG4gICAgfSwgMTAwKTtcbiAgfVxuICBpZihob2xlcy5ldmVyeShoID0+IGhbMl0pKSB7XG4gICAgLy8gbW92ZSBvbiB0byBuZXh0IHBoYXNlID09IGRvbmVcbiAgICBjb25zdCBzcGFuID0gZ2V0UGFyZW50VGFnUmVjdXJzaXZlKGRpdiwgJ3NwYW4nKTtcbiAgICBpZiAoc3Bhbikge1xuICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcXVpei1zdGF0ZScsICdkb25lJyk7XG4gICAgICAvLyBleHBhbmQgZmlyc3QgY2hpbGRcbiAgICAgIG5hdmlnYXRlRE9NKFtzcGFuXSwgJy4uL3VsLy5jaGlsZC0xJykubWFwKGMgPT5cbiAgICAgICAgYy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywgJ2ZhbHNlJykpO1xuXG4gICAgICAvLyBhZGp1c3QgY29ubmVjdG9ycyBmb3Igd2lkdGggY2hhbmdlXG4gICAgICBjb25zdCBxdWl6ID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoc3BhbiwgJ3RyZWUnKTtcbiAgICAgIGlmIChxdWl6KSBhZGp1c3RDb25uZWN0b3JzKHF1aXopO1xuICAgIH1cbiAgfVxufVxuIiwgIlxuLy8gR2VuZXJhdGVkIGJ5IHBlZ2d5IHYuIDEuMi4wICh0cy1wZWdqcyBwbHVnaW4gdi4gMS4yLjIgKVxuLy9cbi8vIGh0dHBzOi8vcGVnZ3lqcy5vcmcvICAgaHR0cHM6Ly9naXRodWIuY29tL21ldGFkZXZwcm8vdHMtcGVnanNcblxuZXhwb3J0IGludGVyZmFjZSBJRmlsZVBvc2l0aW9uIHtcbiAgb2Zmc2V0OiBudW1iZXI7XG4gIGxpbmU6IG51bWJlcjtcbiAgY29sdW1uOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZpbGVSYW5nZSB7XG4gIHN0YXJ0OiBJRmlsZVBvc2l0aW9uO1xuICBlbmQ6IElGaWxlUG9zaXRpb247XG4gIHNvdXJjZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElMaXRlcmFsRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImxpdGVyYWxcIjtcbiAgdGV4dDogc3RyaW5nO1xuICBpZ25vcmVDYXNlOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDbGFzc1BhcnRzIGV4dGVuZHMgQXJyYXk8c3RyaW5nIHwgSUNsYXNzUGFydHM+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNsYXNzRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImNsYXNzXCI7XG4gIHBhcnRzOiBJQ2xhc3NQYXJ0cztcbiAgaW52ZXJ0ZWQ6IGJvb2xlYW47XG4gIGlnbm9yZUNhc2U6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUFueUV4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJhbnlcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRW5kRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImVuZFwiO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElPdGhlckV4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJvdGhlclwiO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBFeHBlY3RhdGlvbiA9IElMaXRlcmFsRXhwZWN0YXRpb24gfCBJQ2xhc3NFeHBlY3RhdGlvbiB8IElBbnlFeHBlY3RhdGlvbiB8IElFbmRFeHBlY3RhdGlvbiB8IElPdGhlckV4cGVjdGF0aW9uO1xuXG5mdW5jdGlvbiBwZWckcGFkRW5kKHN0cjogc3RyaW5nLCB0YXJnZXRMZW5ndGg6IG51bWJlciwgcGFkU3RyaW5nOiBzdHJpbmcpIHtcbiAgcGFkU3RyaW5nID0gcGFkU3RyaW5nIHx8ICcgJztcbiAgaWYgKHN0ci5sZW5ndGggPiB0YXJnZXRMZW5ndGgpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIHRhcmdldExlbmd0aCAtPSBzdHIubGVuZ3RoO1xuICBwYWRTdHJpbmcgKz0gcGFkU3RyaW5nLnJlcGVhdCh0YXJnZXRMZW5ndGgpO1xuICByZXR1cm4gc3RyICsgcGFkU3RyaW5nLnNsaWNlKDAsIHRhcmdldExlbmd0aCk7XG59XG5cbmV4cG9ydCBjbGFzcyBTeW50YXhFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHVibGljIHN0YXRpYyBidWlsZE1lc3NhZ2UoZXhwZWN0ZWQ6IEV4cGVjdGF0aW9uW10sIGZvdW5kOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgZnVuY3Rpb24gaGV4KGNoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIGNoLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGl0ZXJhbEVzY2FwZShzOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIHNcbiAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKVxuICAgICAgICAucmVwbGFjZSgvXCIvZywgIFwiXFxcXFxcXCJcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcMC9nLCBcIlxcXFwwXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXHQvZywgXCJcXFxcdFwiKVxuICAgICAgICAucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcci9nLCBcIlxcXFxyXCIpXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csICAgICAgICAgICAgKGNoKSA9PiBcIlxcXFx4MFwiICsgaGV4KGNoKSApXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MTAtXFx4MUZcXHg3Ri1cXHg5Rl0vZywgKGNoKSA9PiBcIlxcXFx4XCIgICsgaGV4KGNoKSApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsYXNzRXNjYXBlKHM6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gc1xuICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCBcIlxcXFxcXFxcXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXF0vZywgXCJcXFxcXVwiKVxuICAgICAgICAucmVwbGFjZSgvXFxeL2csIFwiXFxcXF5cIilcbiAgICAgICAgLnJlcGxhY2UoLy0vZywgIFwiXFxcXC1cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcMC9nLCBcIlxcXFwwXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXHQvZywgXCJcXFxcdFwiKVxuICAgICAgICAucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcci9nLCBcIlxcXFxyXCIpXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csICAgICAgICAgICAgKGNoKSA9PiBcIlxcXFx4MFwiICsgaGV4KGNoKSApXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MTAtXFx4MUZcXHg3Ri1cXHg5Rl0vZywgKGNoKSA9PiBcIlxcXFx4XCIgICsgaGV4KGNoKSApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRXhwZWN0YXRpb24oZXhwZWN0YXRpb246IEV4cGVjdGF0aW9uKSB7XG4gICAgICBzd2l0Y2ggKGV4cGVjdGF0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcImxpdGVyYWxcIjpcbiAgICAgICAgICByZXR1cm4gXCJcXFwiXCIgKyBsaXRlcmFsRXNjYXBlKGV4cGVjdGF0aW9uLnRleHQpICsgXCJcXFwiXCI7XG4gICAgICAgIGNhc2UgXCJjbGFzc1wiOlxuICAgICAgICAgIGNvbnN0IGVzY2FwZWRQYXJ0cyA9IGV4cGVjdGF0aW9uLnBhcnRzLm1hcCgocGFydCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGFydClcbiAgICAgICAgICAgICAgPyBjbGFzc0VzY2FwZShwYXJ0WzBdIGFzIHN0cmluZykgKyBcIi1cIiArIGNsYXNzRXNjYXBlKHBhcnRbMV0gYXMgc3RyaW5nKVxuICAgICAgICAgICAgICA6IGNsYXNzRXNjYXBlKHBhcnQpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIFwiW1wiICsgKGV4cGVjdGF0aW9uLmludmVydGVkID8gXCJeXCIgOiBcIlwiKSArIGVzY2FwZWRQYXJ0cyArIFwiXVwiO1xuICAgICAgICBjYXNlIFwiYW55XCI6XG4gICAgICAgICAgcmV0dXJuIFwiYW55IGNoYXJhY3RlclwiO1xuICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIFwiZW5kIG9mIGlucHV0XCI7XG4gICAgICAgIGNhc2UgXCJvdGhlclwiOlxuICAgICAgICAgIHJldHVybiBleHBlY3RhdGlvbi5kZXNjcmlwdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXNjcmliZUV4cGVjdGVkKGV4cGVjdGVkMTogRXhwZWN0YXRpb25bXSkge1xuICAgICAgY29uc3QgZGVzY3JpcHRpb25zID0gZXhwZWN0ZWQxLm1hcChkZXNjcmliZUV4cGVjdGF0aW9uKTtcbiAgICAgIGxldCBpOiBudW1iZXI7XG4gICAgICBsZXQgajogbnVtYmVyO1xuXG4gICAgICBkZXNjcmlwdGlvbnMuc29ydCgpO1xuXG4gICAgICBpZiAoZGVzY3JpcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChpID0gMSwgaiA9IDE7IGkgPCBkZXNjcmlwdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZGVzY3JpcHRpb25zW2kgLSAxXSAhPT0gZGVzY3JpcHRpb25zW2ldKSB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbnNbal0gPSBkZXNjcmlwdGlvbnNbaV07XG4gICAgICAgICAgICBqKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlc2NyaXB0aW9ucy5sZW5ndGggPSBqO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGRlc2NyaXB0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnNbMF07XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnNbMF0gKyBcIiBvciBcIiArIGRlc2NyaXB0aW9uc1sxXTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnMuc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKVxuICAgICAgICAgICAgKyBcIiwgb3IgXCJcbiAgICAgICAgICAgICsgZGVzY3JpcHRpb25zW2Rlc2NyaXB0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXNjcmliZUZvdW5kKGZvdW5kMTogc3RyaW5nIHwgbnVsbCkge1xuICAgICAgcmV0dXJuIGZvdW5kMSA/IFwiXFxcIlwiICsgbGl0ZXJhbEVzY2FwZShmb3VuZDEpICsgXCJcXFwiXCIgOiBcImVuZCBvZiBpbnB1dFwiO1xuICAgIH1cblxuICAgIHJldHVybiBcIkV4cGVjdGVkIFwiICsgZGVzY3JpYmVFeHBlY3RlZChleHBlY3RlZCkgKyBcIiBidXQgXCIgKyBkZXNjcmliZUZvdW5kKGZvdW5kKSArIFwiIGZvdW5kLlwiO1xuICB9XG5cbiAgcHVibGljIG1lc3NhZ2U6IHN0cmluZztcbiAgcHVibGljIGV4cGVjdGVkOiBFeHBlY3RhdGlvbltdO1xuICBwdWJsaWMgZm91bmQ6IHN0cmluZyB8IG51bGw7XG4gIHB1YmxpYyBsb2NhdGlvbjogSUZpbGVSYW5nZTtcbiAgcHVibGljIG5hbWU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIGV4cGVjdGVkOiBFeHBlY3RhdGlvbltdLCBmb3VuZDogc3RyaW5nIHwgbnVsbCwgbG9jYXRpb246IElGaWxlUmFuZ2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5leHBlY3RlZCA9IGV4cGVjdGVkO1xuICAgIHRoaXMuZm91bmQgPSBmb3VuZDtcbiAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgdGhpcy5uYW1lID0gXCJTeW50YXhFcnJvclwiO1xuXG4gICAgaWYgKHR5cGVvZiAoT2JqZWN0IGFzIGFueSkuc2V0UHJvdG90eXBlT2YgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgKE9iamVjdCBhcyBhbnkpLnNldFByb3RvdHlwZU9mKHRoaXMsIFN5bnRheEVycm9yLnByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICh0aGlzIGFzIGFueSkuX19wcm90b19fID0gU3ludGF4RXJyb3IucHJvdG90eXBlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIChFcnJvciBhcyBhbnkpLmNhcHR1cmVTdGFja1RyYWNlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIChFcnJvciBhcyBhbnkpLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFN5bnRheEVycm9yKTtcbiAgICB9XG4gIH1cblxuICBmb3JtYXQoc291cmNlczogeyBzb3VyY2U6IHN0cmluZzsgdGV4dDogc3RyaW5nIH1bXSk6IHN0cmluZyB7XG4gICAgbGV0IHN0ciA9ICdFcnJvcjogJyArIHRoaXMubWVzc2FnZTtcbiAgICBpZiAodGhpcy5sb2NhdGlvbikge1xuICAgICAgbGV0IHNyYzogc3RyaW5nW10gfCBudWxsID0gbnVsbDtcbiAgICAgIGxldCBrO1xuICAgICAgZm9yIChrID0gMDsgayA8IHNvdXJjZXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgaWYgKHNvdXJjZXNba10uc291cmNlID09PSB0aGlzLmxvY2F0aW9uLnNvdXJjZSkge1xuICAgICAgICAgIHNyYyA9IHNvdXJjZXNba10udGV4dC5zcGxpdCgvXFxyXFxufFxcbnxcXHIvZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBzID0gdGhpcy5sb2NhdGlvbi5zdGFydDtcbiAgICAgIGxldCBsb2MgPSB0aGlzLmxvY2F0aW9uLnNvdXJjZSArICc6JyArIHMubGluZSArICc6JyArIHMuY29sdW1uO1xuICAgICAgaWYgKHNyYykge1xuICAgICAgICBsZXQgZSA9IHRoaXMubG9jYXRpb24uZW5kO1xuICAgICAgICBsZXQgZmlsbGVyID0gcGVnJHBhZEVuZCgnJywgcy5saW5lLnRvU3RyaW5nKCkubGVuZ3RoLCAnICcpO1xuICAgICAgICBsZXQgbGluZSA9IHNyY1tzLmxpbmUgLSAxXTtcbiAgICAgICAgbGV0IGxhc3QgPSBzLmxpbmUgPT09IGUubGluZSA/IGUuY29sdW1uIDogbGluZS5sZW5ndGggKyAxO1xuICAgICAgICBzdHIgKz0gJ1xcbiAtLT4gJyArIGxvYyArICdcXG4nICsgZmlsbGVyICsgJyB8XFxuJyArIHMubGluZSArICcgfCAnICsgbGluZSArICdcXG4nICsgZmlsbGVyICsgJyB8ICcgK1xuICAgICAgICAgIHBlZyRwYWRFbmQoJycsIHMuY29sdW1uIC0gMSwgJyAnKSArXG4gICAgICAgICAgcGVnJHBhZEVuZCgnJywgbGFzdCAtIHMuY29sdW1uLCAnXicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyICs9ICdcXG4gYXQgJyArIGxvYztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5mdW5jdGlvbiBwZWckcGFyc2UoaW5wdXQ6IHN0cmluZywgb3B0aW9ucz86IElQYXJzZU9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMgOiB7fTtcblxuICBjb25zdCBwZWckRkFJTEVEOiBSZWFkb25seTxhbnk+ID0ge307XG4gIGNvbnN0IHBlZyRzb3VyY2UgPSBvcHRpb25zLmdyYW1tYXJTb3VyY2U7XG5cbiAgY29uc3QgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uczoge1tpZDogc3RyaW5nXTogYW55fSA9IHsgUHJvZ3JhbTogcGVnJHBhcnNlUHJvZ3JhbSB9O1xuICBsZXQgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uOiAoKSA9PiBhbnkgPSBwZWckcGFyc2VQcm9ncmFtO1xuXG4gIGNvbnN0IHBlZyRjMCA9IGZ1bmN0aW9uKGFsbDogYW55KTogYW55IHsgcmV0dXJuIGFsbCB9O1xuICBjb25zdCBwZWckYzEgPSAvXltcXHQgXFxuIFxccl0vO1xuICBjb25zdCBwZWckYzIgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCJcXHRcIiwgXCIgXCIsIFwiXFxuXCIsIFwiIFwiLCBcIlxcclwiXSwgZmFsc2UsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzID0gZnVuY3Rpb24oZGVmOiBhbnkpOiBhbnkgeyByZXR1cm4gZGVmIH07XG4gIGNvbnN0IHBlZyRjNCA9IFwiKGRlZmluZS1zdHJ1Y3RcIjtcbiAgY29uc3QgcGVnJGM1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIihkZWZpbmUtc3RydWN0XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM2ID0gXCIoXCI7XG4gIGNvbnN0IHBlZyRjNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIoXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM4ID0gXCIpXCI7XG4gIGNvbnN0IHBlZyRjOSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIpXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMCA9IGZ1bmN0aW9uKGJpbmRpbmc6IGFueSwgcHJvcGVydGllczogYW55KTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJ0eXBlXCI6IFwiU3RydWN0IERlZmluaXRpb25cIixcbiAgICBcdFwiYmluZGluZ1wiOiBiaW5kaW5nLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHByb3BlcnRpZXNcbiAgICAgIH1cbiAgICB9O1xuICBjb25zdCBwZWckYzExID0gXCIoZGVmaW5lXCI7XG4gIGNvbnN0IHBlZyRjMTIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKGRlZmluZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTMgPSBmdW5jdGlvbihuYW1lOiBhbnksIGFyZ3M6IGFueSwgYm9keTogYW55KTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJ0eXBlXCI6IFwiRnVuY3Rpb24gRGVmaW5pdGlvblwiLFxuICAgIFx0XCJuYW1lXCI6IG5hbWUsXG4gICAgICBcImFyZ3NcIjogYXJncyxcbiAgICAgIFwiYm9keVwiOiBib2R5XG4gICAgICB9XG4gICAgfTtcbiAgY29uc3QgcGVnJGMxNCA9IGZ1bmN0aW9uKG5hbWU6IGFueSwgdmFsdWU6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFwidHlwZVwiOiBcIkNvbnN0YW50IERlZmluaXRpb25cIixcbiAgICBcdFwibmFtZVwiOiBuYW1lLFxuICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZVxuICAgICAgfVxuICAgIH07XG4gIGNvbnN0IHBlZyRjMTUgPSBmdW5jdGlvbihleHByOiBhbnkpOiBhbnkgeyByZXR1cm4gZXhwciB9O1xuICBjb25zdCBwZWckYzE2ID0gXCIoY29uZFwiO1xuICBjb25zdCBwZWckYzE3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIihjb25kXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxOCA9IGZ1bmN0aW9uKG9wdGlvbnM6IGFueSk6IGFueSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBcInR5cGVcIjogXCJDb25kLUV4cHJlc3Npb25cIixcbiAgICAgICAgXCJvcHRpb25zXCI6IG9wdGlvbnNcbiAgICAgIH1cbiAgICB9O1xuICBjb25zdCBwZWckYzE5ID0gXCJbXCI7XG4gIGNvbnN0IHBlZyRjMjAgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiW1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjEgPSBcIl1cIjtcbiAgY29uc3QgcGVnJGMyMiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJdXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyMyA9IGZ1bmN0aW9uKGNvbmRpdGlvbjogYW55LCByZXN1bHQ6IGFueSk6IGFueSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBcInR5cGVcIjogXCJDb25kLU9wdGlvblwiLFxuICAgICAgICBcImNvbmRpdGlvblwiOiBjb25kaXRpb24sXG4gICAgICAgIFwicmVzdWx0XCI6cmVzdWx0XG4gICAgICB9XG4gICAgfTtcbiAgY29uc3QgcGVnJGMyNCA9IGZ1bmN0aW9uKG5hbWU6IGFueSwgYXJnczogYW55KTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJ0eXBlXCI6IFwiRnVuY3Rpb24gQ2FsbFwiLFxuICAgICAgXCJuYW1lXCI6IG5hbWUsXG4gICAgICBcImFyZ3NcIjogYXJnc1xuICAgICAgfVxuICAgIH07XG4gIGNvbnN0IHBlZyRjMjUgPSBcImRlZmluZVwiO1xuICBjb25zdCBwZWckYzI2ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImRlZmluZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjcgPSAvXlteXCIsJ2AoKVtcXF17fXwjXFxuXFx0XFxyMC05IF0vO1xuICBjb25zdCBwZWckYzI4ID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1wiXFxcIlwiLCBcIixcIiwgXCInXCIsIFwiYFwiLCBcIihcIiwgXCIpXCIsIFwiW1wiLCBcIl1cIiwgXCJ7XCIsIFwifVwiLCBcInxcIiwgXCIjXCIsIFwiXFxuXCIsIFwiXFx0XCIsIFwiXFxyXCIsIFtcIjBcIiwgXCI5XCJdLCBcIiBcIl0sIHRydWUsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyOSA9IGZ1bmN0aW9uKHN5bWJvbDogYW55KTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJ0eXBlXCI6IFwiU3ltYm9sXCIsXG4gICAgXHRcInN5bWJvbFwiOnN5bWJvbC5qb2luKFwiXCIpXG4gICAgICB9XG4gICAgfTtcbiAgY29uc3QgcGVnJGMzMCA9IGZ1bmN0aW9uKHZhbDogYW55KTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJ0eXBlXCI6IFwiTGl0ZXJhbCBWYWx1ZVwiLFxuICAgICAgXCJ2YWx1ZVwiOiB2YWxcbiAgICAgIH1cbiAgICB9O1xuICBjb25zdCBwZWckYzMxID0gL15bMC05XS87XG4gIGNvbnN0IHBlZyRjMzIgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiMFwiLCBcIjlcIl1dLCBmYWxzZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzMzID0gZnVuY3Rpb24oKTogYW55IHtyZXR1cm4gcGFyc2VJbnQodGV4dCgpLCAxMCl9O1xuICBjb25zdCBwZWckYzM0ID0gXCIjdHJ1ZVwiO1xuICBjb25zdCBwZWckYzM1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIiN0cnVlXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzNiA9IFwiI2ZhbHNlXCI7XG4gIGNvbnN0IHBlZyRjMzcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiI2ZhbHNlXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzOCA9IFwiI3RcIjtcbiAgY29uc3QgcGVnJGMzOSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIjdFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDAgPSBcIiNmXCI7XG4gIGNvbnN0IHBlZyRjNDEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiI2ZcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQyID0gZnVuY3Rpb24oYm9vbDogYW55KTogYW55IHsgcmV0dXJuIChib29sID09PSBcIiN0cnVlXCIgfHwgYm9vbCA9PT0gXCIjdFwiKSB9O1xuICBjb25zdCBwZWckYzQzID0gXCInKClcIjtcbiAgY29uc3QgcGVnJGM0NCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCInKClcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQ1ID0gZnVuY3Rpb24oKTogYW55IHsgcmV0dXJuIFwiJygpXCIgfTtcbiAgY29uc3QgcGVnJGM0NiA9IFwiXFxcIlwiO1xuICBjb25zdCBwZWckYzQ3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXCJcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQ4ID0gL15bXlwiXS87XG4gIGNvbnN0IHBlZyRjNDkgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCJcXFwiXCJdLCB0cnVlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNTAgPSBmdW5jdGlvbihzdHI6IGFueSk6IGFueSB7IHJldHVybiBzdHIuam9pbihcIlwiKSB9O1xuICBjb25zdCBwZWckYzUxID0gcGVnJG90aGVyRXhwZWN0YXRpb24oXCJ3aGl0ZXNwYWNlXCIpO1xuICBjb25zdCBwZWckYzUyID0gZnVuY3Rpb24oKTogYW55IHtyZXR1cm4gdW5kZWZpbmVkfTtcblxuICBsZXQgcGVnJGN1cnJQb3MgPSAwO1xuICBsZXQgcGVnJHNhdmVkUG9zID0gMDtcbiAgY29uc3QgcGVnJHBvc0RldGFpbHNDYWNoZSA9IFt7IGxpbmU6IDEsIGNvbHVtbjogMSB9XTtcbiAgbGV0IHBlZyRtYXhGYWlsUG9zID0gMDtcbiAgbGV0IHBlZyRtYXhGYWlsRXhwZWN0ZWQ6IEV4cGVjdGF0aW9uW10gPSBbXTtcbiAgbGV0IHBlZyRzaWxlbnRGYWlscyA9IDA7XG5cbiAgbGV0IHBlZyRyZXN1bHQ7XG5cbiAgaWYgKG9wdGlvbnMuc3RhcnRSdWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoIShvcHRpb25zLnN0YXJ0UnVsZSBpbiBwZWckc3RhcnRSdWxlRnVuY3Rpb25zKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3Qgc3RhcnQgcGFyc2luZyBmcm9tIHJ1bGUgXFxcIlwiICsgb3B0aW9ucy5zdGFydFJ1bGUgKyBcIlxcXCIuXCIpO1xuICAgIH1cblxuICAgIHBlZyRzdGFydFJ1bGVGdW5jdGlvbiA9IHBlZyRzdGFydFJ1bGVGdW5jdGlvbnNbb3B0aW9ucy5zdGFydFJ1bGVdO1xuICB9XG5cbiAgZnVuY3Rpb24gdGV4dCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBpbnB1dC5zdWJzdHJpbmcocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2NhdGlvbigpOiBJRmlsZVJhbmdlIHtcbiAgICByZXR1cm4gcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4cGVjdGVkKGRlc2NyaXB0aW9uOiBzdHJpbmcsIGxvY2F0aW9uMT86IElGaWxlUmFuZ2UpIHtcbiAgICBsb2NhdGlvbjEgPSBsb2NhdGlvbjEgIT09IHVuZGVmaW5lZFxuICAgICAgPyBsb2NhdGlvbjFcbiAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcblxuICAgIHRocm93IHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihcbiAgICAgIFtwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbildLFxuICAgICAgaW5wdXQuc3Vic3RyaW5nKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpLFxuICAgICAgbG9jYXRpb24xXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgbG9jYXRpb24xPzogSUZpbGVSYW5nZSkge1xuICAgIGxvY2F0aW9uMSA9IGxvY2F0aW9uMSAhPT0gdW5kZWZpbmVkXG4gICAgICA/IGxvY2F0aW9uMVxuICAgICAgOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuXG4gICAgdGhyb3cgcGVnJGJ1aWxkU2ltcGxlRXJyb3IobWVzc2FnZSwgbG9jYXRpb24xKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24odGV4dDE6IHN0cmluZywgaWdub3JlQ2FzZTogYm9vbGVhbik6IElMaXRlcmFsRXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwibGl0ZXJhbFwiLCB0ZXh0OiB0ZXh0MSwgaWdub3JlQ2FzZTogaWdub3JlQ2FzZSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGNsYXNzRXhwZWN0YXRpb24ocGFydHM6IElDbGFzc1BhcnRzLCBpbnZlcnRlZDogYm9vbGVhbiwgaWdub3JlQ2FzZTogYm9vbGVhbik6IElDbGFzc0V4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImNsYXNzXCIsIHBhcnRzOiBwYXJ0cywgaW52ZXJ0ZWQ6IGludmVydGVkLCBpZ25vcmVDYXNlOiBpZ25vcmVDYXNlIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckYW55RXhwZWN0YXRpb24oKTogSUFueUV4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImFueVwiIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckZW5kRXhwZWN0YXRpb24oKTogSUVuZEV4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImVuZFwiIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbjogc3RyaW5nKTogSU90aGVyRXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwib3RoZXJcIiwgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckY29tcHV0ZVBvc0RldGFpbHMocG9zOiBudW1iZXIpIHtcbiAgICBsZXQgZGV0YWlscyA9IHBlZyRwb3NEZXRhaWxzQ2FjaGVbcG9zXTtcbiAgICBsZXQgcDtcblxuICAgIGlmIChkZXRhaWxzKSB7XG4gICAgICByZXR1cm4gZGV0YWlscztcbiAgICB9IGVsc2Uge1xuICAgICAgcCA9IHBvcyAtIDE7XG4gICAgICB3aGlsZSAoIXBlZyRwb3NEZXRhaWxzQ2FjaGVbcF0pIHtcbiAgICAgICAgcC0tO1xuICAgICAgfVxuXG4gICAgICBkZXRhaWxzID0gcGVnJHBvc0RldGFpbHNDYWNoZVtwXTtcbiAgICAgIGRldGFpbHMgPSB7XG4gICAgICAgIGxpbmU6IGRldGFpbHMubGluZSxcbiAgICAgICAgY29sdW1uOiBkZXRhaWxzLmNvbHVtblxuICAgICAgfTtcblxuICAgICAgd2hpbGUgKHAgPCBwb3MpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocCkgPT09IDEwKSB7XG4gICAgICAgICAgZGV0YWlscy5saW5lKys7XG4gICAgICAgICAgZGV0YWlscy5jb2x1bW4gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRldGFpbHMuY29sdW1uKys7XG4gICAgICAgIH1cblxuICAgICAgICBwKys7XG4gICAgICB9XG5cbiAgICAgIHBlZyRwb3NEZXRhaWxzQ2FjaGVbcG9zXSA9IGRldGFpbHM7XG5cbiAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRjb21wdXRlTG9jYXRpb24oc3RhcnRQb3M6IG51bWJlciwgZW5kUG9zOiBudW1iZXIpOiBJRmlsZVJhbmdlIHtcbiAgICBjb25zdCBzdGFydFBvc0RldGFpbHMgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMoc3RhcnRQb3MpO1xuICAgIGNvbnN0IGVuZFBvc0RldGFpbHMgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMoZW5kUG9zKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzb3VyY2U6IHBlZyRzb3VyY2UsXG4gICAgICBzdGFydDoge1xuICAgICAgICBvZmZzZXQ6IHN0YXJ0UG9zLFxuICAgICAgICBsaW5lOiBzdGFydFBvc0RldGFpbHMubGluZSxcbiAgICAgICAgY29sdW1uOiBzdGFydFBvc0RldGFpbHMuY29sdW1uXG4gICAgICB9LFxuICAgICAgZW5kOiB7XG4gICAgICAgIG9mZnNldDogZW5kUG9zLFxuICAgICAgICBsaW5lOiBlbmRQb3NEZXRhaWxzLmxpbmUsXG4gICAgICAgIGNvbHVtbjogZW5kUG9zRGV0YWlscy5jb2x1bW5cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGZhaWwoZXhwZWN0ZWQxOiBFeHBlY3RhdGlvbikge1xuICAgIGlmIChwZWckY3VyclBvcyA8IHBlZyRtYXhGYWlsUG9zKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKHBlZyRjdXJyUG9zID4gcGVnJG1heEZhaWxQb3MpIHtcbiAgICAgIHBlZyRtYXhGYWlsUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICBwZWckbWF4RmFpbEV4cGVjdGVkID0gW107XG4gICAgfVxuXG4gICAgcGVnJG1heEZhaWxFeHBlY3RlZC5wdXNoKGV4cGVjdGVkMSk7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckYnVpbGRTaW1wbGVFcnJvcihtZXNzYWdlOiBzdHJpbmcsIGxvY2F0aW9uMTogSUZpbGVSYW5nZSkge1xuICAgIHJldHVybiBuZXcgU3ludGF4RXJyb3IobWVzc2FnZSwgW10sIFwiXCIsIGxvY2F0aW9uMSk7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IoZXhwZWN0ZWQxOiBFeHBlY3RhdGlvbltdLCBmb3VuZDogc3RyaW5nIHwgbnVsbCwgbG9jYXRpb24xOiBJRmlsZVJhbmdlKSB7XG4gICAgcmV0dXJuIG5ldyBTeW50YXhFcnJvcihcbiAgICAgIFN5bnRheEVycm9yLmJ1aWxkTWVzc2FnZShleHBlY3RlZDEsIGZvdW5kKSxcbiAgICAgIGV4cGVjdGVkMSxcbiAgICAgIGZvdW5kLFxuICAgICAgbG9jYXRpb24xXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZVByb2dyYW0oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBbXTtcbiAgICBzMiA9IHBlZyRwYXJzZURlZk9yRXhwcigpO1xuICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHdoaWxlIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczEucHVzaChzMik7XG4gICAgICAgIHMyID0gcGVnJHBhcnNlRGVmT3JFeHByKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjMChzMSk7XG4gICAgfVxuICAgIHMwID0gczE7XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VEZWZPckV4cHIoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlRGVmaW5pdGlvbigpO1xuICAgIGlmIChzMSBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJHBhcnNlRXhwcmVzc2lvbigpO1xuICAgIH1cbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgaWYgKHBlZyRjMS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHdoaWxlIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgICBpZiAocGVnJGMxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzAoczEpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZURlZmluaXRpb24oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VTdHJ1Y3REZWYoKTtcbiAgICAgIGlmIChzMiBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2VGdW5EZWYoKTtcbiAgICAgICAgaWYgKHMyIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gcGVnJHBhcnNlQ29uc3REZWYoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzMoczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZVN0cnVjdERlZigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAxNCkgPT09IHBlZyRjNCkge1xuICAgICAgczEgPSBwZWckYzQ7XG4gICAgICBwZWckY3VyclBvcyArPSAxNDtcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzUpOyB9XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJGM2O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gW107XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZU5hbWUoKTtcbiAgICAgICAgICAgIGlmIChzNiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgd2hpbGUgKHM2IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM1LnB1c2goczYpO1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRjODtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOSk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczYgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM3IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRjODtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzkpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczggYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTAoczIsIHM1KTtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VGdW5EZWYoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczk7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDcpID09PSBwZWckYzExKSB7XG4gICAgICBzMSA9IHBlZyRjMTE7XG4gICAgICBwZWckY3VyclBvcyArPSA3O1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTIpOyB9XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlXygpO1xuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgczMgPSBwZWckYzY7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzcpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgaWYgKHM1IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IFtdO1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZU5hbWUoKTtcbiAgICAgICAgICAgICAgaWYgKHM3IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChzNyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM2LnB1c2goczcpO1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczYgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzg7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOSk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM3IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczggYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRjODtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOSk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoczkgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzEzKHM0LCBzNiwgczgpO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VDb25zdERlZigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQ7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDcpID09PSBwZWckYzExKSB7XG4gICAgICBzMSA9IHBlZyRjMTE7XG4gICAgICBwZWckY3VyclBvcyArPSA3O1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTIpOyB9XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZUV4cHJlc3Npb24oKTtcbiAgICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJGM4O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzkpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzE0KHMyLCBzMyk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUV4cHJlc3Npb24oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VDb25kKCk7XG4gICAgICBpZiAoczIgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNlQ2FsbCgpO1xuICAgICAgICBpZiAoczIgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICAgICAgaWYgKHMyIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczIgPSBwZWckcGFyc2VWYWx1ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzE1KHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VDb25kKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNDtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjMTYpIHtcbiAgICAgIHMxID0gcGVnJGMxNjtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNyk7IH1cbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJHBhcnNlT3B0aW9uKCk7XG4gICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHdoaWxlIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgICBzMyA9IHBlZyRwYXJzZU9wdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgczQgPSBwZWckYzg7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMTgoczIpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VPcHRpb24oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDkxKSB7XG4gICAgICAgIHMyID0gcGVnJGMxOTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIwKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgaWYgKHM1IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZUV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgICAgaWYgKHM2IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTMpIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJGMyMTtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMik7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM3IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjMoczQsIHM2KTtcbiAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlQ2FsbCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQ7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgIHMxID0gcGVnJGM2O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzcpOyB9XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IFtdO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZUV4cHJlc3Npb24oKTtcbiAgICAgICAgd2hpbGUgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzLnB1c2goczQpO1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRjODtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMyNChzMiwgczMpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VOYW1lKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNDtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMjUpIHtcbiAgICAgICAgczMgPSBwZWckYzI1O1xuICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjYpOyB9XG4gICAgICB9XG4gICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgIGlmIChzMyBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gW107XG4gICAgICAgIGlmIChwZWckYzI3LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICBzNCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI4KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICB3aGlsZSAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMy5wdXNoKHM0KTtcbiAgICAgICAgICAgIGlmIChwZWckYzI3LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgczQgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjgpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzI5KHMzKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlVmFsdWUoKTogYW55IHtcbiAgICBsZXQgczAsIHMxO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZU51bWJlcigpO1xuICAgIGlmIChzMSBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJHBhcnNlQm9vbGVhbigpO1xuICAgICAgaWYgKHMxIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMSA9IHBlZyRwYXJzZUVtcHR5KCk7XG4gICAgICAgIGlmIChzMSBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMSA9IHBlZyRwYXJzZVN0cmluZygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzMwKHMxKTtcbiAgICB9XG4gICAgczAgPSBzMTtcblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZU51bWJlcigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIGlmIChwZWckYzMxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzIpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHdoaWxlIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgICBpZiAocGVnJGMzMS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzIpOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMzMoKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VCb29sZWFuKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczI7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDUpID09PSBwZWckYzM0KSB7XG4gICAgICAgIHMyID0gcGVnJGMzNDtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gNTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM1KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMzNikge1xuICAgICAgICAgIHMyID0gcGVnJGMzNjtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzcpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMyIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzM4KSB7XG4gICAgICAgICAgICBzMiA9IHBlZyRjMzg7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzkpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMiBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzQwKSB7XG4gICAgICAgICAgICAgIHMyID0gcGVnJGM0MDtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQxKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzQyKHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VFbXB0eSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAzKSA9PT0gcGVnJGM0Mykge1xuICAgICAgICBzMiA9IHBlZyRjNDM7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0NCk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGM0NSgpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZVN0cmluZygpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQ7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzQpIHtcbiAgICAgICAgczIgPSBwZWckYzQ2O1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDcpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gW107XG4gICAgICAgIGlmIChwZWckYzQ4LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICBzNCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ5KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICB3aGlsZSAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMy5wdXNoKHM0KTtcbiAgICAgICAgICAgIGlmIChwZWckYzQ4LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgczQgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDkpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzNCkge1xuICAgICAgICAgICAgczQgPSBwZWckYzQ2O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ3KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGM1MChzMyk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZV8oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMjtcblxuICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBbXTtcbiAgICBpZiAocGVnJGMxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyKTsgfVxuICAgIH1cbiAgICB3aGlsZSAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMS5wdXNoKHMyKTtcbiAgICAgIGlmIChwZWckYzEudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyKTsgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGM1MigpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgIGlmIChzMCBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1MSk7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBwZWckcmVzdWx0ID0gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uKCk7XG5cbiAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgIHJldHVybiBwZWckcmVzdWx0O1xuICB9IGVsc2Uge1xuICAgIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zIDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICBwZWckZmFpbChwZWckZW5kRXhwZWN0YXRpb24oKSk7XG4gICAgfVxuXG4gICAgdGhyb3cgcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKFxuICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCxcbiAgICAgIHBlZyRtYXhGYWlsUG9zIDwgaW5wdXQubGVuZ3RoID8gaW5wdXQuY2hhckF0KHBlZyRtYXhGYWlsUG9zKSA6IG51bGwsXG4gICAgICBwZWckbWF4RmFpbFBvcyA8IGlucHV0Lmxlbmd0aFxuICAgICAgICA/IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJG1heEZhaWxQb3MsIHBlZyRtYXhGYWlsUG9zICsgMSlcbiAgICAgICAgOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRtYXhGYWlsUG9zLCBwZWckbWF4RmFpbFBvcylcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBhcnNlT3B0aW9ucyB7XG4gIGZpbGVuYW1lPzogc3RyaW5nO1xuICBzdGFydFJ1bGU/OiBzdHJpbmc7XG4gIHRyYWNlcj86IGFueTtcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuZXhwb3J0IHR5cGUgUGFyc2VGdW5jdGlvbiA9IChpbnB1dDogc3RyaW5nLCBvcHRpb25zPzogSVBhcnNlT3B0aW9ucykgPT4gYW55O1xuZXhwb3J0IGNvbnN0IHBhcnNlOiBQYXJzZUZ1bmN0aW9uID0gcGVnJHBhcnNlO1xuIiwgIi8vICMjIyMjIyMjIyBMQVlPVVQgQVNUIEFTIFRSRUUgRElBR1JBTSAjIyMjIyMjI1xuaW1wb3J0ICogYXMgQlNMX0FTVCBmcm9tIFwiLi9CU0xfQVNUXCI7XG5pbXBvcnQgKiBhcyBCU0xfUHJpbnQgZnJvbSBcIi4vQlNMX1ByaW50XCI7XG5pbXBvcnQge25vZGUsIHByb2R1Y3Rpb25UcmVlfSBmcm9tIFwiLi9Qcm9kdWN0aW9uX1RyZWVcIjtcbmltcG9ydCB7cGFyc2V9IGZyb20gXCIuL0JTTF9QYXJzZXJcIjtcbmltcG9ydCB7ZGVmYXVsdCBhcyBlcnJvcl9jc3N9IGZyb20gJy4vcmVzc291cmNlcy9lcnJvci5jc3MnO1xuXG4vLyAjIyMgbWFpbiBhcGlcbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzQnNsVHJlZXMoKSB7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JzbHRyZWUnKSkubWFwKGVsID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvZ3JhbSA6IEJTTF9BU1QucHJvZ3JhbSA9IHBhcnNlKEJTTF9QcmludC5kaXJ0aWZ5KGVsLmlubmVySFRNTCkpO1xuICAgICAgY29uc3Qgcm9vdCA9IHByb2dyYW1Ub05vZGUocHJvZ3JhbSk7XG4gICAgICBjb25zdCBxdWl6ID0gZWwuZ2V0QXR0cmlidXRlKCdxdWl6JykgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcbiAgICAgIGNvbnN0IGxhbmcgPSAoZWwuZ2V0QXR0cmlidXRlKCdsYW5nJykgPyBlbC5nZXRBdHRyaWJ1dGUoJ2xhbmcnKSA6IHVuZGVmaW5lZCkgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgcHJvZHVjdGlvblRyZWUocm9vdCwgZWwgYXMgSFRNTEVsZW1lbnQsIHByb2R1Y3Rpb25zLCBxdWl6LCBsYW5nKTtcbiAgICB9IGNhdGNoKGU6YW55KSB7XG4gICAgICByZW5kZXJFcnJvcihlbCBhcyBIVE1MRWxlbWVudCwgYCR7ZS5sb2NhdGlvbi5zdGFydC5saW5lfToke2UubG9jYXRpb24uc3RhcnQuY29sdW1ufSAke2V9YCk7XG4gICAgfVxuICB9KTtcbn1cbi8vICMjIyBlcnJvciBSZW5kZXIgRnVuY3Rpb25cbmZ1bmN0aW9uIHJlbmRlckVycm9yKGVsOiBIVE1MRWxlbWVudCwgZXJyb3I6c3RyaW5nKXtcbiAgLy8gYWRkIGNzcyBpZiBuZWNlc3NhcnlcbiAgaWYoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdic2wtdG9vbHMtZXJyb3Itc3R5bGUnKSkge1xuICAgIGNvbnN0IHN0eWxlTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGVOb2RlLmlubmVySFRNTCA9IGVycm9yX2NzcztcbiAgICBzdHlsZU5vZGUuaWQgPSAnYnNsLXRvb2xzLWVycm9yLXN0eWxlJztcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHN0eWxlTm9kZSk7XG4gIH1cblxuICBjb25zdCBvcmlnaW4gPSBlbC5pbm5lckhUTUw7XG4gIGVsLmlubmVySFRNTCA9XCJcIjtcbiAgLy9jcmVhdGUgZXJyb3Itd3JhcHBlclxuICBjb25zdCBlcnJvcldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZXJyb3JXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2Vycm9yLXdyYXBwZXInKTtcbiAgZWwuYXBwZW5kQ2hpbGQoZXJyb3JXcmFwcGVyKTtcbiAgLy9jcmVhdGUgb3JpZ2luRGl2XG4gIGNvbnN0IG1lc3NhZ2UgPWA8cD4gQlNMLVRyZWUgY291bGQgbm90IGJlIHBhcnNlZCEgPC9wPlxuICAgICAgICAgICAgICAgICAgPHA+IElucHV0OiA8YiBzdHlsZT1cImZvbnQtc2l6ZTowLjllbTtcIj4ke29yaWdpbn08L2I+IDwvcD5gO1xuICBjb25zdCBvcmlnaW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgb3JpZ2luRGl2LmNsYXNzTGlzdC5hZGQoJ29yaWdpbicpO1xuICBvcmlnaW5EaXYuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgZXJyb3JXcmFwcGVyLmFwcGVuZENoaWxkKG9yaWdpbkRpdik7XG4gIC8vQ3JlYXRlIGVyclByZVxuICBjb25zdCBlcnJQcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwcmUnKTtcbiAgZXJyUHJlLmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XG4gIGNvbnN0IGVyckNvZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjb2RlJyk7XG4gIGVyckNvZGUudGV4dENvbnRlbnQgPSBlcnJvcjtcbiAgZXJyb3JXcmFwcGVyLmFwcGVuZENoaWxkKGVyclByZSk7XG4gIGVyclByZS5hcHBlbmRDaGlsZChlcnJDb2RlKTtcbn1cblxuLy8gIyMjIGtub3duIGxpc3Qgb2YgcHJvZHVjdGlvbnNcbmNvbnN0IHByb2R1Y3Rpb25zID0ge1xuICAnPHByb2dyYW0+JzogICAgICBbJzxkZWYtb3ItZXhwcj4qJ10sXG4gICc8ZGVmLW9yLWV4cHI+Kic6IFtdLCAvLyBbJzxkZWYtb3ItZXhwcj4gPGRlZi1vci1leHByPionLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJyddLFxuICAnPGRlZi1vci1leHByPic6ICBbJzxkZWZpbml0aW9uPicsXG4gICAgICAgICAgICAgICAgICAgICAnPGU+J10sXG4gICc8ZGVmaW5pdGlvbj4nOiAgIFsnKGRlZmluZSAoPG5hbWU+IDxuYW1lPispIDxlPiknLFxuICAgICAgICAgICAgICAgICAgICAgJyhkZWZpbmUgPG5hbWU+IDxlPiknLFxuICAgICAgICAgICAgICAgICAgICAgJyhkZWZpbmUtc3RydWN0IDxuYW1lPiAoPG5hbWU+KikpJ10sXG4gICc8ZT4nOiAgICAgICAgICAgIFsnKG5hbWUgPGU+KiknLFxuICAgICAgICAgICAgICAgICAgICAgJyhjb25kIHtbPGU+LDxlPl19KyknLFxuICAgICAgICAgICAgICAgICAgICAgJzxuYW1lPicsXG4gICAgICAgICAgICAgICAgICAgICAnPHY+J10sXG4gICc8ZT4qJzogICAgICAgICAgIFtdLCAvL1snPGU+IDxlPionLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJyddLFxuICAne1sgPGU+IDxlPiBdfSsnOiBbXSwgLy9bJ1s8ZT4gPGU+XScsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAnWzxlPiA8ZT5dIHtbPGU+LDxlPl19KyddLFxuICAnWyA8ZT4gPGU+IF0nOiAgICBbXSwgLy9bJ1s8ZT4gPGU+XSddLFxuICAnPG5hbWU+Kic6ICAgICAgICBbXSwgLy9bJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAnPG5hbWU+IDxuYW1lPionXSxcbiAgJzxuYW1lPisnOiAgICAgICAgW10sIC8vWyc8bmFtZT4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzxuYW1lPiA8bmFtZT4rJ10sXG4gICc8bmFtZT4nOiAgICAgICAgIFtdLFxuICAnPHY+JzogICAgICAgICAgICBbXVxufTtcblxuLy8gIyMjIHRyYW5zZm9ybSBBU1QgaW50byBub2RlIGhlbHBlciBzdHJ1Y3R1cmVcbmZ1bmN0aW9uIHByb2dyYW1Ub05vZGUocDogQlNMX0FTVC5wcm9ncmFtKTogbm9kZSB7XG4gIGNvbnN0IGV4cHJlc3Npb25zID0gcC5tYXAoQlNMX1ByaW50LnByaW50RGVmT3JFeHByKTtcbiAgY29uc3QgaW5kaWNlcyA9IFtdO1xuICBsZXQgcHJvZ3JhbSA9ICcnO1xuICBmb3IobGV0IGkgPSAwOyBpIDwgZXhwcmVzc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaSA+IDApIHByb2dyYW0gPSBgJHtwcm9ncmFtfVxcbmA7XG4gICAgY29uc3Qgc3RhcnQgPSBwcm9ncmFtLmxlbmd0aDtcbiAgICBwcm9ncmFtID0gYCR7cHJvZ3JhbX0ke2V4cHJlc3Npb25zW2ldfWA7XG4gICAgY29uc3QgZW5kID0gcHJvZ3JhbS5sZW5ndGg7XG4gICAgaW5kaWNlcy5wdXNoKHtzdGFydDpzdGFydCxlbmQ6ZW5kfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAnPHByb2dyYW0+JyxcbiAgICBjb2RlOiBwcm9ncmFtLFxuICAgIGhvbGVzOiBbXG4gICAgICB7XG4gICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICBlbmQ6IHByb2dyYW0ubGVuZ3RoLFxuICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgcHJvZHVjdGlvbjogJzxkZWYtb3ItZXhwcj4qJyxcbiAgICAgICAgICBjb2RlOiBwcm9ncmFtLFxuICAgICAgICAgIGhvbGVzOiBpbmRpY2VzLm1hcCgoaCxpZHgpID0+IHsgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0OiBoLnN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBoLmVuZCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGRlZk9yRXhwclRvTm9kZShwW2lkeF0pXG4gICAgICAgICAgfX0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlZk9yRXhwclRvTm9kZShkZTogQlNMX0FTVC5kZWZPckV4cHIpOm5vZGUge1xuICBjb25zdCBjb2RlID0gQlNMX1ByaW50LnByaW50RGVmT3JFeHByKGRlKSBhcyBzdHJpbmc7XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJzxkZWYtb3ItZXhwcj4nLFxuICAgIGNvZGU6IGNvZGUsXG4gICAgaG9sZXM6IFt7XG4gICAgICBzdGFydDogMCxcbiAgICAgIGVuZDogY29kZS5sZW5ndGgsXG4gICAgICBjb250ZW50OiBCU0xfQVNULmlzRGVmaW5pdGlvbihkZSkgPyBkZWZUb05vZGUoZGUpIDogZXhwVG9Ob2RlKGRlKVxuICAgIH1dXG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmVG9Ob2RlKGQ6IEJTTF9BU1QuZGVmaW5pdGlvbik6bm9kZSB7XG4gIGxldCBjb2RlID0gJyc7XG4gIGNvbnN0IGhvbGVzID0gW107XG4gIGlmIChCU0xfQVNULmlzRnVuRGVmKGQpKSB7XG4gICAgY29kZSA9ICcoZGVmaW5lICgnO1xuICAgIGxldCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50TmFtZShkLm5hbWUpfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpuYW1lVG9Ob2RlKGQubmFtZSl9KTtcblxuICAgIGNvZGUgPSBgJHtjb2RlfSBgO1xuICAgIHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtkLmFyZ3MubWFwKEJTTF9QcmludC5wcmludE5hbWUpLmpvaW4oJyAnKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bmFtZVBsdXNUb05vZGUoZC5hcmdzKX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9KSBgO1xuICAgIHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnRFKGQuYm9keSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50OmV4cFRvTm9kZShkLmJvZHkpfSk7XG5cbiAgICBjb2RlID0gYCR7Y29kZX0pYDtcbiAgfSBlbHNlIGlmIChCU0xfQVNULmlzQ29uc3REZWYoZCkpIHtcbiAgICBjb2RlID0gJyhkZWZpbmUgJztcbiAgICBsZXQgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludE5hbWUoZC5uYW1lKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bmFtZVRvTm9kZShkLm5hbWUpfSk7XG5cbiAgICBjb2RlID0gYCR7Y29kZX0gYDtcbiAgICBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50RShkLnZhbHVlKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6ZXhwVG9Ob2RlKGQudmFsdWUpfSk7XG5cbiAgICBjb2RlID0gYCR7Y29kZX0pYDtcbiAgfSBlbHNlIHtcbiAgICBjb2RlID0gJyhkZWZpbmUtc3RydWN0ICc7XG4gICAgbGV0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnROYW1lKGQuYmluZGluZyl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVUb05vZGUoZC5iaW5kaW5nKX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9IChgO1xuICAgIHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtkLnByb3BlcnRpZXMubWFwKEJTTF9QcmludC5wcmludE5hbWUpLmpvaW4oJyAnKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bmFtZVN0YXJUb05vZGUoZC5wcm9wZXJ0aWVzKX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9KSlgO1xuICB9XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogYDxkZWZpbml0aW9uPmAsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfTtcbn1cblxuZnVuY3Rpb24gZXhwVG9Ob2RlKGU6IEJTTF9BU1QuZXhwcik6bm9kZSB7XG4gIGxldCBjb2RlID0gJyc7XG4gIGNvbnN0IGhvbGVzID0gW107XG4gIGlmKEJTTF9BU1QuaXNDYWxsKGUpKSB7XG4gICAgY29kZSA9ICcoJztcbiAgICBsZXQgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludE5hbWUoZS5uYW1lKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bmFtZVRvTm9kZShlLm5hbWUpfSk7XG5cbiAgICBjb2RlID0gYCR7Y29kZX0gYDtcbiAgICBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7ZS5hcmdzLm1hcChCU0xfUHJpbnQucHJpbnRFKS5qb2luKCcgJyl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50OmVTdGFyVG9Ob2RlKGUuYXJncyl9KTtcblxuICAgIGNvZGUgPSBgJHtjb2RlfSlgO1xuICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNDb25kKGUpKSB7XG4gICAgY29kZSA9ICcoY29uZCAnO1xuICAgIGxldCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7ZS5vcHRpb25zLm1hcChCU0xfUHJpbnQucHJpbnRPcHRpb24pLmpvaW4oJyAnKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6b3B0aW9uc1RvTm9kZShlLm9wdGlvbnMpfSk7XG4gICAgY29kZSA9IGAke2NvZGV9KWA7XG4gIH0gZWxzZSBpZiAoQlNMX0FTVC5pc05hbWUoZSkpIHtcbiAgICBjb2RlID0gQlNMX1ByaW50LnByaW50TmFtZShlKTtcbiAgICBob2xlcy5wdXNoKHtzdGFydDowLCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bmFtZVRvTm9kZShlKX0pO1xuICB9IGVsc2Uge1xuICAgIGNvZGUgPSBCU0xfUHJpbnQucHJpbnRFKGUpO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OjAsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpsaXRlcmFsVG9Ob2RlKGUpfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAnPGU+JyxcbiAgICBjb2RlOiBjb2RlLFxuICAgIGhvbGVzOiBob2xlc1xuICB9O1xufVxuXG5mdW5jdGlvbiBuYW1lVG9Ob2RlKG46IEJTTF9BU1QuTmFtZSk6bm9kZSB7XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJzxuYW1lPicsXG4gICAgY29kZTogQlNMX1ByaW50LnByaW50TmFtZShuKSxcbiAgICBob2xlczogW11cbiAgfTtcbn1cblxuZnVuY3Rpb24gbmFtZVBsdXNUb05vZGUobnM6IEJTTF9BU1QuTmFtZVtdKTpub2RlIHtcbiAgaWYgKG5zLmxlbmd0aCA8IDEpIGNvbnNvbGUuZXJyb3IoJzxuYW1lPisgYnV0IHVzZWQgYnV0IG5hbWVzIGFyZSBlbXB0eScpO1xuICBsZXQgY29kZSA9ICcnO1xuICBjb25zdCBob2xlcyA9IFtdO1xuICBmb3IobGV0IGkgPSAwOyBpIDwgbnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50TmFtZShuc1tpXSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVUb05vZGUobnNbaV0pfSk7XG5cbiAgICBpZihpIDwgbnMubGVuZ3RoIC0gMSkgY29kZSA9IGAke2NvZGV9IGA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAnPG5hbWU+KycsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfVxufVxuXG5mdW5jdGlvbiBuYW1lU3RhclRvTm9kZShuczogQlNMX0FTVC5OYW1lW10pOm5vZGUge1xuICBsZXQgY29kZSA9ICcnO1xuICBjb25zdCBob2xlcyA9IFtdO1xuICBmb3IobGV0IGkgPSAwOyBpIDwgbnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50TmFtZShuc1tpXSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVUb05vZGUobnNbaV0pfSk7XG5cbiAgICBpZihpIDwgbnMubGVuZ3RoIC0gMSkgY29kZSA9IGAke2NvZGV9IGA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAnPG5hbWU+KicsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfVxufVxuXG5mdW5jdGlvbiBlU3RhclRvTm9kZShlczogQlNMX0FTVC5leHByW10pOm5vZGUge1xuICBsZXQgY29kZSA9ICcnO1xuICBjb25zdCBob2xlcyA9IFtdO1xuICBmb3IobGV0IGkgPSAwOyBpIDwgZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50RShlc1tpXSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50OmV4cFRvTm9kZShlc1tpXSl9KTtcblxuICAgIGlmKGkgPCBlcy5sZW5ndGggLSAxKSBjb2RlID0gYCR7Y29kZX0gYDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICc8ZT4qJyxcbiAgICBjb2RlOiBjb2RlLFxuICAgIGhvbGVzOiBob2xlc1xuICB9XG59XG5cbmZ1bmN0aW9uIG9wdGlvbnNUb05vZGUob3M6IEJTTF9BU1QuQ2xhdXNlW10pOm5vZGUge1xuICBsZXQgY29kZSA9ICcnO1xuICBjb25zdCBob2xlcyA9IFtdO1xuICBmb3IobGV0IGkgPSAwOyBpIDwgb3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50T3B0aW9uKG9zW2ldKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6b3B0aW9uVG9Ob2RlKG9zW2ldKX0pO1xuXG4gICAgaWYoaSA8IG9zLmxlbmd0aCAtIDEpIGNvZGUgPSBgJHtjb2RlfSBgO1xuICB9XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJ3tbIDxlPiA8ZT4gXX0rJyxcbiAgICBjb2RlOiBjb2RlLFxuICAgIGhvbGVzOiBob2xlc1xuICB9XG59XG5cbmZ1bmN0aW9uIG9wdGlvblRvTm9kZShvOiBCU0xfQVNULkNsYXVzZSk6bm9kZSB7XG4gIGxldCBjb2RlID0gJyc7XG4gIGNvbnN0IGhvbGVzID0gW107XG4gIGNvZGUgPSBgJHtjb2RlfVtgO1xuICBsZXQgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnRFKG8uY29uZGl0aW9uKX1gO1xuICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50OmV4cFRvTm9kZShvLmNvbmRpdGlvbil9KTtcblxuICBjb2RlID0gYCR7Y29kZX0gYDtcbiAgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnRFKG8ucmVzdWx0KX1gO1xuICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50OmV4cFRvTm9kZShvLnJlc3VsdCl9KTtcblxuICBjb2RlID0gYCR7Y29kZX1dYDtcblxuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICdbIDxlPiA8ZT4gXScsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfTtcblxufVxuXG5mdW5jdGlvbiBsaXRlcmFsVG9Ob2RlKHY6IEJTTF9BU1QuTGl0ZXJhbCk6bm9kZSB7XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJzx2PicsXG4gICAgY29kZTogQlNMX1ByaW50LnByaW50RSh2KSxcbiAgICBob2xlczogW11cbiAgfVxufVxuIiwgImltcG9ydCB7bm9kZSwgcHJvZHVjdGlvblRyZWUsIGdyYW1tYXJ9IGZyb20gXCIuL1Byb2R1Y3Rpb25fVHJlZVwiO1xuaW1wb3J0IHtkaXJ0aWZ5fSBmcm9tICcuL0JTTF9QcmludCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzSnNvblRyZWVzKCkge1xuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdqc29udHJlZScpKS5tYXAoZWwgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXQgPSBwYXJzZUpzb25UcmVlKGRpcnRpZnkoZWwuaW5uZXJIVE1MKSk7XG4gICAgICBjb25zdCByb290ID0gcmV0LnJvb3Q7XG4gICAgICBjb25zdCBncmFtbWFyID0gcmV0LmdyYW1tYXI7XG4gICAgICBjb25zdCBxdWl6ID0gZWwuZ2V0QXR0cmlidXRlKCdxdWl6JykgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcbiAgICAgIGNvbnN0IGxhbmcgPSAoZWwuZ2V0QXR0cmlidXRlKCdsYW5nJykgPyBlbC5nZXRBdHRyaWJ1dGUoJ2xhbmcnKSA6IHVuZGVmaW5lZCkgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgcHJvZHVjdGlvblRyZWUocm9vdCwgZWwgYXMgSFRNTEVsZW1lbnQsIGdyYW1tYXIsIHF1aXosIGxhbmcpO1xuICAgIH0gY2F0Y2goZTphbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICBlbC5pbm5lckhUTUwgPSBgJHtlfWA7XG4gICAgICAoZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIHBhZGRpbmc6IDJlbTtcbiAgICAgICAgY29sb3I6IGRhcmtyZWQ7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgYDtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwYXJzZUpzb25UcmVlKGpzOiBzdHJpbmcpOiB7cm9vdDogbm9kZSwgZ3JhbW1hcjogZ3JhbW1hciB8IHVuZGVmaW5lZH0ge1xuICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShqcy50cmltKCkpO1xuICBjb25zdCBncmFtbWFyID0ganNvblsnZ3JhbW1hciddO1xuICBjb25zdCByb290ID0gcHJvY2Vzc0hvbGVzUmVjdXJzaXZlKGpzb24pO1xuICByZXR1cm4ge1xuICAgIHJvb3Q6IHJvb3QsXG4gICAgZ3JhbW1hcjogZ3JhbW1hclxuICB9O1xufVxuXG4vLyAjIyMgcnVudGltZSB0eXBlIGNoZWNraW5nLCBleHRyYWN0aW5nIGhvbGUgcG9zaXRpb25zIGFuZCByZW1vdmluZ1xuLy8gICAgIGRpdmlkZXJzICh8KSBmcm9tIGNvZGVcbmZ1bmN0aW9uIHByb2Nlc3NIb2xlc1JlY3Vyc2l2ZShuOiBub2RlKTogbm9kZSB7XG4gIC8vIHJ1bnRpbWUgdHlwZSBjaGVja2luZ1xuICBjb25zdCBwID0gbi5wcm9kdWN0aW9uO1xuICBpZighcCB8fCB0eXBlb2YocCkgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgYCR7SlNPTi5zdHJpbmdpZnkobiwgdW5kZWZpbmVkLCAyKS5yZXBsYWNlQWxsKCdcXG4nLCAnPGJyPicpfSBoYXMgd3Jvbmcgc3RydWN0dXJlLCBwcm9kdWN0aW9uIG5lZWRzIHRvIGJlIGEgc3RyaW5nYDtcbiAgfVxuICBjb25zdCBjID0gbi5jb2RlO1xuICBpZighYyB8fCB0eXBlb2YoYykgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgYCR7SlNPTi5zdHJpbmdpZnkobiwgdW5kZWZpbmVkLCAyKS5yZXBsYWNlQWxsKCdcXG4nLCAnPGJyPicpfSBoYXMgd3Jvbmcgc3RydWN0dXJlLCBjb2RlIG5lZWRzIHRvIGJlIGEgc3RyaW5nYDtcbiAgfVxuICBpZiAoIW4uaG9sZXMpIG4uaG9sZXMgPSBbXTtcblxuICAvLyBleHRyYWN0aW5nIGhvbGUgcG9zaXRpb25zIGFuZCByZW1vdmluZyBkaXZpZGVycyB8fCBmcm9tIGNvZGVcbiAgY29uc3QgY29kZVBhcnRzID0gYy5zcGxpdCgnfCcpO1xuICBsZXQgY29kZSA9ICcnO1xuICBsZXQgaG9sZXMgPSBbXTtcbiAgZm9yKGxldCBpID0gMDsgaSA8IGNvZGVQYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIC8vIHN0YXJ0OiBub3QgZW5jbG9zZWQgaW4gfHxcbiAgICBjb2RlID0gYCR7Y29kZX0ke2NvZGVQYXJ0c1tpXX1gO1xuXG4gICAgLy8gbmV4dCBwYXJ0OiBlbnRlciB8fFxuICAgIGkrKztcbiAgICBpZihpIDwgY29kZVBhcnRzLmxlbmd0aCAmJiBjb2RlUGFydHNbaV0pIHtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgICBjb2RlID0gYCR7Y29kZX0ke2NvZGVQYXJ0c1tpXX1gO1xuICAgICAgY29uc3QgY29udGVudCA9IG4uaG9sZXNbaG9sZXMubGVuZ3RoXSBhcyBhbnk7XG4gICAgICBpZighY29udGVudCkge1xuICAgICAgICB0aHJvdyBgJHtKU09OLnN0cmluZ2lmeShuLCB1bmRlZmluZWQsIDIpLnJlcGxhY2VBbGwoJ1xcbicsICc8YnI+Jyl9IGhhcyB3cm9uZyBzdHJ1Y3R1cmU6IGxlc3MgaG9sZXMgdGhhbiBtYXJrZWQgd2l0aCB8fCBpbiB0aGUgY29kZWA7XG4gICAgICB9XG4gICAgICBob2xlcy5wdXNoKHtzdGFydDogc3RhcnQsIGVuZDogY29kZS5sZW5ndGgsIGNvbnRlbnQ6IHByb2Nlc3NIb2xlc1JlY3Vyc2l2ZShjb250ZW50KX0pO1xuICAgIH1cbiAgfVxuICAvLyByZXR1cm4gcHJvY2Vzc2VkIG5vZGVcbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiBwLFxuICAgIGNvZGU6IGNvZGUsXG4gICAgaG9sZXM6IGhvbGVzXG4gIH07XG5cbn1cbiIsICJpbXBvcnQgKiBhcyBCU0xfQVNUIGZyb20gXCIuL0JTTF9BU1RcIjtcblxuZXhwb3J0IGVudW0gUHJvZHVjdGlvbiB7XG4gICAgU3RlcHBlciA9IFwiU3RlcHBlclwiLFxuICAgIFByb2dTdGVwID0gXCJQcm9nU3RlcFwiLFxuICAgIEV4cHJTdGVwID0gXCJFeHByU3RlcFwiLFxuICAgIERlZmluaXRpb25TdGVwID0gXCJEZWZpbml0aW9uU3RlcFwiLFxuICAgIFNwbGl0ID0gXCJTcGxpdFwiLFxuICAgIFBsdWdSZXN1bHQgPSBcIlBsdWdSZXN1bHRcIixcbiAgICBDYWxsUmVkZXggPSBcIkNhbGxSZWRleFwiLFxuICAgIENvbmRSZWRleCA9IFwiQ29uZFJlZGV4XCIsXG4gICAgQ29uc3RSZWRleCA9IFwiQ29uc3RSZWRleFwiLFxuICAgIENvbmRPcHRpb24gPSBcIkNvbmRPcHRpb25cIixcbiAgICBBcHBDb250ZXh0ID0gXCJBcHBDb250ZXh0XCIsXG4gICAgQ29uZENvbnRleHQgPSBcIkNvbmRDb250ZXh0XCIsXG4gICAgSG9sZSA9IFwiSG9sZVwiLFxuICAgIFByaW0gPSBcIlByaW1cIixcbiAgICBDb25kVHJ1ZSA9IFwiQ29uZFRydWVcIixcbiAgICBDb25kRmFsc2UgPSBcIkNvbmRGYWxzZVwiLFxuICAgIFByb2dSdWxlID0gXCJQcm9nUnVsZVwiLFxuICAgIENvbnN0ID0gXCJDb25zdFwiLFxuICAgIEtvbmcgPSBcIktvbmdcIixcbiAgICBGdW5DbG9zdXJlID0gXCJGdW5DbG9zdXJlXCIsXG4gICAgU3RydWN0Q2xvc3VyZSA9IFwiU3RydWN0Q2xvc3VyZVwiLFxuICAgIElkID0gXCJJZGVudGlmaWVyXCIsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RlcHBlciB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5TdGVwcGVyO1xuICAgIHJvb3Q6IEhUTUxFbGVtZW50O1xuICAgIG9yaWdpblByb2dyYW06IEJTTF9BU1QucHJvZ3JhbTtcbiAgICBzdGVwcGVyVHJlZTogIFByb2dTdGVwW107XG59XG4vLyBQcm9nU3RlcCByZXByZXNlbnRzIGEgbGluZSBvZiBjb2RlIGluIGEgQlNMIHByb2dyYW1cbiBleHBvcnQgaW50ZXJmYWNlIFByb2dTdGVwIHtcbiAgICAgdHlwZTogUHJvZHVjdGlvbi5Qcm9nU3RlcDtcbiAgICAgc3RlcExpc3Q6IFN0ZXBbXTtcbiB9XG5cbi8vIFN0ZXBbXVxuLy8gU3RlcCBpcyB0eXBlID0gRXhwclN0ZXAgfCBEZWZpbml0aW9uU3RlcFxuZXhwb3J0IHR5cGUgU3RlcCA9IEV4cHJTdGVwIHwgRGVmaW5pdGlvblN0ZXA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmaW5pdGlvblN0ZXAge1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uRGVmaW5pdGlvblN0ZXA7XG4gICAgZW52OiBFbnZpcm9ubWVudDtcbiAgICBydWxlOiBQcm9nUnVsZTtcbiAgICBldmFsU3RlcHM6IEV4cHJTdGVwW107XG4gICAgcmVzdWx0OiBCU0xfQVNULmRlZmluaXRpb247IC8vZXZhbHVhdGVkIGRlZmluaXRpb24sIHdoaWNoIGlzIGdpdmVuIHRvIGVudlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV4cHJTdGVwIHtcbiAgIHR5cGU6IFByb2R1Y3Rpb24uRXhwclN0ZXA7XG4gICBlbnY6IEVudmlyb25tZW50O1xuICAgcnVsZTogS29uZyB8IE9uZVJ1bGU7XG4gICByZXN1bHQ6IEJTTF9BU1QuZXhwciB8IFZhbHVlO1xufVxuXG5cbmV4cG9ydCB0eXBlIFNwbGl0UmVzdWx0ID0gU3BsaXQgfCBWYWx1ZTtcblxuZXhwb3J0IGludGVyZmFjZSBTcGxpdCB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5TcGxpdDtcbiAgICByZWRleDogUmVkZXg7XG4gICAgY29udGV4dDogQ29udGV4dDtcbn1cblxuLyogZXhwb3J0IGludGVyZmFjZSBQbHVnUmVzdWx0IHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLlBsdWdSZXN1bHQ7XG4gICAgcnVsZTogS29uZyB8IE9uZVJ1bGU7XG4gICAgZXhwcjogQlNMX0FTVC5leHByIHwgVmFsdWU7XG59ICovXG4vLyBSZWRleCBpc3QgU3VtbWVudHlwOiBDYWxsUmVkZXggfCBDb25kUmVkZXgsIGV0Yy5cbi8vICMjIyMjIyMgUkVERVggIyMjIyMjI1xuZXhwb3J0IHR5cGUgUmVkZXggPSBDYWxsUmVkZXggfCBDb25kUmVkZXggLyogfCBDb25zdFJlZGV4ICovO1xuXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZWRleCB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5DYWxsUmVkZXg7XG4gICAgbmFtZTogQlNMX0FTVC5OYW1lO1xuICAgIGFyZ3M6IChWYWx1ZSB8XHUwMEEwSWQpW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZFJlZGV4IHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkNvbmRSZWRleDtcbiAgICBvcHRpb25zOiBCU0xfQVNULkNsYXVzZVtdO1xufVxuXG4vLyBleHBvcnQgaW50ZXJmYWNlIENvbnN0UmVkZXh7XG4vLyAgICAgdHlwZTogUHJvZHVjdGlvbi5Db25zdFJlZGV4O1xuLy8gICAgIGlkOiBCU0xfQVNULk5hbWU7XG4vLyAgICAgZXhwcjogQlNMX0FTVC5leHByO1xuLy8gfVxuLy8gIyMjIyMjIyBDb250ZXh0ICMjIyMjIyNcbmV4cG9ydCB0eXBlIENvbnRleHQgPSBBcHBDb250ZXh0IHwgQ29uZENvbnRleHQgfCBIb2xlO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFwcENvbnRleHQge1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uQXBwQ29udGV4dDtcbiAgICBvcDogQlNMX0FTVC5OYW1lO1xuICAgIHZhbHVlczogKFZhbHVlIHwgSWQpW107XG4gICAgY3R4OiBDb250ZXh0O1xuICAgIGFyZ3M6IEJTTF9BU1QuZXhwcltdO1xufVxuZXhwb3J0IGludGVyZmFjZSBDb25kQ29udGV4dCB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5Db25kQ29udGV4dDtcbiAgICBvcHRpb25zOiBCU0xfQVNULkNsYXVzZVtdO1xuICAgIGN0eDogQ29udGV4dDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSG9sZSB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5Ib2xlO1xufVxuZXhwb3J0IHR5cGUgVmFsdWUgPSBudW1iZXIgfCBzdHJpbmcgfCBib29sZWFuIHwgYCcoKWAgLyp8IENsb3N1cmUgfCBTdHJ1Y3RWYWx1ZSovO1xuZXhwb3J0IGludGVyZmFjZSBJZHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLklkO1xuICAgIHN5bWJvbDogc3RyaW5nO1xufVxuZXhwb3J0IHR5cGUgQ2xvc3VyZSA9IEZ1bkNsb3N1cmUgfCBTdHJ1Y3RDbG9zdXJlO1xuZXhwb3J0IGludGVyZmFjZSBGdW5DbG9zdXJle1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uRnVuQ2xvc3VyZTtcbiAgICBwYXJhbXM6IEJTTF9BU1QuTmFtZVtdO1xuICAgIGJvZHk6IEJTTF9BU1QuZXhwcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3RydWN0Q2xvc3VyZXtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLlN0cnVjdENsb3N1cmU7XG4gICAgcGFyYW1zOiBCU0xfQVNULk5hbWVbXTtcbn1cbi8vIyMjIyMjIyMgT25lUnVsZShzKSAjIyMjIyMjI2FcbmV4cG9ydCBpbnRlcmZhY2UgUHJpbSB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5QcmltO1xuICAgIHJlZGV4OiBDYWxsUmVkZXg7XG4gICAgcmVzdWx0OiBWYWx1ZTtcbn1cbmV4cG9ydCB0eXBlIENvbmRSdWxlID0gQ29uZFRydWUgfCBDb25kRmFsc2UgLyogfCBDb25kRXJyb3IqLztcbmV4cG9ydCBpbnRlcmZhY2UgQ29uZFRydWV7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5Db25kVHJ1ZTtcbiAgICByZWRleDpDb25kUmVkZXg7XG4gICAgcmVzdWx0OkJTTF9BU1QuZXhwciB8IFZhbHVlO1xufVxuZXhwb3J0IGludGVyZmFjZSBDb25kRmFsc2V7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5Db25kRmFsc2U7XG4gICAgcmVkZXg6Q29uZFJlZGV4O1xuICAgIHJlc3VsdDogQlNMX0FTVC5Db25kO1xufVxuZXhwb3J0IGludGVyZmFjZSBQcm9nUnVsZSB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5Qcm9nUnVsZTtcbiAgICBkZWZpbml0aW9uOiBCU0xfQVNULmRlZmluaXRpb247XG59XG5leHBvcnQgaW50ZXJmYWNlIENvbnN0IHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkNvbnN0O1xuICAgIHJlZGV4OiBSZWRleDtcbiAgICByZXN1bHQ6IEJTTF9BU1QuZXhwciB8IFZhbHVlO1xufVxuXG5leHBvcnQgdHlwZSBPbmVSdWxlID0gUHJpbSB8IENvbmRSdWxlIHwgQ29uc3Q7IC8qfCBQcm9nUnVsZSovXG5cbi8vICMjIyMjIyMgUHJvZ1N0ZXBSdWxlKHMpICMjIyMjIyMjXG5leHBvcnQgaW50ZXJmYWNlIEtvbmcge1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uS29uZztcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIHJlZGV4UnVsZTogT25lUnVsZTtcbn1cbi8vICMjIyMjIyMjIyBERUZJTklUSU9OUyAjIyMjIyMjI1xuXG4vLyBkZWZpbml0aW9uIGlzIGVpdGhlciBzdHJ1Y3REZWYsIGZ1bkRlZiBvciBjb25zdERlZlxuLy8gRGVmUnVsZXMgUFJPRywgU1RSVUNULCBGVU4sIENPTlNUXG5cblxuLy8gRU5WSVJPTk1FTlRcblxuZXhwb3J0IHR5cGUgRW52aXJvbm1lbnQgPSB7IFtrZXk6IHN0cmluZ106IFZhbHVlIH07XG4vLyBCU0xfQVNULmV4cHIgenVlcnN0IGF1c3dlcnRlbiAoY2FsbCBieSB2YWx1ZSlcbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbi8vIHJ1bnRpbWUgdHlwZSBjaGVja2luZ1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3RlcHBlcihvYmo6YW55KTogb2JqIGlzIFN0ZXBwZXIge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5TdGVwcGVyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvZ1N0ZXAob2JqOmFueSk6IG9iaiBpcyBQcm9nU3RlcCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlByb2dTdGVwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RlcChvYmo6IGFueSk6b2JqIGlzIFN0ZXAge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5FeHByU3RlcCB8fCBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5EZWZpbml0aW9uU3RlcDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0RlZmluaXRpb25TdGVwKG9iajogYW55KTogb2JqIGlzIERlZmluaXRpb25TdGVwIHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uRGVmaW5pdGlvblN0ZXA7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFeHByU3RlcChvYmo6IGFueSk6IG9iaiBpcyBFeHByU3RlcCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkV4cHJTdGVwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2FsbFJlZGV4KG9iajogYW55KTogb2JqIGlzIENhbGxSZWRleCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkNhbGxSZWRleDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbmRSZWRleChvYmo6IGFueSk6IG9iaiBpcyBDb25kUmVkZXgge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25kUmVkZXg7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNIb2xlKG9iajogYW55KTogb2JqIGlzIEhvbGUge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Ib2xlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29udGV4dChvYmo6IGFueSk6IG9iaiBpcyBDb250ZXh0IHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQXBwQ29udGV4dCB8fCBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25kQ29udGV4dDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FwcENvbnRleHQob2JqOiBhbnkpOiBvYmogaXMgQXBwQ29udGV4dCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkFwcENvbnRleHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25kQ29udGV4dChvYmo6IGFueSk6IG9iaiBpcyBDb25kQ29udGV4dCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkNvbmRDb250ZXh0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU3BsaXQob2JqOiBhbnkpOiBvYmogaXMgU3BsaXQge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5TcGxpdDtcbn1cbi8qIGV4cG9ydCBmdW5jdGlvbiBpc1BsdWdSZXN1bHQob2JqOiBhbnkpOiBvYmogaXMgUGx1Z1Jlc3VsdCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlBsdWdSZXN1bHQ7XG59ICovXG5leHBvcnQgZnVuY3Rpb24gaXNPbmVSdWxlKG9iajogYW55KTogb2JqIGlzIE9uZVJ1bGUge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5QcmltIHx8IChvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25kVHJ1ZSB8fCBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25kRmFsc2UpIHx8IG9iai50eXBlID09PSBQcm9kdWN0aW9uLkNvbnN0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJpbShvYmo6IGFueSk6IG9iaiBpcyBQcmltIHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uUHJpbTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbmRSdWxlKG9iajogYW55KTogb2JqIGlzIENvbmRSdWxlIHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ29uZFRydWUgfHwgb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ29uZEZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uc3Qob2JqOiBhbnkpOiBvYmogaXMgQ29uc3Qge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25zdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0tvbmcob2JqOiBhbnkpOiBvYmogaXMgS29uZyB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLktvbmc7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNWYWx1ZShvYmo6IGFueSk6IG9iaiBpcyBWYWx1ZSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdudW1iZXInIHx8IHR5cGVvZiBvYmogPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBvYmogPT09ICdib29sZWFuJyB8fCBvYmogPT09IGAnKClgIC8vfHwgaXNDbG9zdXJlKG9iaik7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNJZChvYmo6IGFueSk6IG9iaiBpcyBJZCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLklkO1xufSIsICJpbXBvcnQgKiBhcyBCU0xfQVNUIGZyb20gXCIuL0JTTF9BU1RcIjtcbmltcG9ydCAqIGFzIFNJX1NUUlVDVCBmcm9tIFwiLi9TSV9TVFJVQ1RcIjtcblxuXG5cbi8vIGNhbGN1bGF0ZUFsbFN0ZXBzIChmb3IgdGhlIHdob2xlIHByb2dyYW0pXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlUHJvZ3JhbShwcm9ncmFtOiBCU0xfQVNULnByb2dyYW0sIHN0ZXBwZXI6IFNJX1NUUlVDVC5TdGVwcGVyKTogU0lfU1RSVUNULlN0ZXBwZXIgfCBFcnJvciB7XG4gICAgY29uc3QgY29weVByb2dyYW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHByb2dyYW0pKTtcbiAgICBsZXQgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnQgPSB7fTtcbiAgICB3aGlsZSAoY29weVByb2dyYW0ubGVuZ3RoID4gMCkge1xuICAgICAgICAvL3Byb2dyYW0uZm9yRWFjaFxuICAgICAgICBsZXQgc3RlcHBlclRyZWU6IFNJX1NUUlVDVC5Qcm9nU3RlcFtdID0gc3RlcHBlci5zdGVwcGVyVHJlZTtcbiAgICAgICAgbGV0IGRlZk9yRXhwciA9IGNvcHlQcm9ncmFtLnNoaWZ0KCk7XG4gICAgICAgIC8vTkVXIEFQUFJPQUNIXG4gICAgICAgIGxldCBwcm9nU3RlcCA9IGNhbGN1bGF0ZVByb2dTdGVwKGRlZk9yRXhwciwgZW52KTtcbiAgICAgICAgaWYgKHByb2dTdGVwIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9nU3RlcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVudiA9IHByb2dTdGVwLnN0ZXBMaXN0W3Byb2dTdGVwLnN0ZXBMaXN0Lmxlbmd0aCAtIDFdLmVudjtcbiAgICAgICAgICAgIHN0ZXBwZXJUcmVlLnB1c2gocHJvZ1N0ZXApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwicHJvZ1N0ZXBcIiwgcHJvZ1N0ZXApO1xuICAgICAgICBjb25zb2xlLmxvZyhcImVudlwiLCBlbnYpO1xuICAgICAgICBzdGVwcGVyLnN0ZXBwZXJUcmVlID0gc3RlcHBlclRyZWU7XG4gICAgfVxuICAgIGNvbnN0IG5ld1N0ZXBwZXI6IFNJX1NUUlVDVC5TdGVwcGVyID0ge1xuICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5TdGVwcGVyLFxuICAgICAgICByb290OiBzdGVwcGVyLnJvb3QsXG4gICAgICAgIG9yaWdpblByb2dyYW06IHN0ZXBwZXIub3JpZ2luUHJvZ3JhbSxcbiAgICAgICAgc3RlcHBlclRyZWU6IHN0ZXBwZXIuc3RlcHBlclRyZWUsXG4gICAgfTtcbiAgICAvL25ld1N0ZXBwZXIuc3RlcHBlclRyZWUubWFwKChzdGVwLCBpKSA9PiAoc3RlcC5jdXJyZW50U3RlcCA9IGkpKTtcbiAgICByZXR1cm4gbmV3U3RlcHBlcjtcbn1cblxuLy8gY2FsY3VsYXRlIFByb2dTdGVwXG4vLyBsaW5lIGlzIGEgbGluZSBvZiBwcm9ncmFtIGNvZGUgLT4gUHJvZ1N0ZXAgfCBFcnJvclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVByb2dTdGVwKGRlZk9yRXhwcjogQlNMX0FTVC5leHByIHwgQlNMX0FTVC5kZWZpbml0aW9uLCBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudCk6IFNJX1NUUlVDVC5Qcm9nU3RlcCB8IEVycm9yIHtcbiAgICBpZiAoQlNMX0FTVC5pc0V4cHIoZGVmT3JFeHByKSkge1xuICAgICAgICBsZXQgc3RlcExpc3QgPSBjYWxjdWxhdGVFeHByU3RlcHMoZGVmT3JFeHByLCBlbnYpO1xuICAgICAgICBpZiAoc3RlcExpc3QgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXBMaXN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5Qcm9nU3RlcCxcbiAgICAgICAgICAgICAgICBzdGVwTGlzdDogc3RlcExpc3QsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJkZWZpbml0aW9uXCIsIGRlZk9yRXhwcik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2FsY3VsYXRlRGVmU3RlcHNcIiwgY2FsY3VsYXRlRGVmU3RlcHMoZGVmT3JFeHByLCBlbnYpKVxuICAgICAgICBsZXQgc3RlcExpc3QgPSBjYWxjdWxhdGVEZWZTdGVwcyhkZWZPckV4cHIsIGVudik7XG4gICAgICAgIGlmIChzdGVwTGlzdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcExpc3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLlByb2dTdGVwLFxuICAgICAgICAgICAgICAgIHN0ZXBMaXN0OiBzdGVwTGlzdCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG4vL3Byb2dcbi8vZGVmaW5pdGlvbiwgRW52aXJvbm1lbnQgPT4gU0lfU1RSVUNULkRlZlN0ZXBcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVEZWZTdGVwcyhcbiAgICBkZWY6IEJTTF9BU1QuZGVmaW5pdGlvbixcbiAgICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudFxuKTogU0lfU1RSVUNULkRlZmluaXRpb25TdGVwW10gfCBFcnJvciB7XG4gICAgaWYgKEJTTF9BU1QuaXNDb25zdERlZihkZWYpKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBkZWYubmFtZTtcbiAgICAgICAgY29uc3QgZXhwciA9IGRlZi52YWx1ZTtcbiAgICAgICAgY29uc29sZS5sb2coXCJuYW1lXCIsIG5hbWUgKyBcImV4cHJcIiwgZXhwcik7XG4gICAgICAgIGlmIChCU0xfQVNULmlzTGl0ZXJhbChleHByKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBleHByLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgbmV3RW52ID0gYWRkVG9FbnYoZW52LCBuYW1lLnN5bWJvbCwgdmFsdWUpO1xuICAgICAgICAgICAgaWYgKG5ld0VudiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld0VudjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkRlZmluaXRpb25TdGVwLFxuICAgICAgICAgICAgICAgICAgICBlbnY6IG5ld0VudixcbiAgICAgICAgICAgICAgICAgICAgcnVsZTogeyB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5Qcm9nUnVsZSwgZGVmaW5pdGlvbjogZGVmIH0sXG4gICAgICAgICAgICAgICAgICAgIGV2YWxTdGVwczogW10sXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogZGVmXG4gICAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc3RlcExpc3QgPSBjYWxjdWxhdGVFeHByU3RlcHMoZXhwciwgZW52KTtcbiAgICAgICAgICAgIGlmIChzdGVwTGlzdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ZXBMaXN0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHN0ZXBMaXN0W3N0ZXBMaXN0Lmxlbmd0aCAtIDFdLnJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAoU0lfU1RSVUNULmlzVmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0VudiA9IGFkZFRvRW52KGVudiwgbmFtZS5zeW1ib2wsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0VudiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3RW52O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RGVmOiBCU0xfQVNULkNvbnN0RGVmID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25zdGFudERlZmluaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogeyB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCwgdmFsdWU6IHZhbHVlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkRlZmluaXRpb25TdGVwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudjogbmV3RW52LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGU6IHsgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uUHJvZ1J1bGUsIGRlZmluaXRpb246IG5ld0RlZiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxTdGVwczogc3RlcExpc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBuZXdEZWZcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwiY2FsY3VsYXRlRGVmU3RlcHM6IExhc3QgRXhwclN0ZXAgaXMgYW4gRXhwciwgbm90IGEgVmFsdWVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChCU0xfQVNULmlzRnVuRGVmKGRlZikpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGRlZi5uYW1lO1xuICAgICAgICBpZiAobmFtZS5zeW1ib2wgaW4gZW52KSB7XG4gICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJjYWxjdWxhdGVEZWZTdGVwczogbmFtZSBhbHJlYWR5IGJvdW5kXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwiY2FsY3VsYXRlRGVmU3RlcHM6IGZ1bmN0aW9uIGRlZmluaXRpb24gbm90IGRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gRXJyb3IoXCJjYWxjdWxhdGVEZWZTdGVwczogc3RydWN0IGRlZmluaXRpb24gbm90IGRlZmluZWRcIik7XG4gICAgfVxufVxuLy8gY2FsY3VsYXRlRXhwclN0ZXBzXG4vLyBleHByLCBzdGVwcFJlc3VsdFtdID0+IGV4cHJTdGVwW10gfCBFcnJvclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUV4cHJTdGVwcyhcbiAgICBleHByOiBCU0xfQVNULmV4cHIgfCBTSV9TVFJVQ1QuVmFsdWUsXG4gICAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IFNJX1NUUlVDVC5FeHByU3RlcFtdIHwgRXJyb3Ige1xuICAgIGxldCBzdGVwTGlzdDogU0lfU1RSVUNULkV4cHJTdGVwW10gPSBbXTtcbiAgICBpZiAoU0lfU1RSVUNULmlzVmFsdWUoZXhwcikpIHtcbiAgICAgICAgcmV0dXJuIHN0ZXBMaXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHdoaWxlICghU0lfU1RSVUNULmlzVmFsdWUoZXhwcikpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBldmFsdWF0ZUV4cHJlc3Npb24oZXhwciwgZW52KVxuICAgICAgICAgICAgaWYgKFNJX1NUUlVDVC5pc1ZhbHVlKHN0ZXApKSB7XG4gICAgICAgICAgICAgICAgZXhwciA9IHN0ZXA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0V4cHJTdGVwKHN0ZXApKSB7XG4gICAgICAgICAgICAgICAgZXhwciA9IHN0ZXAucmVzdWx0O1xuICAgICAgICAgICAgICAgIHN0ZXBMaXN0LnB1c2goc3RlcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGVwTGlzdDtcbiAgICB9XG59XG5cbi8vZXZhbHVhdGVFeHByZXNzaW9uXG5cbmV4cG9ydCBmdW5jdGlvbiBldmFsdWF0ZUV4cHJlc3Npb24oZXhwcjogQlNMX0FTVC5leHByLCBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudCk6IFNJX1NUUlVDVC5FeHByU3RlcCB8IFNJX1NUUlVDVC5WYWx1ZSB8IEVycm9yIHtcbiAgICBpZiAoQlNMX0FTVC5pc0xpdGVyYWwoZXhwcikpIHtcbiAgICAgICAgcmV0dXJuIGV4cHIudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc3BsaXRFeHByID0gc3BsaXQoZXhwcik7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJzcGxpdEV4cHJcIiwgc3BsaXRFeHByKTtcbiAgICAgICAgaWYgKFNJX1NUUlVDVC5pc1NwbGl0KHNwbGl0RXhwcikpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXBFeHByID0gc3RlcChzcGxpdEV4cHIucmVkZXgsIGVudik7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwic3RlcEV4cHJcIiwgc3RlcEV4cHIpO1xuICAgICAgICAgICAgaWYgKFNJX1NUUlVDVC5pc09uZVJ1bGUoc3RlcEV4cHIpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhwclN0ZXAgPSBwbHVnKHN0ZXBFeHByLCBzcGxpdEV4cHIuY29udGV4dCwgZW52KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImV4cHJTdGVwXCIsIGV4cHJTdGVwKTtcbiAgICAgICAgICAgICAgICBpZiAoU0lfU1RSVUNULmlzRXhwclN0ZXAoZXhwclN0ZXApKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHByU3RlcDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwclN0ZXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcEV4cHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3BsaXRFeHByO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vL3NwbGl0XG4vLyBFeHByZXNzaW9uID0gPiBTcGxpdFJlc3VsdCB8IEVycm9yXG5leHBvcnQgZnVuY3Rpb24gc3BsaXQoZXhwcjogQlNMX0FTVC5leHByKTogU0lfU1RSVUNULlNwbGl0UmVzdWx0IHwgRXJyb3Ige1xuICAgIGNvbnN0IGhvbGU6IFNJX1NUUlVDVC5Ib2xlID0geyB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5Ib2xlIH07XG4gICAgaWYgKEJTTF9BU1QuaXNDYWxsKGV4cHIpKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBleHByLm5hbWU7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBleHByLmFyZ3M7XG4gICAgICAgIGNvbnN0IHZhbHVlTHN0OiAoU0lfU1RSVUNULlZhbHVlIHwgU0lfU1RSVUNULklkKVtdID0gW107XG4gICAgICAgIGNvbnN0IGV4cHJMc3Q6IEJTTF9BU1QuZXhwcltdID0gW107XG4gICAgICAgIC8vIGZpbmQgcG9zaXRpb24gd2l0aCBtYXBcbiAgICAgICAgbGV0IHBvcyA9IC0xO1xuICAgICAgICBsZXQgcG9zRm91bmQgPSBmYWxzZTtcbiAgICAgICAgYXJncy5tYXAoKGFyZywgaSkgPT4ge1xuICAgICAgICAgICAgLy9pZiB0aGUgYXJndW1lbnQgaXMgYSB2YWx1ZSwgYWRkIGl0IHRvIHRoZSB2YWx1ZSBsaXN0XG4gICAgICAgICAgICBpZiAoIXBvc0ZvdW5kICYmIEJTTF9BU1QuaXNMaXRlcmFsKGFyZykpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZUxzdC5wdXNoKGFyZy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgLy9lbHNlIGlmIHRoZSBhcmd1bWVudCBpcyBhIG5hbWUsIGFkZCBpdCB0byB0aGUgdmFsdWUgbGlzdFxuICAgICAgICAgICAgfSBlbHNlIGlmICghcG9zRm91bmQgJiYgQlNMX0FTVC5pc05hbWUoYXJnKSkge1xuICAgICAgICAgICAgICAgIGxldCBuZXdJZDogU0lfU1RSVUNULklkID0geyB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5JZCwgc3ltYm9sOiBhcmcuc3ltYm9sIH07XG4gICAgICAgICAgICAgICAgdmFsdWVMc3QucHVzaChuZXdJZCk7XG4gICAgICAgICAgICAgICAgLy9lbHNlIGlmIHRoZSBhcmd1bWVudCBpcyBuZWl0aGVyIGEgdmFsdWUgbm9yIGEgbmFtZSwgc2V0IHRoZSBwb3NpdGlvblxuICAgICAgICAgICAgfSBlbHNlIGlmICghcG9zRm91bmQgJiYgIUJTTF9BU1QuaXNMaXRlcmFsKGFyZykgJiYgIUJTTF9BU1QuaXNOYW1lKGFyZykpIHtcbiAgICAgICAgICAgICAgICBwb3NGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcG9zID0gaTtcbiAgICAgICAgICAgICAgICAvLyBlbHNlIHRoZSBhcmd1bWVudCBpcyBhbiBleHByZXNzaW9uLCBhZGQgaXQgdG8gdGhlIGV4cHJlc3Npb24gbGlzdFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBleHByTHN0LnB1c2goYXJnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGNvbnRleHQsIGFsbCBhcmd1bWVudHMgYXJlIHZhbHVlcyBhbmQgdGhlIHJlc3VsdCBpcyBhIHZhbHVlXG4gICAgICAgIGlmIChwb3MgPT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZGV4OiBTSV9TVFJVQ1QuQ2FsbFJlZGV4ID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkNhbGxSZWRleCxcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgIGFyZ3M6IHZhbHVlTHN0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uU3BsaXQsXG4gICAgICAgICAgICAgICAgcmVkZXg6IHJlZGV4LFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IGhvbGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gZWxzZSB0aGVyZSBpcyBhIGNvbnRleHQgYW5kIHRoZSByZXN1bHQgaXMgYW4gZXhwcmVzc2lvblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZXhwcjogQlNMX0FTVC5leHByID0gYXJnc1twb3NdO1xuICAgICAgICAgICAgY29uc3Qgc3BsaXRSZXN1bHQgPSBzcGxpdChleHByKTtcbiAgICAgICAgICAgIGlmIChTSV9TVFJVQ1QuaXNTcGxpdChzcGxpdFJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5TcGxpdCxcbiAgICAgICAgICAgICAgICAgICAgcmVkZXg6IHNwbGl0UmVzdWx0LnJlZGV4LFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5BcHBDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgb3A6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHZhbHVlTHN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4OiBzcGxpdFJlc3VsdC5jb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogZXhwckxzdCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3BsaXRSZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNDb25kKGV4cHIpKSB7XG4gICAgICAgIGNvbnN0IGNsYXVzZSA9IGV4cHIub3B0aW9uc1swXTtcbiAgICAgICAgLy8gaWYgY29uZGl0aW9uIGlzIGFscmVhZHkgcmVkdWNlZCwgYnVpbGQgQ29uZFJlZGV4XG4gICAgICAgIGlmIChCU0xfQVNULmlzTGl0ZXJhbChjbGF1c2UuY29uZGl0aW9uKSB8fCBCU0xfQVNULmlzTmFtZShjbGF1c2UuY29uZGl0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5TcGxpdCxcbiAgICAgICAgICAgICAgICByZWRleDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5Db25kUmVkZXgsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4cHIub3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IGhvbGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIGVsc2Ugc3BsaXQgY29uZGl0aW9uXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc3BsaXRSZXN1bHQgPSBzcGxpdChjbGF1c2UuY29uZGl0aW9uKTtcbiAgICAgICAgICAgIGlmIChTSV9TVFJVQ1QuaXNTcGxpdChzcGxpdFJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5TcGxpdCxcbiAgICAgICAgICAgICAgICAgICAgcmVkZXg6IHNwbGl0UmVzdWx0LnJlZGV4LFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5Db25kQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4cHIub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eDogc3BsaXRSZXN1bHQuY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3BsaXRSZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNOYW1lKGV4cHIpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwic3BsaXQ6IGV4cHIgaXMgTmFtZVwiKTtcbiAgICAgICAgcmV0dXJuIEVycm9yKFwic3BsaXQ6IGV4cHIgaXMgTmFtZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gRXJyb3IoXCJzcGxpdDogc29tZXRoaW5nIHVuZXhwZWN0ZWQgb2NjdXJlZFwiKTtcbiAgICB9XG59XG5cbi8vIHN0ZXBcbi8vIFJlZGV4ID0+IE9uZVJ1bGUgfCBFcnJvclxuZXhwb3J0IGZ1bmN0aW9uIHN0ZXAocjogU0lfU1RSVUNULlJlZGV4LCBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudCk6IFNJX1NUUlVDVC5PbmVSdWxlIHwgRXJyb3Ige1xuICAgIC8vIGJlZm9yZSBzdGVwcGluZyBjaGVjayBpZiB0aGUgcmVkZXggaGFzIG5vIG5hbWVzIGluIGl0XG4gICAgLy8gaWYgaXQgaGFzLCBsb29rdXAgaW4gZW52aXJvbm1lbnQgYW5kIGNvbnN0cnVjdCBSdWxlIChDb25zdCwgRnVuLCBvciBTdHJ1Y3QpXG4gICAgaWYgKFNJX1NUUlVDVC5pc0NhbGxSZWRleChyKSkge1xuICAgICAgICAvL2NoZWNrIGlmIGFsbCBhcmdzIGRvIG5vdCBjb250YWluIG5hbWVzXG4gICAgICAgIGNvbnN0IGFsbEFyZ3NBcmVWYWx1ZXMgPSByLmFyZ3MuZXZlcnkoKGFyZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFNJX1NUUlVDVC5pc1ZhbHVlKGFyZyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYWxsQXJnc0FyZVZhbHVlcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdGVwOiBDYWxsUmVkZXggaGFzIG5vIG5hbWVzXCIpO1xuICAgICAgICAgICAgY29uc3QgcHJpbVJlc3VsdCA9IHByaW0ocik7XG4gICAgICAgICAgICBpZiAoU0lfU1RSVUNULmlzVmFsdWUocHJpbVJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5QcmltLFxuICAgICAgICAgICAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBwcmltUmVzdWx0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBFcnJvcihcInN0ZXA6IHByaW0gaXMgbm90IGFwcGxpY2FibGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0ZXA6IGVudjpcIiArIEpTT04uc3RyaW5naWZ5KGVudikpO1xuICAgICAgICAgICAgY29uc3Qgc3Vic3RSZWQ6IEJTTF9BU1QuZXhwciB8IEVycm9yID0gc3Vic3RDb25zdChyLCBlbnYpO1xuICAgICAgICAgICAgaWYgKHN1YnN0UmVkIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic3RSZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkNvbnN0LFxuICAgICAgICAgICAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBzdWJzdFJlZCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0NvbmRSZWRleChyKSkge1xuICAgICAgICAvL2NoZWNrIGlmIGNvbmRpdGlvbiBpcyBhIG5hbWVcbiAgICAgICAgaWYgKEJTTF9BU1QuaXNMaXRlcmFsKHIub3B0aW9uc1swXS5jb25kaXRpb24pKSB7XG4gICAgICAgICAgICBjb25zdCBjb25kUmVzdWx0ID0gY29uZChyKTtcbiAgICAgICAgICAgIGlmIChjb25kUmVzdWx0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld09wdGlvbnMgPSByLm9wdGlvbnMuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld09wdGlvbnMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRXJyb3IoJ3N0ZXA6IGNvbmQ6IGFsbCBxdWVzdGlvbiByZXN1bHRzIHdlcmUgZmFsc2UnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RXhwcjogQlNMX0FTVC5Db25kID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZEV4cHJlc3Npb24sXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG5ld09wdGlvbnMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5Db25kRmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IG5ld0V4cHIsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQlNMX0FTVC5pc0V4cHIoY29uZFJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5Db25kVHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogY29uZFJlc3VsdCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJzdGVwOiBjb25kIGlzIG5vdCBhcHBsaWNhYmxlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc3Vic3RSZWQ6IEJTTF9BU1QuZXhwciB8IEVycm9yID0gc3Vic3RDb25zdChyLCBlbnYpO1xuICAgICAgICAgICAgaWYgKHN1YnN0UmVkIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic3RSZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkNvbnN0LFxuICAgICAgICAgICAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBzdWJzdFJlZCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gRXJyb3IoXCJzdGVwOiByZWRleCBpcyBuZWl0aGVyIGEgY2FsbCBub3IgY29uZFwiKTtcbiAgICB9XG59XG5cbi8vIHBsdWdcbi8vIHBsdWcob25lUnVsZSwgYzogQ29udGV4dCk6IEV4cHJTdGVwIHwgRXJyb3JcbmV4cG9ydCBmdW5jdGlvbiBwbHVnKFxuICAgIG9uZVJ1bGU6IFNJX1NUUlVDVC5PbmVSdWxlLFxuICAgIGM6IFNJX1NUUlVDVC5Db250ZXh0LFxuICAgIGVudjogU0lfU1RSVUNULkVudmlyb25tZW50XG4pOiBTSV9TVFJVQ1QuRXhwclN0ZXAgfCBFcnJvciB7XG4gICAgLy9jaGVjayBpZiBjb250ZXh0IGlzIGEgSG9sZVxuICAgIGlmIChTSV9TVFJVQ1QuaXNIb2xlKGMpKSB7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkV4cHJTdGVwLFxuICAgICAgICAgICAgZW52OiBlbnYsXG4gICAgICAgICAgICBydWxlOiBvbmVSdWxlLFxuICAgICAgICAgICAgcmVzdWx0OiBvbmVSdWxlLnJlc3VsdCxcbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvL0FwcGx5IE9uZVJ1bGUgd2l0aCBLT05HIFJVTEVcbiAgICAgICAgY29uc3QgcGx1Z1Jlc3VsdCA9IHBsdWcob25lUnVsZSwgYy5jdHgsIGVudik7XG4gICAgICAgIGlmIChTSV9TVFJVQ1QuaXNTdGVwKHBsdWdSZXN1bHQpKSB7XG4gICAgICAgICAgICAvL0FwcENvbnRleHRcbiAgICAgICAgICAgIGlmIChTSV9TVFJVQ1QuaXNBcHBDb250ZXh0KGMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJncyA9IFtcbiAgICAgICAgICAgICAgICAgICAgYy52YWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgIHBsdWdSZXN1bHQucmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICBjLmFyZ3MsXG4gICAgICAgICAgICAgICAgXS5mbGF0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3QXJncyA9IGFyZ3MubWFwKGFyZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChTSV9TVFJVQ1QuaXNWYWx1ZShhcmcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdBcmc6IEJTTF9BU1QuTGl0ZXJhbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYXJnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdBcmc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzSWQoYXJnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QXJnOiBCU0xfQVNULk5hbWUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2w6IGFyZy5zeW1ib2wsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld0FyZztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5hbEV4cHI6IEJTTF9BU1QuQ2FsbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkZ1bmN0aW9uQ2FsbCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogYy5vcCxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogbmV3QXJncyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicGx1ZzogZW52OiBcIiArIEpTT04uc3RyaW5naWZ5KGVudikpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkV4cHJTdGVwLFxuICAgICAgICAgICAgICAgICAgICBlbnY6IGVudixcbiAgICAgICAgICAgICAgICAgICAgcnVsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uS29uZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IGMsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWRleFJ1bGU6IG9uZVJ1bGUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogZmluYWxFeHByXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvL0NvbmRDb250ZXh0XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0NvbmRDb250ZXh0KGMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGMub3B0aW9ucztcbiAgICAgICAgICAgICAgICBjb25zdCBleHByOiBCU0xfQVNULmV4cHIgPSAoU0lfU1RSVUNULmlzVmFsdWUocGx1Z1Jlc3VsdC5yZXN1bHQpKSA/IHsgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsIHZhbHVlOiBwbHVnUmVzdWx0LnJlc3VsdCB9IDogcGx1Z1Jlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RDbGF1c2U6IEJTTF9BU1QuQ2xhdXNlID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZE9wdGlvbixcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uOiBleHByLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IG9wdGlvbnNbMF0ucmVzdWx0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3T3B0aW9ucyA9IFtmaXJzdENsYXVzZSwgLi4ub3B0aW9ucy5zbGljZSgxKV07XG4gICAgICAgICAgICAgICAgY29uc3QgZmluYWxFeHByOiBCU0xfQVNULkNvbmQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kRXhwcmVzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogbmV3T3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkV4cHJTdGVwLFxuICAgICAgICAgICAgICAgICAgICBlbnY6IGVudixcbiAgICAgICAgICAgICAgICAgICAgcnVsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uS29uZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IGMsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWRleFJ1bGU6IG9uZVJ1bGUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogZmluYWxFeHByLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBFcnJvcihcInBsdWc6IGNvbnRleHQgaXMgbm90IGFuIEFwcENvbnRleHQgb3IgQ29uZENvbnRleHRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcGx1Z1Jlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gIyMjIyMjIyBPTkUgUlVMRSBGVU5DVElPTlMgIyMjIyMjI1xuLy9UT0RPOiByZWZhY3RvciBwcmltIHdpdGggbWFwIGluc3RlYWQgb2YgZm9yIGxvb3BcbmV4cG9ydCBmdW5jdGlvbiBwcmltKHI6IFNJX1NUUlVDVC5DYWxsUmVkZXgpOiBTSV9TVFJVQ1QuVmFsdWUgfCBFcnJvciB7XG4gICAgLy8gKyAtICogXG4gICAgaWYgKHIubmFtZS5zeW1ib2wgPT09IFwiK1wiKSB7XG4gICAgICAgIGxldCBuID0gMDtcbiAgICAgICAgci5hcmdzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVsID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICBuICs9IGVsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJlcnJvcjogYXJndW1lbnQgaXMgbm90IGEgbnVtYmVyOiBcIiArIGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH0gZWxzZSBpZiAoci5uYW1lLnN5bWJvbCA9PT0gXCIqXCIpIHtcbiAgICAgICAgbGV0IG4gPSAxO1xuICAgICAgICByLmFyZ3MuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZWwgPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIG4gKj0gZWw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBFcnJvcihcImVycm9yOiBhcmd1bWVudCBpcyBub3QgYSBudW1iZXI6IFwiICsgZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgfSBlbHNlIGlmIChyLm5hbWUuc3ltYm9sID09PSBcIi1cIikge1xuICAgICAgICBsZXQgbiA9IHIuYXJnc1swXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCByLmFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBlbCA9IHIuYXJnc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZWwgPT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgbiA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgbiAtPSBlbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwiZXJyb3I6IGFyZ3VtZW50IGlzIG5vdCBhIG51bWJlcjogXCIgKyByLmFyZ3NbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuO1xuICAgIH0gZWxzZSBpZiAoci5uYW1lLnN5bWJvbCA9PT0gXCIvXCIpIHtcbiAgICAgICAgbGV0IG4gPSByLmFyZ3NbMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgci5hcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZWwgPSByLmFyZ3NbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIG4gPT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgZWwgPT0gXCJudW1iZXJcIiAmJiBlbCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgbiAvPSBlbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwgPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBFcnJvcihcImVycm9yOiBkaXZpc2lvbiBieSB6ZXJvXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJlcnJvcjogYXJndW1lbnQgaXMgbm90IGEgbnVtYmVyOiBcIiArIGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbjtcbiAgICB9XG4gICAgLy8gYW5kLCBvciwgbm90XG4gICAgZWxzZSBpZiAoci5uYW1lLnN5bWJvbCA9PT0gXCJhbmRcIikge1xuICAgICAgICBpZiAoci5hcmdzLmV2ZXJ5KGVsID0+IHR5cGVvZiBlbCA9PSBcImJvb2xlYW5cIikpIHtcbiAgICAgICAgICAgIGlmIChyLmFyZ3MubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAoci5hcmdzLmV2ZXJ5KGVsID0+IGVsKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJwcmltOiAnYW5kJyBuZWVkcyBhdCBsZWFzdCB0d28gYXJndW1lbnRzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwicHJpbTogJ2FuZCcgbmVlZHMgYm9vbGVhbiBhcmd1bWVudHNcIik7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHIubmFtZS5zeW1ib2wgPT09IFwib3JcIikge1xuICAgICAgICBpZiAoci5hcmdzLmV2ZXJ5KGVsID0+IHR5cGVvZiBlbCA9PSBcImJvb2xlYW5cIikpIHtcbiAgICAgICAgICAgIGlmIChyLmFyZ3MubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAoci5hcmdzLnNvbWUoZWwgPT4gZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBFcnJvcihcInByaW06ICdvcicgbmVlZHMgYXQgbGVhc3QgdHdvIGFyZ3VtZW50c1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBFcnJvcihcInByaW06ICdvcicgbmVlZHMgYm9vbGVhbiBhcmd1bWVudHNcIik7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHIubmFtZS5zeW1ib2wgPT09IFwibm90XCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiByLmFyZ3NbMF0gPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIGlmIChyLmFyZ3MubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIXIuYXJnc1swXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwicHJpbTogJ25vdCcgbmVlZHMgZXhhY3RseSBvbmUgYXJndW1lbnRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJwcmltOiAnbm90JyBuZWVkcyBib29sZWFuIGFyZ3VtZW50XCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGxlc3MgdGhhbiBhbmQgZ3JlYXRlciB0aGFuLCB0byB0ZXN0IEhUTUwgZXNjYXBpbmdcbiAgICBlbHNlIGlmIChbJzwnLCAnPicsICc8PScsICc+PSddLmluY2x1ZGVzKHIubmFtZS5zeW1ib2wpKSB7XG4gICAgICAgIGlmIChyLmFyZ3MubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gRXJyb3IoYHByaW06ICR7ci5uYW1lLnN5bWJvbH0gbmVlZHMgZXhhY3RseSB0d28gYXJndW1lbnRzYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGVmdCA9IHIuYXJnc1swXTtcbiAgICAgICAgY29uc3QgcmlnaHQgPSByLmFyZ3NbMV07XG4gICAgICAgIGlmICh0eXBlb2YgbGVmdCAhPT0gJ251bWJlcicgfHwgdHlwZW9mIHJpZ2h0ICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIEVycm9yKGBwcmltOiAke3IubmFtZS5zeW1ib2x9IG5lZWRzIHR3byBudW1iZXJzLCBidXQgcmVjZWl2ZWQgJHtsZWZ0fSBhbmQgJHtyaWdodH1gKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHIubmFtZS5zeW1ib2wpIHtcbiAgICAgICAgICAgIGNhc2UgJzwnOlxuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0IDwgcmlnaHQ7XG4gICAgICAgICAgICBjYXNlICc8PSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnQgPD0gcmlnaHQ7XG4gICAgICAgICAgICBjYXNlICc+PSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnQgPj0gcmlnaHQ7XG4gICAgICAgICAgICBjYXNlICc+JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdCA+IHJpZ2h0O1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gbmV2ZXIgcmVhY2hlZCBidXQgbmVlZGVkIGZvciBjb21waWxlclxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGVsc2UgdGhyb3cgZXJyb3JcbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEVycm9yKFwicHJpbTogdGhpcyBmdW5jdGlvbiBpcyBub3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxufVxuXG4vLyBjb25kXG4vLyBjb25kIFJlZGV4ID0+ICBCU0xfQVNULmV4cHIgfCBmYWxzZVxuZnVuY3Rpb24gY29uZChyOiBTSV9TVFJVQ1QuQ29uZFJlZGV4KTogQlNMX0FTVC5leHByIHwgdW5kZWZpbmVkIHwgRXJyb3Ige1xuICAgIGNvbnN0IGNsYXVzZSA9IHIub3B0aW9uc1swXTtcbiAgICBpZiAoQlNMX0FTVC5pc0xpdGVyYWwoY2xhdXNlLmNvbmRpdGlvbikgJiYgY2xhdXNlLmNvbmRpdGlvbi52YWx1ZSA9PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBjbGF1c2UucmVzdWx0O1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIEJTTF9BU1QuaXNMaXRlcmFsKGNsYXVzZS5jb25kaXRpb24pICYmXG4gICAgICAgIGNsYXVzZS5jb25kaXRpb24udmFsdWUgPT0gZmFsc2VcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gRXJyb3IoXCJlcnJvcjogY29uZGl0aW9uIGlzIG5vdCBhIGJvb2xlYW5cIik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzdWJzdENvbnN0KHI6IFNJX1NUUlVDVC5SZWRleCwgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnQpOiBCU0xfQVNULmV4cHIgfCBFcnJvciB7XG4gICAgaWYgKFNJX1NUUlVDVC5pc0NhbGxSZWRleChyKSkge1xuICAgICAgICAvLyBnZXQgdGhlIGlkZW50aWZpZXIgYXJndW1lbnRcbiAgICAgICAgY29uc3QgaWRMc3Q6IFNJX1NUUlVDVC5JZFtdID0gci5hcmdzLmZpbHRlcigoZWwpID0+IFNJX1NUUlVDVC5pc0lkKGVsKSk7XG4gICAgICAgIGNvbnN0IGlkOiBTSV9TVFJVQ1QuSWQgPSBpZExzdFswXTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBsb29rdXBFbnYoZW52LCBpZC5zeW1ib2wpO1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV3QXJnczogQlNMX0FTVC5leHByW10gPSByLmFyZ3MubWFwKChlbCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChTSV9TVFJVQ1QuaXNJZChlbCkgJiYgZWwuc3ltYm9sID09PSBpZC5zeW1ib2wpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0xpdDogQlNMX0FTVC5MaXRlcmFsID0geyB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCwgdmFsdWU6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdMaXQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNJZChlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld05hbWU6IEJTTF9BU1QuTmFtZSA9IHsgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCwgc3ltYm9sOiBlbC5zeW1ib2wgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld05hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0xpdDogQlNMX0FTVC5MaXRlcmFsID0geyB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCwgdmFsdWU6IGVsIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdMaXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uRnVuY3Rpb25DYWxsLCBuYW1lOiByLm5hbWUsIGFyZ3M6IG5ld0FyZ3MgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNDb25kUmVkZXgocikpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHIub3B0aW9uc1swXS5jb25kaXRpb247XG4gICAgICAgIGlmIChCU0xfQVNULmlzTmFtZShuYW1lKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBsb29rdXBFbnYoZW52LCBuYW1lLnN5bWJvbCk7XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IG5ld0xpdDogQlNMX0FTVC5MaXRlcmFsID0geyBcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsIFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUgXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3T3B0OiBCU0xfQVNULkNsYXVzZSA9IHsgXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kT3B0aW9uLCBcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uOiBuZXdMaXQsIFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHIub3B0aW9uc1swXS5yZXN1bHQgXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3Q29uZDogQlNMX0FTVC5Db25kID0geyBcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkNvbmRFeHByZXNzaW9uLCBcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogW25ld09wdF0gXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3Q29uZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBFcnJvcihcInN1YnN0Q29uc3Q6IGNvbmRpdGlvbiBpcyBub3QgYSBuYW1lXCIpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEVycm9yKFwic3Vic3RDb25zdDogbm90IGEgcmVkZXhcIik7XG4gICAgfVxufVxuXG4vL2Z1blxuZnVuY3Rpb24gZnVuUnVsZSgpIHtcblxufVxuXG4vL3N0cnVjdFxuZnVuY3Rpb24gc3RydWN0UnVsZSgpIHsgfVxuXG4vLyAjIyMjIyMjIEVudmlyb25tZW50IEZ1bmN0aW9ucyAjIyMjIyMjXG5cbmZ1bmN0aW9uIGFkZFRvRW52KGVudjogU0lfU1RSVUNULkVudmlyb25tZW50LCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBTSV9TVFJVQ1QuVmFsdWUpOiBTSV9TVFJVQ1QuRW52aXJvbm1lbnQgfCBFcnJvciB7XG4gICAgaWYgKGVudltuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IG5ld0VudiA9IHsgLi4uZW52IH07XG4gICAgICAgIG5ld0VudltuYW1lXSA9IHZhbHVlO1xuICAgICAgICBjb25zb2xlLndhcm4oXCJhZGRUb0VudjogXCIgKyBuYW1lICsgXCI6XCIgKyB2YWx1ZSArIFwiIGFkZGVkIHRvIFwiICsgSlNPTi5zdHJpbmdpZnkoZW52KSk7XG4gICAgICAgIGNvbnNvbGUud2FybihcImFkZFRvRW52OiBuZXdFbnYgPSBcIiArIEpTT04uc3RyaW5naWZ5KG5ld0VudikpO1xuICAgICAgICByZXR1cm4gbmV3RW52O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBFcnJvcihcImFkZFRvRW52OiBuYW1lIGFscmVhZHkgZXhpc3RzIGluIGVudmlyb25tZW50XCIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbG9va3VwRW52KGVudjogU0lfU1RSVUNULkVudmlyb25tZW50LCBuYW1lOiBzdHJpbmcpOiBTSV9TVFJVQ1QuVmFsdWUgfCBFcnJvciB7XG4gICAgaWYgKG5hbWUgaW4gZW52KSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcImxvb2t1cEVudjogXCIgKyBuYW1lICsgXCIgZm91bmQgaW4gXCIgKyBKU09OLnN0cmluZ2lmeShlbnYpKTtcbiAgICAgICAgcmV0dXJuIGVudltuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gRXJyb3IoXCJsb29rdXBFbnY6IG5hbWUgaXMgbm90IGJvdW5kIGluIGVudmlyb25tZW50XCIpO1xuICAgIH1cbn1cblxuIiwgIi8vIHBhcnNpbmcgYW5kIHByb2Nlc3NpbmcgY29kZSBpbnB1dFxuaW1wb3J0IHsgcGFyc2UgfSBmcm9tICcuL0JTTF9QYXJzZXInO1xuaW1wb3J0ICogYXMgQlNMX0FTVCBmcm9tIFwiLi9CU0xfQVNUXCI7XG5pbXBvcnQgKiBhcyBCU0xfUHJpbnQgZnJvbSAnLi9CU0xfUHJpbnQnO1xuLy8gc21hbGwtc3RlcCBpbnRlcnByZXRlciBiYWNrLWVuZFxuaW1wb3J0ICogYXMgU0lfU1RSVUNUIGZyb20gXCIuL1NJX1NUUlVDVFwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlUHJvZ3JhbSB9IGZyb20gJy4vU0knO1xuLy8gc3R5bGVzICYgaWNvbiByZXNzb3VyY2VzXG5pbXBvcnQgeyBkZWZhdWx0IGFzIHNtYWxsX2ludGVycHJldGVyX2NzcyB9IGZyb20gJy4vcmVzc291cmNlcy9zbWFsbC1pbnRlcnByZXRlci5jc3MnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBhbmdsZV91cCB9IGZyb20gJy4vcmVzc291cmNlcy9pY29ucy9hbmdsZS11cC1zb2xpZC5zdmcnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBhbmdsZV9kb3duIH0gZnJvbSAnLi9yZXNzb3VyY2VzL2ljb25zL2FuZ2xlLWRvd24tc29saWQuc3ZnJztcbmltcG9ydCB7IGRlZmF1bHQgYXMgcGx1c19pY29uIH0gZnJvbSAnLi9yZXNzb3VyY2VzL2ljb25zL3BsdXMtc29saWQuc3ZnJztcbmltcG9ydCB7IGRlZmF1bHQgYXMgbWludXNfaWNvbiB9IGZyb20gJy4vcmVzc291cmNlcy9pY29ucy9taW51cy1zb2xpZC5zdmcnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBjaXJjbGVfaW5mbyB9IGZyb20gJy4vcmVzc291cmNlcy9pY29ucy9jaXJjbGUtaW5mby1zb2xpZC5zdmcnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBjaXJjbGVfeG1hcmsgfSBmcm9tICcuL3Jlc3NvdXJjZXMvaWNvbnMvY2lyY2xlLXhtYXJrLXNvbGlkLnN2Zyc7XG4vLyBodG1sIGhlbHBlcnNcbmltcG9ydCB7IGdldFBhcmVudENsYXNzUmVjdXJzaXZlLCBuYXZpZ2F0ZURPTSB9IGZyb20gJy4vRE9NX0hlbHBlcnMnO1xuXG4vLyAjIyMjIyMjIyMgbWFpbiBmdW5jdGlvbiBwcm9jZXNzaW5nIHN0ZXBwZXJzICMjIyMjIyMjIyMjXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc1N0ZXBwZXJzKCkge1xuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdGVwcGVyJykpLm1hcChlbCA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHByb2dyYW0gOiBCU0xfQVNULnByb2dyYW0gPSBwYXJzZShCU0xfUHJpbnQuZGlydGlmeShlbC5pbm5lckhUTUwpKTtcbiAgICAgIGNvbnNvbGUubG9nKEJTTF9QcmludC5pbmRlbnQoQlNMX1ByaW50LnBwcmludChwcm9ncmFtKSwgMzApKTtcbiAgICAgIHNldFVwU3RlcHBlckd1aShwcm9ncmFtLCBlbCBhcyBIVE1MRWxlbWVudCk7XG4gICAgfSBjYXRjaCAoZTphbnkpIHtcbiAgICAgIGxldCBlcnJvcjtcbiAgICAgIGlmKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgZXJyb3IgPSBgJHtlfWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBlcnJvcicpO1xuICAgICAgICBlcnJvciA9ICdVbmtub3duIEVycm9yJztcbiAgICAgIH1cbiAgICAgIGVsLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGgzPkVycm9yIHR1cm5pbmcgUHJvZ3JhbSBpbnRvIFN0ZXBwZXI8L2gzPlxuICAgICAgICA8ZGl2PiR7ZWwuaW5uZXJIVE1MfTwvZGl2PlxuICAgICAgICA8ZGl2PiR7ZXJyb3J9PC9kaXY+XG4gICAgICBgO1xuICAgICAgKGVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICBwYWRkaW5nOiAyZW07XG4gICAgICAgIGNvbG9yOiBkYXJrcmVkO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGA7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gIyMjIHNldCB1cCBhIHNpbmdsZSBzdGVwcGVyICMjI1xuZXhwb3J0IGZ1bmN0aW9uIHNldFVwU3RlcHBlckd1aShwcm9ncmFtOkJTTF9BU1QucHJvZ3JhbSwgZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgLy8gYWRkIGNzcyBpZiBuZWNlc3NhcnlcbiAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdic2wtdG9vbHMtc3RlcHBlci1zdHlsZScpKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgIHN0eWxlTm9kZS5pbm5lckhUTUwgPSBzbWFsbF9pbnRlcnByZXRlcl9jc3M7XG4gICAgICAgIHN0eWxlTm9kZS5pZCA9ICdic2wtdG9vbHMtc3RlcHBlci1zdHlsZSc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc3R5bGVOb2RlKTtcbiAgICB9XG4gICAgLy8gY2FsY3VsYXRlIFN0ZXBzXG4gICAgY29uc3QgZXhwciA9ICBwcm9ncmFtWzBdIGFzIEJTTF9BU1QuZXhwcjtcbiAgICBjb25zb2xlLmxvZyhcImV4cHJlc3Npb25cIiwgZXhwcik7XG4gICAgY29uc3QgZW1wdHlTdGVwcGVyOiBTSV9TVFJVQ1QuU3RlcHBlciA9IHtcbiAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uU3RlcHBlcixcbiAgICAgICAgcm9vdDogZWwsXG4gICAgICAgIG9yaWdpblByb2dyYW06IHByb2dyYW0sXG4gICAgICAgIHN0ZXBwZXJUcmVlOiBbXSxcbiAgICB9O1xuICAgIGNvbnN0IHN0ZXBwZXIgPSBjYWxjdWxhdGVQcm9ncmFtKHByb2dyYW0sIGVtcHR5U3RlcHBlcik7XG4gICAgaWYgKHN0ZXBwZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgdGhyb3cgc3RlcHBlcjtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJzdGVwcGVyXCIsIHN0ZXBwZXIpO1xuICAgIC8vIHNldCBsYW5ndWFnZVxuICAgIGxldCBsYW5nID0gZWwuZ2V0QXR0cmlidXRlKCdsYW5nJyk7XG4gICAgaWYgKCFsYW5nKSB7XG4gICAgICBsYW5nID0gJ2VuJztcbiAgICB9IGVsc2UgaWYgKCFpbXBsZW1lbnRlZExhbmd1YWdlcy5pbmNsdWRlcyhsYW5nKSkge1xuICAgICAgY29uc29sZS5lcnJvcihgXG4gICAgICAgIExhbmd1YWdlICR7bGFuZ30gaXMgbm90IGltcGxlbWVudGVkIGZvciB0aGlzIG1vZHVsZSxcbiAgICAgICAgeW91IGNhbiBjaG9vc2UgZnJvbSAke2ltcGxlbWVudGVkTGFuZ3VhZ2VzLmpvaW4oJywnKX0uXG4gICAgICAgIERlZmF1bHRpbmcgdG8gJ2VuJy5cbiAgICAgIGApO1xuICAgICAgbGFuZyA9ICdlbic7XG4gICAgfVxuICAgIC8vIGdldCB3aWR0aCBvZiBzaW5nbGUgY2hhcmFjdGVyIGZvciBkeW5hbWljIG1heHdpZHRoIGluZGVudGF0aW9uXG4gICAgc2V0Q2hhclB4V2lkdGgoZWwpO1xuICAgIC8vIHJlbmRlciBhbmQgYXR0YWNoXG4gICAgZWwuaW5uZXJIVE1MID0gcmVuZGVyU3RlcHBlcihzdGVwcGVyLCBsYW5nIGFzIGltcGxlbWVudGVkTGFuZ3VhZ2UpO1xufVxuXG4vLyAjIyMjIyMgaW50ZXJuYXRpb25hbGl6YXRpb24gZm9yIHRoaXMgbW9kdWxlICMjIyMjXG50eXBlIGltcGxlbWVudGVkTGFuZ3VhZ2UgPSAnZW4nIHwgJ2RlJztcbmNvbnN0IGltcGxlbWVudGVkTGFuZ3VhZ2VzID0gWydlbicsICdkZSddO1xuXG5jb25zdCBkaWN0aW9uYXJ5ID0ge1xuICAnZW4nOiB7XG4gICAgJ2N1cnJlbnQgZXZhbHVhdGlvbic6ICdDdXJyZW50IEV2YWx1YXRpb24nLFxuICAgICduZXh0IHN0ZXAnOiAnTmV4dCBTdGVwJyxcbiAgICAncHJldmlvdXMgc3RlcCc6ICdQcmV2aW91cyBTdGVwJyxcbiAgICAnZW52aXJvbm1lbnQnOiAnRW52aXJvbm1lbnQnLFxuICAgICdyZW1haW5pbmcgcHJvZ3JhbSc6ICdSZW1haW5pbmcgUHJvZ3JhbScsXG4gICAgJ3N0YXJ0IGV2YWx1YXRpb24nOiAnU3RhcnQgRXZhbHVhdGlvbicsXG4gICAgJ2V2YWx1YXRpb24gZmluaXNoZWQnOiAnRXZhbHVhdGlvbiBGaW5pc2hlZCcsXG4gICAgJ2dvIGJhY2snOiAnR28gQmFjaydcbiAgfSxcbiAgJ2RlJzoge1xuICAgICdjdXJyZW50IGV2YWx1YXRpb24nOiAnQWt0dWVsbGUgQXVzd2VydHVuZycsXG4gICAgJ25leHQgc3RlcCc6ICdOXHUwMEU0Y2hzdGVyIFNjaHJpdHQnLFxuICAgICdwcmV2aW91cyBzdGVwJzogJ1ZvcmhlcmlnZXIgU2Nocml0dCcsXG4gICAgJ2Vudmlyb25tZW50JzogJ1VtZ2VidW5nJyxcbiAgICAncmVtYWluaW5nIHByb2dyYW0nOiAnXHUwMERDYnJpZ2VzIFByb2dyYW1tJyxcbiAgICAnc3RhcnQgZXZhbHVhdGlvbic6ICdBdXN3ZXJ0dW5nIFN0YXJ0ZW4nLFxuICAgICdldmFsdWF0aW9uIGZpbmlzaGVkJzogJ0F1c3dlcnR1bmcgQmVlbmRldCcsXG4gICAgJ2dvIGJhY2snOiAnU2Nocml0dCB6dXJcdTAwRkNjaydcbiAgfSxcbn07XG5cbi8vICMjIyMjIyMgUkVOREVSIEZVTkNUSU9OUyAjIyMjIyMjXG4vLyBoZWxwZXIgZm9yIGdldHRpbmcgd2lkdGggb2YgZW0gaW4gcHhcbmxldCBjaGFyUHhXaWR0aCA9IDEyOyAvLyBhcmJpdHJhcnkgZGVmYXVsdFxubGV0IG1heFdpZHRoSW5DaGFycyA9IDgwO1xuZnVuY3Rpb24gc2V0Q2hhclB4V2lkdGgoZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gIGVsLmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwic3RlcHBlclwiIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiYm94XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwIGNvZGVcIlxuICAgICAgICAgICAgIGRhdGEtY3VycmVudFN0ZXA9XCJ0cnVlXCI+XG4gICAgICAgICAgPHAgc3R5bGU9XCJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+TG9hZGluZy4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcbiAgY29uc3QgcCA9IGVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwJylbMF07XG4gIGNvbnN0IHN0ZXBwZXIgPSBlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGVwcGVyJylbMF07XG4gIGlmKCFwIHx8ICFzdGVwcGVyKSB7XG4gICAgY29uc29sZS5lcnJvcignZmFpbGVkIHRvIGluamVjdCBtZWFzdXJpbmcgSFRNTCBpbnRvJywgZWwpO1xuICAgIHJldHVybjtcbiAgfVxuICBjaGFyUHhXaWR0aCA9IHAuY2xpZW50V2lkdGggLyAnTG9hZGluZy4uLicubGVuZ3RoO1xuICBjb25zb2xlLmxvZyhgRm91bmQgdGhhdCAxZW0gaXMgJHtjaGFyUHhXaWR0aH0gd2lkZWApO1xuICBjb25zdCBmYWN0b3IgPSAwLjk7XG4gIG1heFdpZHRoSW5DaGFycyA9IE1hdGgucm91bmQoKGZhY3RvciAqIHN0ZXBwZXIuY2xpZW50V2lkdGgpIC8gY2hhclB4V2lkdGgpO1xuICBjb25zb2xlLmxvZyhgXG4gICAgVGhhdCBtZWFucyB0byBmaWxsICR7ZmFjdG9yfSBvZiB0aGUgYXZhaWxhYmxlIHdpZHRoLFxuICAgIHdlIG1heSBwcmludCBhdCBtb3N0ICR7bWF4V2lkdGhJbkNoYXJzfSBjaGFyYWN0ZXJzLlxuICBgKTtcbn1cblxuLy8gbWFpbiBmdW5jdGlvblxuZnVuY3Rpb24gcmVuZGVyU3RlcHBlcihzdGVwcGVyOiBTSV9TVFJVQ1QuU3RlcHBlciwgbGFuZzogaW1wbGVtZW50ZWRMYW5ndWFnZSk6IHN0cmluZ3tcbiAgICBjb25zdCBzdGVwcGVyVHJlZSA9IHN0ZXBwZXIuc3RlcHBlclRyZWU7XG5cbiAgICBjb25zdCBzdHIgPVxuICAgIGA8ZGl2IGNsYXNzPVwic3RlcHBlclwiPlxuXG4gICAgICAgPGRpdiBjbGFzcz1cImJveCBlbnZpcm9ubWVudFwiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cImJveGxhYmVsXCI+JHtkaWN0aW9uYXJ5W2xhbmddWydlbnZpcm9ubWVudCddfTwvZGl2PlxuICAgICAgICAgJHtzdGVwcGVyVHJlZS5tYXAocmVuZGVyRGVmaW5pdGlvbikuam9pbignJyl9XG4gICAgICAgPC9kaXY+XG5cbiAgICAgICA8ZGl2IGNsYXNzPVwiYm94IGV4cHJlc3Npb24tc3RlcHNcIlxuICAgICAgICAgICAgZGF0YS1wcm9nc3RlcD1cIi0xXCJcbiAgICAgICAgICAgIGRhdGEtdmlzaWJsZT1cInRydWVcIj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJib3hsYWJlbFwiPiR7ZGljdGlvbmFyeVtsYW5nXVsnY3VycmVudCBldmFsdWF0aW9uJ119PC9kaXY+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwic3RlcFwiXG4gICAgICAgICAgICAgIGRhdGEtY3VycmVudFN0ZXA9XCJ0cnVlXCI+XG4gICAgICAgICAgIDxkaXYgY2xhc3M9XCJuZXh0LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25jbGljaz1cImdvdG9FeHByZXNzaW9uKGV2ZW50LCAxKVwiPlxuICAgICAgICAgICAgICR7ZGljdGlvbmFyeVtsYW5nXVsnc3RhcnQgZXZhbHVhdGlvbiddfSA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cIiR7YW5nbGVfZG93bn1cIj5cbiAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICA8L2Rpdj5cblxuICAgICAgICR7c3RlcHBlclRyZWUubWFwKChlbCwgaSkgPT4gcmVuZGVyRXhwcmVzc2lvblN0ZXBzKGVsLCBpLCBsYW5nKSkuam9pbignJyl9XG5cbiAgICAgICA8ZGl2IGNsYXNzPVwiYm94IGV4cHJlc3Npb24tc3RlcHNcIlxuICAgICAgICAgICAgZGF0YS1wcm9nc3RlcD1cIiR7c3RlcHBlclRyZWUubGVuZ3RofVwiXG4gICAgICAgICAgICBkYXRhLXZpc2libGU9XCJmYWxzZVwiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cImJveGxhYmVsXCI+JHtkaWN0aW9uYXJ5W2xhbmddWydjdXJyZW50IGV2YWx1YXRpb24nXX08L2Rpdj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwXCJcbiAgICAgICAgICAgICAgZGF0YS1jdXJyZW50U3RlcD1cInRydWVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2RlXCI+JHtkaWN0aW9uYXJ5W2xhbmddWydldmFsdWF0aW9uIGZpbmlzaGVkJ119PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJldi1idXR0b25cIlxuICAgICAgICAgICAgICAgICBvbmNsaWNrPVwiZ290b0V4cHJlc3Npb24oZXZlbnQsIC0xKVwiPlxuICAgICAgICAgICAgICAke2RpY3Rpb25hcnlbbGFuZ11bJ2dvIGJhY2snXX0gPGltZyBjbGFzcz1cImljb25cIiBzcmM9XCIke2FuZ2xlX3VwfVwiPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICA8L2Rpdj5cblxuICAgICAgIDxkaXYgY2xhc3M9XCJib3ggcHJvZ3JhbVwiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cImJveGxhYmVsXCI+JHtkaWN0aW9uYXJ5W2xhbmddWydyZW1haW5pbmcgcHJvZ3JhbSddfTwvZGl2PlxuICAgICAgICAgJHtzdGVwcGVyVHJlZS5tYXAocmVuZGVyT3JpZ2luYWxFeHByZXNzaW9uKS5qb2luKCcnKX1cbiAgICAgICA8L2Rpdj5cblxuICAgIDwvZGl2PmA7XG4gICAgcmV0dXJuIHN0cjtcbn1cbih3aW5kb3cgYXMgYW55KS5nb3RvRXhwcmVzc2lvbiA9IChlOiBFdmVudCwgYTogbnVtYmVyKSA9PiB7XG4gIG5hdmlnYXRlRXhwcmVzc2lvbihlLCBhKTtcbn1cbi8vIHJlbmRlciB3aGF0IHJlbWFpbnMgb2YgYW4gZXhwcmVzc2lvbiBhZnRlciBldmFsdWF0aW9uXG5mdW5jdGlvbiByZW5kZXJEZWZpbml0aW9uKHByb2dTdGVwOiBTSV9TVFJVQ1QuUHJvZ1N0ZXAsIGlkeDogbnVtYmVyKTogc3RyaW5nIHtcbiAgY29uc3QgbGFzdFN0ZXAgPSBwcm9nU3RlcC5zdGVwTGlzdFtwcm9nU3RlcC5zdGVwTGlzdC5sZW5ndGggLSAxXTtcbiAgaWYgKFNJX1NUUlVDVC5pc0RlZmluaXRpb25TdGVwKGxhc3RTdGVwKSkge1xuICAgIHJldHVybiBgXG4gICAgICA8ZGl2IGNsYXNzPVwic3RlcCBjb2RlXCJcbiAgICAgICAgICAgZGF0YS1wcm9nc3RlcD1cIiR7aWR4fVwiXG4gICAgICAgICAgIGRhdGEtdmlzaWJsZT1cImZhbHNlXCI+XG4gICAgICAgICR7QlNMX1ByaW50LmluZGVudChcbiAgICAgICAgICAgIEJTTF9QcmludC5zYW5pdGl6ZShcbiAgICAgICAgICAgICAgQlNMX1ByaW50LnByaW50RGVmaW5pdGlvbihsYXN0U3RlcC5yZXN1bHQpKSxcbiAgICAgICAgICAgIG1heFdpZHRoSW5DaGFycywgJ2h0bWwnKX1cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cbi8vIHJlbmRlciB0aGUgcGFydCBvZiB0aGUgb3JpZ2luYWwgUHJvZ3JhbSB0aGF0IGlzIGJlaW5nIHJlcHJlc2VudGVkIGJ5IGEgcHJvZ3N0ZXBcbmZ1bmN0aW9uIHJlbmRlck9yaWdpbmFsRXhwcmVzc2lvbihwcm9nU3RlcDogU0lfU1RSVUNULlByb2dTdGVwLCBpZHg6IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IGZpcnN0U3RlcCA9IHByb2dTdGVwLnN0ZXBMaXN0WzBdO1xuICBsZXQgY29kZSA9ICcnO1xuICBpZiAoU0lfU1RSVUNULmlzRGVmaW5pdGlvblN0ZXAoZmlyc3RTdGVwKSkge1xuICAgIGNvZGUgPSBCU0xfUHJpbnQucHJpbnREZWZpbml0aW9uKGZpcnN0U3RlcC5yZXN1bHQpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNvbnRleHQ6Q29udGV4dCA9XG4gICAgICBTSV9TVFJVQ1QuaXNLb25nKGZpcnN0U3RlcC5ydWxlKSA/XG4gICAgICAgIHByaW50Q29udGV4dChmaXJzdFN0ZXAucnVsZS5jb250ZXh0KVxuICAgICAgICA6IHtsZWZ0OicnLCByaWdodDonJ307XG4gICAgY29uc3QgcmVkZXhSdWxlID1cbiAgICAgIFNJX1NUUlVDVC5pc0tvbmcoZmlyc3RTdGVwLnJ1bGUpID9cbiAgICAgICAgZmlyc3RTdGVwLnJ1bGUucmVkZXhSdWxlXG4gICAgICAgIDogZmlyc3RTdGVwLnJ1bGU7XG4gICAgY29uc3QgcmVkZXg6IHN0cmluZyA9XG4gICAgICBwcmludFJlZGV4KHJlZGV4UnVsZS5yZWRleCk7XG4gICAgaWYgKCFjb250ZXh0LnJpZ2h0LnN0YXJ0c1dpdGgoJyknKSkgY29udGV4dC5yaWdodCA9IGAgJHtjb250ZXh0LnJpZ2h0fWA7XG4gICAgY29kZSA9IGAke2NvbnRleHQubGVmdH0ke3JlZGV4fSR7Y29udGV4dC5yaWdodH1gO1xuICB9XG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cInN0ZXAgY29kZVwiXG4gICAgICAgICBkYXRhLXByb2dzdGVwPVwiJHtpZHh9XCJcbiAgICAgICAgIGRhdGEtdmlzaWJsZT1cInRydWVcIj5cbiAgICAgICR7QlNMX1ByaW50LmluZGVudChcbiAgICAgICAgICBCU0xfUHJpbnQuc2FuaXRpemUoY29kZSksXG4gICAgICAgICAgbWF4V2lkdGhJbkNoYXJzLCAnaHRtbCcpfVxuICAgIDwvZGl2PlxuICBgO1xufVxuLy8gb25lIHN0ZXBwZXIgZm9yIG9uZSBleHByZXNzaW9uXG5mdW5jdGlvbiByZW5kZXJFeHByZXNzaW9uU3RlcHMocHJvZ1N0ZXA6IFNJX1NUUlVDVC5Qcm9nU3RlcCwgaWR4OiBudW1iZXIsIGxhbmc6IGltcGxlbWVudGVkTGFuZ3VhZ2UpOiBzdHJpbmcge1xuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJib3ggZXhwcmVzc2lvbi1zdGVwc1wiXG4gICAgICAgICBkYXRhLXByb2dzdGVwPVwiJHtpZHh9XCJcbiAgICAgICAgIGRhdGEtdmlzaWJsZT1cImZhbHNlXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiYm94bGFiZWxcIj4ke2RpY3Rpb25hcnlbbGFuZ11bJ2N1cnJlbnQgZXZhbHVhdGlvbiddfTwvZGl2PlxuICAgICAgJHtwcm9nU3RlcC5zdGVwTGlzdC5maWx0ZXIoU0lfU1RSVUNULmlzRXhwclN0ZXApLmxlbmd0aCA+IDAgP1xuICAgICAgICAgIHByb2dTdGVwLnN0ZXBMaXN0LmZpbHRlcihTSV9TVFJVQ1QuaXNFeHByU3RlcCkubWFwKChlbCwgaSkgPT4gcmVuZGVyU3RlcChpLCBlbCwgbGFuZykpLmpvaW4oJycpXG4gICAgICAgICAgOiBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInN0ZXBcIlxuICAgICAgICAgICAgICAgZGF0YS1zdGVwPVwiMFwiXG4gICAgICAgICAgICAgICBkYXRhLWN1cnJlbnRTdGVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICBkYXRhLWNvbGxhcHNlZD1cImZhbHNlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJldi1idXR0b25cIlxuICAgICAgICAgICAgICAgICBvbmNsaWNrPVwicHJldlN0ZXAoZXZlbnQpXCI+XG4gICAgICAgICAgICAgICR7ZGljdGlvbmFyeVtsYW5nXVsncHJldmlvdXMgc3RlcCddfSA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cIiR7YW5nbGVfdXB9XCI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuZXh0LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgIG9uY2xpY2s9XCJuZXh0U3RlcChldmVudClcIj5cbiAgICAgICAgICAgICAgJHtkaWN0aW9uYXJ5W2xhbmddWyduZXh0IHN0ZXAnXX0gPGltZyBjbGFzcz1cImljb25cIiBzcmM9XCIke2FuZ2xlX2Rvd259XCI+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwbGl0LXJlc3VsdCBjb2RlXCI+XG4gICAgICAgICAgICAgICR7QlNMX1ByaW50LnByaW50RGVmaW5pdGlvbihwcm9nU3RlcC5zdGVwTGlzdC5maWx0ZXIoU0lfU1RSVUNULmlzRGVmaW5pdGlvblN0ZXApWzBdLnJlc3VsdCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgXG4gICAgICB9XG4gICAgPC9kaXY+XG4gIGA7XG59XG4vLyBuYXZpZ2F0ZSBiZXR3ZWVuIGV4cHJlc3Npb25zXG5mdW5jdGlvbiBuYXZpZ2F0ZUV4cHJlc3Npb24oZTogRXZlbnQsIGFtb3VudDogbnVtYmVyKTogdm9pZCB7XG4gIGNvbnN0IGVsID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IGV4cHJlc3Npb25EaXYgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShlbCwgJ2V4cHJlc3Npb24tc3RlcHMnKTtcbiAgaWYoIWV4cHJlc3Npb25EaXYpIHtcbiAgICBjb25zb2xlLmVycm9yKCdmb3VuZCBubyBwYXJlbnQgd2l0aCBjbGFzcyAuZXhwcmVzc2lvbi1zdGVwcycsIGVsKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgaWR4U3RyaW5nID0gZXhwcmVzc2lvbkRpdi5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZ3N0ZXAnKTtcbiAgaWYoIWlkeFN0cmluZykge1xuICAgIGNvbnNvbGUuZXJyb3IoJ2RpdiB3aXRoIGNsYXNzIC5leHByZXNzaW9uLXN0ZXBzIGhhcyBubyBkYXRhLXByb2dzdGVwIGF0dHJpYnV0ZScsIGV4cHJlc3Npb25EaXYpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBpZHggPSBwYXJzZUludChpZHhTdHJpbmcpO1xuICBjb25zdCB0YXJnZXRJZHggPSBpZHggKyBhbW91bnQ7XG4gIGlmKHRhcmdldElkeCA8IC0xKSB7XG4gICAgY29uc29sZS5lcnJvcihgY2Fubm90IG5hdmlnYXRlIHRvIHByb2dTdGVwICR7dGFyZ2V0SWR4fTogZG9lcyBub3QgZXhpc3RgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gc2V0IHZpc2liaWxpdHkgaW4gZW52aXJvbm1lbnRcbiAgbmF2aWdhdGVET00oW2V4cHJlc3Npb25EaXZdLCAnLi4vLmVudmlyb25tZW50L2RpdicpLm1hcChkZWYgPT4ge1xuICAgIGNvbnN0IGlkeFN0cmluZyA9IGRlZi5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZ3N0ZXAnKTtcbiAgICBpZihpZHhTdHJpbmcpIHtcbiAgICAgIGlmKHBhcnNlSW50KGlkeFN0cmluZykgPCB0YXJnZXRJZHgpIHtcbiAgICAgICAgZGVmLnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgJ3RydWUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmlzaWJsZScsICdmYWxzZScpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIC8vIHNldCB2aXNpYmlsaXR5IGluIHByb2dyYW1cbiAgbmF2aWdhdGVET00oW2V4cHJlc3Npb25EaXZdLCAnLi4vLnByb2dyYW0vZGl2JykubWFwKHByb2cgPT4ge1xuICAgIGNvbnN0IGlkeFN0cmluZyA9IHByb2cuZ2V0QXR0cmlidXRlKCdkYXRhLXByb2dzdGVwJyk7XG4gICAgaWYoaWR4U3RyaW5nKSB7XG4gICAgICBpZihwYXJzZUludChpZHhTdHJpbmcpIDw9IHRhcmdldElkeCkge1xuICAgICAgICBwcm9nLnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgJ2ZhbHNlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9nLnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgJ3RydWUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAvLyBzaG93IGNvcnJlY3Qgc3RlcHBlclxuICBuYXZpZ2F0ZURPTShbZXhwcmVzc2lvbkRpdl0sICcuLi8uZXhwcmVzc2lvbi1zdGVwcycpLm1hcChlID0+IHtcbiAgICBjb25zdCBpZHhTdHJpbmcgPSBlLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9nc3RlcCcpO1xuICAgIGlmKGlkeFN0cmluZykge1xuICAgICAgaWYocGFyc2VJbnQoaWR4U3RyaW5nKSA9PT0gdGFyZ2V0SWR4KSB7XG4gICAgICAgIGUuc2V0QXR0cmlidXRlKCdkYXRhLXZpc2libGUnLCAndHJ1ZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmlzaWJsZScsICdmYWxzZScpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbn1cblxuLy8gb25lIGluZGl2aWR1YWwgc3RlcFxuZnVuY3Rpb24gcmVuZGVyU3RlcChjdXJyZW50U3RlcDogbnVtYmVyLCBzdGVwOiBTSV9TVFJVQ1QuRXhwclN0ZXAsIGxhbmc6IGltcGxlbWVudGVkTGFuZ3VhZ2UpOiBzdHJpbmcge1xuICAvLyBjb25zb2xlLmxvZyhgUmVuZGVyaW5nIHN0ZXAgJHtjdXJyZW50U3RlcH1gKTtcbiAgLy8gYWNxdWlyZSBuZWNlc3NhcnkgaW5mb3JtYXRpb246XG4gIC8vIGNvbnRleHQgYW5kIHJlZGV4XG4gIGNvbnN0IGNvbnRleHQ6Q29udGV4dCA9XG4gICAgU0lfU1RSVUNULmlzS29uZyhzdGVwLnJ1bGUpID9cbiAgICAgIHByaW50Q29udGV4dChzdGVwLnJ1bGUuY29udGV4dClcbiAgICAgIDoge2xlZnQ6JycsIHJpZ2h0OicnfTtcbiAgY29uc3QgcmVkZXhSdWxlID0gU0lfU1RSVUNULmlzS29uZyhzdGVwLnJ1bGUpID8gc3RlcC5ydWxlLnJlZGV4UnVsZSA6IHN0ZXAucnVsZTtcbiAgLy8gcmVzdWx0IGFuZCBydWxlIG5hbWVcbiAgY29uc3QgcmVkZXg6IHN0cmluZyA9XG4gICAgQlNMX1ByaW50LnNhbml0aXplKHByaW50UmVkZXgocmVkZXhSdWxlLnJlZGV4KSk7XG4gIGNvbnN0IHJlc3VsdDogc3RyaW5nID0gU0lfU1RSVUNULmlzVmFsdWUocmVkZXhSdWxlLnJlc3VsdClcbiAgICAgID8gYCR7cmVkZXhSdWxlLnJlc3VsdH1gXG4gICAgICA6IEJTTF9QcmludC5zYW5pdGl6ZShCU0xfUHJpbnQucHJpbnRFKHJlZGV4UnVsZS5yZXN1bHQpKTtcbiAgY29uc3QgcnVsZU5hbWUgPSByZWRleFJ1bGUudHlwZTtcbiAgLy8gcHJlcGFyZSBpbmRlbnRlZCBjb2RlIGV4cHJlc3Npb25zXG4gIGNvbnN0IGNvZGVfYmVmb3JlID1cbiAgICBCU0xfUHJpbnQuaW5kZW50KFxuICAgICAgYCR7Y29udGV4dC5sZWZ0fTxzcGFuIGNsYXNzPVwiaG9sZVwiPiR7cmVkZXh9PC9zcGFuPiR7Y29udGV4dC5yaWdodH1gLFxuICAgICAgbWF4V2lkdGhJbkNoYXJzLFxuICAgICAgJ2h0bWwnKTtcbiAgY29uc3QgY29kZV9hZnRlciA9XG4gICAgQlNMX1ByaW50LmluZGVudChcbiAgICAgIGAke2NvbnRleHQubGVmdH08c3BhbiBjbGFzcz1cImhvbGUgaG9sZS1yZXN1bHRcIj4ke1xuICAgICAgICByZXN1bHRcbiAgICAgICB9PC9zcGFuPiR7Y29udGV4dC5yaWdodH1gLFxuICAgICAgbWF4V2lkdGhJbkNoYXJzLFxuICAgICAgJ2h0bWwnKTtcblxuICAvLyBmaW5kIG91dCB3aGVyZSB0byBwb3NpdGlvbiB0aGUgcnVsZSBhcnJvdyBzbyB0aGF0IGl0IHBvaW50cyBhdCB0aGUgaG9sZVxuICBjb25zdCBjb2RlX2JlZm9yZV9ob2xlID1cbiAgICBjb2RlX2FmdGVyLnNsaWNlKDAsY29kZV9hZnRlci5pbmRleE9mKCc8c3BhbiBjbGFzcz1cImhvbGUgaG9sZS1yZXN1bHRcIj4nKSlcbiAgICAgICAgICAgICAgLnNwbGl0KCc8YnI+JylcbiAgICAgICAgICAgICAgLnJldmVyc2UoKVswXTtcbiAgY29uc29sZS5sb2coJ2NvZGUgYmVmb3JlIGhvbGU6JywgY29kZV9iZWZvcmVfaG9sZSk7XG4gIGNvbnN0IGhvbGVfcG9zaXRpb24gPSBjb2RlX2JlZm9yZV9ob2xlID8gQlNMX1ByaW50LmRpcnRpZnkoY29kZV9iZWZvcmVfaG9sZSkubGVuZ3RoIDogMDtcbiAgY29uc3QgS09OR19XSURUSCA9IDQ7XG4gIGNvbnN0IGxlZnRfb2Zmc2V0X2Fycm93ID1cbiAgICBjb250ZXh0LmxlZnQubGVuZ3RoID4gMCAmJiBob2xlX3Bvc2l0aW9uIDwgS09OR19XSURUSFxuICAgID8gS09OR19XSURUSFxuICAgIDogaG9sZV9wb3NpdGlvbjtcbiAgLy8gZmluZCBvdXQgaWYgd2UgaGF2ZSBwbGFjZSB0byByZXBlYXQgdGhlIGhvbGVzXG4gIGNvbnN0IHNwYWNlX2xlZnQgPSAgICAgICAgICAgICAgICAgLy8gMyBmb3IgdGhlIGFycm93LCAyIGZvciB0aGUgaWNvbiAtLS12XG4gICAgbWF4V2lkdGhJbkNoYXJzIC0gbGVmdF9vZmZzZXRfYXJyb3cgLSBydWxlc1tydWxlTmFtZV1bJ25hbWUnXS5sZW5ndGggLSA1O1xuICBjb25zdCByZW5kZXJIb2xlc0luUnVsZSA9XG4gICAgcmVkZXgubGVuZ3RoICsgcmVzdWx0Lmxlbmd0aCA8PSBzcGFjZV9sZWZ0O1xuXG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cInN0ZXBcIlxuICAgICAgICAgZGF0YS1zdGVwPVwiJHtjdXJyZW50U3RlcH1cIlxuICAgICAgICAgZGF0YS1jdXJyZW50U3RlcD1cIiR7Y3VycmVudFN0ZXAgPT09IDAgPyAndHJ1ZScgOiAnZmFsc2UnfVwiXG4gICAgICAgICBkYXRhLWNvbGxhcHNlZD1cImZhbHNlXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwicHJldi1idXR0b25cIlxuICAgICAgICAgICBvbmNsaWNrPVwicHJldlN0ZXAoZXZlbnQpXCI+XG4gICAgICAgICR7ZGljdGlvbmFyeVtsYW5nXVsncHJldmlvdXMgc3RlcCddfSA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cIiR7YW5nbGVfdXB9XCI+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJuZXh0LWJ1dHRvblwiXG4gICAgICAgICAgIG9uY2xpY2s9XCJuZXh0U3RlcChldmVudClcIj5cbiAgICAgICAgJHtkaWN0aW9uYXJ5W2xhbmddWyduZXh0IHN0ZXAnXX0gPGltZyBjbGFzcz1cImljb25cIiBzcmM9XCIke2FuZ2xlX2Rvd259XCI+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cInNwbGl0LXJlc3VsdCBjb2RlXCI+JHtcbiAgICAgICAgICBjb2RlX2JlZm9yZVxuICAgICAgICB9PGltZyBjbGFzcz1cImljb24gZXhwYW5kZXJcIlxuICAgICAgICAgICAgICBzcmM9XCIke3BsdXNfaWNvbn1cIlxuICAgICAgICAgICAgICBvbmNsaWNrPVwiZXhwYW5kKGV2ZW50KVwiXG4gICAgICAgID48aW1nIGNsYXNzPVwiaWNvbiBjb2xsYXBzZXJcIlxuICAgICAgICAgICAgICBzcmM9XCIke21pbnVzX2ljb259XCJcbiAgICAgICAgICAgICAgb25jbGljaz1cImNvbGxhcHNlKGV2ZW50KVwiXG4gICAgICA+PC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJwbHVnLXJlc3VsdCBjb2RlXCJcbiAgICAgICAgICAgZGF0YS1pbmZvLWNvbGxhcHNlZD1cInRydWVcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAkey8vIGlmIGNvbnRleHQgaXMgbm90IGVtcHR5LCB3ZSBhcmUgYXBwbHlpbmcgS09OR1xuICAgICAgICAgICAgY29udGV4dC5sZWZ0ICE9PSAnJyA/XG4gICAgICAgICAgICAgIGA8c3BhbiBjbGFzcz1cInJ1bGUgcnVsZS1uYW1lIGxlZnQtYXJyb3dlZCBrb25nXCI+XG4gICAgICAgICAgICAgICAgICR7cnVsZXNbJ0tvbmcnXVsnbmFtZSddfVxuICAgICAgICAgICAgICA8L3NwYW4+YCA6ICcnfVxuXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJydWxlIGxlZnQtYXJyb3dlZCBvbmUtcnVsZVwiXG4gICAgICAgICAgICAgICAgc3R5bGU9XCItLW9uZS1ydWxlLW1hcmdpbi1sZWZ0OiAke2xlZnRfb2Zmc2V0X2Fycm93ICogY2hhclB4V2lkdGh9cHhcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJ1bGUtbmFtZVwiPiR7XG4gICAgICAgICAgICAgICBydWxlc1tydWxlTmFtZV1bJ25hbWUnXVxuICAgICAgICAgICAgIH08L3NwYW4+JHtcbiAgICAgICAgICAgICAgIHJlbmRlckhvbGVzSW5SdWxlID9cbiAgICAgICAgICAgICAgIGA6XG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJ1bGUtZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJob2xlIHJ1bGUtaG9sZVwiPiR7XG4gICAgICAgICAgICAgICAgICAgcmVkZXhcbiAgICAgICAgICAgICAgICAgfTwvc3Bhbj4gXHUyMTkyXG4gICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaG9sZSBob2xlLXJlc3VsdCBydWxlLWhvbGVcIj4ke1xuICAgICAgICAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgICAgICB9PC9zcGFuPlxuICAgICAgICAgICAgICAgPC9zcGFuPmAgOiAnJ1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgIDxpbWcgc3JjPVwiJHtjaXJjbGVfaW5mb31cIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwiaWNvbiBpbmZvLXRvZ2dsZSBpbmZvLWV4cGFuZFwiXG4gICAgICAgICAgICAgICAgb25jbGljaz1cImV4cGFuZEluZm8oZXZlbnQpXCI+XG4gICAgICAgICAgIDxpbWcgc3JjPVwiJHtjaXJjbGVfeG1hcmt9XCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImljb24gaW5mby10b2dnbGUgaW5mby1jb2xsYXBzZVwiXG4gICAgICAgICAgICAgICAgb25jbGljaz1cImNvbGxhcHNlSW5mbyhldmVudClcIj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgJHtcbiAgICAgICAgICByZW5kZXJSdWxlSW5mb3JtYXRpb24ocnVsZU5hbWUsIGNvbnRleHQubGVmdCAhPT0gJycpXG4gICAgICAgIH1cbiAgICAgICAgPGRpdj4ke1xuICAgICAgICAgIGNvZGVfYWZ0ZXJcbiAgICAgICAgfTwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICA8L2Rpdj5cbiAgYDtcbn1cbi8vIGV2ZW50IGhhbmRsZXJzXG4od2luZG93IGFzIGFueSkubmV4dFN0ZXAgPSAoZTogRXZlbnQpID0+IHtcbiAgY29uc3QgYnV0dG9uID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IGN1cnJlbnRTdGVwID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoYnV0dG9uLCAnc3RlcCcpO1xuICBpZihjdXJyZW50U3RlcCAmJiBjdXJyZW50U3RlcC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICBjdXJyZW50U3RlcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3VycmVudFN0ZXAnLCAnZmFsc2UnKTtcbiAgICBjdXJyZW50U3RlcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywgJ3RydWUnKTtcbiAgICBjdXJyZW50U3RlcC5uZXh0RWxlbWVudFNpYmxpbmcuc2V0QXR0cmlidXRlKCdkYXRhLWN1cnJlbnRTdGVwJywgJ3RydWUnKTtcbiAgICBjdXJyZW50U3RlcC5uZXh0RWxlbWVudFNpYmxpbmcuc2V0QXR0cmlidXRlKCdkYXRhLWNvbGxhcHNlZCcsJ2ZhbHNlJyk7XG4gIH0gZWxzZSBpZiAoY3VycmVudFN0ZXAgJiYgIWN1cnJlbnRTdGVwLm5leHRFbGVtZW50U2libGluZykge1xuICAgIC8vIGNvbnRpbnVlIHdpdGggbmV4dCBleHByZXNzaW9uXG4gICAgbmF2aWdhdGVFeHByZXNzaW9uKGUsIDEpO1xuICB9XG59XG4od2luZG93IGFzIGFueSkucHJldlN0ZXAgPSAoZTogRXZlbnQpID0+IHtcbiAgY29uc3QgYnV0dG9uID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IGN1cnJlbnRTdGVwID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoYnV0dG9uLCAnc3RlcCcpO1xuICBpZighY3VycmVudFN0ZXApIHtcbiAgICBjb25zb2xlLmVycm9yKCdwcmV2U3RlcCBub3QgY2FsbGVkIGZyb20gd2l0aGluIGFuIGVsZW1lbnQgb2YgdGhlIC5zdGVwIGNsYXNzJyk7XG4gICAgcmV0dXJuO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gY3VycmVudFN0ZXAuZ2V0QXR0cmlidXRlKCdkYXRhLXN0ZXAnKTtcbiAgICBpZihwb3NpdGlvbiA9PT0gJzAnKSB7XG4gICAgICBuYXZpZ2F0ZUV4cHJlc3Npb24oZSwgLTEpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZihjdXJyZW50U3RlcC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgICBjdXJyZW50U3RlcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3VycmVudFN0ZXAnLCAnZmFsc2UnKTtcbiAgICAgIGN1cnJlbnRTdGVwLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzZWQnLCAndHJ1ZScpO1xuICAgICAgY3VycmVudFN0ZXAucHJldmlvdXNFbGVtZW50U2libGluZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3VycmVudFN0ZXAnLCAndHJ1ZScpO1xuICAgICAgY3VycmVudFN0ZXAucHJldmlvdXNFbGVtZW50U2libGluZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywgJ2ZhbHNlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ3ByZXZTdGVwIGNhbGxlZCBvbiBhIHN0ZXAgd2l0aCBubyBwcmV2aW91cyBodG1sIGVsZW1lbnQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn1cbih3aW5kb3cgYXMgYW55KS5jb2xsYXBzZSA9IChlOiBFdmVudCkgPT4ge1xuICBjb25zdCBidXR0b24gPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3Qgc3RlcCA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKGJ1dHRvbiwgJ3N0ZXAnKTtcbiAgaWYoc3RlcCkge1xuICAgIHN0ZXAuc2V0QXR0cmlidXRlKCdkYXRhLWNvbGxhcHNlZCcsICd0cnVlJyk7XG4gIH1cbn1cbih3aW5kb3cgYXMgYW55KS5leHBhbmQgPSAoZTogRXZlbnQpID0+IHtcbiAgY29uc3QgYnV0dG9uID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IHN0ZXAgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShidXR0b24sICdzdGVwJyk7XG4gIGlmKHN0ZXApIHtcbiAgICBzdGVwLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzZWQnLCAnZmFsc2UnKTtcbiAgfVxufVxuXG4vLyByZWN1cnNpdmUgZGVmaW5pdGlvbiBvZiBwcmludGluZyB0aGUgY29udGV4dFxuaW50ZXJmYWNlIENvbnRleHQge1xuICBsZWZ0OiBzdHJpbmcsXG4gIHJpZ2h0OiBzdHJpbmdcbn1cbmZ1bmN0aW9uIHByaW50Q29udGV4dChjdHg6IFNJX1NUUlVDVC5Db250ZXh0LCBhY2M6IENvbnRleHQgPSB7bGVmdDogJycsIHJpZ2h0OiAnJ30pOiBDb250ZXh0IHtcbiAgaWYgKFNJX1NUUlVDVC5pc0hvbGUoY3R4KSkge1xuICAgIHJldHVybiB7XG4gICAgICBsZWZ0OkJTTF9QcmludC5zYW5pdGl6ZShhY2MubGVmdCksXG4gICAgICByaWdodDogQlNMX1ByaW50LnNhbml0aXplKGFjYy5yaWdodClcbiAgICB9O1xuICB9XG4gIGlmIChTSV9TVFJVQ1QuaXNBcHBDb250ZXh0KGN0eCkpIHtcbiAgICBjb25zdCBsZWZ0RWxzID0gW0JTTF9QcmludC5wcmludE5hbWUoY3R4Lm9wKSwgLi4uY3R4LnZhbHVlcy5tYXAodiA9PiBgJHt2fWApXTtcbiAgICBhY2MubGVmdCA9XG4gICAgICBgJHthY2MubGVmdH0oJHtsZWZ0RWxzLmpvaW4oJyAnKX0gYDtcbiAgICBhY2MucmlnaHQgPVxuICAgICAgIGN0eC5hcmdzLmxlbmd0aCA+IDAgP1xuICAgICAgYCAke2N0eC5hcmdzLm1hcChCU0xfUHJpbnQucHJpbnRFKS5qb2luKCcgJyl9KSR7YWNjLnJpZ2h0fWBcbiAgICAgIDogYCkke2FjYy5yaWdodH1gO1xuICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0NvbmRDb250ZXh0KGN0eCkpIHtcbiAgICBhY2MubGVmdCA9XG4gICAgICBgJHthY2MubGVmdH0oY29uZCBbYDtcbiAgICBjb25zdCByZXN0ID0gW1xuICAgICAgYCR7QlNMX1ByaW50LnByaW50RShjdHgub3B0aW9uc1swXS5yZXN1bHQpfV1gLFxuICAgICAgLi4uY3R4Lm9wdGlvbnMuc2xpY2UoMSkubWFwKEJTTF9QcmludC5wcmludE9wdGlvbilcbiAgICBdO1xuICAgIGFjYy5yaWdodCA9XG4gICAgICBgICR7cmVzdC5qb2luKCcgJyl9KSR7YWNjLnJpZ2h0fWA7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcignUHJpbnRpbmcgdGhpcyBjb250ZXh0IGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQnLCBjdHgpO1xuICAgIHRocm93KGBQcmludGluZyAke2N0eFsndHlwZSddfSBjb250ZXh0IGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQhYCk7XG4gIH1cbiAgcmV0dXJuIHByaW50Q29udGV4dChjdHguY3R4LCBhY2MpO1xufVxuLy8gcmVjdXJzaXZlIGRlZmluaXRpb24gb2YgcHJpbnRpbmcgdGhlIHJlZGV4XG5mdW5jdGlvbiBwcmludFJlZGV4KHJlZGV4OiBTSV9TVFJVQ1QuUmVkZXgpOiBzdHJpbmcge1xuICBpZiAoU0lfU1RSVUNULmlzQ2FsbFJlZGV4KHJlZGV4KSkge1xuICAgIHJldHVybiBgKCR7QlNMX1ByaW50LnByaW50TmFtZShyZWRleC5uYW1lKX0gJHtyZWRleC5hcmdzLmpvaW4oJyAnKX0pYDtcbiAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNDb25kUmVkZXgocmVkZXgpKSB7XG4gICAgcmV0dXJuIGAoY29uZCAke3JlZGV4Lm9wdGlvbnMubWFwKEJTTF9QcmludC5wcmludE9wdGlvbikuam9pbignICcpfSlgO1xuICB9IGVsc2Uge1xuICAgIHRocm93IFwiSW52YWxpZCBJbnB1dCB0byBwcmludFJlZGV4XCI7XG4gIH1cbn1cblxuLy8gcmVuZGVyaW5nIHRoZSBydWxlIHRpcFxuZnVuY3Rpb24gcmVuZGVyUnVsZUluZm9ybWF0aW9uKHJ1bGU6IGF2YWlsYWJsZVJ1bGVzLCBrb25nOiBib29sZWFuKTpzdHJpbmcge1xuICBjb25zdCBydWxlSW5mbyA9IHJ1bGVzW3J1bGVdO1xuICByZXR1cm4gYDxkaXYgY2xhc3M9XCJydWxlLWluZm9cIj4ke1xuICAgICAgICAgICBrb25nID8gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby10ZXh0LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicnVsZS1pbmZvLXJ1bGUtbmFtZVwiPiR7cnVsZXNbJ0tvbmcnXVsnbmFtZSddfTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicnVsZS1pbmZvLXJ1bGUtdGV4dFwiPiR7cnVsZXNbJ0tvbmcnXVsndGV4dCddfTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgIGAgOiAnJ1xuICAgICAgICAgfVxuICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby10ZXh0LWNvbnRhaW5lclwiPlxuICAgICAgICAgICA8ZGl2IGNsYXNzPVwicnVsZS1pbmZvLXJ1bGUtbmFtZVwiPiR7cnVsZUluZm9bJ25hbWUnXX08L2Rpdj5cbiAgICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby1ydWxlLXRleHRcIj4ke3J1bGVJbmZvWyd0ZXh0J119PC9kaXY+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDwvZGl2PmA7XG59XG4od2luZG93IGFzIGFueSkuZXhwYW5kSW5mbyA9IChlOiBFdmVudCkgPT4ge1xuICBjb25zdCB0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IHAgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZSh0LCAncGx1Zy1yZXN1bHQnKTtcbiAgaWYoIXApIHJldHVybjtcbiAgcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5mby1jb2xsYXBzZWQnLCAnZmFsc2UnKTtcbn1cbih3aW5kb3cgYXMgYW55KS5jb2xsYXBzZUluZm8gPSAoZTogRXZlbnQpID0+IHtcbiAgY29uc3QgdCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICBjb25zdCBwID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUodCwgJ3BsdWctcmVzdWx0Jyk7XG4gIGlmKHApIHAuc2V0QXR0cmlidXRlKCdkYXRhLWluZm8tY29sbGFwc2VkJywgJ3RydWUnKTtcbn1cbi8vICMjIyBydWxlcyAjIyNcbi8vIGFzIHRha2VuIGZyb20gb3ZlcnZpZXctcmVkdWN0aW9uLWFuZC1lcXVpdmFsZW5jZS5wZGYsIGkuZS4gdGhlIHNjcmlwdFxuLy8gdG8gYmUgZGlzcGxheWVkIGFzIHJlZmVyZW5jZVxudHlwZSBhdmFpbGFibGVSdWxlcyA9ICdLb25nJyB8ICdGdW4nIHwgJ1ByaW0nIHwgJ0NvbnN0JyB8ICdDb25kVHJ1ZScgfCAnQ29uZEZhbHNlJyB8ICdTdHJ1Y3RNYWtlJyB8ICdTdHJ1Y3RTZWxlY3QnIHwgJ1N0cnVjdFByZWRUcnVlJyB8ICdTdHJ1Y3RQcmVkRmFsc2UnIHwgJ1Byb2dSdWxlJztcbmNvbnN0IHJ1bGVzID0ge1xuICAnS29uZyc6IHtcbiAgICAnbmFtZSc6IGA8Y2FwPktvbmc8L2NhcD5gLFxuICAgICd0ZXh0JzogYFxuICAgICAgPGVtPkVbZTxzbWFsbD4xPC9zbWFsbD5dIFx1MjE5MiBFW2U8c21hbGw+Mjwvc21hbGw+XSBmYWxscyBlPHNtYWxsPjE8L3NtYWxsPiBcdTIxOTIgZTxzbWFsbD4yPC9zbWFsbD48L2VtPjxicj5cbiAgICAgIDxlbT5cdTIwMzlFXHUyMDNBIDo6PSBbXTxicj5cbiAgICAgICZuYnNwOyZuYnNwOyZuYnNwO3wgKFx1MjAzOW5hbWVcdTIwM0EgXHUyMDM5dlx1MjAzQSogXHUyMDM5RVx1MjAzQSBcdTIwMzllXHUyMDNBKik8YnI+XG4gICAgICAmbmJzcDsmbmJzcDsmbmJzcDt8ICg8c3Ryb25nPmNvbmQ8L3N0cm9uZz4gW1x1MjAzOUVcdTIwM0EgXHUyMDM5ZVx1MjAzQSBde1sgXHUyMDM5ZVx1MjAzQSBcdTIwMzllXHUyMDNBXX0qKTwvZW0+XG4gICAgYFxuICB9LFxuICAnRnVuJzoge1xuICAgICduYW1lJzogYDxjYXA+RnVuPC9jYXA+YCxcbiAgICAndGV4dCc6IGBcbiAgICAgIDxlbT4obmFtZSB2PHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgdjxzbWFsbD5uPC9zbWFsbD4pIFx1MjE5MlxuICAgICAgZVtuYW1lPHNtYWxsPjE8L3NtYWxsPiA6PSB2PHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgbmFtZTxzbWFsbD5uPC9zbWFsbD4gOj0gdjxzbWFsbD5uPC9zbWFsbD4gXTwvZW0+XG4gICAgICBmYWxsc1xuICAgICAgPGVtPig8L2VtPiA8c3Ryb25nPmRlZmluZTwvc3Ryb25nPiA8ZW0+KG5hbWUgbmFtZTxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IG5hbWU8c21hbGw+bjwvc21hbGw+KSBlKTwvZW0+IGluIFVtZ2VidW5nXG4gICAgYFxuICB9LFxuICAnUHJpbSc6IHtcbiAgICAnbmFtZSc6IGA8Y2FwPlByaW08L2NhcD5gLFxuICAgICd0ZXh0JzogYFxuICAgICAgPGVtPihuYW1lIHY8c21hbGw+MTwvc21hbGw+IFx1MjAyNiB2PHNtYWxsPm48L3NtYWxsPikgXHUyMTkyIHY8L2VtPiBmYWxsc1xuICAgICAgPGVtPm5hbWU8L2VtPiBlaW5lIHByaW1pdGl2ZSBGdW5rdGlvbiA8ZW0+ZjwvZW0+IGlzdCB1bmRcbiAgICAgIDxlbT5mKHY8c21hbGw+MTwvc21hbGw+IFx1MjAyNiB2PHNtYWxsPm48L3NtYWxsPikgPSB2PC9lbT5cbiAgICBgXG4gIH0sXG4gICdDb25zdCc6IHtcbiAgICAnbmFtZSc6IGA8Y2FwPkNvbnN0PC9jYXA+YCxcbiAgICAndGV4dCc6IGBcbiAgICAgIDxlbT5uYW1lIFx1MjE5MiB2PC9lbT4gZmFsbHMgPGVtPig8c3Ryb25nPmRlZmluZTwvc3Ryb25nPiBuYW1lIHYpPC9lbT4gaW4gVW1nZWJ1bmcuXG4gICAgYFxuICB9LFxuICAnQ29uZFRydWUnOiB7XG4gICAgJ25hbWUnOiBgPGNhcD5Db25kPC9jYXA+LVRydWVgLFxuICAgICd0ZXh0JzogYFxuICAgICAgPGVtPig8c3Ryb25nPmNvbmQ8L3N0cm9uZz4gWzxzdHJvbmc+I3RydWU8L3N0cm9uZz4gZV0gXHUyMDI2KSBcdTIxOTIgZTwvZW0+XG4gICAgYFxuICB9LFxuICAnQ29uZEZhbHNlJzoge1xuICAgICduYW1lJzogYDxjYXA+Q29uZDwvY2FwPi1GYWxzZWAsXG4gICAgJ3RleHQnOiBgXG4gICAgICA8ZW0+KDxzdHJvbmc+Y29uZDwvc3Ryb25nPiBbPHN0cm9uZz4jZmFsc2U8L3N0cm9uZz4gZTxzbWFsbD4xPC9zbWFsbD5dXG4gICAgICAgICBbZTxzbWFsbD4yPC9zbWFsbD4gZTxzbWFsbD4zPC9zbWFsbD5dIFx1MjAyNikgXHUyMTkyXG4gICAgICAgICAoPHN0cm9uZz5jb25kPC9zdHJvbmc+IFtlPHNtYWxsPjI8L3NtYWxsPiBlPHNtYWxsPjM8L3NtYWxsPl0gXHUyMDI2KTwvZW0+XG4gICAgYFxuICB9LFxuICAnU3RydWN0TWFrZSc6IHtcbiAgICAnbmFtZSc6IGA8Y2FwPlN0cnVjdDwvY2FwPi1tYWtlYCxcbiAgICAndGV4dCc6IGBcbiAgICAgIDxlbT4oPHN0cm9uZz5tYWtlPC9zdHJvbmc+LW5hbWUgdjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IHY8c21hbGw+bjwvc21hbGw+KSBcdTIxOTJcbiAgICAgICZsdDs8c3Ryb25nPm1ha2U8L3N0cm9uZz4tbmFtZSB2PHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgdjxzbWFsbD5uPC9zbWFsbD4mZ3Q7PC9lbT5cbiAgICAgIGZhbGxzIDxlbT4oPHN0cm9uZz5kZWZpbmUtc3RydWN0PC9zdHJvbmc+IG5hbWUgKG5hbWU8c21hbGw+MTwvc21hbGw+IFx1MjAyNiBuYW1lPHNtYWxsPm48L3NtYWxsPikpPC9lbT4gaW4gVW1nZWJ1bmdcbiAgICBgXG4gIH0sXG4gICdTdHJ1Y3RTZWxlY3QnOiB7XG4gICAgJ25hbWUnOiBgPGNhcD5TdHJ1Y3Q8L2NhcD4tc2VsZWN0YCxcbiAgICAndGV4dCc6IGBcbiAgICAgIDxlbT4obmFtZS1uYW1lPHNtYWxsPmk8L3NtYWxsPiAmbHQ7PHN0cm9uZz5tYWtlPC9zdHJvbmc+LW5hbWVcbiAgICAgICAgdjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IHY8c21hbGw+bjwvc21hbGw+Jmd0OykgXHUyMTkyIHY8c21hbGw+aTwvc21hbGw+PC9lbT5cbiAgICAgICAgZmFsbHMgPGVtPig8c3Ryb25nPmRlZmluZS1zdHJ1Y3Q8L3N0cm9uZz4gbmFtZVxuICAgICAgICAgIChuYW1lPHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgbmFtZTxzbWFsbD5uPC9zbWFsbD4pKTwvZW0+IGluIFVtZ2VidW5nXG4gICAgYFxuICB9LFxuICAnU3RydWN0UHJlZFRydWUnOiB7XG4gICAgJ25hbWUnOiBgPGNhcD5TdHJ1Y3Q8L2NhcD4tcHJlZHRydWVgLFxuICAgICd0ZXh0JzogYFxuICAgICAgPGVtPihuYW1lPyAmbHQ7PHN0cm9uZz5tYWtlPC9zdHJvbmc+LW5hbWUgXHUyMDI2Jmd0OykgXHUyMTkyIDxzdHJvbmc+I3RydWU8L3N0cm9uZz48L2VtPlxuICAgIGBcbiAgfSxcbiAgJ1N0cnVjdFByZWRGYWxzZSc6IHtcbiAgICAnbmFtZSc6IGA8Y2FwPlN0cnVjdDwvY2FwPi1wcmVkZmFsc2VgLFxuICAgICd0ZXh0JzogYFxuICAgICAgPGVtPihuYW1lPyB2KSBcdTIxOTIgPHN0cm9uZz4jZmFsc2U8L3N0cm9uZz48L2VtPiBmYWxscyA8ZW0+djwvZW0+IG5pY2h0XG4gICAgICA8ZW0+Jmx0OzxzdHJvbmc+bWFrZTwvc3Ryb25nPi1uYW1lIFx1MjAyNiZndDs8L2VtPiBpc3RcbiAgICBgXG4gIH0sXG4gICdQcm9nUnVsZSc6IHtcbiAgICAnbmFtZSc6IGA8Y2FwPlByb2c8L2NhcD5gLFxuICAgICd0ZXh0JzogYFxuICAgICAgRWluIFByb2dyYW1tIHdpcmQgdm9uIGxpbmtzIG5hY2ggcmVjaHRzIGF1c2dlZlx1MDBGQ2hydCB1bmQgc3RhcnRldCBtaXQgZGVyXG4gICAgICBsZWVyZW4gVW1nZWJ1bmcuIElzdCBkYXMgblx1MDBFNGNoc3RlIFByb2dyYW1tZWxlbWVudCBlaW5lIEZ1bmt0aW9ucy0gb2RlclxuICAgICAgU3RydWt0dXJkZWZpbml0aW9uLCBzbyB3aXJkIGRpZXNlIERlZmluaXRpb24gaW4gZGllIFVtZ2VidW5nIGF1Zmdlbm9tbWVuXG4gICAgICB1bmQgZGllIEF1c2ZcdTAwRkNocnVuZyBtaXQgZGVtIG5cdTAwRTRjaHN0ZW4gUHJvZ3JhbW1lbGVtZW50IGluIGRlciBlcndlaXRlcnRlblxuICAgICAgVW1nZWJ1bmcgZm9ydGdlc2V0enQuIElzdCBkYXMgblx1MDBFNGNoc3RlIFByb2dyYW1tZWxlbWVudCBlaW4gQXVzZHJ1Y2ssIHNvXG4gICAgICB3aXJkIGRpZXNlciBnZW1cdTAwRTRcdTAwREYgZGVyIHVudGVuIHN0ZWhlbmRlbiBSZWdlbG4gaW4gZGVyIGFrdHVlbGxlbiBVbWdlYnVuZyB6dVxuICAgICAgZWluZW0gV2VydCBhdXNnZXdlcnQuIElzdCBkYXMgblx1MDBFNGNoc3RlIFByb2dyYW1tZWxlbWVudCBlaW5lXG4gICAgICBLb25zdGFudGVuZGVmaW5pdGlvbiA8ZW0+KDxzdHJvbmc+ZGVmaW5lPC9zdHJvbmc+IHggZSk8L2VtPiwgc28gd2lyZCBpblxuICAgICAgZGVyIGFrdHVlbGxlbiBVbWdlYnVuZyB6dW5cdTAwRTRjaHN0IDxlbT5lPC9lbT4genUgZWluZW0gV2VydCA8ZW0+djwvZW0+XG4gICAgICBhdXNnZXdlcnRldCB1bmQgZGFubiA8ZW0+KDxzdHJvbmc+ZGVmaW5lPC9zdHJvbmc+IHggdik8L2VtPiB6dXIgYWt0dWVsbGVuXG4gICAgICBVbWdlYnVuZyBoaW56dWdlZlx1MDBGQ2d0LlxuICAgIGBcbiAgfSxcbn1cbiIsICJpbXBvcnQge3Byb2Nlc3NCc2xUcmVlc30gZnJvbSAnLi9CU0xfVHJlZSc7XG5pbXBvcnQge3Byb2Nlc3NKc29uVHJlZXN9IGZyb20gJy4vSlNPTl9UcmVlJztcbmltcG9ydCB7cHJvY2Vzc1N0ZXBwZXJzfSBmcm9tICcuL1NJX1JlbmRlcmVyJztcblxuLy8gc2V0dXAgY2FsbGJhY2tzXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICBwcm9jZXNzQnNsVHJlZXMoKTtcbiAgcHJvY2Vzc0pzb25UcmVlcygpO1xuICBwcm9jZXNzU3RlcHBlcnMoKTtcbn1cbiJdLAogICJtYXBwaW5ncyI6ICJxY0EyRE8sWUFBc0IsRUFBNkIsQ0FDeEQsTUFBTyxHQUFTLENBQUcsR0FBSyxFQUFXLENBQUcsR0FBSyxHQUFZLENBQUcsQ0FDNUQsQ0FDTyxXQUFrQixFQUF5QixDQUNoRCxNQUFPLEdBQUksT0FBUyxxQkFDdEIsQ0FDTyxXQUFvQixFQUEyQixDQUNwRCxNQUFPLEdBQUksT0FBUyxxQkFDdEIsQ0FDTyxZQUFxQixFQUE0QixDQUN0RCxNQUFPLEdBQUksT0FBUyxtQkFDdEIsQ0FFTyxZQUFnQixFQUF1QixDQUM1QyxNQUFPLEdBQU8sQ0FBRyxHQUFLLEVBQU8sQ0FBRyxHQUFLLEVBQU8sQ0FBRyxHQUFLLEVBQVUsQ0FBRyxDQUNuRSxDQUNPLFdBQWdCLEVBQXVCLENBQzVDLE1BQU8sR0FBSSxPQUFTLGVBQ3RCLENBQ08sV0FBZ0IsRUFBdUIsQ0FDNUMsTUFBTyxHQUFJLE9BQVMsaUJBQ3RCLENBQ08sV0FBZ0IsRUFBdUIsQ0FDNUMsTUFBTyxHQUFJLE9BQVMsUUFDdEIsQ0FDTyxXQUFtQixFQUEwQixDQUNsRCxNQUFPLEdBQUksT0FBUyxlQUN0QixDQ3BGTyxZQUFnQixFQUE0QixDQUNqRCxNQUFPLEdB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
