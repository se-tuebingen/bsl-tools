(()=>{var Hr=Object.defineProperty,Vr=Object.defineProperties;var Or=Object.getOwnPropertyDescriptors;var vt=Object.getOwnPropertySymbols;var zr=Object.prototype.hasOwnProperty,jr=Object.prototype.propertyIsEnumerable;var Et=(e,r,t)=>r in e?Hr(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,G=(e,r)=>{for(var t in r||(r={}))zr.call(r,t)&&Et(e,t,r[t]);if(vt)for(var t of vt(r))jr.call(r,t)&&Et(e,t,r[t]);return e},_t=(e,r)=>Vr(e,Or(r));function Ee(e){return Y(e)||z(e)||ze(e)}function Y(e){return e.type==="Function Definition"}function z(e){return e.type==="Constant Definition"}function ze(e){return e.type==="Struct Definition"}function _e(e){return W(e)||Z(e)||j(e)||I(e)}function W(e){return e.type==="Function Call"}function Z(e){return e.type==="Cond-Expression"}function j(e){return e.type==="Symbol"}function I(e){return e.type==="Literal Value"}function q(e){return e.type==="Struct Value"}function Lt(e){return e.map(ae).join(`
`)}function ae(e){return Ee(e)?Re(e):E(e)}function Re(e){return Y(e)?`(define (${v(e.name)} ${e.args.map(v).join(" ")}) ${E(e.body)})`:z(e)?`(define ${v(e.name)} ${E(e.value)})`:ze(e)?`(define-struct ${v(e.binding)} (${e.properties.map(v).join(" ")}))`:(console.error("Invalid input to printDefinition"),"")}function E(e){return W(e)?`(${v(e.name)} ${e.args.map(E).join(" ")})`:Z(e)?`(cond ${e.options.map(ee).join(" ")})`:j(e)?v(e):I(e)?ce(e.value):(console.error("Invalid input to printE"),`<${e}>`)}function ce(e){return typeof e=="string"&&e!=="'()"?`"${e}"`:typeof e=="boolean"?e?"#true":"#false":q(e)?`<${v(e.structDef)} ${e.properties.map(E).join(" ")}>`:`${e}`}function ee(e){return`[${E(e.condition)} ${E(e.result)}]`}function v(e){return e.symbol}var Zn=[{type:"Function Definition",name:{type:"Symbol",symbol:"f"},args:[{type:"Symbol",symbol:"x"},{type:"Symbol",symbol:"y"}],body:{type:"Function Call",name:{type:"Symbol",symbol:"+"},args:[{type:"Symbol",symbol:"x"},{type:"Symbol",symbol:"y"}]}},{type:"Cond-Expression",options:[{type:"Cond-Option",condition:{type:"Function Call",name:{type:"Symbol",symbol:"="},args:[{type:"Symbol",symbol:"x"},{type:"Literal Value",value:3}]},result:{type:"Literal Value",value:"isThree"}},{type:"Cond-Option",condition:{type:"Literal Value",value:!1},result:{type:"Literal Value",value:"'()"}}]},{type:"Constant Definition",name:{type:"Symbol",symbol:"x"},value:{type:"Literal Value",value:42}},{type:"Struct Definition",binding:{type:"Symbol",symbol:"name"},properties:[{type:"Symbol",symbol:"firstName"},{type:"Symbol",symbol:"lastName"}]}];function te(e,r,t="text"){let n=[],s=0,l=0,c=0,p="",d=!1,f=!1;e.split("").forEach(m=>{if(d&&m!=='"'){p+=m;return}if(f&&m!==">"){p+=m;return}switch(m){case"(":case"[":l++;break;case")":case"]":l--;break;case'"':d=!d;break;case"<":f=t==="html";break;case">":t==="html"&&(f=!1);break;case" ":case`
`:case"	":if(!p)return;n.push({term:p,level:s}),s>c&&(c=s),p="",s=l;return}p+=m}),p!==""&&(n.push({term:p,level:s}),s>c&&(c=s));let S=t==="html"?"<br>":`
`;for(let m=c;m>0;m--){let x=[];n.forEach(h=>{h.level<m?x.push(_t(G({},h),{subterms:[]})):x[x.length-1].subterms.push(h.term)}),n=x.map(h=>{let _=h.subterms.some(D=>D.includes(S)),B=`${h.term}${h.subterms.length>0?" ":""}${h.subterms.join(" ")}`,ie=t==="html"?Kr(B):B.length;if(_||ie+h.level>r){let D=h.subterms.map(N=>`${Rt(t==="html"?"&nbsp;":" ",m)}${N}`);D.unshift(h.term);let le=t==="html"?"<br>":`
`;return{term:`${D.join(le)}`,level:h.level}}else return{term:B,level:h.level}})}return n.map(m=>m.term).join(S)}function Rt(e,r){let t="";for(let n=0;n<r;n++)t+=e;return t}function Kr(e){let r=document.createElement("div");return r.innerHTML=e,r.textContent?r.textContent.length:0}function U(e){return e.replaceAll("<","&lt;").replaceAll(">","&gt;")}function re(e){return e.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&nbsp;"," ")}function P(e,r,t=!1){if(e.length===0)return[];let n=r.split("/"),s=n.shift();if(s=="")return e;let l=n.join("/"),c=[];if(s=="..")c=e.map(p=>p.parentElement).filter(p=>p);else if(s=="+")c=e.map(p=>p.nextElementSibling).filter(p=>p);else if(s.startsWith(".")){let p=s.slice(1);c=e.flatMap(d=>Array.from(d.children).filter(f=>f.classList.contains(p)))}else c=e.flatMap(p=>Array.from(p.children).filter(d=>d.tagName==s.toUpperCase()));return c.length===0&&t&&console.error(`Error traversing ${r}: No element found`),P(c,l)}function ne(e,r){if(e.tagName==r.toUpperCase())return e;{let t=e.parentElement;return t?ne(t,r):(console.error("Could not find parent element with requested tag ",r),null)}}function L(e,r){if(e.classList.contains(r))return e;{let t=e.parentElement;return t?L(t,r):(console.error("Could not find parent element with requested class ",r),null)}}var $t=`/* ######## color variables ###### */
.bsl-tools-tree {
  --branch-color: #666;
  --node-background: #ebf0f4; /* racket azure */
  --text-grey: #444; /* like in scribble */
  --hole-yellow: #fdf68d; /* pale yellow */
  --highlight-border-connectors: lime;
  --wrong-background: red;
  --correct-background: lime;
  --hole-selection-background: white;
  --node-margin-x: 1em; /* horizontally */
}
/*
CSS for tree by Ross Angus
https://www.cssscript.com/clean-tree-diagram/
(Edited and extended)
*/
/* ###### parent ###### */
.bsl-tools-tree-container {
  text-align: center;
  overflow-y: scroll;
}

/* ###### node layout ######## */
.bsl-tools-tree,
.bsl-tools-tree ul,
.bsl-tools-tree li {
    list-style: none;
    margin: 0;
    padding: 0;
    position: relative;
    white-space: nowrap;
}

.bsl-tools-tree {
    margin: 0 0 1em;
    text-align: center;
    margin-left: auto;
    margin-right: auto;
}

.bsl-tools-tree,
.bsl-tools-tree ul {
    display: table;
}

.bsl-tools-tree ul {
    width: 100%;
}

.bsl-tools-tree li {
    display: table-cell;
    padding: 0;
    padding-top: 1.5em;
    vertical-align: top;
}

.bsl-tools-tree code,
.bsl-tools-tree span {
    border: solid .1em var(--branch-color);
    border-radius: .2em;
    display: inline-block;
    margin-left: var(--node-margin-x);
    margin-right: var(--node-margin-x);
    margin-top: 1.5em;
    padding: .2em .5em;
    position: relative;
    box-sizing: border-box;
}

/* ########### custom AST node  styles ######## */
/* node */
.bsl-tools-tree span {
  font-family: 'Fira-Mono', monospace;
  background-color: var(--node-background);
  transition: 1s background-color ease-out;
}
.bsl-tools-tree .terminal-symbol {
  border-width: .2em;
  border-style: double;
}
/* node label */
.bsl-tools-tree .name {
  color: var(--text-grey);
  font-style: italic;
  font-size: 0.85em;
  text-align: right;

  position: absolute;
  top: calc(-0.85em - 1.5em);
  right: var(--edgetext-right, 50%); /* to be set dynamically */
  margin-right: -1.5em;
  background-color: rgba(255,255,255,0.7);
}
/* tooltip */
.bsl-tools-tree .name .tooltip {
  display: none;
}
.bsl-tools-tree .name:hover .tooltip {
  display: block;
  position: absolute;
  left: 100%;
  bottom: calc(-0.5em - 1px);
  background-color: var(--node-background);
  border: 1px solid var(--branch-color);
  text-align: left;
  padding: 0.5em;
  z-index: 1000;
}

/* ###### connectors ########### */
/* part above box */
.bsl-tools-tree span:before {
    outline: solid 1px var(--branch-color);
    content: "";
    width: var(--connector-width, 0px); /* to be set dynamically */
    left: var(--connector-left, 50%); /* to be set dynamically */
    position: absolute;
    top: -1.5em;
    transform: var(--connector-transform); /* to be set dynamically */
}
.bsl-tools-tree span.terminal-symbol:before {
  top: calc(-1.5em - .2em);
}

/* ####### highlight way back up from a node ###### */
/* .bsl-tools-tree li:hover > span {
  border-color: var(--highlight-border-connectors);
}
.bsl-tools-tree li:hover::before {
  border-color: var(--highlight-border-connectors);
  z-index: 1000;
}
.bsl-tools-tree li:hover > span::before {
  outline-color: var(--highlight-border-connectors);
} */

/* ######## hide connectors over root ######## */
.bsl-tools-tree>li:before,
.bsl-tools-tree>li:after,
.bsl-tools-tree>li>code:before,
.bsl-tools-tree>li>span:before {
    outline: none !important;
    border: none !important;
}
.bsl-tools-tree>li {
    margin-top: 0;
}

/* ####### collapse nodes ######## */
/* click on span to hide/show */
.bsl-tools-tree .hole:hover {
  cursor: pointer;
}

.bsl-tools-tree [data-collapsed="true"] {
  display: none;
}

/* ######### holes ########## */
.bsl-tools-tree .char {
  display: inline;
  margin: 0;
  border: none;
  padding: 0;
  border-radius: 0;
  background-color: transparent;
  transition: background-color 1s ease-out;
}
.bsl-tools-tree .char::before {
  display: none;
}

.bsl-tools-tree .hole {
  display: inline-block;
  background-color: var(--hole-yellow);
  border: 1px solid var(--text-grey);
  color: var(--text-grey);
  padding-left: 0.25em;
  padding-right: 0.25em;
  position: relative;
}

/* ########### quiz ########## */

/* quiz stages */
.bsl-tools-tree span[data-quiz-state="production"] .name,
.bsl-tools-tree span[data-quiz-state="production"] .code,
.bsl-tools-tree span[data-quiz-state="production"] .hole-marking {
  display: none;
}

.bsl-tools-tree span[data-quiz-state="hole-marking"] .code,
.bsl-tools-tree span[data-quiz-state="hole-marking"] .production {
  display: none;
}

.bsl-tools-tree span[data-quiz-state="done"] .production,
.bsl-tools-tree span[data-quiz-state="done"] .hole-marking {
  display: none;
}

/* highlighting text by putting a div behind a textarea */
.bsl-tools-tree textarea,
.bsl-tools-tree .marker-container {
  font-family: inherit;
  resize: none;
  font-size: calc(1em);
  padding: 2px;
  margin: .2em;
  border: none;
  box-sizing: border-box;
}

.bsl-tools-tree .textarea-container {
  position: relative;
  display: inline-block;
}
.bsl-tools-tree textarea {
  position: relative;
  background-color: transparent;
  z-index: 2;
}
.bsl-tools-tree .marker-container {
  text-align: left;
  background-color: var(--hole-selection-background);
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
}
.bsl-tools-tree .marker {
  color: transparent;
  background-color: transparent;
  transition: 1s background-color ease-out;
}

/* feedback for wrong answer */
.bsl-tools-tree .wrong {
  background-color: var(--wrong-background);
  transition: none;
}
.bsl-tools-tree .correct {
  background-color: var(--correct-background);
  transition: none;
}
`;function ue(e,r,t,n=!1,s="en"){if(t||(t=Wr(e)),!document.getElementById("bsl-tools-tree-style")){let l=document.createElement("style");l.innerHTML=$t,l.id="bsl-tools-tree-style",document.getElementsByTagName("head")[0].appendChild(l)}At.includes(s)||(console.error(`
      Selected language "${s}" is not implemented, defaulting to "en".
      Available language codes: ${At.join(", ")}
    `),s="en"),r.innerHTML=`
  <div class="bsl-tools-tree-container">
    <ul class="bsl-tools-tree">
      ${n?Ft(e,s,t):wt(e,t)}
    </ul>
  </div>`,n&&P([r],"ul/li/ul/li").map(l=>l.setAttribute("data-collapsed","false")),Le(r)}function Wr(e){let r={};return It(e,r),r}function It(e,r){r[e.production]=[],e.holes.map(t=>It(t.content,r))}var At=["en","de"],Bt={en:{"select production":"Select production","mark selected text as hole":"Mark selected text as subexpression"},de:{"select production":"Produktion ausw\xE4hlen","mark selected text as hole":"Auswahl als Teilausdruck markieren"}};function Le(e){let r=parseFloat(getComputedStyle(e).fontSize)*3;for(let t=1;;t++){let n=Array.from(e.getElementsByClassName(`hole-${t}`));if(n.length<1)return;n.map(s=>{let l=s,c=.5*(l.getBoundingClientRect().x+l.getBoundingClientRect().right);if(c==0)return;let p=ne(l,"li");!p||P([p],`ul/.child-${t}/span`).map(d=>{let f=d,S=.5*(f.getBoundingClientRect().x+f.getBoundingClientRect().right),m=c-S,x=-Math.atan2(r,m),h=Math.sqrt(m*m+r*r),_=m/2-h/2;f.style.cssText=`
          --connector-width: ${h}px;
          --connector-left: calc(50% + ${_}px);
          --edgetext-right: calc(50% - ${m/2}px);
          --connector-transform: rotate(${x}rad);
        `})})}}function wt(e,r,t=-1){return`
    <li class="${t>=0?`child-${t+1}`:""}"
        data-collapsed="${t>=0?"true":"false"}">
      <span class="${e.holes.length>0?"":"terminal-symbol"}">

        ${kt(e,r)}

        ${Ut(e)}

      </span>
      ${e.holes.length>0?`<ul>${e.holes.map((n,s)=>wt(n.content,r,s)).join("")}</ul>`:""}
    </li>
  `}function Ut(e){return`
  <div class="code">${Jr(e).map(t=>`<span class="char ${t.pos?`hole hole-${t.pos}`:""}"
             ${t.pos?`onclick="toggleChild(event,${t.pos})"`:""}
             >${e.code.slice(t.start,t.end)}</span>`).join("")}
  </div>
  `}window.toggleChild=(e,r)=>{let t=e.target,n=ne(t,"li"),s=L(t,"bsl-tools-tree");if(!n||!s){console.error("toggleChild called from .hole not in .bsl-tools-tree");return}P([n],`ul/.child-${r}`).map(l=>{l.setAttribute("data-collapsed",l.getAttribute("data-collapsed")==="true"?"false":"true")}),Le(s)};function Jr(e){let r=[],t=0;for(let n=0;n<e.holes.length;n++)e.holes[n].start>t&&r.push({pos:!1,start:t,end:e.holes[n].start}),r.push(G({pos:n+1},e.holes[n])),t=e.holes[n].end;return t<e.code.length&&r.push({pos:!1,start:t,end:e.code.length}),r}function kt(e,r){return`
    <div class="name">${U(e.production)}${r[e.production]&&r[e.production].length>0?`<div class="tooltip">::= ${r[e.production].map(U).join("<br>&nbsp;|&nbsp;&nbsp;")}</div>`:""}</div>
  `}function Ft(e,r,t,n=-1){return`
    <li class="${n>=0?`child-${n+1}`:""}"
        data-collapsed="${n>=0?"true":"false"}">
      <span class="${e.holes.length>0?"":"terminal-symbol"}"
            data-quiz-state="${n>=0?"production":"done"}"
            data-is-terminal="${e.holes.length<=0}"
            data-is-trivial-hole="${e.holes.length===1&&e.holes[0].start===0&&e.holes[0].end===e.code.length}">

        ${Qr(e,r,t)}

        ${Xr(e,r)}

        ${kt(e,t)}
        ${Ut(e)}
      </span>
      ${e.holes.length>0?`<ul>${e.holes.map((s,l)=>Ft(s.content,r,t,l)).join("")}</ul>`:""}
    </li>
  `}function Qr(e,r,t){return`
  <div class="production">
    <select onchange="checkProduction(event, '${e.production}')">
      <option selected="true">${Bt[r]["select production"]}</option>
      ${Object.keys(t).map(n=>`
          <option value="${n}">${U(n)}</option>
        `).join("")}
    </select>
  </div>
  `}window.checkProduction=(e,r)=>{let t=e.target;if(t.value===r){let n=ne(t,"span");if(n){n.getAttribute("data-is-terminal")==="true"?n.setAttribute("data-quiz-state","done"):n.getAttribute("data-is-trivial-hole")==="true"?(n.setAttribute("data-quiz-state","done"),P([n],"+/li",!0).map(l=>l.setAttribute("data-collapsed","false"))):n.setAttribute("data-quiz-state","hole-marking"),P([n],"../+").map(l=>l.setAttribute("data-collapsed","false"));let s=L(n,"bsl-tools-tree");s&&Le(s)}}else{Array.from(t.selectedOptions).map(s=>s.remove());let n=ne(t,"span");n&&(n.classList.add("wrong"),window.setTimeout(()=>{n.classList.remove("wrong")},100))}};function Xr(e,r){return`
  <div class="hole-marking"
       data-holes="${btoa(JSON.stringify(e.holes.map(t=>[t.start,t.end,!1])))}">
    <div class="textarea-container">
      <div class="marker-container">
        ${e.code.split(`
`).map(t=>t.split("").map(n=>`<span class="char marker">${n}</span>`).join("")).join('<span class="char marker"></span><br>')}
      </div>
      <textarea autocorrect="off"
                spellcheck="false"
                cols="${e.code.split(`
`).map(t=>t.length).reduce((t,n)=>t>n?t:n)}"
                rows="${e.code.split(`
`).length}"
                oninput="stopInput(event, '${btoa(e.code)}')">${e.code}</textarea>
    </div><br>
    <button onclick="checkSelection(event)">
      ${Bt[r]["mark selected text as hole"]}
    </button>
  </div>
  `}window.stopInput=(e,r)=>{e.target.value=atob(r)};window.checkSelection=e=>{let r=e.target,t=L(r,"hole-marking");if(!t){console.error("checkProduction called from el. not wrapped in div.hole-marking");return}let n=JSON.parse(atob(t.getAttribute("data-holes"))),s=t.getElementsByTagName("textarea")[0],l=s.selectionStart,c=s.selectionEnd,p=l<c?l:c,d=l<c?c:l,f=-1;if(n.map((S,m)=>{S[0]===p&&S[1]===d&&(S[2]=!0,f=m)}),f>=0)t.setAttribute("data-holes",btoa(JSON.stringify(n))),P([t],".textarea-container/.marker-container/.marker",!0).slice(p,d).map(S=>S.classList.add("correct"));else{let S=P([t],".textarea-container/.marker-container/.marker",!0).slice(p,d);S.map(m=>m.classList.add("wrong")),window.setTimeout(()=>{S.map(m=>m.classList.remove("wrong"))},100)}if(n.every(S=>S[2])){let S=ne(t,"span");if(S){S.setAttribute("data-quiz-state","done"),P([S],"../ul/.child-1").map(x=>x.setAttribute("data-collapsed","false"));let m=L(S,"bsl-tools-tree");m&&Le(m)}}};function je(e,r,t){return t=t||" ",e.length>r?e:(r-=e.length,t+=t.repeat(r),e+t.slice(0,r))}var K=class extends Error{constructor(t,n,s,l){super();this.message=t,this.expected=n,this.found=s,this.location=l,this.name="SyntaxError",typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(this,K.prototype):this.__proto__=K.prototype,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,K)}static buildMessage(t,n){function s(S){return S.charCodeAt(0).toString(16).toUpperCase()}function l(S){return S.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,m=>"\\x0"+s(m)).replace(/[\x10-\x1F\x7F-\x9F]/g,m=>"\\x"+s(m))}function c(S){return S.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,m=>"\\x0"+s(m)).replace(/[\x10-\x1F\x7F-\x9F]/g,m=>"\\x"+s(m))}function p(S){switch(S.type){case"literal":return'"'+l(S.text)+'"';case"class":let m=S.parts.map(x=>Array.isArray(x)?c(x[0])+"-"+c(x[1]):c(x));return"["+(S.inverted?"^":"")+m+"]";case"any":return"any character";case"end":return"end of input";case"other":return S.description}}function d(S){let m=S.map(p),x,h;if(m.sort(),m.length>0){for(x=1,h=1;x<m.length;x++)m[x-1]!==m[x]&&(m[h]=m[x],h++);m.length=h}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function f(S){return S?'"'+l(S)+'"':"end of input"}return"Expected "+d(t)+" but "+f(n)+" found."}format(t){let n="Error: "+this.message;if(this.location){let s=null,l;for(l=0;l<t.length;l++)if(t[l].source===this.location.source){s=t[l].text.split(/\r\n|\n|\r/g);break}let c=this.location.start,p=this.location.source+":"+c.line+":"+c.column;if(s){let d=this.location.end,f=je("",c.line.toString().length," "),S=s[c.line-1],m=c.line===d.line?d.column:S.length+1;n+=`
 --> `+p+`
`+f+` |
`+c.line+" | "+S+`
`+f+" | "+je("",c.column-1," ")+je("",m-c.column,"^")}else n+=`
 at `+p}return n}};function Yr(e,r){r=r!==void 0?r:{};let t={},n=r.grammarSource,s={Program:xt},l=xt,c=function(o){return o},p=/^[\t \n \r]/,d=ve(["	"," ",`
`," ","\r"],!1,!1),f=function(o){return o},S="(define-struct",m=w("(define-struct",!1),x="(",h=w("(",!1),_=")",B=w(")",!1),ie=function(o,a){return{type:"Struct Definition",binding:o,properties:a}},D="(define",le=w("(define",!1),xe=function(o,a,u){return{type:"Function Definition",name:o,args:a,body:u}},N=function(o,a){return{type:"Constant Definition",name:o,value:a}},V=function(o){return o},J="(cond",or=w("(cond",!1),sr=function(o){return{type:"Cond-Expression",options:o}},ir="[",lr=w("[",!1),ar="]",cr=w("]",!1),ur=function(o,a){return{type:"Cond-Option",condition:o,result:a}},pr=function(o,a){return{type:"Function Call",name:o,args:a}},nt="define",dr=w("define",!1),ot=/^[^",'`()[\]{}|#\n\t\r ]/,st=ve(['"',",","'","`","(",")","[","]","{","}","|","#",`
`,"	","\r"," "],!0,!1),mr=function(o){return{type:"Symbol",symbol:o.join("")}},fr=function(o){return{type:"Literal Value",value:o}},it=/^[0-9]/,lt=ve([["0","9"]],!1,!1),Sr=function(){return parseInt(Rr(),10)},at="#true",gr=w("#true",!1),ct="#false",yr=w("#false",!1),ut="#t",Tr=w("#t",!1),pt="#f",br=w("#f",!1),xr=function(o){return o==="#true"||o==="#t"},dt="'()",hr=w("'()",!1),Cr=function(){return"'()"},mt='"',ft=w('"',!1),St=/^[^"]/,gt=ve(['"'],!0,!1),vr=function(o){return o.join("")},Er=yt("whitespace"),_r=function(){},i=0,C=0,he=[{line:1,column:1}],H=0,Ve=[],T=0,Ce;if(r.startRule!==void 0){if(!(r.startRule in s))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');l=s[r.startRule]}function Rr(){return e.substring(C,i)}function Wn(){return fe(C,i)}function Jn(o,a){throw a=a!==void 0?a:fe(C,i),bt([yt(o)],e.substring(C,i),a)}function Qn(o,a){throw a=a!==void 0?a:fe(C,i),Pr(o,a)}function w(o,a){return{type:"literal",text:o,ignoreCase:a}}function ve(o,a,u){return{type:"class",parts:o,inverted:a,ignoreCase:u}}function Xn(){return{type:"any"}}function Lr(){return{type:"end"}}function yt(o){return{type:"other",description:o}}function Tt(o){let a=he[o],u;if(a)return a;for(u=o-1;!he[u];)u--;for(a=he[u],a={line:a.line,column:a.column};u<o;)e.charCodeAt(u)===10?(a.line++,a.column=1):a.column++,u++;return he[o]=a,a}function fe(o,a){let u=Tt(o),g=Tt(a);return{source:n,start:{offset:o,line:u.line,column:u.column},end:{offset:a,line:g.line,column:g.column}}}function b(o){i<H||(i>H&&(H=i,Ve=[]),Ve.push(o))}function Pr(o,a){return new K(o,[],"",a)}function bt(o,a,u){return new K(K.buildMessage(o,a),o,a,u)}function xt(){let o,a,u;if(o=i,a=[],u=ht(),u!==t)for(;u!==t;)a.push(u),u=ht();else a=t;return a!==t&&(C=o,a=c(a)),o=a,o}function ht(){let o,a,u,g;if(o=i,a=$r(),a===t&&(a=Q()),a!==t){if(u=[],p.test(e.charAt(i))?(g=e.charAt(i),i++):(g=t,T===0&&b(d)),g!==t)for(;g!==t;)u.push(g),p.test(e.charAt(i))?(g=e.charAt(i),i++):(g=t,T===0&&b(d));else u=t;u!==t?(C=o,a=c(a),o=a):(i=o,o=t)}else i=o,o=t;return o}function $r(){let o,a,u;return o=i,a=$(),a!==t?(u=Ar(),u===t&&(u=Ir(),u===t&&(u=Br())),u!==t?(C=o,a=f(u),o=a):(i=o,o=t)):(i=o,o=t),o}function Ar(){let o,a,u,g,y,M,R,A,X;if(o=i,e.substr(i,14)===S?(a=S,i+=14):(a=t,T===0&&b(m)),a!==t)if(u=O(),u!==t)if(g=$(),g!==t)if(e.charCodeAt(i)===40?(y=x,i++):(y=t,T===0&&b(h)),y!==t){if(M=[],R=O(),R!==t)for(;R!==t;)M.push(R),R=O();else M=t;M!==t?(e.charCodeAt(i)===41?(R=_,i++):(R=t,T===0&&b(B)),R!==t?(A=$(),A!==t?(e.charCodeAt(i)===41?(X=_,i++):(X=t,T===0&&b(B)),X!==t?(C=o,a=ie(u,M),o=a):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)}else i=o,o=t;else i=o,o=t;else i=o,o=t;else i=o,o=t;return o}function Ir(){let o,a,u,g,y,M,R,A,X,Oe;if(o=i,e.substr(i,7)===D?(a=D,i+=7):(a=t,T===0&&b(le)),a!==t)if(u=$(),u!==t)if(e.charCodeAt(i)===40?(g=x,i++):(g=t,T===0&&b(h)),g!==t)if(y=O(),y!==t)if(M=$(),M!==t){if(R=[],A=O(),A!==t)for(;A!==t;)R.push(A),A=O();else R=t;R!==t?(e.charCodeAt(i)===41?(A=_,i++):(A=t,T===0&&b(B)),A!==t?(X=Q(),X!==t?(e.charCodeAt(i)===41?(Oe=_,i++):(Oe=t,T===0&&b(B)),Oe!==t?(C=o,a=xe(y,R,X),o=a):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)}else i=o,o=t;else i=o,o=t;else i=o,o=t;else i=o,o=t;else i=o,o=t;return o}function Br(){let o,a,u,g,y;return o=i,e.substr(i,7)===D?(a=D,i+=7):(a=t,T===0&&b(le)),a!==t?(u=O(),u!==t?(g=Q(),g!==t?(e.charCodeAt(i)===41?(y=_,i++):(y=t,T===0&&b(B)),y!==t?(C=o,a=N(u,g),o=a):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)):(i=o,o=t),o}function Q(){let o,a,u;return o=i,a=$(),a!==t?(u=kr(),u===t&&(u=wr(),u===t&&(u=Ur(),u===t&&(u=O()))),u!==t?(C=o,a=V(u),o=a):(i=o,o=t)):(i=o,o=t),o}function wr(){let o,a,u,g,y;if(o=i,e.substr(i,5)===J?(a=J,i+=5):(a=t,T===0&&b(or)),a!==t){if(u=[],g=Ct(),g!==t)for(;g!==t;)u.push(g),g=Ct();else u=t;u!==t?(g=$(),g!==t?(e.charCodeAt(i)===41?(y=_,i++):(y=t,T===0&&b(B)),y!==t?(C=o,a=sr(u),o=a):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)}else i=o,o=t;return o}function Ct(){let o,a,u,g,y,M,R,A;return o=i,a=$(),a!==t?(e.charCodeAt(i)===91?(u=ir,i++):(u=t,T===0&&b(lr)),u!==t?(g=$(),g!==t?(y=Q(),y!==t?(M=$(),M!==t?(R=Q(),R!==t?(e.charCodeAt(i)===93?(A=ar,i++):(A=t,T===0&&b(cr)),A!==t?(C=o,a=ur(y,R),o=a):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)):(i=o,o=t),o}function Ur(){let o,a,u,g,y;if(o=i,e.charCodeAt(i)===40?(a=x,i++):(a=t,T===0&&b(h)),a!==t)if(u=O(),u!==t){for(g=[],y=Q();y!==t;)g.push(y),y=Q();g!==t?(e.charCodeAt(i)===41?(y=_,i++):(y=t,T===0&&b(B)),y!==t?(C=o,a=pr(u,g),o=a):(i=o,o=t)):(i=o,o=t)}else i=o,o=t;else i=o,o=t;return o}function O(){let o,a,u,g,y;if(o=i,a=$(),a!==t)if(u=i,T++,e.substr(i,6)===nt?(g=nt,i+=6):(g=t,T===0&&b(dr)),T--,g===t?u=void 0:(i=u,u=t),u!==t){if(g=[],ot.test(e.charAt(i))?(y=e.charAt(i),i++):(y=t,T===0&&b(st)),y!==t)for(;y!==t;)g.push(y),ot.test(e.charAt(i))?(y=e.charAt(i),i++):(y=t,T===0&&b(st));else g=t;g!==t?(C=o,a=mr(g),o=a):(i=o,o=t)}else i=o,o=t;else i=o,o=t;return o}function kr(){let o,a;return o=i,a=Fr(),a===t&&(a=Dr(),a===t&&(a=Mr(),a===t&&(a=Nr()))),a!==t&&(C=o,a=fr(a)),o=a,o}function Fr(){let o,a,u,g;if(o=i,a=$(),a!==t){if(u=[],it.test(e.charAt(i))?(g=e.charAt(i),i++):(g=t,T===0&&b(lt)),g!==t)for(;g!==t;)u.push(g),it.test(e.charAt(i))?(g=e.charAt(i),i++):(g=t,T===0&&b(lt));else u=t;u!==t?(C=o,a=Sr(),o=a):(i=o,o=t)}else i=o,o=t;return o}function Dr(){let o,a,u;return o=i,a=$(),a!==t?(e.substr(i,5)===at?(u=at,i+=5):(u=t,T===0&&b(gr)),u===t&&(e.substr(i,6)===ct?(u=ct,i+=6):(u=t,T===0&&b(yr)),u===t&&(e.substr(i,2)===ut?(u=ut,i+=2):(u=t,T===0&&b(Tr)),u===t&&(e.substr(i,2)===pt?(u=pt,i+=2):(u=t,T===0&&b(br))))),u!==t?(C=o,a=xr(u),o=a):(i=o,o=t)):(i=o,o=t),o}function Mr(){let o,a,u;return o=i,a=$(),a!==t?(e.substr(i,3)===dt?(u=dt,i+=3):(u=t,T===0&&b(hr)),u!==t?(C=o,a=Cr(),o=a):(i=o,o=t)):(i=o,o=t),o}function Nr(){let o,a,u,g,y;if(o=i,a=$(),a!==t)if(e.charCodeAt(i)===34?(u=mt,i++):(u=t,T===0&&b(ft)),u!==t){if(g=[],St.test(e.charAt(i))?(y=e.charAt(i),i++):(y=t,T===0&&b(gt)),y!==t)for(;y!==t;)g.push(y),St.test(e.charAt(i))?(y=e.charAt(i),i++):(y=t,T===0&&b(gt));else g=t;g!==t?(e.charCodeAt(i)===34?(y=mt,i++):(y=t,T===0&&b(ft)),y!==t?(C=o,a=vr(g),o=a):(i=o,o=t)):(i=o,o=t)}else i=o,o=t;else i=o,o=t;return o}function $(){let o,a,u;for(T++,o=i,a=[],p.test(e.charAt(i))?(u=e.charAt(i),i++):(u=t,T===0&&b(d));u!==t;)a.push(u),p.test(e.charAt(i))?(u=e.charAt(i),i++):(u=t,T===0&&b(d));return a!==t&&(C=o,a=_r()),o=a,T--,o===t&&(a=t,T===0&&b(Er)),o}if(Ce=l(),Ce!==t&&i===e.length)return Ce;throw Ce!==t&&i<e.length&&b(Lr()),bt(Ve,H<e.length?e.charAt(H):null,H<e.length?fe(H,H+1):fe(H,H))}var pe=Yr;var Dt=`/* css for errors */
.error-wrapper{
    display:flex;
    flex-direction:column;
    margin:2vw;
    font-size:inherit;
}

.error{
    font-size:1.2em;
}
`;function Mt(){Array.from(document.getElementsByTagName("bsltree")).map(e=>{try{let r=pe(re(e.innerHTML)),t=Ke(r),n=e.getAttribute("quiz")==="true",s=e.getAttribute("lang")?e.getAttribute("lang"):void 0;ue(t,e,qe,n,s)}catch(r){en(e,`${r.location.start.line}:${r.location.start.column} ${r}`)}})}function en(e,r){if(!document.getElementById("bsl-tools-error-style")){let d=document.createElement("style");d.innerHTML=Dt,d.id="bsl-tools-error-style",document.getElementsByTagName("head")[0].appendChild(d)}let t=e.innerHTML;e.innerHTML="";let n=document.createElement("div");n.classList.add("error-wrapper"),e.appendChild(n);let s=`<p> BSL-Tree could not be parsed! </p>
                  <p> Input: <b style="font-size:0.9em;">${t}</b> </p>`,l=document.createElement("div");l.classList.add("origin"),l.innerHTML=s,n.appendChild(l);let c=document.createElement("pre");c.classList.add("error");let p=document.createElement("code");p.textContent=r,n.appendChild(c),c.appendChild(p)}var qe={"<program>":["<def-or-expr>*"],"<def-or-expr>*":[],"<def-or-expr>":["<definition>","<e>"],"<definition>":["(define (<name> <name>+) <e>)","(define <name> <e>)","(define-struct <name> (<name>*))"],"<e>":["(name <e>*)","(cond {[<e>,<e>]}+)","<name>","<v>"],"<e>*":[],"{[ <e> <e> ]}+":[],"[ <e> <e> ]":[],"<name>*":[],"<name>+":[],"<name>":[],"<v>":[]};function Ke(e){let r=e.map(ae),t=[],n="";for(let s=0;s<r.length;s++){s>0&&(n=`${n}
`);let l=n.length;n=`${n}${r[s]}`;let c=n.length;t.push({start:l,end:c})}return{production:"<program>",code:n,holes:[{start:0,end:n.length,content:{production:"<def-or-expr>*",code:n,holes:t.map((s,l)=>({start:s.start,end:s.end,content:tn(e[l])}))}}]}}function tn(e){let r=ae(e);return{production:"<def-or-expr>",code:r,holes:[{start:0,end:r.length,content:Ee(e)?rn(e):de(e)}]}}function rn(e){let r="",t=[];if(Y(e)){r="(define (";let n=r.length;r=`${r}${v(e.name)}`,t.push({start:n,end:r.length,content:oe(e.name)}),r=`${r} `,n=r.length,r=`${r}${e.args.map(v).join(" ")}`,t.push({start:n,end:r.length,content:nn(e.args)}),r=`${r}) `,n=r.length,r=`${r}${E(e.body)}`,t.push({start:n,end:r.length,content:de(e.body)}),r=`${r})`}else if(z(e)){r="(define ";let n=r.length;r=`${r}${v(e.name)}`,t.push({start:n,end:r.length,content:oe(e.name)}),r=`${r} `,n=r.length,r=`${r}${E(e.value)}`,t.push({start:n,end:r.length,content:de(e.value)}),r=`${r})`}else{r="(define-struct ";let n=r.length;r=`${r}${v(e.binding)}`,t.push({start:n,end:r.length,content:oe(e.binding)}),r=`${r} (`,n=r.length,r=`${r}${e.properties.map(v).join(" ")}`,t.push({start:n,end:r.length,content:on(e.properties)}),r=`${r}))`}return{production:"<definition>",code:r,holes:t}}function de(e){let r="",t=[];if(W(e)){r="(";let n=r.length;r=`${r}${v(e.name)}`,t.push({start:n,end:r.length,content:oe(e.name)}),r=`${r} `,n=r.length,r=`${r}${e.args.map(E).join(" ")}`,t.push({start:n,end:r.length,content:sn(e.args)}),r=`${r})`}else if(Z(e)){r="(cond ";let n=r.length;r=`${r}${e.options.map(ee).join(" ")}`,t.push({start:n,end:r.length,content:ln(e.options)}),r=`${r})`}else j(e)?(r=v(e),t.push({start:0,end:r.length,content:oe(e)})):(r=E(e),t.push({start:0,end:r.length,content:cn(e)}));return{production:"<e>",code:r,holes:t}}function oe(e){return{production:"<name>",code:v(e),holes:[]}}function nn(e){e.length<1&&console.error("<name>+ but used but names are empty");let r="",t=[];for(let n=0;n<e.length;n++){let s=r.length;r=`${r}${v(e[n])}`,t.push({start:s,end:r.length,content:oe(e[n])}),n<e.length-1&&(r=`${r} `)}return{production:"<name>+",code:r,holes:t}}function on(e){let r="",t=[];for(let n=0;n<e.length;n++){let s=r.length;r=`${r}${v(e[n])}`,t.push({start:s,end:r.length,content:oe(e[n])}),n<e.length-1&&(r=`${r} `)}return{production:"<name>*",code:r,holes:t}}function sn(e){let r="",t=[];for(let n=0;n<e.length;n++){let s=r.length;r=`${r}${E(e[n])}`,t.push({start:s,end:r.length,content:de(e[n])}),n<e.length-1&&(r=`${r} `)}return{production:"<e>*",code:r,holes:t}}function ln(e){let r="",t=[];for(let n=0;n<e.length;n++){let s=r.length;r=`${r}${ee(e[n])}`,t.push({start:s,end:r.length,content:an(e[n])}),n<e.length-1&&(r=`${r} `)}return{production:"{[ <e> <e> ]}+",code:r,holes:t}}function an(e){let r="",t=[];r=`${r}[`;let n=r.length;return r=`${r}${E(e.condition)}`,t.push({start:n,end:r.length,content:de(e.condition)}),r=`${r} `,n=r.length,r=`${r}${E(e.result)}`,t.push({start:n,end:r.length,content:de(e.result)}),r=`${r}]`,{production:"[ <e> <e> ]",code:r,holes:t}}function cn(e){return{production:"<v>",code:E(e),holes:[]}}var Ge=(m=>(m.Add="+",m.Sub="-",m.Mul="*",m.Div="/",m.And="and",m.Or="or",m.Not="not",m.Leq="<=",m.Geq=">=",m.Lt="<",m.Gt=">",m))(Ge||{});function Pe(e){return e.type==="DefinitionStep"}function $e(e){return e.type==="EvalStep"}function ge(e){return e.type==="CallRedex"}function ye(e){return e.type==="CondRedex"}function Te(e){return e.type==="NameRedex"}function Ae(e){return e.type==="Hole"}function Ie(e){return e.type==="AppContext"}function Be(e){return e.type==="CondContext"}function we(e){return e.type==="Split"}function Nt(e){return e.type==="Prim"||e.type==="PrimError"||e.type==="CondTrue"||e.type==="CondFalse"||e.type==="CondError"||e.type==="Const"||e.type==="ConstError"||e.type==="Fun"||e.type==="FunError"||e.type==="StructMake"||e.type==="StructMakeError"||e.type==="StructPredTrue"||e.type==="StructPredFalse"||e.type==="StructPredError"||e.type==="StructSelect"||e.type==="StructSelectError"}function We(e){return e.type==="Kong"}function F(e){return typeof e=="number"||typeof e=="string"||typeof e=="boolean"||e==="'()"||q(e)}function Ht(e){return e.type==="PrimDef"}function Je(e){return e.type==="FunEnv"}function Vt(e){return e.type==="StructDef"}function be(e){return e.type==="Identifier"}function Ot(e){return e.type==="MakeFun"||e.type==="PredFun"||e.type==="SelectFun"}function zt(e){return e.type==="MakeFun"}function jt(e){return e.type==="PredFun"}function Kt(e){let r=bn();if(r instanceof Error)return r;let t=r,n=e.map(d=>{let f=un(d,t);return f instanceof Error||(t=f.env),f});if(n.some(d=>d instanceof Error))return n.find(d=>d instanceof Error);let l=n.some(d=>d.result instanceof Error),c=l?n.findIndex(d=>d.result instanceof Error):-1,p=l?n.slice(0,c+1):n;return{type:"Stepper",originProgram:e,progSteps:p}}function un(e,r){if(_e(e)){let t=Gt(e,r);if(t instanceof Error)return t;if(t.length===0)return{type:"ExprStep",env:r,evalSteps:[],originalDefOrExpr:e,result:Wt(e,r)};{let n=t[t.length-1].result;return _e(n)?new Error("Result is not a value"):{type:"ExprStep",env:t[t.length-1].env,evalSteps:t,originalDefOrExpr:e,result:n}}}else return pn(e,r)}function pn(e,r){if(z(e)){let s=e.name,l=e.value;if(I(l)){let c=l.value,p=se(r,s.symbol,c),d=p instanceof Error,f=d?{type:"ProgError",result:p}:{type:"Prog",result:e};return{type:"DefinitionStep",env:d?r:p,rule:f,evalSteps:[],originalDefOrExpr:e,result:d?p:e}}else{let c=Gt(l,r);if(c instanceof Error)return c;let p=c[c.length-1].result;if(F(p)){let d=se(r,s.symbol,p),f=d instanceof Error,S={type:"Constant Definition",name:s,value:{type:"Literal Value",value:p}},m=f?{type:"ProgError",result:d}:{type:"Prog",result:S};return{type:"DefinitionStep",env:f?r:d,rule:m,evalSteps:c,originalDefOrExpr:e,result:S}}else return p instanceof Error?{type:"DefinitionStep",env:r,rule:{type:"ProgError",result:p},evalSteps:c,originalDefOrExpr:e,result:p}:new Error("Neither a value nor an error; Could not evaluate expression with call-by-value")}}else if(Y(e)){let s=e.name,l={type:"FunEnv",params:e.args,body:e.body},c=se(r,s.symbol,l),p=c instanceof Error,d=p?{type:"ProgError",result:c}:{type:"Prog",result:e};return{type:"DefinitionStep",env:p?r:c,rule:d,evalSteps:[],originalDefOrExpr:e,result:p?c:e}}else{let s=e.binding,l=e.properties,c={type:"StructDef",properties:l},p=se(r,s.symbol,c);if(p instanceof Error)return{type:"DefinitionStep",env:r,rule:{type:"ProgError",result:p},evalSteps:[],originalDefOrExpr:e,result:p};let d=t(s,c),f=n(p,d),S=f instanceof Error,m=S?{type:"ProgError",result:f}:{type:"Prog",result:e};return{type:"DefinitionStep",env:S?r:f,evalSteps:[],rule:m,originalDefOrExpr:e,result:S?f:e}}function t(s,l){let c=l.properties,p=`make-${s.symbol}`,d={type:"MakeFun",structDef:l},f=`${s.symbol}?`,S={type:"PredFun",structDef:l},m=[];c.map(_=>{m.push(`${s.symbol}-${_.symbol}`)});let x={type:"SelectFun",structDef:l},h=[[p,d],[f,S]];return m.forEach(_=>{h.push([_,x])}),h}function n(s,l){console.log("funDefs: ",l);let c=s;for(let p=0;p<l.length;p++){let d=l[p];if(c=se(c,d[0],d[1]),c instanceof Error)return c}return c}}function Gt(e,r){let t=[],n=e;for(;!F(n);){let s=Wt(n,r);if(F(s))n=s;else if($e(s))if(s.result instanceof Error){t.push(s);break}else n=s.result,t.push(s);else return s}return t}function Wt(e,r){if(I(e))return e.value;{let t=Xe(e);if(we(t)){let n=dn(t.redex,r);if(Nt(n)){let s=Jt(n,t.context,r);return $e(s),s}else return n}else return t}}function Xe(e){let r={type:"Hole"};if(W(e)){let t=e.name,n=e.args;if(n.every(f=>I(f))){let f={type:"CallRedex",name:t,args:n.map(S=>S.value)};return{type:"Split",redex:f,context:r}}let s=n.findIndex(f=>!I(f)),l=n.slice(0,s),c=n[s],p=n.slice(s+1),d=Xe(c);return we(d)?{type:"Split",redex:d.redex,context:{type:"AppContext",op:t,values:l.map(f=>f.value),ctx:d.context,args:p}}:d}else if(Z(e)){let t=e.options[0];if(I(t.condition))return{type:"Split",redex:{type:"CondRedex",options:e.options},context:r};{let n=Xe(t.condition);return we(n)?{type:"Split",redex:n.redex,context:{type:"CondContext",options:e.options,ctx:n.context}}:n}}else return j(e)?{type:"Split",context:r,redex:{type:"NameRedex",symbol:e.symbol}}:Error("split: neither a call nor a cond nor name")}function dn(e,r){if(ge(e))if(e.args.every(F)){let n=e.args,s=Fe(r,e.name.symbol);if(Ht(s)){let l=mn(e.name,n);return l instanceof Error?{type:"PrimError",redex:e,result:l}:{type:"Prim",redex:e,result:l}}else if(Je(s)){let l=Sn(e,r);return l instanceof Error?{type:"FunError",redex:e,result:l}:{type:"Fun",redex:e,result:l}}else if(Ot(s))if(zt(s)){let l=gn(e.name,s,n,r);return l instanceof Error?{type:"StructMakeError",redex:e,result:l}:{type:"StructMake",redex:e,result:l}}else if(jt(s)){let l=yn(e.name,s,n);return l instanceof Error?{type:"StructPredError",redex:e,result:l}:l?{type:"StructPredTrue",redex:e,result:l}:{type:"StructPredFalse",redex:e,result:l}}else{let l=Tn(e.name,s,n);return l instanceof Error?{type:"StructSelectError",redex:e,result:l}:{type:"StructSelect",redex:e,result:l}}else return{type:"FunError",redex:e,result:Error(`function '${e.name.symbol}' is not in env`)}}else{let n=Qe(e,r);return n instanceof Error?{type:"ConstError",redex:e,result:n}:{type:"Const",redex:e,result:n}}else if(ye(e))if(I(e.options[0].condition)){let t=fn(e);if(t===void 0){let n=e.options.slice(1);if(n.length<1)return{type:"CondError",redex:e,result:Error("'cond': all question results were false")};let s={type:"Cond-Expression",options:n};return{type:"CondFalse",redex:e,result:s}}else return _e(t)||F(t)?{type:"CondTrue",redex:e,result:t}:{type:"CondError",redex:e,result:t}}else{let t=Qe(e,r);return t instanceof Error?{type:"ConstError",redex:e,result:t}:{type:"Const",redex:e,result:t}}else if(Te(e)){let t=Qe(e,r);return t instanceof Error?{type:"ConstError",redex:e,result:t}:{type:"Const",redex:e,result:t}}else return Error("step: redex is neither a call nor cond nor name")}function Jt(e,r,t){if(Ae(r))return{type:"EvalStep",env:t,rule:e,context:r,result:e.result};{let n=Jt(e,r.ctx,t);if($e(n)){if(n.result instanceof Error)return{type:"EvalStep",env:n.env,rule:n.rule,context:r,result:n.result};if(Ie(r)){let l=[r.values,n.result,r.args].flat().map(p=>F(p)?{type:"Literal Value",value:p}:be(p)?{type:"Symbol",symbol:p.symbol}:p),c={type:"Function Call",name:r.op,args:l};return{type:"EvalStep",env:t,rule:{type:"Kong",context:r,redexRule:e},context:r,result:c}}else if(Be(r)){let s=r.options,l=F(n.result)?{type:"Literal Value",value:n.result}:n.result,p=[{type:"Cond-Option",condition:l,result:s[0].result},...s.slice(1)],d={type:"Cond-Expression",options:p};return{type:"EvalStep",env:t,rule:{type:"Kong",context:r,redexRule:e},context:r,result:d}}else return Error("plug: context is not an AppContext or CondContext")}else return n}}function mn(e,r){if(["+","*","-","/"].includes(e.symbol)&&!r.every(t=>typeof t=="number")){let t=r.find(n=>typeof n!="number");return Error(`argument '${t}' is not a number in function '${e.symbol}'`)}switch(e.symbol){case"+":return r.reduce((t,n)=>t+n);case"*":return r.reduce((t,n)=>t*n);case"-":return r.reduce((t,n)=>t-n);case"/":return r.slice(1).every(t=>t!=0)?r.reduce((t,n)=>t/n):Error(`division by zero in function '${e.symbol}'`);default:}if(["and","or","not"].includes(e.symbol)&&!r.every(t=>typeof t=="boolean")){let t=r.find(n=>typeof n!="boolean");return Error(`argument '${t}' is not a boolean in function '${e.symbol}'`)}switch(e.symbol){case"and":return r.length<2?Error(`function '${e.symbol}' needs at least two arguments`):r.every(t=>t);case"or":return r.length<2?Error(`function '${e.symbol}' needs at least two arguments`):r.some(t=>t);case"not":return r.length!==1?Error(`function '${e.symbol}' needs exactly one argument`):!r[0];default:}if(["<",">","<=",">="].includes(e.symbol)){if(r.length!==2)return Error(`function '${e.symbol}' needs exactly two arguments`);let t=r[0],n=r[1];if(typeof t!="number"||typeof n!="number")return Error(`function '${e.symbol}' needs two numbers, but received '${t}' and '${n}'`);switch(e.symbol){case"<":return t<n;case"<=":return t<=n;case">=":return t>=n;case">":return t>n;default:return!0}}else return Error(`function '${e.symbol}' is no implemented primitive function`)}function fn(e){let r=e.options[0];return I(r.condition)&&r.condition.value==!0?I(r.result)?r.result.value:r.result:I(r.condition)&&r.condition.value==!1?void 0:Error("'cond': condition is not a boolean")}function Qe(e,r){if(ge(e)){let t=e.args.find(be);if(!t)return Error("id: could not find an identifier in argument list");let n=ke(r,t.symbol);if(n instanceof Error)return n;let s=e.args.map(l=>be(l)&&l.symbol===t.symbol?{type:"Literal Value",value:n}:be(l)?{type:"Symbol",symbol:l.symbol}:{type:"Literal Value",value:l});return{type:"Function Call",name:e.name,args:s}}else if(ye(e)){let t=e.options[0].condition;if(!j(t))return Error("substConst: condition is not a name");let n=ke(r,t.symbol);if(n instanceof Error)return n;let s={type:"Literal Value",value:n},l={type:"Cond-Option",condition:s,result:e.options[0].result};return{type:"Cond-Expression",options:[l]}}else return Te(e)?ke(r,e.symbol):Error("substConst: redex is not a call or cond or name")}function Sn(e,r){let t=xn(r,e.name.symbol);if(t instanceof Error)return t;let n=t.params;if(e.args.length!=n.length)return Error(`Arity mismatch in '${e.name.symbol}': number of arguments are not equal to number of parameters`);let s={};n.forEach((p,d)=>{let f=se(s,p.symbol,e.args[d]);if(f instanceof Error)return f;s=f});let l=t.body;return Ue(l,s)}function gn(e,r,t,n){let s=r.structDef.properties,l=e.symbol.slice(5);return hn(n,l)instanceof Error?Error(`'${l}' not found in environment`):s.length==t.length?{type:"Struct Value",structDef:e,properties:t.map(d=>({type:"Literal Value",value:d}))}:Error(`Arity mismatch in '${e.symbol}: number of arguments does not match number of properties`)}function yn(e,r,t){let n=r.structDef.properties;if(t.length!=1)return Error(`'${e.symbol}' takes exactly one argument`);if(q(t[0])){let s=t[0],l=s.structDef.symbol.split("-")[1],c=e.symbol.split("?")[0];return l===c?n.length==s.properties.length:!1}else return!1}function Tn(e,r,t){if(t.length!=1)return Error("selectStruct: number of arguments doesn't match");if(q(t[0])){let n=t[0],s=n.structDef.symbol.split("-")[1],l=e.symbol.split("-")[0],c=e.symbol.split("-")[1];if(s!==l)return Error("selectStruct: struct name doesn't match");{let p=r.structDef.properties.map(d=>d.symbol);if(p.includes(c)){let d=p.indexOf(c),f=n.properties[d];return I(f)?f.value:n.properties[d]}else return Error("selectStruct: property doesn't exist")}}else return Error("selectStruct: argument is not a struct value")}function Ue(e,r){if(I(e))return e;if(j(e)){let t=ke(r,e.symbol);return t instanceof Error?t:{type:"Literal Value",value:t}}else if(W(e)){let t=e.args.map(n=>{let s=Ue(n,r);return s instanceof Error?n:s});return t.some(n=>n instanceof Error)?Error("substExpr: error in args"):{type:"Function Call",name:e.name,args:t}}else{let t=e.options.map(s=>{let l=Ue(s.condition,r),c=Ue(s.result,r);return l instanceof Error||c instanceof Error?Error("substExpr: error in cond"):{type:"Cond-Option",condition:l,result:c}});return t.some(s=>s instanceof Error)?Error("substExpr: error in cond"):{type:"Cond-Expression",options:t}}}function bn(){let e={};return Object.entries(Ge).forEach(r=>{if(e instanceof Error)return e;e=se(e,r[1],{type:"PrimDef"})}),e===void 0?Error("initEnv: environment is undefined"):(e instanceof Error,e)}function se(e,r,t){if(e[r]===void 0){let n=G({},e);return n[r]=t,n}else return Error(`'${r}' already exists in environment`)}function Fe(e,r){return r in e?e[r]:Error(`'${r}' is not bound in environment`)}function ke(e,r){let t=Fe(e,r);return t instanceof Error||F(t)?t:Error("lookupConst: name is not bound to a Value")}function xn(e,r){let t=Fe(e,r);return t instanceof Error||Je(t)?t:Error("lookupFun: name is not bound to a Fun")}function hn(e,r){let t=Fe(e,r);return t instanceof Error||Vt(t)?t:Error("lookupStruct: name is not bound to a Struct")}var Qt=`/* ######### colors ####### */
.bsl-tools-stepper {
  /* --branch-color: #666; */
  --box-background: #ebf0f4; /* racket azure */
  --box-border: #0d3657;
  --button-border: #0d3657;
  --text-grey: #444; /* like in scribble */
  --hole-yellow: #fdf68d; /* pale yellow */
  --hole-green: lightgreen;
  --hole-red: lightpink;
  --font-family-monospace: 'Fira Sans', monospace;
  --font-family-rule-description: Palatino, Georgia, "Times New Roman", serif;
}
/* ####### general layout ####### */
div.bsl-tools-stepper {
  text-align: center;
  box-sizing: border-box;
}
/* ##### boxes ###### */
.bsl-tools-stepper .box {
  text-align: left;
  background-color: var(--box-background);
  padding: 0.5em;
  padding-top: 1em;
  border: 1px solid var(--box-border);
  border-radius: 0.5em;
  position: relative;
  margin-bottom: 1.5em;
}
.bsl-tools-stepper .boxlabel {
  position: absolute;
  top: -1em;
  left: 0.5em;
  padding: 0.25em;
  border: 0px solid transparent;
  border-radius: 0.25em;
  background-color: var(--box-background);
  color: var(--box-border);

}
/* single step */
.bsl-tools-stepper .step {
  margin-bottom: 0.5em;
  position: relative;
  background-color: white;
  padding: 0.5em;
}

/* ####### buttons ###### */
.bsl-tools-stepper .step[data-currentStep="true"] {
  padding-top: 1.5em;
  margin-top: 1.5em;
  padding-bottom: 1.5em;
  margin-bottom: 1.5em;

}
.bsl-tools-stepper .prev-button, .bsl-tools-stepper .next-button {
  display: none;
}
.bsl-tools-stepper [data-currentStep="true"] .prev-button,
.bsl-tools-stepper [data-currentStep="true"] .next-button {
  position: absolute;
  display: inline-block;
  right: 2em;
  padding: 0.5em;
  border: 1px solid var(--button-border);
  background-color: white;
  border-radius: 0.25em;
}
.bsl-tools-stepper .prev-button:hover, .bsl-tools-stepper .next-button:hover {
  cursor: pointer;
}
.bsl-tools-stepper .prev-button {
  top: -1em;
}
/* second child because of box label */
.bsl-tools-stepper .step:nth-child(2) .prev-button {
  top: -3.5em;
}
.bsl-tools-stepper .next-button {
  bottom: -1.25em;
}
.bsl-tools-stepper .step:last-child .next-button {
  bottom: -3.25em;
}
.bsl-tools-stepper .step:last-child .info-toggle {
  position: absolute;
  right: 0;
  bottom: -4em;
  margin: 0;
  background-color: white;
}
.bsl-tools-stepper .icon {
  display: inline-block;
  height: 1em;
}
.bsl-tools-stepper .split-result .icon {
  opacity: 70%;
}
.bsl-tools-stepper [data-visible="false"] {
  display: none;
}

/* ######### code and rules ####### */
.bsl-tools-stepper .code {
  font-family: var(--font-family-monospace, monospace);
  color: var(--text-grey);
}
.bsl-tools-stepper .plug-result {
  position: relative;
  z-index: 2;
}
.bsl-tools-stepper .hole {
  display: inline-block;
  background-color: var(--hole-yellow);
  /* border: 1px solid var(--text-grey); */
  color: var(--text-grey);
  padding-left: 0.25em;
  padding-right: 0.25em;
  position: relative;
}
.bsl-tools-stepper .hole-result {
  background-color: var(--hole-green);
}
.bsl-tools-stepper .hole-result.rule-hole {
  padding: 0;
}
.bsl-tools-stepper .hole-error {
  background-color: var(--hole-red);
}
.bsl-tools-stepper .rule {
  display: inline-block;
  position: relative;
  padding-left: .5em;
  width: fit-content;
  white-space: nowrap;
  margin-top: 1em;
  margin-bottom: 1.5em;
}
.bsl-tools-stepper .kong {
  position: absolute;
  left: 0;
  top: 0;
  padding-left: 0;
  background-color: rgba(255,255,255,0.5);
}
.bsl-tools-stepper .one-rule {
  margin-left: var(--one-rule-margin-left, 4em);
}
.bsl-tools-stepper .rule-description {
  font-family: var(--font-family-monospace, monospace);
}

/* arrow body */
.bsl-tools-stepper .left-arrowed::before {
  position: absolute;
  content: '';
  left: 0;
  top: -0.5em;
  height: 2.5em;
  border-left: 2px solid var(--text-grey);
  z-index: -1;
}
.bsl-tools-stepper .kong::before {
  left: 0.35em;
  border-left: 2px dotted var(--text-grey);
}

/* arrow head */
.bsl-tools-stepper .left-arrowed::after {
  position: absolute;
  content: '';
  left: calc(2px - 0.35em); /*-0.35em; /* ca. sqrt(2)/2 * 0.5em */
  top: 1.5em;
  width: 0.5em;
  height: 0.5em;
  border-right: 2px solid var(--text-grey);
  border-bottom: 2px solid var(--text-grey);
  transform: rotate(45deg);
}
.bsl-tools-stepper .kong::after {
  left: 2px;
}
/* rule info */
.bsl-tools-stepper .info-toggle {
  margin-top: 1em;
  margin-bottom: 1.5em;
  margin-left: 0.5em;
  float: right;
}
.bsl-tools-stepper .info-toggle:hover {
  cursor: pointer;
}
.bsl-tools-stepper .rule-info {
  padding: 0.5em;
}
.bsl-tools-stepper .rule-info-rule-text {
  font-family: var(--font-family-rule-description, serif);
}
.bsl-tools-stepper .rule-info-rule-text small {
  vertical-align: sub;
}
.bsl-tools-stepper cap {
  font-variant-caps: small-caps;
}
.bsl-tools-stepper .rule-info-rule-name {
  position: absolute;
  left: -6em;
  top: 0;
}
.bsl-tools-stepper .rule-info-text-container {
  position: relative;
  margin-left: 6em;
  margin-bottom: 1em;
}

/* ##### showing and hiding stuff #### */
/* hide steps that are not yet reached */
.bsl-tools-stepper .step[data-currentStep="true"] ~ .step {
  display: none;
}
/* collapsing and expanding steps */
.bsl-tools-stepper .step[data-collapsed="true"] .plug-result {
  display: none;
}
.bsl-tools-stepper .expander, .bsl-tools-stepper .collapser {
  padding-left: 0.25em;
  padding-right: 0.25em;
  float: right;
}
.bsl-tools-stepper .expander:hover, .bsl-tools-stepper .collapser:hover {
  cursor: pointer;
}
.bsl-tools-stepper .step[data-collapsed="true"] .collapser {
  display: none;
}
.bsl-tools-stepper .step[data-collapsed="false"] .expander {
  display: none;
}
/* collapsing and expanding info about the rules */
.bsl-tools-stepper .plug-result[data-info-collapsed="true"] .rule-info,
.bsl-tools-stepper .plug-result[data-info-collapsed="true"] .info-collapse {
  display: none;
}
.bsl-tools-stepper .plug-result[data-info-collapsed="false"] .info-expand {
  display: none;
}
`;var De="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODQgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMzUyIDM1MmMtOC4xODggMC0xNi4zOC0zLjEyNS0yMi42Mi05LjM3NUwxOTIgMjA1LjNsLTEzNy40IDEzNy40Yy0xMi41IDEyLjUtMzIuNzUgMTIuNS00NS4yNSAwcy0xMi41LTMyLjc1IDAtNDUuMjVsMTYwLTE2MGMxMi41LTEyLjUgMzIuNzUtMTIuNSA0NS4yNSAwbDE2MCAxNjBjMTIuNSAxMi41IDEyLjUgMzIuNzUgMCA0NS4yNUMzNjguNCAzNDguOSAzNjAuMiAzNTIgMzUyIDM1MnoiLz48L3N2Zz4=";var Me="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODQgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMTkyIDM4NGMtOC4xODggMC0xNi4zOC0zLjEyNS0yMi42Mi05LjM3NWwtMTYwLTE2MGMtMTIuNS0xMi41LTEyLjUtMzIuNzUgMC00NS4yNXMzMi43NS0xMi41IDQ1LjI1IDBMMTkyIDMwNi44bDEzNy40LTEzNy40YzEyLjUtMTIuNSAzMi43NS0xMi41IDQ1LjI1IDBzMTIuNSAzMi43NSAwIDQ1LjI1bC0xNjAgMTYwQzIwOC40IDM4MC45IDIwMC4yIDM4NCAxOTIgMzg0eiIvPjwvc3ZnPg==";var Xt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNNDMyIDI1NmMwIDE3LjY5LTE0LjMzIDMyLjAxLTMyIDMyLjAxSDI1NnYxNDRjMCAxNy42OS0xNC4zMyAzMS45OS0zMiAzMS45OXMtMzItMTQuMy0zMi0zMS45OXYtMTQ0SDQ4Yy0xNy42NyAwLTMyLTE0LjMyLTMyLTMyLjAxczE0LjMzLTMxLjk5IDMyLTMxLjk5SDE5MnYtMTQ0YzAtMTcuNjkgMTQuMzMtMzIuMDEgMzItMzIuMDFzMzIgMTQuMzIgMzIgMzIuMDF2MTQ0aDE0NEM0MTcuNyAyMjQgNDMyIDIzOC4zIDQzMiAyNTZ6Ii8+PC9zdmc+";var Yt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNNDAwIDI4OGgtMzUyYy0xNy42OSAwLTMyLTE0LjMyLTMyLTMyLjAxczE0LjMxLTMxLjk5IDMyLTMxLjk5aDM1MmMxNy42OSAwIDMyIDE0LjMgMzIgMzEuOTlTNDE3LjcgMjg4IDQwMCAyODh6Ii8+PC9zdmc+";var Ne="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMjU2IDBDMTE0LjYgMCAwIDExNC42IDAgMjU2czExNC42IDI1NiAyNTYgMjU2czI1Ni0xMTQuNiAyNTYtMjU2UzM5Ny40IDAgMjU2IDB6TTI1NiAxMjhjMTcuNjcgMCAzMiAxNC4zMyAzMiAzMmMwIDE3LjY3LTE0LjMzIDMyLTMyIDMyUzIyNCAxNzcuNyAyMjQgMTYwQzIyNCAxNDIuMyAyMzguMyAxMjggMjU2IDEyOHpNMjk2IDM4NGgtODBDMjAyLjggMzg0IDE5MiAzNzMuMyAxOTIgMzYwczEwLjc1LTI0IDI0LTI0aDE2di02NEgyMjRjLTEzLjI1IDAtMjQtMTAuNzUtMjQtMjRTMjEwLjggMjI0IDIyNCAyMjRoMzJjMTMuMjUgMCAyNCAxMC43NSAyNCAyNHY4OGgxNmMxMy4yNSAwIDI0IDEwLjc1IDI0IDI0UzMwOS4zIDM4NCAyOTYgMzg0eiIvPjwvc3ZnPg==";var He="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMCAyNTZDMCAxMTQuNiAxMTQuNiAwIDI1NiAwQzM5Ny40IDAgNTEyIDExNC42IDUxMiAyNTZDNTEyIDM5Ny40IDM5Ny40IDUxMiAyNTYgNTEyQzExNC42IDUxMiAwIDM5Ny40IDAgMjU2ek0xNzUgMjA4LjFMMjIyLjEgMjU1LjFMMTc1IDMwM0MxNjUuNyAzMTIuNCAxNjUuNyAzMjcuNiAxNzUgMzM2LjFDMTg0LjQgMzQ2LjMgMTk5LjYgMzQ2LjMgMjA4LjEgMzM2LjFMMjU1LjEgMjg5LjlMMzAzIDMzNi4xQzMxMi40IDM0Ni4zIDMyNy42IDM0Ni4zIDMzNi4xIDMzNi4xQzM0Ni4zIDMyNy42IDM0Ni4zIDMxMi40IDMzNi4xIDMwM0wyODkuOSAyNTUuMUwzMzYuMSAyMDguMUMzNDYuMyAxOTkuNiAzNDYuMyAxODQuNCAzMzYuMSAxNzVDMzI3LjYgMTY1LjcgMzEyLjQgMTY1LjcgMzAzIDE3NUwyNTUuMSAyMjIuMUwyMDguMSAxNzVDMTk5LjYgMTY1LjcgMTg0LjQgMTY1LjcgMTc1IDE3NUMxNjUuNyAxODQuNCAxNjUuNyAxOTkuNiAxNzUgMjA4LjFWMjA4LjF6Ii8+PC9zdmc+";function er(){Array.from(document.getElementsByTagName("stepper")).map(e=>{try{let r=pe(re(e.innerHTML));console.log(r),Ze(r,e)}catch(r){$n(r,e)}})}function $n(e,r){console.error(e);let t=e?`${e}`:"Unknown Error";r.innerHTML=`
    <h3>Error turning Program into Stepper</h3>
    <div>${r.innerHTML}</div>
    <div>${t}</div>
  `,r.style.cssText=`
    padding: 2em;
    color: darkred;
    display: block;
  `}function Ze(e,r){An();let t=Kt(e);if(console.log(te(Lt(e),30)),console.log(t),t instanceof Error)throw t;let n=In(r),s=Bn(r);r.innerHTML=wn(t,n,s)}function An(){if(!document.getElementById("bsl-tools-stepper-style")){let e=document.createElement("style");e.innerHTML=Qt,e.id="bsl-tools-stepper-style",document.getElementsByTagName("head")[0].appendChild(e)}}function In(e){let r=e.getAttribute("lang");if(r){if(!Zt.includes(r))return console.error(`
        Language ${r} is not implemented for this module,
        you can choose from ${Zt.join(",")}.
        Defaulting to 'en'.
      `),"en"}else return"en";return r}function Bn(e){let r="Loading...";e.innerHTML=`
    <div class="bsl-tools-stepper" style="width: 100%;">
      <div class="box">
        <div class="step code"
             data-currentStep="true">
          <p style="display: inline-block;">${r}</p>
        </div>
      </div>
    </div>
  `;let t=e.getElementsByTagName("p")[0],n=e.getElementsByClassName("bsl-tools-stepper")[0];if(!t||!n)return console.error("failed to inject measuring HTML into",e),{charWidth:12,maxChars:80};let s=t.clientWidth/r.length,c=Math.round(.9*n.clientWidth/s);return{charWidth:s,maxChars:c}}var Zt=["en","de"],k={en:{"current evaluation":"Current Evaluation","next step":"Next Step","previous step":"Previous Step",environment:"Environment","remaining program":"Remaining Program","start evaluation":"Start Evaluation","evaluation finished":"Evaluation Finished","evaluation finished with error":"Evaluation Finished because of Error","go back":"Go Back"},de:{"current evaluation":"Aktuelle Auswertung","next step":"N\xE4chster Schritt","previous step":"Vorheriger Schritt",environment:"Umgebung","remaining program":"Verbleibendes Programm","start evaluation":"Auswertung Starten","evaluation finished":"Auswertung Beendet","evaluation finished with error":"Auswertung wegen Fehler beendet","go back":"Schritt zur\xFCck"}};function wn(e,r,t){let n=e.progSteps;return`
    <div class="bsl-tools-stepper">

       <div class="box environment">
         <div class="boxlabel">${k[r].environment}</div>
         ${n.map((s,l)=>Un(s,l,t)).join("")}
       </div>

       <div class="box eval-steps"
            data-progstep="-1"
            data-visible="true">
         <div class="boxlabel">${k[r]["current evaluation"]}</div>
         <div class="step"
              data-currentStep="true">
           <div class="next-button"
                onclick="takeProgSteps(event, 1)">
             <cap>Prog</cap>: ${k[r]["start evaluation"]} <img class="icon" src="${Me}">
           </div>
           <div class="plug-result code"
                data-info-collapsed="true">
             <img class="icon info-toggle info-expand"
                     src="${Ne}"
                     onclick="expandInfo(event)">
             <img class="icon info-toggle info-collapse"
                     src="${He}"
                     onclick="collapseInfo(event)">
             ${tt("Prog",!1)}
           </div>
         </div>
       </div>

       ${n.map((s,l)=>Fn(s,l,r,t)).join("")}

       <div class="box eval-steps"
            data-progstep="${n.length}"
            data-visible="false">
         <div class="boxlabel">${k[r]["current evaluation"]}</div>
         <div class="step"
              data-currentStep="true">
            <div class="code">${n[n.length-1].result instanceof Error?`<span class="hole-error">${k[r]["evaluation finished with error"]}</span>`:k[r]["evaluation finished"]}</div>
            <div class="prev-button"
                 onclick="takeProgSteps(event, -1)">
              ${k[r]["go back"]} <img class="icon" src="${De}">
            </div>
         </div>
       </div>

       <div class="box program">
         <div class="boxlabel">${k[r]["remaining program"]}</div>
         ${e.originProgram.map((s,l)=>kn(s,l,t,n.length)).join("")}
       </div>

    </div>`}window.takeProgSteps=(e,r)=>{et(e,r)};function Un(e,r,t){return!Pe(e)||e.result instanceof Error?"":`
      <div class="step code"
           data-progstep="${r}"
           data-visible="false">
        ${te(U(Re(e.result)),t.maxChars,"html")}
      </div>
    `}function kn(e,r,t,n){return`
    <div class="step code"
         data-progstep="${r<=n-1?r:r+100}"
         data-visible="true">
      ${te(U(ae(e)),t.maxChars,"html")}
    </div>
  `}function Fn(e,r,t,n){let s=Pe(e)&&z(e.originalDefOrExpr)?{left:`(define ${e.originalDefOrExpr.name.symbol} `,right:")"}:{left:"",right:""};return`
    <div class="box eval-steps"
         data-progstep="${r}"
         data-visible="false">
      <div class="boxlabel">${k[t]["current evaluation"]}</div>
      ${e.evalSteps.map((l,c)=>On(c,l,t,G({},s),n)).join("")}
      ${Dn(e,t,n)}

    </div>
  `}function Dn(e,r,t){return`
  <div class="step"
       data-step="${e.evalSteps.length}"
       data-currentStep="${e.evalSteps.length===0?"true":"false"}"
       data-collapsed="false">
    <div class="prev-button"
         onclick="prevStep(event)">
      ${k[r]["previous step"]} <img class="icon" src="${De}">
    </div>
    <div class="next-button"
         onclick="nextStep(event)">
      <cap>Prog</cap>: ${k[r]["next step"]} <img class="icon" src="${Me}">
    </div>

    <div class="plug-result code ${e.result instanceof Error?"hole-error":""}"
         data-info-collapsed="true">
      ${te(U(Pe(e)&&!(e.result instanceof Error)?Re(e.result):`${e.result instanceof Error?e.result:ce(e.result)}`),t.maxChars)}
      <img class="icon info-toggle info-expand"
              src="${Ne}"
              onclick="expandInfo(event)">
      <img class="icon info-toggle info-collapse"
              src="${He}"
              onclick="collapseInfo(event)">
      ${tt(e.result instanceof Error?"ProgError":"Prog",!1)}
    </div>
  </div>
  `}function et(e,r){let t=e.target,n=t.getBoundingClientRect().y,s=L(t,"eval-steps");if(!s){console.error("found no parent with class .eval-steps",t);return}let l=s.getAttribute("data-progstep");if(!l){console.error("div with class .eval-steps has no data-progstep attribute",s);return}let p=parseInt(l)+r;if(p<-1){console.error(`cannot navigate to progStep ${p}: does not exist`);return}let d=s.parentElement;if(!d)return;Mn(d,p),Nn(d,p);let f=Hn(d,p);Vn(f,n,r>0)}function Mn(e,r){P([e],".environment/div").forEach(t=>{let n=t.getAttribute("data-progstep");n&&t.setAttribute("data-visible",parseInt(n)<r?"true":"false")})}function Nn(e,r){P([e],".program/div").forEach(t=>{let n=t.getAttribute("data-progstep");n&&t.setAttribute("data-visible",parseInt(n)>r?"true":"false")})}function Hn(e,r){return P([e],".eval-steps").filter(t=>{let n=t.getAttribute("data-progstep"),s=n&&parseInt(n)===r;return t.setAttribute("data-visible",s?"true":"false"),s})[0]}function Vn(e,r,t){let n=Array.from(e.children).filter(c=>c.getAttribute("data-currentstep")==="true")[0];if(!n)return;let s=n.querySelector(t?".next-button":".prev-button");if(!s)return;let l=s.getBoundingClientRect().y;window.scrollBy(0,l-r)}function On(e,r,t,n={left:"",right:""},s){let l=We(r.rule)?Ye(r.rule.context,n):r.result instanceof Error?Ye(r.context,n):n,c=We(r.rule)?r.rule.redexRule:r.rule,p=U(jn(c.redex));function d(N){if(F(N)){let V=ce(N);return{html:`${l.left}<span class="hole hole-result">${U(V)}</span>${l.right}`,redex:V,error:!1}}else if(N instanceof Error){let V=`${N}`,J=`<span class="hole hole-result hole-error">"${N}"</span>`;return{redex:V,html:J,error:!0}}else{let V=E(N),J=`${l.left}<span class="hole hole-result">${U(V)}</span>${l.right}`;return{redex:V,html:J,error:!1}}}let f=d(c.result),S=c.type,m=te(`${l.left}<span class="hole">${p}</span>${l.right}`,s.maxChars,"html"),x=te(f.html,s.maxChars,"html"),h=x.slice(0,x.indexOf('<span class="hole hole-result')).split("<br>").reverse()[0],_=h?re(h).length:0,B=4,ie=l.left.length>0&&_<B?B:_,D=me[S].name.replaceAll("<cap>","").replaceAll("</cap>",""),le=s.maxChars-ie-D.length-5,xe=p.length+f.redex.length<=le;return`
    <div class="step"
         data-step="${e}"
         data-currentStep="${e===0?"true":"false"}"
         data-collapsed="false">
      <div class="prev-button"
           onclick="prevStep(event)">
        ${k[t]["previous step"]} <img class="icon" src="${De}">
      </div>
      <div class="next-button"
           onclick="nextStep(event)">
        ${k[t]["next step"]} <img class="icon" src="${Me}">
      </div>

      <div class="split-result code">${m}<img class="icon expander"
              src="${Xt}"
              onclick="expand(event)"
        ><img class="icon collapser"
              src="${Yt}"
              onclick="collapse(event)"
      ></div>

      <div class="plug-result code"
           data-info-collapsed="true">
        <div>
          ${l.left!==""?`<span class="rule rule-name left-arrowed kong">
                 ${me.Kong.name}
              </span>`:""}

          <span class="rule left-arrowed one-rule"
                style="--one-rule-margin-left: ${ie*s.charWidth}px">
             <span class="rule-name">${me[S].name}</span>${xe?`:
                   <span class="rule-description">
                     <span class="hole rule-hole">${p}</span> \u2192
                     <span class="hole hole-result rule-hole ${f.error?"hole-error":""}">${U(f.redex)}</span>
                   </span>`:""}
           </span>

           <img src="${Ne}"
                class="icon info-toggle info-expand"
                onclick="expandInfo(event)">
           <img src="${He}"
                class="icon info-toggle info-collapse"
                onclick="collapseInfo(event)">

        </div>
        ${tt(S,l.left!=="")}
        <div>${x}</div>
      </div>

    </div>
  `}window.nextStep=e=>{let r=e.target,t=r.getBoundingClientRect().y,n=L(r,"step");if(!n)return;let s=n.nextElementSibling;if(!s){et(e,1);return}n.setAttribute("data-currentStep","false"),n.setAttribute("data-collapsed","true"),s.setAttribute("data-currentStep","true"),s.setAttribute("data-collapsed","false");let l=s.querySelector(".next-button");if(!l)return;let c=l.getBoundingClientRect().y;window.scrollBy(0,c-t)};window.prevStep=e=>{let r=e.target,t=r.getBoundingClientRect().y,n=L(r,"step");if(!n){console.error("prevStep not called from within an element of the .step class");return}if(n.getAttribute("data-step")==="0"){et(e,-1);return}let l=n.previousElementSibling;if(!l){console.error("prevStep called on a step with no previous html element");return}n.setAttribute("data-currentStep","false"),n.setAttribute("data-collapsed","true"),l.setAttribute("data-currentStep","true"),l.setAttribute("data-collapsed","false");let c=l.querySelector(".prev-button");if(!c)return;let p=c.getBoundingClientRect().y;window.scrollBy(0,p-t)};window.collapse=e=>{let r=e.target,t=L(r,"step");t&&t.setAttribute("data-collapsed","true")};window.expand=e=>{let r=e.target,t=L(r,"step");t&&t.setAttribute("data-collapsed","false")};function Ye(e,r={left:"",right:""}){if(Ae(e))return{left:U(r.left),right:U(r.right)};if(Ie(e)){let t=[v(e.op),...e.values.map(n=>q(n)?ce(n):`${n}`)];r.left=`${r.left}(${t.join(" ")} `,r.right=e.args.length>0?` ${e.args.map(E).join(" ")})${r.right}`:`)${r.right}`}else if(Be(e)){r.left=`${r.left}(cond [`;let t=[`${E(e.options[0].result)}]`,...e.options.slice(1).map(ee)];r.right=` ${t.join(" ")})${r.right}`}else throw console.error("Printing this context is not implemented yet",e),`Printing ${e.type} context is not implemented yet!`;return Ye(e.ctx,r)}function zn(e){return F(e)?ce(e):qn(e)}function jn(e){if(ge(e))return`(${v(e.name)} ${e.args.map(zn).join(" ")})`;if(ye(e))return`(cond ${e.options.map(ee).join(" ")})`;if(Te(e))return e.symbol;throw"Invalid Input to printRedex"}function qn(e){return e.symbol}function tt(e,r){let t=me[e];return`<div class="rule-info">${r?`
            <div class="rule-info-text-container">
              <div class="rule-info-rule-name">${me.Kong.name}</div>
              <div class="rule-info-rule-text">${me.Kong.text}</div>
            </div>
           `:""}
         <div class="rule-info-text-container">
           <div class="rule-info-rule-name">${t.name}</div>
           <div class="rule-info-rule-text">${t.text}</div>
         </div>
         </div>`}window.expandInfo=e=>{let r=e.target,t=L(r,"plug-result");!t||t.setAttribute("data-info-collapsed","false")};window.collapseInfo=e=>{let r=e.target,t=L(r,"plug-result");t&&t.setAttribute("data-info-collapsed","true")};var me={Kong:{name:"<cap>Kong</cap>",text:`
      <em>E[e<small>1</small>] \u2192 E[e<small>2</small>] falls e<small>1</small> \u2192 e<small>2</small></em><br>
      <em>\u2039E\u203A ::= []<br>
      &nbsp;&nbsp;&nbsp;| (\u2039name\u203A \u2039v\u203A* \u2039E\u203A \u2039e\u203A*)<br>
      &nbsp;&nbsp;&nbsp;| (<strong>cond</strong> [\u2039E\u203A \u2039e\u203A ]{[ \u2039e\u203A \u2039e\u203A]}*)</em>
    `},Fun:{name:"<cap>Fun</cap>",text:`
      <em>(name v<small>1</small> \u2026 v<small>n</small>) \u2192
      e[name<small>1</small> := v<small>1</small> \u2026 name<small>n</small> := v<small>n</small> ]</em>
      falls
      <em>(</em> <strong>define</strong> <em>(name name<small>1</small> \u2026 name<small>n</small>) e)</em> in Umgebung
    `},FunError:{name:"<cap>FunError</cap>",text:`
      <em>(name v<small>1</small> \u2026 v<small>n</small>) \u2192 Error</em>
      falls
      <em>(</em> <strong>define</strong> <em>(name name<small>1</small> \u2026 name<small>n</small>) e)</em> nicht in Umgebung.
    `},Prim:{name:"<cap>Prim</cap>",text:`
      <em>(name v<small>1</small> \u2026 v<small>n</small>) \u2192 v</em> falls
      <em>name</em> eine primitive Funktion <em>f</em> ist und
      <em>f(v<small>1</small> \u2026 v<small>n</small>) = v</em>
    `},PrimError:{name:"<cap>Prim</cap>-Error",text:`
      <em>(name v<small>1</small> \u2026 v<small>n</small>) \u2192 Error</em> falls
      <em>name</em> eine primitive Funktion <em>f</em> ist und
      <em>f(v<small>1</small> \u2026 v<small>n</small>) = Error</em>
    `},Const:{name:"<cap>Const</cap>",text:`
      <em>name \u2192 v</em> falls <em>(<strong>define</strong> name v)</em> in Umgebung.
    `},ConstError:{name:"<cap>Const</cap>-Error",text:`
      <em>name \u2192 Error</em> falls <em>(<strong>define</strong> name v)</em>
      nicht in Umgebung.
    `},CondTrue:{name:"<cap>Cond</cap>-True",text:`
      <em>(<strong>cond</strong> [<strong>#true</strong> e] \u2026) \u2192 e</em>
    `},CondFalse:{name:"<cap>Cond</cap>-False",text:`
      <em>(<strong>cond</strong> [<strong>#false</strong> e<small>1</small>]
         [e<small>2</small> e<small>3</small>] \u2026) \u2192
         (<strong>cond</strong> [e<small>2</small> e<small>3</small>] \u2026)</em>
    `},CondError:{name:"<cap>Cond</cap>-Error",text:`
      <em>(<strong>cond</strong> [e<small>1</small> e<small>2</small>] \u2026) \u2192
          (<strong>error</strong> "cond: all conditions false")</em>
    `},StructMake:{name:"<cap>Struct</cap>-make",text:`
      <em>(<strong>make</strong>-name v<small>1</small> \u2026 v<small>n</small>) \u2192
      &lt;<strong>make</strong>-name v<small>1</small> \u2026 v<small>n</small>&gt;</em>
      falls <em>(<strong>define-struct</strong> name (name<small>1</small> \u2026 name<small>n</small>))</em> in Umgebung
    `},StructMakeError:{name:"<cap>Struct</cap>-make-Error",text:""},StructSelect:{name:"<cap>Struct</cap>-select",text:`
      <em>(name-name<small>i</small> &lt;<strong>make</strong>-name
        v<small>1</small> \u2026 v<small>n</small>&gt;) \u2192 v<small>i</small></em>
        falls <em>(<strong>define-struct</strong> name
          (name<small>1</small> \u2026 name<small>n</small>))</em> in Umgebung
    `},StructSelectError:{name:"<cap>Struct</cap>-select-Error",text:""},StructPredTrue:{name:"<cap>Struct</cap>-predtrue",text:`
      <em>(name? &lt;<strong>make</strong>-name \u2026&gt;) \u2192 <strong>#true</strong></em>
    `},StructPredFalse:{name:"<cap>Struct</cap>-predfalse",text:`
      <em>(name? v) \u2192 <strong>#false</strong></em> falls <em>v</em> nicht
      <em>&lt;<strong>make</strong>-name \u2026&gt;</em> ist
    `},StructPredError:{name:"<cap>Struct</cap>-prederror",text:""},Prog:{name:"<cap>Prog</cap>",text:`
      Ein Programm wird von links nach rechts ausgef\xFChrt und startet mit der
      leeren Umgebung. Ist das n\xE4chste Programmelement eine Funktions- oder
      Strukturdefinition, so wird diese Definition in die Umgebung aufgenommen
      und die Ausf\xFChrung mit dem n\xE4chsten Programmelement in der erweiterten
      Umgebung fortgesetzt. Ist das n\xE4chste Programmelement ein Ausdruck, so
      wird dieser gem\xE4\xDF der unten stehenden Regeln in der aktuellen Umgebung zu
      einem Wert ausgewert. Ist das n\xE4chste Programmelement eine
      Konstantendefinition <em>(<strong>define</strong> x e)</em>, so wird in
      der aktuellen Umgebung zun\xE4chst <em>e</em> zu einem Wert <em>v</em>
      ausgewertet und dann <em>(<strong>define</strong> x v)</em> zur aktuellen
      Umgebung hinzugef\xFCgt.
    `},ProgError:{name:"<cap>Prog</cap>-Error",text:`
    Ein Programm wird von links nach rechts ausgef\xFChrt und startet mit der
    leeren Umgebung. Ist das n\xE4chste Programmelement eine Funktions- oder
    Strukturdefinition, so wird diese Definition in die Umgebung aufgenommen
    und die Ausf\xFChrung mit dem n\xE4chsten Programmelement in der erweiterten
    Umgebung fortgesetzt. Sofern die Definition allerdings schon in der Umgebung
    vorhanden ist, wird ein Fehler ausgegeben und die Auswertung beendet. Ist das
    n\xE4chste Programmelement ein Ausdruck, der in einem Fehler resultiert, wird
    die Auswertung ebenfalls beendet.
    `}};function tr(){Array.from(document.getElementsByTagName("bsltoolsgenerator")).map(e=>{try{Kn(e)}catch(r){console.error(r)}})}function Kn(e){e.innerHTML=`
    <div class="bsl-tools-generator">
      <div class="input">
        <label>
          <p>Enter valid BSL Code here:</p>
          <textarea id="code" cols="80" rows="5">
(define (f x) (* x 2))
(f 21)
          </textarea>
        </label><br>
        <button onclick="bsl_tools_generate(event)" data-type="tree">
          Generate Tree
        </button> |
        <button onclick="bsl_tools_generate(event)" data-type="tree-quiz">
          Generate Tree Quiz
        </button> |
        <button onclick="bsl_tools_generate(event)" data-type="stepper">
          Generate Stepper
        </button>
      </div>
      <div class="output">
      </div>
    </div>`}window.bsl_tools_generate=e=>{let r=e.target,t=r.getAttribute("data-type");if(!t||!["tree","tree-quiz","stepper"].includes(t)){console.error("invalid attribute data-type, must be one of tree, tree-quiz, stepper",t);return}let n=L(r,"input");if(!n){console.error("generate_tree called from button not within input div");return}let l=n.getElementsByTagName("textarea")[0].value,c=[];try{c=pe(l)}catch(x){window.alert(x);return}let p=P([n],"../.output")[0],d=document.createElement("div");d.classList.add("generated"),d.style.marginTop="2em",d.style.borderBottom="1px solid grey",p.prepend(d);let f=document.createElement("div");d.appendChild(f);let S=document.createElement("div");S.style.marginBottom="1em",S.innerHTML=`
    <button onclick="bsl_tools_remove(event)">Remove ${t} above</button>
  `,d.appendChild(S);let m=!1;switch(t){case"stepper":Ze(c,f);return;case"tree-quiz":m=!0;case"tree":let x=Ke(c);ue(x,f,qe,m,"en");return}};window.bsl_tools_remove=e=>{let r=e.target,t=L(r,"generated");if(!t){console.error("bsl_tools_remove called from button not within generated div");return}t.remove()};function rr(){Array.from(document.getElementsByTagName("jsontree")).map(e=>{try{let r=Gn(re(e.innerHTML)),t=r.root,n=r.grammar,s=e.getAttribute("quiz")==="true",l=e.getAttribute("lang")?e.getAttribute("lang"):void 0;ue(t,e,n,s,l)}catch(r){console.error(r),e.innerHTML=`${r}`,e.style.cssText=`
        padding: 2em;
        color: darkred;
        display: block;
      `}})}function Gn(e){let r=JSON.parse(e.trim()),t=r.grammar;return{root:nr(r),grammar:t}}function nr(e){let r=e.production;if(!r||typeof r!="string")throw`${rt(e)}<br> has wrong structure, production needs to be a string`;let t=e.code;if(!t||typeof t!="string")throw`${rt(e)}<br>  has wrong structure, code needs to be a string`;e.holes||(e.holes=[]);let n=t.split("|"),s="",l=[];for(let c=0;c<n.length;c++)if(s=`${s}${n[c]}`,c++,c<n.length&&n[c]){let p=s.length;s=`${s}${n[c]}`;let d=e.holes[l.length];if(!d)throw`${rt(e)}<br> has wrong structure: less holes than marked with || in the code`;l.push({start:p,end:s.length,content:nr(d)})}return{production:r,code:s,holes:l}}function rt(e){let r=JSON.stringify(e,void 0,2);return`
    <textarea rows="${r.split(`
`).length}"
              cols="${r.split(`
`).map(t=>t.length).reduce((t,n)=>t>n?t:n)}"
              readOnly="true"
              resizable="false">${r}</textarea>
  `}window.addEventListener("load",()=>{Mt(),rr(),er(),tr()});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL0JTTF9BU1QudHMiLCAiLi4vc3JjL0JTTF9QcmludC50cyIsICIuLi9zcmMvRE9NX0hlbHBlcnMudHMiLCAiLi4vc3JjL1Byb2R1Y3Rpb25fVHJlZS50cyIsICIuLi9zcmMvQlNMX1BhcnNlci50cyIsICIuLi9zcmMvQlNMX1RyZWUudHMiLCAiLi4vc3JjL1NJX1NUUlVDVC50cyIsICIuLi9zcmMvU0kudHMiLCAiLi4vc3JjL1NJX1JlbmRlcmVyLnRzIiwgIi4uL3NyYy9HZW5lcmF0b3IudHMiLCAiLi4vc3JjL0pTT05fVHJlZS50cyIsICIuLi9zcmMvYnNsX3Rvb2xzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJleHBvcnQgZW51bSBQcm9kdWN0aW9uIHtcbiAgRnVuY3Rpb25EZWZpbml0aW9uID0gJ0Z1bmN0aW9uIERlZmluaXRpb24nLFxuICBDb25zdGFudERlZmluaXRpb24gPSAnQ29uc3RhbnQgRGVmaW5pdGlvbicsXG4gIFN0cnVjdERlZmluaXRpb24gPSAnU3RydWN0IERlZmluaXRpb24nLFxuICBGdW5jdGlvbkNhbGwgPSAnRnVuY3Rpb24gQ2FsbCcsXG4gIENvbmRFeHByZXNzaW9uID0gJ0NvbmQtRXhwcmVzc2lvbicsXG4gIENvbmRPcHRpb24gPSAnQ29uZC1PcHRpb24nLFxuICBTeW1ib2wgPSAnU3ltYm9sJyxcbiAgTGl0ZXJhbCA9ICdMaXRlcmFsIFZhbHVlJyxcbiAgU3RydWN0VmFsdWUgPSAnU3RydWN0IFZhbHVlJyxcbiAgTnVtYmVyID0gJ051bWJlcidcbn1cblxuZXhwb3J0IHR5cGUgcHJvZ3JhbSA9IGRlZk9yRXhwcltdO1xuXG5leHBvcnQgdHlwZSBkZWZPckV4cHIgPSBkZWZpbml0aW9uIHwgZXhwcjtcbmV4cG9ydCB0eXBlIGRlZmluaXRpb24gPSBGdW5EZWYgfCBDb25zdERlZiB8IFN0cnVjdERlZjtcblxuZXhwb3J0IGludGVyZmFjZSBGdW5EZWZ7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5GdW5jdGlvbkRlZmluaXRpb247XG4gICAgbmFtZTogTmFtZTtcbiAgICBhcmdzOiBOYW1lW107XG4gICAgYm9keTogZXhwcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ29uc3REZWZ7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5Db25zdGFudERlZmluaXRpb247XG4gICAgbmFtZTogTmFtZTtcbiAgICB2YWx1ZTogZXhwcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3RydWN0RGVme1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uU3RydWN0RGVmaW5pdGlvbjtcbiAgICBiaW5kaW5nOiBOYW1lO1xuICAgIHByb3BlcnRpZXM6IE5hbWVbXTtcbn07XG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdFZhbHVle1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uU3RydWN0VmFsdWU7XG4gICAgc3RydWN0RGVmOiBOYW1lO1xuICAgIHByb3BlcnRpZXM6IExpdGVyYWxbXTtcbn07XG5cbmV4cG9ydCB0eXBlIGV4cHIgPSBDYWxsIHwgQ29uZCB8IE5hbWUgfCBMaXRlcmFsO1xuXG5leHBvcnQgaW50ZXJmYWNlIENhbGx7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5GdW5jdGlvbkNhbGw7XG4gICAgbmFtZTogTmFtZTtcbiAgICBhcmdzOiBleHByW107XG59O1xuZXhwb3J0IGludGVyZmFjZSBDbGF1c2V7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5Db25kT3B0aW9uLFxuICAgIGNvbmRpdGlvbjogZXhwcjtcbiAgICByZXN1bHQ6IGV4cHI7XG59XG5leHBvcnQgaW50ZXJmYWNlIENvbmR7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5Db25kRXhwcmVzc2lvbjtcbiAgICBvcHRpb25zOiBDbGF1c2VbXVxufVxuZXhwb3J0IGludGVyZmFjZSBOYW1le1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uU3ltYm9sO1xuICAgIHN5bWJvbDpzdHJpbmc7XG59O1xuZXhwb3J0IGludGVyZmFjZSBMaXRlcmFsIHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgdmFsdWU6IGJvb2xlYW4gfCBzdHJpbmcgfCBudW1iZXIgfCBgJygpYCB8IFN0cnVjdFZhbHVlO1xufVxuXG4vLyBydW50aW1lIHR5cGUgY2hlY2tpbmdcbmV4cG9ydCBmdW5jdGlvbiBpc0RlZmluaXRpb24ob2JqOiBhbnkpOiBvYmogaXMgZGVmaW5pdGlvbiB7XG4gIHJldHVybiBpc0Z1bkRlZihvYmopIHx8IGlzQ29uc3REZWYob2JqKSB8fCBpc1N0cnVjdERlZihvYmopO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuRGVmKG9iajogYW55KTogb2JqIGlzIEZ1bkRlZiB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5GdW5jdGlvbkRlZmluaXRpb247XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25zdERlZihvYmo6IGFueSk6IG9iaiBpcyBDb25zdERlZiB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25zdGFudERlZmluaXRpb247XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTdHJ1Y3REZWYob2JqOiBhbnkpOiBvYmogaXMgU3RydWN0RGVmIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlN0cnVjdERlZmluaXRpb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0V4cHIob2JqOiBhbnkpOiBvYmogaXMgZXhwciB7XG4gIHJldHVybiBpc0NhbGwob2JqKSB8fCBpc0NvbmQob2JqKSB8fCBpc05hbWUob2JqKSB8fCBpc0xpdGVyYWwob2JqKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NhbGwob2JqOiBhbnkpOiBvYmogaXMgQ2FsbCB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5GdW5jdGlvbkNhbGw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25kKG9iajogYW55KTogb2JqIGlzIENvbmQge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ29uZEV4cHJlc3Npb247XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOYW1lKG9iajogYW55KTogb2JqIGlzIE5hbWUge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uU3ltYm9sO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTGl0ZXJhbChvYmo6IGFueSk6IG9iaiBpcyBMaXRlcmFsIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkxpdGVyYWw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIob2JqOiBhbnkpOiBvYmogaXMgbnVtYmVyIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLk51bWJlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cnVjdFZhbHVlKG9iajogYW55KTogb2JqIGlzIFN0cnVjdFZhbHVlIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlN0cnVjdFZhbHVlO1xufSIsICJpbXBvcnQgKiBhcyBCU0xfQVNUIGZyb20gXCIuL0JTTF9BU1RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHBwcmludChwOiBCU0xfQVNULnByb2dyYW0pOiBzdHJpbmcge1xuICByZXR1cm4gcC5tYXAocHJpbnREZWZPckV4cHIpLmpvaW4oXCJcXG5cIik7XG59XG5leHBvcnQgZnVuY3Rpb24gcHJpbnREZWZPckV4cHIoZW9kOiBCU0xfQVNULmRlZk9yRXhwcikge1xuICBpZiAoQlNMX0FTVC5pc0RlZmluaXRpb24oZW9kKSkge1xuICAgIHJldHVybiBwcmludERlZmluaXRpb24oZW9kKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcHJpbnRFKGVvZCk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBwcmludERlZmluaXRpb24oZDogQlNMX0FTVC5kZWZpbml0aW9uKTogc3RyaW5nIHtcbiAgaWYgKEJTTF9BU1QuaXNGdW5EZWYoZCkpIHtcbiAgICByZXR1cm4gYChkZWZpbmUgKCR7cHJpbnROYW1lKGQubmFtZSl9ICR7ZC5hcmdzXG4gICAgICAubWFwKHByaW50TmFtZSlcbiAgICAgIC5qb2luKFwiIFwiKX0pICR7cHJpbnRFKGQuYm9keSl9KWA7XG4gIH0gZWxzZSBpZiAoQlNMX0FTVC5pc0NvbnN0RGVmKGQpKSB7XG4gICAgcmV0dXJuIGAoZGVmaW5lICR7cHJpbnROYW1lKGQubmFtZSl9ICR7cHJpbnRFKGQudmFsdWUpfSlgO1xuICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNTdHJ1Y3REZWYoZCkpIHtcbiAgICByZXR1cm4gYChkZWZpbmUtc3RydWN0ICR7cHJpbnROYW1lKGQuYmluZGluZyl9ICgke2QucHJvcGVydGllc1xuICAgICAgLm1hcChwcmludE5hbWUpXG4gICAgICAuam9pbihcIiBcIil9KSlgO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIGlucHV0IHRvIHByaW50RGVmaW5pdGlvblwiKTtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHByaW50RShlOiBCU0xfQVNULmV4cHIpOiBzdHJpbmcge1xuICBpZiAoQlNMX0FTVC5pc0NhbGwoZSkpIHtcbiAgICByZXR1cm4gYCgke3ByaW50TmFtZShlLm5hbWUpfSAke2UuYXJncy5tYXAocHJpbnRFKS5qb2luKFwiIFwiKX0pYDtcbiAgfSBlbHNlIGlmIChCU0xfQVNULmlzQ29uZChlKSkge1xuICAgIHJldHVybiBgKGNvbmQgJHtlLm9wdGlvbnMubWFwKHByaW50T3B0aW9uKS5qb2luKFwiIFwiKX0pYDtcbiAgfSBlbHNlIGlmIChCU0xfQVNULmlzTmFtZShlKSkge1xuICAgIHJldHVybiBwcmludE5hbWUoZSk7XG4gIH0gZWxzZSBpZiAoQlNMX0FTVC5pc0xpdGVyYWwoZSkpIHtcbiAgICAgIHJldHVybiBwcmludFZhbHVlKGUudmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIGlucHV0IHRvIHByaW50RVwiKTtcbiAgICByZXR1cm4gYDwke2V9PmA7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByaW50VmFsdWUodmFsOiBib29sZWFuIHwgc3RyaW5nIHwgbnVtYmVyIHwgQlNMX0FTVC5TdHJ1Y3RWYWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiAmJiB2YWwgIT09IGAnKClgKSB7XG4gICAgcmV0dXJuIGBcIiR7dmFsfVwiYDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSBcImJvb2xlYW5cIikge1xuICAgIHJldHVybiB2YWwgPyBcIiN0cnVlXCIgOiBcIiNmYWxzZVwiO1xuICB9XG4gIGlmIChCU0xfQVNULmlzU3RydWN0VmFsdWUodmFsKSkge1xuICByZXR1cm4gYDwke3ByaW50TmFtZSh2YWwuc3RydWN0RGVmKX0gJHt2YWwucHJvcGVydGllcy5tYXAocHJpbnRFKS5qb2luKFwiIFwiKX0+YDtcbn1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIGAke3ZhbH1gO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmludE9wdGlvbihvOiBCU0xfQVNULkNsYXVzZSkge1xuICByZXR1cm4gYFske3ByaW50RShvLmNvbmRpdGlvbil9ICR7cHJpbnRFKG8ucmVzdWx0KX1dYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByaW50TmFtZShzOiBCU0xfQVNULk5hbWUpOiBzdHJpbmcge1xuICByZXR1cm4gcy5zeW1ib2w7XG59XG5cbmV4cG9ydCBjb25zdCB0ZXN0cHJvZ3JhbTogQlNMX0FTVC5wcm9ncmFtID0gW1xuICB7XG4gICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkZ1bmN0aW9uRGVmaW5pdGlvbixcbiAgICBuYW1lOiB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgc3ltYm9sOiBcImZcIixcbiAgICB9LFxuICAgIGFyZ3M6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgICAgc3ltYm9sOiBcInhcIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgIHN5bWJvbDogXCJ5XCIsXG4gICAgICB9LFxuICAgIF0sXG4gICAgYm9keToge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkZ1bmN0aW9uQ2FsbCxcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgICAgc3ltYm9sOiBcIitcIixcbiAgICAgIH0sXG4gICAgICBhcmdzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgICAgIHN5bWJvbDogXCJ4XCIsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgICAgIHN5bWJvbDogXCJ5XCIsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZEV4cHJlc3Npb24sXG4gICAgb3B0aW9uczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZE9wdGlvbixcbiAgICAgICAgY29uZGl0aW9uOiB7XG4gICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkZ1bmN0aW9uQ2FsbCxcbiAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgICAgICAgc3ltYm9sOiBcIj1cIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFyZ3M6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgICAgICAgICAgc3ltYm9sOiBcInhcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgICAgICB2YWx1ZTogMyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdWx0OiB7XG4gICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgICAgICAgdmFsdWU6IFwiaXNUaHJlZVwiLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkNvbmRPcHRpb24sXG4gICAgICAgIGNvbmRpdGlvbjoge1xuICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdWx0OiB7XG4gICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgICAgICAgdmFsdWU6IGAnKClgLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkNvbnN0YW50RGVmaW5pdGlvbixcbiAgICBuYW1lOiB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgc3ltYm9sOiBcInhcIixcbiAgICB9LFxuICAgIHZhbHVlOiB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICAgIHZhbHVlOiA0MixcbiAgICB9LFxuICB9LFxuICB7XG4gICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN0cnVjdERlZmluaXRpb24sXG4gICAgYmluZGluZzoge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgIHN5bWJvbDogXCJuYW1lXCIsXG4gICAgfSxcbiAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgIHN5bWJvbDogXCJmaXJzdE5hbWVcIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgIHN5bWJvbDogXCJsYXN0TmFtZVwiLFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuXTtcblxuLy8gaW5kZW50IGNvZGUgdGhhdCBpcyB3aWRlciB0aGFuIG1heExlbmd0aCBjaGFyYWN0ZXJzXG5leHBvcnQgZnVuY3Rpb24gaW5kZW50KFxuICBjb2RlOiBzdHJpbmcsXG4gIG1heFdpZHRoOiBudW1iZXIsXG4gIG1vZGU6IFwiaHRtbFwiIHwgXCJ0ZXh0XCIgPSBcInRleHRcIlxuKTogc3RyaW5nIHtcbiAgLy8gY29uc29sZS5sb2coJ0NvZGUgYmVmb3JlIGluZGVudGF0aW9uJywgY29kZSk7XG4gIC8vIGV4dHJhY3QgdGVybXMgYW5kIHRoZWlyIHRoZW9yZXRpY2FsIGluZGVudGF0aW9uIGxldmVsXG4gIGxldCB0ZXJtczogeyB0ZXJtOiBzdHJpbmc7IGxldmVsOiBudW1iZXIgfVtdID0gW107XG4gIGxldCBsZXZlbCA9IDA7XG4gIGxldCBuZXh0TGV2ZWwgPSAwO1xuICBsZXQgbWF4TGV2ZWwgPSAwO1xuICBsZXQgYWNjID0gXCJcIjtcbiAgbGV0IGluU3RyaW5nID0gZmFsc2U7XG4gIGxldCBpblRhZyA9IGZhbHNlO1xuICBjb2RlLnNwbGl0KFwiXCIpLmZvckVhY2goKGNoYXIpID0+IHtcbiAgICBpZiAoaW5TdHJpbmcgJiYgY2hhciAhPT0gJ1wiJykge1xuICAgICAgYWNjICs9IGNoYXI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpblRhZyAmJiBjaGFyICE9PSBcIj5cIikge1xuICAgICAgYWNjICs9IGNoYXI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgY2FzZSBcIihcIjpcbiAgICAgIGNhc2UgXCJbXCI6XG4gICAgICAgIG5leHRMZXZlbCsrO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCIpXCI6XG4gICAgICBjYXNlIFwiXVwiOlxuICAgICAgICBuZXh0TGV2ZWwtLTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdcIic6XG4gICAgICAgIGluU3RyaW5nID0gIWluU3RyaW5nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCI8XCI6XG4gICAgICAgIGluVGFnID0gbW9kZSA9PT0gXCJodG1sXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIj5cIjpcbiAgICAgICAgaWYgKG1vZGUgPT09IFwiaHRtbFwiKSBpblRhZyA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCIgXCI6XG4gICAgICBjYXNlIFwiXFxuXCI6XG4gICAgICBjYXNlIFwiXFx0XCI6XG4gICAgICAgIGlmICghYWNjKSByZXR1cm47XG4gICAgICAgIHRlcm1zLnB1c2goeyB0ZXJtOiBhY2MsIGxldmVsOiBsZXZlbCB9KTtcbiAgICAgICAgaWYgKGxldmVsID4gbWF4TGV2ZWwpIG1heExldmVsID0gbGV2ZWw7XG4gICAgICAgIGFjYyA9IFwiXCI7XG4gICAgICAgIGxldmVsID0gbmV4dExldmVsO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGFjYyArPSBjaGFyO1xuICAgIHJldHVybjtcbiAgfSk7XG4gIGlmIChhY2MgIT09IFwiXCIpIHtcbiAgICB0ZXJtcy5wdXNoKHsgdGVybTogYWNjLCBsZXZlbDogbGV2ZWwgfSk7XG4gICAgaWYgKGxldmVsID4gbWF4TGV2ZWwpIG1heExldmVsID0gbGV2ZWw7XG4gIH1cbiAgLy8gY29uc29sZS5sb2codGVybXMpO1xuICAvLyBhcHBlbmQgdGVybXMgc3RhcnRpbmcgZnJvbSB0aGUgaW5zaWRlXG4gIGNvbnN0IGpvaW5lciA9XG4gICAgbW9kZSA9PT0gXCJodG1sXCJcbiAgICAgID8gXCI8YnI+XCJcbiAgICAgIDogYFxuYDtcbiAgZm9yIChsZXQgbGV2ZWwgPSBtYXhMZXZlbDsgbGV2ZWwgPiAwOyBsZXZlbC0tKSB7XG4gICAgLy8gZ3JvdXAgdGVybXNcbiAgICBjb25zdCBuZXdUZXJtczogeyB0ZXJtOiBzdHJpbmc7IGxldmVsOiBudW1iZXI7IHN1YnRlcm1zOiBzdHJpbmdbXSB9W10gPSBbXTtcbiAgICB0ZXJtcy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICBpZiAodC5sZXZlbCA8IGxldmVsKSB7XG4gICAgICAgIG5ld1Rlcm1zLnB1c2goeyAuLi50LCBzdWJ0ZXJtczogW10gfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdUZXJtc1tuZXdUZXJtcy5sZW5ndGggLSAxXS5zdWJ0ZXJtcy5wdXNoKHQudGVybSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gYXBwZW5kIGFuZCBjaGVjayBpZiB3ZSBuZWVkIHRvIHN0YXJ0IGluZGVudGluZ1xuICAgIHRlcm1zID0gbmV3VGVybXMubWFwKCh0KSA9PiB7XG4gICAgICBjb25zdCBhbHJlYWR5SW5kZW50aW5nID0gdC5zdWJ0ZXJtcy5zb21lKChzKSA9PiBzLmluY2x1ZGVzKGpvaW5lcikpO1xuICAgICAgY29uc3QgdW5pbmRlbnRlZCA9IGAke3QudGVybX0ke1xuICAgICAgICB0LnN1YnRlcm1zLmxlbmd0aCA+IDAgPyBcIiBcIiA6IFwiXCJcbiAgICAgIH0ke3Quc3VidGVybXMuam9pbihcIiBcIil9YDtcbiAgICAgIGNvbnN0IHVuaW5kZW50ZWRMZW5ndGggPVxuICAgICAgICBtb2RlID09PSBcImh0bWxcIiA/IGh0bWxJZ25vcmluZ0xlbmd0aCh1bmluZGVudGVkKSA6IHVuaW5kZW50ZWQubGVuZ3RoO1xuICAgICAgaWYgKGFscmVhZHlJbmRlbnRpbmcgfHwgdW5pbmRlbnRlZExlbmd0aCArIHQubGV2ZWwgPiBtYXhXaWR0aCkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHQuc3VidGVybXMubWFwKFxuICAgICAgICAgIChzKSA9PlxuICAgICAgICAgICAgYCR7XG4gICAgICAgICAgICAgIG1vZGUgPT09IFwiaHRtbFwiID8gcmVwZWF0KFwiJm5ic3A7XCIsIGxldmVsKSA6IHJlcGVhdChcIiBcIiwgbGV2ZWwpXG4gICAgICAgICAgICB9JHtzfWBcbiAgICAgICAgKTtcbiAgICAgICAgcGFydHMudW5zaGlmdCh0LnRlcm0pO1xuICAgICAgICBjb25zdCBqb2luZXIgPVxuICAgICAgICAgIG1vZGUgPT09IFwiaHRtbFwiXG4gICAgICAgICAgICA/IFwiPGJyPlwiXG4gICAgICAgICAgICA6IGBcbmA7IC8vIGxpdGVyYWwgbmV3bGluZSB0byBiZSBzYWZlXG4gICAgICAgIGNvbnN0IGFsbCA9IGAke3BhcnRzLmpvaW4oam9pbmVyKX1gO1xuICAgICAgICByZXR1cm4geyB0ZXJtOiBhbGwsIGxldmVsOiB0LmxldmVsIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geyB0ZXJtOiB1bmluZGVudGVkLCBsZXZlbDogdC5sZXZlbCB9O1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIGNvbnNvbGUubG9nKHRlcm1zKTtcbiAgfVxuICAvLyBub3cgdGhlcmUgc2hvdWxkIGJlIG9ubHkgdG9wIGxldmVsIHRlcm1zIGxlZnRcbiAgcmV0dXJuIHRlcm1zLm1hcCgodCkgPT4gdC50ZXJtKS5qb2luKGpvaW5lcik7XG59XG5cbi8vIHJlcGVhdCBhIHN0cmluZyBzIG4gdGltZXNcbmZ1bmN0aW9uIHJlcGVhdChzOiBzdHJpbmcsIG46IG51bWJlcik6IHN0cmluZyB7XG4gIGxldCBhY2MgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgIGFjYyArPSBzO1xuICB9XG4gIHJldHVybiBhY2M7XG59XG4vLyBtZWFzdXJlIHRoZSBsZW5ndGggb2YgYSBzdHJpbmcgd2hpbGUgaWdub3JpbmcgaHRtbFxuZnVuY3Rpb24gaHRtbElnbm9yaW5nTGVuZ3RoKHM6IHN0cmluZyk6IG51bWJlciB7XG4gIGNvbnN0IHRlc3REaXY6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdGVzdERpdi5pbm5lckhUTUwgPSBzO1xuICByZXR1cm4gdGVzdERpdi50ZXh0Q29udGVudCA/IHRlc3REaXYudGV4dENvbnRlbnQubGVuZ3RoIDogMDtcbn1cblxuLy8gIyMjIyBwcmV2ZW50aW5nIHByb2JsZW1zIHdpdGggYnJhY2tldHNcbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZShzOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gcy5yZXBsYWNlQWxsKFwiPFwiLCBcIiZsdDtcIikucmVwbGFjZUFsbChcIj5cIiwgXCImZ3Q7XCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRpcnRpZnkoczogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHNcbiAgICAucmVwbGFjZUFsbChcIiZsdDtcIiwgXCI8XCIpXG4gICAgLnJlcGxhY2VBbGwoXCImZ3Q7XCIsIFwiPlwiKVxuICAgIC5yZXBsYWNlQWxsKFwiJm5ic3A7XCIsIFwiIFwiKTtcbn1cbiIsICIvLyBuYXZpZ2F0ZSB0aGUgRE9NIHVzaW5nIHBhdGggbm90YXRpb25cbi8vIC4uIC0+IHBhcmVudFxuLy8gKyAgLT4gbmV4dCBzaWJsaW5nXG4vLyAuY2xhc3MgLT4gYWxsIGNoaWxkcmVuIHdpdGggYSBjbGFzc1xuLy8gdGFnIC0+IGFsbCBjaGlsZHJlbiBvZiBhIGNlcnRhaW4gdGFnXG4vLyBkaXZpZGVkIGJ5IC9cbmV4cG9ydCBmdW5jdGlvbiBuYXZpZ2F0ZURPTShwb3NpdGlvbnM6IEhUTUxFbGVtZW50W10sIHBhdGg6IHN0cmluZywgc3RyaWN0OiBib29sZWFuID0gZmFsc2UpOiBIVE1MRWxlbWVudFtdIHtcbiAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPT09IDApIHJldHVybiBbXTtcbiAgY29uc3Qgc3RlcHMgPSBwYXRoLnNwbGl0KCcvJyk7XG4gIGNvbnN0IGN1cnJTdGVwID0gc3RlcHMuc2hpZnQoKSBhcyBzdHJpbmc7XG4gIGlmIChjdXJyU3RlcCA9PSAnJykgcmV0dXJuIHBvc2l0aW9ucztcbiAgY29uc3QgcmVzdFN0ZXBzID0gc3RlcHMuam9pbignLycpO1xuXG4gIGxldCBuZXdQb3NpdGlvbnMgPSBbXTtcbiAgaWYgKGN1cnJTdGVwID09ICcuLicpIHtcbiAgICAvLyBuYXZpZ2F0ZSB1cFxuICAgIG5ld1Bvc2l0aW9ucyA9IHBvc2l0aW9ucy5tYXAocCA9PiBwLnBhcmVudEVsZW1lbnQpLmZpbHRlcihwID0+IHApO1xuICB9IGVsc2UgaWYgKGN1cnJTdGVwID09ICcrJykge1xuICAgIC8vIG5hdmlnYXRlIHNpZGV3YXlzXG4gICAgbmV3UG9zaXRpb25zID0gcG9zaXRpb25zLm1hcChwID0+IHAubmV4dEVsZW1lbnRTaWJsaW5nKS5maWx0ZXIocCA9PiBwKTtcbiAgfSBlbHNlIGlmIChjdXJyU3RlcC5zdGFydHNXaXRoKCcuJykpIHtcbiAgICAvLyBuYXZpZ2F0ZSBkb3duICsgZmlsdGVyIGZvciBjbGFzc1xuICAgIGNvbnN0IGNsYXNzTmFtZSA9IGN1cnJTdGVwLnNsaWNlKDEpO1xuICAgIG5ld1Bvc2l0aW9ucyA9IHBvc2l0aW9ucy5mbGF0TWFwKHAgPT4gQXJyYXkuZnJvbShwLmNoaWxkcmVuKS5maWx0ZXIoYyA9PiBjLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gbmF2aWdhdGUgZG93biArIGZpbHRlciBmb3IgdGFnXG4gICAgbmV3UG9zaXRpb25zID0gcG9zaXRpb25zLmZsYXRNYXAocCA9PiBBcnJheS5mcm9tKHAuY2hpbGRyZW4pLmZpbHRlcihjID0+IGMudGFnTmFtZSA9PSBjdXJyU3RlcC50b1VwcGVyQ2FzZSgpKSk7XG4gIH1cbiAgaWYgKG5ld1Bvc2l0aW9ucy5sZW5ndGggPT09IDAgJiYgc3RyaWN0KSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgdHJhdmVyc2luZyAke3BhdGh9OiBObyBlbGVtZW50IGZvdW5kYCk7XG4gIH1cbiAgcmV0dXJuIG5hdmlnYXRlRE9NKG5ld1Bvc2l0aW9ucyBhcyBIVE1MRWxlbWVudFtdLCByZXN0U3RlcHMpO1xufVxuXG4vLyBnZXRQYXJlbnRUYWdSZWN1cnNpdmUgZnJvbSBhIGNoaWxkIGVsZW1lbnRcbi8vIGlmIGVsZW1lbnQgaGFzIFRhZ05hbWVcbi8vIHJldHVybjtcbi8vIGVsc2U6IHJldHJ5IHdpdGggcGFyZW50RWxlbWVudFxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudFRhZ1JlY3Vyc2l2ZShlbDogSFRNTEVsZW1lbnQsIHRhZzogc3RyaW5nKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcbiAgaWYgKGVsLnRhZ05hbWUgPT0gdGFnLnRvVXBwZXJDYXNlKCkpIHtcbiAgICByZXR1cm4gZWw7XG4gIH1cbiAgZWxzZSB7XG4gICAgbGV0IHBhcmVudCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBmaW5kIHBhcmVudCBlbGVtZW50IHdpdGggcmVxdWVzdGVkIHRhZyAnLCB0YWcpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBnZXRQYXJlbnRUYWdSZWN1cnNpdmUocGFyZW50LCB0YWcpIGFzIEhUTUxFbGVtZW50O1xuICB9XG59XG5cbi8vIGdldFBhcmVudENsYXNzUmVjdXJzaXZlIGZyb20gYSBjaGlsZCBlbGVtZW50XG4vLyBpZiBlbGVtZW50IGhhcyBjbGFzc1xuLy8gcmV0dXJuO1xuLy8gZWxzZTogcmV0cnkgd2l0aCBwYXJlbnRFbGVtZW50XG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoZWw6IEhUTUxFbGVtZW50LCBjOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGMpKSB7XG4gICAgcmV0dXJuIGVsO1xuICB9XG4gIGVsc2Uge1xuICAgIGxldCBwYXJlbnQgPSBlbC5wYXJlbnRFbGVtZW50O1xuICAgIGlmICghcGFyZW50KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgZmluZCBwYXJlbnQgZWxlbWVudCB3aXRoIHJlcXVlc3RlZCBjbGFzcyAnLCBjKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUocGFyZW50LCBjKTtcbiAgfVxufVxuIiwgImltcG9ydCB7bmF2aWdhdGVET00sIGdldFBhcmVudFRhZ1JlY3Vyc2l2ZSwgZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmV9IGZyb20gXCIuL0RPTV9IZWxwZXJzXCI7XG5pbXBvcnQge2RlZmF1bHQgYXMgdHJlZV9jc3N9IGZyb20gJy4vcmVzc291cmNlcy90cmVlLmNzcyc7XG5pbXBvcnQge3Nhbml0aXplfSBmcm9tICcuL0JTTF9QcmludCc7XG5cbi8vICMjIyMgbWFpbiBhcGkgIyMjIyNcbi8vIHNpbXBsZSBoZWxwZXIgc3RydWN0dXJlIHJlcHJlc2VudGluZyBhIHByaW50ZWQgdHJlZVxuZXhwb3J0IGludGVyZmFjZSBub2RlIHtcbiAgcHJvZHVjdGlvbjogc3RyaW5nO1xuICBjb2RlOiBzdHJpbmc7XG4gIGhvbGVzOiB7c3RhcnQ6bnVtYmVyLCBlbmQ6bnVtYmVyLCBjb250ZW50Om5vZGV9W107XG59XG4vLyBvYmplY3QgcmVwcmVzZW50aW5nIGEgZ3JhbW1hclxuZXhwb3J0IHR5cGUgZ3JhbW1hciA9IHtba2V5OiBzdHJpbmddOiBzdHJpbmdbXX07XG5cbi8vIGFkZCBwcm9kdWN0aW9uIHRyZWUgdG8gaHRtbCBlbGVtZW50XG5leHBvcnQgZnVuY3Rpb24gcHJvZHVjdGlvblRyZWUoXG4gIHJvb3Q6IG5vZGUsXG4gIHRhcmdldDogSFRNTEVsZW1lbnQsXG4gIGdyYW1tYXI6IGdyYW1tYXIgfCB1bmRlZmluZWQsXG4gIHF1aXo9ZmFsc2UsXG4gIGxhbmc9J2VuJyl7XG4gIC8vIGluZmVyIGdyYW1tYXIgaWYgbmVjZXNzYXJ5XG4gIGlmKCFncmFtbWFyKSBncmFtbWFyID0gZXh0cmFjdFByb2R1Y3Rpb25zKHJvb3QpO1xuICAvLyBhZGQgY3NzIGlmIG5lY2Vzc2FyeVxuICBpZighZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JzbC10b29scy10cmVlLXN0eWxlJykpIHtcbiAgICBjb25zdCBzdHlsZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlTm9kZS5pbm5lckhUTUwgPSB0cmVlX2NzcztcbiAgICBzdHlsZU5vZGUuaWQgPSAnYnNsLXRvb2xzLXRyZWUtc3R5bGUnO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc3R5bGVOb2RlKTtcbiAgfVxuICAvLyBjaGVjayBsYW5ndWFnZSBhdmFpbGFiaWxpdHlcbiAgaWYgKCFpbXBsZW1lbnRlZExhbmd1YWdlcy5pbmNsdWRlcyhsYW5nKSkge1xuICAgIGNvbnNvbGUuZXJyb3IoYFxuICAgICAgU2VsZWN0ZWQgbGFuZ3VhZ2UgXCIke2xhbmd9XCIgaXMgbm90IGltcGxlbWVudGVkLCBkZWZhdWx0aW5nIHRvIFwiZW5cIi5cbiAgICAgIEF2YWlsYWJsZSBsYW5ndWFnZSBjb2RlczogJHtpbXBsZW1lbnRlZExhbmd1YWdlcy5qb2luKCcsICcpfVxuICAgIGApO1xuICAgIGxhbmcgPSAnZW4nO1xuICB9XG4gIC8vIHJlbmRlciBIVE1MXG4gIHRhcmdldC5pbm5lckhUTUwgPSBgXG4gIDxkaXYgY2xhc3M9XCJic2wtdG9vbHMtdHJlZS1jb250YWluZXJcIj5cbiAgICA8dWwgY2xhc3M9XCJic2wtdG9vbHMtdHJlZVwiPlxuICAgICAgJHtxdWl6XG4gICAgICAgID8gcmVuZGVyUXVpek5vZGUocm9vdCwgbGFuZyBhcyBpbXBsZW1lbnRlZExhbmd1YWdlLCBncmFtbWFyIGFzIGdyYW1tYXIpXG4gICAgICAgIDogcmVuZGVyTm9kZShyb290LCBncmFtbWFyIGFzIGdyYW1tYXIpfVxuICAgIDwvdWw+XG4gIDwvZGl2PmA7XG4gIGlmIChxdWl6KSB7XG4gICAgLy8gc2hvdyBmaXJzdCBxdWl6IG5vZGVcbiAgICBuYXZpZ2F0ZURPTShbdGFyZ2V0XSwndWwvbGkvdWwvbGknKS5tYXAoYyA9PlxuICAgICAgYy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywnZmFsc2UnKSk7XG4gIH1cbiAgLy8gYWxpZ24gY29ubmVjdG9ycyBob3Jpem9udGFsbHlcbiAgYWRqdXN0Q29ubmVjdG9ycyh0YXJnZXQpO1xufVxuXG4vLyAjIyMgdHJhdmVyc2UgdHJlZSB0byBnZXQgYWxsIG9jY3VycmluZyBwcm9kdWN0aW9uc1xuZnVuY3Rpb24gZXh0cmFjdFByb2R1Y3Rpb25zKG46IG5vZGUpOiBncmFtbWFyIHtcbiAgY29uc3QgcHJvZHVjdGlvbnMgPSB7fTtcbiAgZXh0cmFjdFByb2R1Y3Rpb25zUmVjdXJzaXZlKG4sIHByb2R1Y3Rpb25zKTtcbiAgcmV0dXJuIHByb2R1Y3Rpb25zO1xufVxuZnVuY3Rpb24gZXh0cmFjdFByb2R1Y3Rpb25zUmVjdXJzaXZlKG46IG5vZGUsIHA6IGdyYW1tYXIpIHtcbiAgcFtuLnByb2R1Y3Rpb25dID0gW107XG4gIG4uaG9sZXMubWFwKGggPT4gZXh0cmFjdFByb2R1Y3Rpb25zUmVjdXJzaXZlKGguY29udGVudCwgcCkpO1xufVxuXG4vLyAjIyMjIyMgaW50ZXJuYXRpb25hbGl6YXRpb24gZm9yIHRoaXMgbW9kdWxlICMjIyMjXG4vLyBtYWlubHkgZm9yIHF1aXosIGN1cnJlbnRseVxudHlwZSBpbXBsZW1lbnRlZExhbmd1YWdlID0gJ2VuJyB8ICdkZSc7XG5jb25zdCBpbXBsZW1lbnRlZExhbmd1YWdlcyA9IFsnZW4nLCAnZGUnXTtcblxuY29uc3QgZGljdGlvbmFyeSA9IHtcbiAgJ2VuJzoge1xuICAgICdzZWxlY3QgcHJvZHVjdGlvbic6ICdTZWxlY3QgcHJvZHVjdGlvbicsXG4gICAgJ21hcmsgc2VsZWN0ZWQgdGV4dCBhcyBob2xlJzogJ01hcmsgc2VsZWN0ZWQgdGV4dCBhcyBzdWJleHByZXNzaW9uJyxcbiAgfSxcbiAgJ2RlJzoge1xuICAgICdzZWxlY3QgcHJvZHVjdGlvbic6ICdQcm9kdWt0aW9uIGF1c3dcdTAwRTRobGVuJyxcbiAgICAnbWFyayBzZWxlY3RlZCB0ZXh0IGFzIGhvbGUnOiAnQXVzd2FobCBhbHMgVGVpbGF1c2RydWNrIG1hcmtpZXJlbicsXG4gIH0sXG59O1xuXG4vLyAjIyMjIyMgbGF5b3V0IGhlbHBlciAjIyMjIyMjI1xuLy8gZHluYW1pY2FsbHkgY29tcHV0ZSBkaW1lbnNpb25zIG9mIGNvbm5lY3RvcnMgYmV0d2VlbiBub2Rlc1xuLy8gc3VjaCB0aGF0IHRoZXkgcG9pbnQgdG8gdGhlIGNvcnJlY3QgXCJob2xlXCJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DU1NfT2JqZWN0X01vZGVsL0RldGVybWluaW5nX3RoZV9kaW1lbnNpb25zX29mX2VsZW1lbnRzXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTEVsZW1lbnQvb2Zmc2V0TGVmdFxuZnVuY3Rpb24gYWRqdXN0Q29ubmVjdG9ycyh0cmVlOiBIVE1MRWxlbWVudCkge1xuICBjb25zdCB5ZGlmZiA9IHBhcnNlRmxvYXQoZ2V0Q29tcHV0ZWRTdHlsZSh0cmVlKS5mb250U2l6ZSkgKiAzOyAvLyAzZW1cbiAgZm9yKGxldCBpID0gMTsgO2krKykge1xuICAgIGNvbnN0IGhvbGVzID0gQXJyYXkuZnJvbSh0cmVlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYGhvbGUtJHtpfWApKTtcbiAgICBpZiAoaG9sZXMubGVuZ3RoIDwgMSkgcmV0dXJuO1xuICAgIGhvbGVzLm1hcChoID0+IHtcbiAgICAgIGNvbnN0IGVsOiBIVE1MRWxlbWVudCA9IGggYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBjb25zdCB4cG9zID0gMC41ICogKGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnggKyBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCk7XG4gICAgICAvLyBubyBsYXlvdXQgZWZmZWN0IGlmIGhvbGUgaXMgaW52aXNpYmxlXG4gICAgICBpZiAoeHBvcyA9PSAwKSByZXR1cm47XG5cbiAgICAgIC8vIG5hdmlnYXRlIHRoZSBET01cbiAgICAgIGNvbnN0IGxpID0gZ2V0UGFyZW50VGFnUmVjdXJzaXZlKGVsLCAnbGknKTtcbiAgICAgIC8vIG5vdCBpbnNpZGUgYSBsaXN0IG5vZGU/IHByb2JhYmx5IHdyb25nIHRhZywgcmV0dXJuXG4gICAgICBpZighbGkpIHJldHVybjtcblxuICAgICAgLy8gcHJvY2VzcyBjaGlsZHJlblxuICAgICAgbmF2aWdhdGVET00oW2xpXSwgYHVsLy5jaGlsZC0ke2l9L3NwYW5gKS5tYXAoYyA9PiB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gYyBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3QgeHBvc0NoaWxkID0gMC41ICogKGNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnggKyBjaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCk7XG4gICAgICAgIGNvbnN0IHhkaWZmID0geHBvcyAtIHhwb3NDaGlsZDtcbiAgICAgICAgY29uc3QgYW5nbGUgPSAtIE1hdGguYXRhbjIoeWRpZmYsIHhkaWZmKTtcbiAgICAgICAgY29uc3QgYW1vdW50ID0gTWF0aC5zcXJ0KHhkaWZmKnhkaWZmICsgeWRpZmYqeWRpZmYpO1xuICAgICAgICBjb25zdCBsZWZ0ID0gKHhkaWZmLzIpIC0gKGFtb3VudC8yKTtcbiAgICAgICAgLy8gc2V0IGNzcyB2YXJpYWJsZXMgKHVzYWdlIHNlZSB0cmVlLmNzcylcbiAgICAgICAgY2hpbGQuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAtLWNvbm5lY3Rvci13aWR0aDogJHthbW91bnR9cHg7XG4gICAgICAgICAgLS1jb25uZWN0b3ItbGVmdDogY2FsYyg1MCUgKyAke2xlZnR9cHgpO1xuICAgICAgICAgIC0tZWRnZXRleHQtcmlnaHQ6IGNhbGMoNTAlIC0gJHt4ZGlmZi8yfXB4KTtcbiAgICAgICAgICAtLWNvbm5lY3Rvci10cmFuc2Zvcm06IHJvdGF0ZSgke2FuZ2xlfXJhZCk7XG4gICAgICAgIGA7XG4gICAgICB9KTtcblxuICAgIH0pO1xuICB9XG59XG5cbi8vICMjIyMjIGdlbmVyYXRlIEhUTUwgIyMjIyMjXG5cbi8vICMjIyByZWd1bGFyIG5vZGUvdHJlZVxuZnVuY3Rpb24gcmVuZGVyTm9kZShuOiBub2RlLCBwOiBncmFtbWFyLCBpOm51bWJlcj0tMSk6c3RyaW5nIHtcbiAgcmV0dXJuIGBcbiAgICA8bGkgY2xhc3M9XCIke2kgPj0gMCA/IGBjaGlsZC0ke2krMX1gIDogJyd9XCJcbiAgICAgICAgZGF0YS1jb2xsYXBzZWQ9XCIke2kgPj0gMCA/ICd0cnVlJyA6ICdmYWxzZSd9XCI+XG4gICAgICA8c3BhbiBjbGFzcz1cIiR7bi5ob2xlcy5sZW5ndGggPiAwID8gJycgOiAndGVybWluYWwtc3ltYm9sJ31cIj5cblxuICAgICAgICAke3JlbmRlclByb2R1Y3Rpb24obiwgcCl9XG5cbiAgICAgICAgJHtyZW5kZXJDb2RlKG4pfVxuXG4gICAgICA8L3NwYW4+XG4gICAgICAke24uaG9sZXMubGVuZ3RoID4gMCA/XG4gICAgICAgIGA8dWw+JHtcbiAgICAgICAgICBuLmhvbGVzLm1hcCgoaCwgaWR4KSA9PlxuICAgICAgICAgICAgcmVuZGVyTm9kZShoLmNvbnRlbnQsIHAsIGlkeCkpXG4gICAgICAgICAgLmpvaW4oJycpXG4gICAgICAgIH08L3VsPmBcbiAgICAgICAgOiAnJ1xuICAgICAgfVxuICAgIDwvbGk+XG4gIGA7XG59XG5cbi8vICMjIyBibG9jayBvZiBjb2RlIGluIG5vZGVcbmZ1bmN0aW9uIHJlbmRlckNvZGUobjogbm9kZSk6c3RyaW5nIHtcbiAgY29uc3Qgc3BhbnMgPSBnZXRTcGFucyhuKTtcbiAgcmV0dXJuIGBcbiAgPGRpdiBjbGFzcz1cImNvZGVcIj4ke1xuICAgIHNwYW5zLm1hcChzID0+XG4gICAgICBgPHNwYW4gY2xhc3M9XCJjaGFyICR7cy5wb3MgPyBgaG9sZSBob2xlLSR7cy5wb3N9YCA6ICcnfVwiXG4gICAgICAgICAgICAgJHtzLnBvcyA/IGBvbmNsaWNrPVwidG9nZ2xlQ2hpbGQoZXZlbnQsJHtzLnBvc30pXCJgIDogJyd9XG4gICAgICAgICAgICAgPiR7bi5jb2RlLnNsaWNlKHMuc3RhcnQsIHMuZW5kKX08L3NwYW4+YClcbiAgICAuam9pbignJyl9XG4gIDwvZGl2PlxuICBgO1xufVxuKHdpbmRvdyBhcyBhbnkpLnRvZ2dsZUNoaWxkID0gKGU6IEV2ZW50LGk6bnVtYmVyKSA9PiB7XG4gIGNvbnN0IGhvbGUgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3QgbGkgPSBnZXRQYXJlbnRUYWdSZWN1cnNpdmUoaG9sZSwgJ2xpJyk7XG4gIGNvbnN0IHRyZWUgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShob2xlLCAnYnNsLXRvb2xzLXRyZWUnKTtcbiAgaWYoIWxpIHx8ICF0cmVlKSB7XG4gICAgY29uc29sZS5lcnJvcigndG9nZ2xlQ2hpbGQgY2FsbGVkIGZyb20gLmhvbGUgbm90IGluIC5ic2wtdG9vbHMtdHJlZScpO1xuICAgIHJldHVybjtcbiAgfTtcblxuICBuYXZpZ2F0ZURPTShbbGldLGB1bC8uY2hpbGQtJHtpfWApLm1hcChjID0+IHtcbiAgICBjLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzZWQnLCBjLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzZWQnKSA9PT0gJ3RydWUnID8gJ2ZhbHNlJyA6ICd0cnVlJyk7XG4gIH0pO1xuICBhZGp1c3RDb25uZWN0b3JzKHRyZWUpO1xufVxuaW50ZXJmYWNlIHNwYW4ge1xuICBwb3M6IGJvb2xlYW4gfCBudW1iZXI7XG4gIHN0YXJ0OiBudW1iZXI7XG4gIGVuZDogbnVtYmVyO1xufVxuZnVuY3Rpb24gZ2V0U3BhbnMobjogbm9kZSk6c3BhbltdIHtcbiAgLy8gc2xpY2UgdGV4dCBpbnRvIGhvbGVzXG4gIGNvbnN0IHNwYW5zID0gW107XG4gIGxldCBwb3NpdGlvbiA9IDA7XG4gIGZvcihsZXQgaSA9IDA7IGkgPCBuLmhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKG4uaG9sZXNbaV0uc3RhcnQgPiBwb3NpdGlvbikge1xuICAgICAgc3BhbnMucHVzaCh7cG9zOiBmYWxzZSwgc3RhcnQ6cG9zaXRpb24sIGVuZDpuLmhvbGVzW2ldLnN0YXJ0fSk7XG4gICAgfVxuICAgIHNwYW5zLnB1c2goe3BvczogaSsxLCAuLi5uLmhvbGVzW2ldfSk7XG4gICAgcG9zaXRpb24gPSBuLmhvbGVzW2ldLmVuZDtcbiAgfVxuICBpZiAocG9zaXRpb24gPCBuLmNvZGUubGVuZ3RoKSB7XG4gICAgc3BhbnMucHVzaCh7cG9zOiBmYWxzZSwgc3RhcnQ6cG9zaXRpb24sIGVuZDpuLmNvZGUubGVuZ3RofSk7XG4gIH1cbiAgcmV0dXJuIHNwYW5zO1xufVxuLy8gIyMjIHByb2R1Y3Rpb24gbmFtZSAtIHdpdGggdG9vbHRpcCBvbiBob3ZlclxuZnVuY3Rpb24gcmVuZGVyUHJvZHVjdGlvbihuOiBub2RlLCBwOiBncmFtbWFyKSB7XG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cIm5hbWVcIj4ke3Nhbml0aXplKG4ucHJvZHVjdGlvbil9JHtcbiAgICAgIHBbbi5wcm9kdWN0aW9uXSAmJiBwW24ucHJvZHVjdGlvbl0ubGVuZ3RoID4gMCA/XG4gICAgICBgPGRpdiBjbGFzcz1cInRvb2x0aXBcIj46Oj0gJHtcbiAgICAgICAgcFtuLnByb2R1Y3Rpb25dLm1hcChzYW5pdGl6ZSkuam9pbignPGJyPiZuYnNwO3wmbmJzcDsmbmJzcDsnKVxuICAgICAgfTwvZGl2PmBcbiAgICAgIDogJydcbiAgICB9PC9kaXY+XG4gIGA7XG59XG5cbi8vICMjIyMjIyByZW5kZXJpbmcgYSBub2RlL3RyZWUgYXMgYSBxdWl6XG5mdW5jdGlvbiByZW5kZXJRdWl6Tm9kZShuOiBub2RlLCBsYW5nOiBpbXBsZW1lbnRlZExhbmd1YWdlLCBncmFtbWFyOiBncmFtbWFyLCBpOm51bWJlcj0tMSk6c3RyaW5nIHtcbiAgcmV0dXJuIGBcbiAgICA8bGkgY2xhc3M9XCIke2kgPj0gMCA/IGBjaGlsZC0ke2krMX1gIDogJyd9XCJcbiAgICAgICAgZGF0YS1jb2xsYXBzZWQ9XCIke2kgPj0gMCA/ICd0cnVlJyA6ICdmYWxzZSd9XCI+XG4gICAgICA8c3BhbiBjbGFzcz1cIiR7bi5ob2xlcy5sZW5ndGggPiAwID8gJycgOiAndGVybWluYWwtc3ltYm9sJ31cIlxuICAgICAgICAgICAgZGF0YS1xdWl6LXN0YXRlPVwiJHtpID49IDAgPyAncHJvZHVjdGlvbicgOiAnZG9uZSd9XCJcbiAgICAgICAgICAgIGRhdGEtaXMtdGVybWluYWw9XCIke24uaG9sZXMubGVuZ3RoIDw9IDB9XCJcbiAgICAgICAgICAgIGRhdGEtaXMtdHJpdmlhbC1ob2xlPVwiJHtuLmhvbGVzLmxlbmd0aCA9PT0gMSAmJiBuLmhvbGVzWzBdLnN0YXJ0ID09PSAwICYmIG4uaG9sZXNbMF0uZW5kID09PSBuLmNvZGUubGVuZ3RofVwiPlxuXG4gICAgICAgICR7cmVuZGVyUHJvZHVjdGlvblF1aXoobiwgbGFuZywgZ3JhbW1hcil9XG5cbiAgICAgICAgJHtyZW5kZXJIb2xlUXVpeihuLCBsYW5nKX1cblxuICAgICAgICAke3JlbmRlclByb2R1Y3Rpb24obiwgZ3JhbW1hcil9XG4gICAgICAgICR7cmVuZGVyQ29kZShuKX1cbiAgICAgIDwvc3Bhbj5cbiAgICAgICR7bi5ob2xlcy5sZW5ndGggPiAwID9cbiAgICAgICAgYDx1bD4ke1xuICAgICAgICAgIG4uaG9sZXMubWFwKChoLCBpZHgpID0+XG4gICAgICAgICAgICByZW5kZXJRdWl6Tm9kZShoLmNvbnRlbnQsIGxhbmcsIGdyYW1tYXIsIGlkeCkpXG4gICAgICAgICAgICAuam9pbignJylcbiAgICAgICAgIH08L3VsPmBcbiAgICAgICAgOiAnJ1xuICAgICAgfVxuICAgIDwvbGk+XG4gIGA7XG59XG5cbi8vICMjIyBmaXJzdCBwYXJ0IG9mIHRoZSBxdWl6XG5mdW5jdGlvbiByZW5kZXJQcm9kdWN0aW9uUXVpeihuOiBub2RlLCBsYW5nOiBpbXBsZW1lbnRlZExhbmd1YWdlLCBncmFtbWFyOiBncmFtbWFyKTpzdHJpbmcge1xuICByZXR1cm4gYFxuICA8ZGl2IGNsYXNzPVwicHJvZHVjdGlvblwiPlxuICAgIDxzZWxlY3Qgb25jaGFuZ2U9XCJjaGVja1Byb2R1Y3Rpb24oZXZlbnQsICcke24ucHJvZHVjdGlvbn0nKVwiPlxuICAgICAgPG9wdGlvbiBzZWxlY3RlZD1cInRydWVcIj4ke2RpY3Rpb25hcnlbbGFuZ11bJ3NlbGVjdCBwcm9kdWN0aW9uJ119PC9vcHRpb24+XG4gICAgICAke09iamVjdC5rZXlzKGdyYW1tYXIpLm1hcChwID0+IGBcbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiJHtwfVwiPiR7c2FuaXRpemUocCl9PC9vcHRpb24+XG4gICAgICAgIGApLmpvaW4oJycpfVxuICAgIDwvc2VsZWN0PlxuICA8L2Rpdj5cbiAgYDtcbn1cblxuKHdpbmRvdyBhcyBhbnkpLmNoZWNrUHJvZHVjdGlvbiA9IChlOiBFdmVudCwgcDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHNlbCA9IGUudGFyZ2V0IGFzIEhUTUxTZWxlY3RFbGVtZW50O1xuICBpZiAoc2VsLnZhbHVlID09PSBwKSB7XG4gICAgLy8gYW5zd2VyIGNvcnJlY3RcbiAgICBjb25zdCBzcGFuID0gZ2V0UGFyZW50VGFnUmVjdXJzaXZlKHNlbCwgJ3NwYW4nKTtcbiAgICBpZiAoc3Bhbikge1xuICAgICAgaWYgKHNwYW4uZ2V0QXR0cmlidXRlKCdkYXRhLWlzLXRlcm1pbmFsJykgPT09ICd0cnVlJykge1xuICAgICAgICAvLyB3ZSdyZSBkb25lXG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKCdkYXRhLXF1aXotc3RhdGUnLCAnZG9uZScpO1xuICAgICAgfSBlbHNlIGlmIChzcGFuLmdldEF0dHJpYnV0ZSgnZGF0YS1pcy10cml2aWFsLWhvbGUnKSA9PT0gJ3RydWUnKSB7XG4gICAgICAgIC8vIHdlJ3JlIGRvbmVcbiAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcXVpei1zdGF0ZScsICdkb25lJyk7XG4gICAgICAgIC8vIGJ1dCB3ZSBhbHNvIG5lZWQgdG8gZXhwYW5kIHRoZSBjaGlsZFxuICAgICAgICBuYXZpZ2F0ZURPTShbc3Bhbl0sJysvbGknLHRydWUpLm1hcChjID0+XG4gICAgICAgICAgYy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywgJ2ZhbHNlJykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbW92ZSBvbiB0byBzZWxlY3RpbmcgaG9sZXNcbiAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcXVpei1zdGF0ZScsICdob2xlLW1hcmtpbmcnKTtcbiAgICAgIH1cblxuICAgICAgLy8gZXhwYW5kIG5leHQgc2libGluZyAoaWYgcHJlc2VudClcbiAgICAgIG5hdmlnYXRlRE9NKFtzcGFuXSwgJy4uLysnKS5tYXAobCA9PlxuICAgICAgICBsLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzZWQnLCAnZmFsc2UnKSk7XG5cbiAgICAgIC8vIGFkanVzdCBjb25uZWN0b3JzXG4gICAgICBjb25zdCBxdWl6ID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoc3BhbiwgJ2JzbC10b29scy10cmVlJyk7XG4gICAgICBpZiAocXVpeikgYWRqdXN0Q29ubmVjdG9ycyhxdWl6KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gbWFyayBvcHRpb24gYXMgdHJpZWQtYW5kLXdyb25nXG4gICAgQXJyYXkuZnJvbShzZWwuc2VsZWN0ZWRPcHRpb25zKS5tYXAobyA9PlxuICAgICAgby5yZW1vdmUoKSk7XG4gICAgLy8gZ2l2ZSB2aXN1YWwgZmVlZGJhY2tcbiAgICBjb25zdCBzcGFuID0gZ2V0UGFyZW50VGFnUmVjdXJzaXZlKHNlbCwgJ3NwYW4nKTtcbiAgICBpZiAoc3Bhbikge1xuICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCd3cm9uZycpO1xuICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzcGFuLmNsYXNzTGlzdC5yZW1vdmUoJ3dyb25nJyk7XG4gICAgICB9LCAxMDApO1xuICAgIH1cbiAgfVxufVxuXG4vLyAjIyMgc2Vjb25kIHBhcnQgb2YgdGhlIHF1aXpcbmZ1bmN0aW9uIHJlbmRlckhvbGVRdWl6KG46IG5vZGUsIGxhbmc6IGltcGxlbWVudGVkTGFuZ3VhZ2UpOnN0cmluZyB7XG4gIHJldHVybiBgXG4gIDxkaXYgY2xhc3M9XCJob2xlLW1hcmtpbmdcIlxuICAgICAgIGRhdGEtaG9sZXM9XCIke2J0b2EoSlNPTi5zdHJpbmdpZnkobi5ob2xlcy5tYXAoaCA9PiBbaC5zdGFydCxoLmVuZCwgZmFsc2VdKSkpfVwiPlxuICAgIDxkaXYgY2xhc3M9XCJ0ZXh0YXJlYS1jb250YWluZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtYXJrZXItY29udGFpbmVyXCI+XG4gICAgICAgICR7bi5jb2RlLnNwbGl0KCdcXG4nKVxuICAgICAgICAgICAgLm1hcChsID0+IGwuc3BsaXQoJycpLm1hcChjID0+XG4gICAgICAgICAgICAgIGA8c3BhbiBjbGFzcz1cImNoYXIgbWFya2VyXCI+JHtjfTwvc3Bhbj5gXG4gICAgICAgICAgICApLmpvaW4oJycpKVxuICAgICAgICAgICAgLmpvaW4oJzxzcGFuIGNsYXNzPVwiY2hhciBtYXJrZXJcIj48L3NwYW4+PGJyPicpfVxuICAgICAgPC9kaXY+XG4gICAgICA8dGV4dGFyZWEgYXV0b2NvcnJlY3Q9XCJvZmZcIlxuICAgICAgICAgICAgICAgIHNwZWxsY2hlY2s9XCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgY29scz1cIiR7bi5jb2RlLnNwbGl0KCdcXG4nKS5tYXAobCA9PiBsLmxlbmd0aCkucmVkdWNlKCh4LHkpID0+IHggPiB5ID8geCA6IHkpfVwiXG4gICAgICAgICAgICAgICAgcm93cz1cIiR7bi5jb2RlLnNwbGl0KCdcXG4nKS5sZW5ndGh9XCJcbiAgICAgICAgICAgICAgICBvbmlucHV0PVwic3RvcElucHV0KGV2ZW50LCAnJHtidG9hKG4uY29kZSl9JylcIj4ke24uY29kZX08L3RleHRhcmVhPlxuICAgIDwvZGl2Pjxicj5cbiAgICA8YnV0dG9uIG9uY2xpY2s9XCJjaGVja1NlbGVjdGlvbihldmVudClcIj5cbiAgICAgICR7ZGljdGlvbmFyeVtsYW5nXVsnbWFyayBzZWxlY3RlZCB0ZXh0IGFzIGhvbGUnXX1cbiAgICA8L2J1dHRvbj5cbiAgPC9kaXY+XG4gIGA7XG59XG4od2luZG93IGFzIGFueSkuc3RvcElucHV0ID0gKGU6IEV2ZW50LCBvbGRWYWw6IHN0cmluZykgPT4ge1xuICAoZS50YXJnZXQgYXMgSFRNTFRleHRBcmVhRWxlbWVudCkudmFsdWUgPSBhdG9iKG9sZFZhbCk7XG59XG4od2luZG93IGFzIGFueSkuY2hlY2tTZWxlY3Rpb24gPSAoZTogRXZlbnQpID0+IHtcbiAgLy8gZ2V0IGNvbnRleHRcbiAgY29uc3QgYnRuID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IGRpdiA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKGJ0biwgJ2hvbGUtbWFya2luZycpO1xuICBpZiAoIWRpdikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ2NoZWNrUHJvZHVjdGlvbiBjYWxsZWQgZnJvbSBlbC4gbm90IHdyYXBwZWQgaW4gZGl2LmhvbGUtbWFya2luZycpO1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBnZXQgaG9sZXMgdG8gZmluZFxuICBjb25zdCBob2xlcyA9IEpTT04ucGFyc2UoYXRvYihkaXYuZ2V0QXR0cmlidXRlKCdkYXRhLWhvbGVzJykgYXMgc3RyaW5nKSkgYXMgW251bWJlcixudW1iZXIsYm9vbGVhbl1bXTtcblxuICAvLyBnZXQgY3VycmVudCBzZWxlY3Rpb25cbiAgY29uc3QgdGV4dGFyZWEgPSBkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RleHRhcmVhJylbMF0gYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcbiAgY29uc3Qgc2VsU3RhcnQgPSB0ZXh0YXJlYS5zZWxlY3Rpb25TdGFydDtcbiAgY29uc3Qgc2VsRW5kID0gdGV4dGFyZWEuc2VsZWN0aW9uRW5kO1xuICBjb25zdCBzdGFydCA9IHNlbFN0YXJ0IDwgc2VsRW5kID8gc2VsU3RhcnQgOiBzZWxFbmQ7XG4gIGNvbnN0IGVuZCA9IHNlbFN0YXJ0IDwgc2VsRW5kID8gc2VsRW5kIDogc2VsU3RhcnQ7XG5cbiAgLy8gY2hlY2sgaWYgaG9sZSBpcyBmb3VuZFxuICBsZXQgZm91bmQgPSAtMTtcbiAgaG9sZXMubWFwKChoLGkpID0+IHtcbiAgICBpZiAoaFswXSA9PT0gc3RhcnQgJiYgaFsxXSA9PT0gZW5kKSB7XG4gICAgICBoWzJdID0gdHJ1ZTtcbiAgICAgIGZvdW5kID0gaTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChmb3VuZCA+PSAwKSB7XG4gICAgLy8gc2F2ZSBjaGFuZ2VkIHN0YXRlXG4gICAgZGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1ob2xlcycsIGJ0b2EoSlNPTi5zdHJpbmdpZnkoaG9sZXMpKSk7XG4gICAgLy8gbWFyayBob2xlIGFzIGNvcnJlY3RcbiAgICBuYXZpZ2F0ZURPTShbZGl2XSwgJy50ZXh0YXJlYS1jb250YWluZXIvLm1hcmtlci1jb250YWluZXIvLm1hcmtlcicsIHRydWUpXG4gICAgICAuc2xpY2Uoc3RhcnQsIGVuZClcbiAgICAgIC5tYXAobSA9PiBtLmNsYXNzTGlzdC5hZGQoJ2NvcnJlY3QnKSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gZ2l2ZSBmZWVkYmFjayBhYm91dCB3cm9uZyBzZWxlY3Rpb25cbiAgICBjb25zdCBtYXJrZXJzID0gbmF2aWdhdGVET00oW2Rpdl0sICcudGV4dGFyZWEtY29udGFpbmVyLy5tYXJrZXItY29udGFpbmVyLy5tYXJrZXInLCB0cnVlKVxuICAgICAgLnNsaWNlKHN0YXJ0LCBlbmQpO1xuXG4gICAgbWFya2Vycy5tYXAobSA9PiBtLmNsYXNzTGlzdC5hZGQoJ3dyb25nJykpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIG1hcmtlcnMubWFwKG0gPT4gbS5jbGFzc0xpc3QucmVtb3ZlKCd3cm9uZycpKTtcbiAgICB9LCAxMDApO1xuICB9XG4gIGlmKGhvbGVzLmV2ZXJ5KGggPT4gaFsyXSkpIHtcbiAgICAvLyBtb3ZlIG9uIHRvIG5leHQgcGhhc2UgPT0gZG9uZVxuICAgIGNvbnN0IHNwYW4gPSBnZXRQYXJlbnRUYWdSZWN1cnNpdmUoZGl2LCAnc3BhbicpO1xuICAgIGlmIChzcGFuKSB7XG4gICAgICBzcGFuLnNldEF0dHJpYnV0ZSgnZGF0YS1xdWl6LXN0YXRlJywgJ2RvbmUnKTtcbiAgICAgIC8vIGV4cGFuZCBmaXJzdCBjaGlsZFxuICAgICAgbmF2aWdhdGVET00oW3NwYW5dLCAnLi4vdWwvLmNoaWxkLTEnKS5tYXAoYyA9PlxuICAgICAgICBjLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzZWQnLCAnZmFsc2UnKSk7XG5cbiAgICAgIC8vIGFkanVzdCBjb25uZWN0b3JzIGZvciB3aWR0aCBjaGFuZ2VcbiAgICAgIGNvbnN0IHF1aXogPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShzcGFuLCAnYnNsLXRvb2xzLXRyZWUnKTtcbiAgICAgIGlmIChxdWl6KSBhZGp1c3RDb25uZWN0b3JzKHF1aXopO1xuICAgIH1cbiAgfVxufVxuIiwgIlxuLy8gR2VuZXJhdGVkIGJ5IHBlZ2d5IHYuIDEuMi4wICh0cy1wZWdqcyBwbHVnaW4gdi4gMS4yLjIgKVxuLy9cbi8vIGh0dHBzOi8vcGVnZ3lqcy5vcmcvICAgaHR0cHM6Ly9naXRodWIuY29tL21ldGFkZXZwcm8vdHMtcGVnanNcblxuZXhwb3J0IGludGVyZmFjZSBJRmlsZVBvc2l0aW9uIHtcbiAgb2Zmc2V0OiBudW1iZXI7XG4gIGxpbmU6IG51bWJlcjtcbiAgY29sdW1uOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZpbGVSYW5nZSB7XG4gIHN0YXJ0OiBJRmlsZVBvc2l0aW9uO1xuICBlbmQ6IElGaWxlUG9zaXRpb247XG4gIHNvdXJjZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElMaXRlcmFsRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImxpdGVyYWxcIjtcbiAgdGV4dDogc3RyaW5nO1xuICBpZ25vcmVDYXNlOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDbGFzc1BhcnRzIGV4dGVuZHMgQXJyYXk8c3RyaW5nIHwgSUNsYXNzUGFydHM+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNsYXNzRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImNsYXNzXCI7XG4gIHBhcnRzOiBJQ2xhc3NQYXJ0cztcbiAgaW52ZXJ0ZWQ6IGJvb2xlYW47XG4gIGlnbm9yZUNhc2U6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUFueUV4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJhbnlcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRW5kRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImVuZFwiO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElPdGhlckV4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJvdGhlclwiO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBFeHBlY3RhdGlvbiA9IElMaXRlcmFsRXhwZWN0YXRpb24gfCBJQ2xhc3NFeHBlY3RhdGlvbiB8IElBbnlFeHBlY3RhdGlvbiB8IElFbmRFeHBlY3RhdGlvbiB8IElPdGhlckV4cGVjdGF0aW9uO1xuXG5mdW5jdGlvbiBwZWckcGFkRW5kKHN0cjogc3RyaW5nLCB0YXJnZXRMZW5ndGg6IG51bWJlciwgcGFkU3RyaW5nOiBzdHJpbmcpIHtcbiAgcGFkU3RyaW5nID0gcGFkU3RyaW5nIHx8ICcgJztcbiAgaWYgKHN0ci5sZW5ndGggPiB0YXJnZXRMZW5ndGgpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIHRhcmdldExlbmd0aCAtPSBzdHIubGVuZ3RoO1xuICBwYWRTdHJpbmcgKz0gcGFkU3RyaW5nLnJlcGVhdCh0YXJnZXRMZW5ndGgpO1xuICByZXR1cm4gc3RyICsgcGFkU3RyaW5nLnNsaWNlKDAsIHRhcmdldExlbmd0aCk7XG59XG5cbmV4cG9ydCBjbGFzcyBTeW50YXhFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHVibGljIHN0YXRpYyBidWlsZE1lc3NhZ2UoZXhwZWN0ZWQ6IEV4cGVjdGF0aW9uW10sIGZvdW5kOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgZnVuY3Rpb24gaGV4KGNoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIGNoLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGl0ZXJhbEVzY2FwZShzOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIHNcbiAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKVxuICAgICAgICAucmVwbGFjZSgvXCIvZywgIFwiXFxcXFxcXCJcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcMC9nLCBcIlxcXFwwXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXHQvZywgXCJcXFxcdFwiKVxuICAgICAgICAucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcci9nLCBcIlxcXFxyXCIpXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csICAgICAgICAgICAgKGNoKSA9PiBcIlxcXFx4MFwiICsgaGV4KGNoKSApXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MTAtXFx4MUZcXHg3Ri1cXHg5Rl0vZywgKGNoKSA9PiBcIlxcXFx4XCIgICsgaGV4KGNoKSApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsYXNzRXNjYXBlKHM6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gc1xuICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCBcIlxcXFxcXFxcXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXF0vZywgXCJcXFxcXVwiKVxuICAgICAgICAucmVwbGFjZSgvXFxeL2csIFwiXFxcXF5cIilcbiAgICAgICAgLnJlcGxhY2UoLy0vZywgIFwiXFxcXC1cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcMC9nLCBcIlxcXFwwXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXHQvZywgXCJcXFxcdFwiKVxuICAgICAgICAucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcci9nLCBcIlxcXFxyXCIpXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csICAgICAgICAgICAgKGNoKSA9PiBcIlxcXFx4MFwiICsgaGV4KGNoKSApXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MTAtXFx4MUZcXHg3Ri1cXHg5Rl0vZywgKGNoKSA9PiBcIlxcXFx4XCIgICsgaGV4KGNoKSApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRXhwZWN0YXRpb24oZXhwZWN0YXRpb246IEV4cGVjdGF0aW9uKSB7XG4gICAgICBzd2l0Y2ggKGV4cGVjdGF0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcImxpdGVyYWxcIjpcbiAgICAgICAgICByZXR1cm4gXCJcXFwiXCIgKyBsaXRlcmFsRXNjYXBlKGV4cGVjdGF0aW9uLnRleHQpICsgXCJcXFwiXCI7XG4gICAgICAgIGNhc2UgXCJjbGFzc1wiOlxuICAgICAgICAgIGNvbnN0IGVzY2FwZWRQYXJ0cyA9IGV4cGVjdGF0aW9uLnBhcnRzLm1hcCgocGFydCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGFydClcbiAgICAgICAgICAgICAgPyBjbGFzc0VzY2FwZShwYXJ0WzBdIGFzIHN0cmluZykgKyBcIi1cIiArIGNsYXNzRXNjYXBlKHBhcnRbMV0gYXMgc3RyaW5nKVxuICAgICAgICAgICAgICA6IGNsYXNzRXNjYXBlKHBhcnQpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIFwiW1wiICsgKGV4cGVjdGF0aW9uLmludmVydGVkID8gXCJeXCIgOiBcIlwiKSArIGVzY2FwZWRQYXJ0cyArIFwiXVwiO1xuICAgICAgICBjYXNlIFwiYW55XCI6XG4gICAgICAgICAgcmV0dXJuIFwiYW55IGNoYXJhY3RlclwiO1xuICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIFwiZW5kIG9mIGlucHV0XCI7XG4gICAgICAgIGNhc2UgXCJvdGhlclwiOlxuICAgICAgICAgIHJldHVybiBleHBlY3RhdGlvbi5kZXNjcmlwdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXNjcmliZUV4cGVjdGVkKGV4cGVjdGVkMTogRXhwZWN0YXRpb25bXSkge1xuICAgICAgY29uc3QgZGVzY3JpcHRpb25zID0gZXhwZWN0ZWQxLm1hcChkZXNjcmliZUV4cGVjdGF0aW9uKTtcbiAgICAgIGxldCBpOiBudW1iZXI7XG4gICAgICBsZXQgajogbnVtYmVyO1xuXG4gICAgICBkZXNjcmlwdGlvbnMuc29ydCgpO1xuXG4gICAgICBpZiAoZGVzY3JpcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChpID0gMSwgaiA9IDE7IGkgPCBkZXNjcmlwdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZGVzY3JpcHRpb25zW2kgLSAxXSAhPT0gZGVzY3JpcHRpb25zW2ldKSB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbnNbal0gPSBkZXNjcmlwdGlvbnNbaV07XG4gICAgICAgICAgICBqKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlc2NyaXB0aW9ucy5sZW5ndGggPSBqO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGRlc2NyaXB0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnNbMF07XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnNbMF0gKyBcIiBvciBcIiArIGRlc2NyaXB0aW9uc1sxXTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnMuc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKVxuICAgICAgICAgICAgKyBcIiwgb3IgXCJcbiAgICAgICAgICAgICsgZGVzY3JpcHRpb25zW2Rlc2NyaXB0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXNjcmliZUZvdW5kKGZvdW5kMTogc3RyaW5nIHwgbnVsbCkge1xuICAgICAgcmV0dXJuIGZvdW5kMSA/IFwiXFxcIlwiICsgbGl0ZXJhbEVzY2FwZShmb3VuZDEpICsgXCJcXFwiXCIgOiBcImVuZCBvZiBpbnB1dFwiO1xuICAgIH1cblxuICAgIHJldHVybiBcIkV4cGVjdGVkIFwiICsgZGVzY3JpYmVFeHBlY3RlZChleHBlY3RlZCkgKyBcIiBidXQgXCIgKyBkZXNjcmliZUZvdW5kKGZvdW5kKSArIFwiIGZvdW5kLlwiO1xuICB9XG5cbiAgcHVibGljIG1lc3NhZ2U6IHN0cmluZztcbiAgcHVibGljIGV4cGVjdGVkOiBFeHBlY3RhdGlvbltdO1xuICBwdWJsaWMgZm91bmQ6IHN0cmluZyB8IG51bGw7XG4gIHB1YmxpYyBsb2NhdGlvbjogSUZpbGVSYW5nZTtcbiAgcHVibGljIG5hbWU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIGV4cGVjdGVkOiBFeHBlY3RhdGlvbltdLCBmb3VuZDogc3RyaW5nIHwgbnVsbCwgbG9jYXRpb246IElGaWxlUmFuZ2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5leHBlY3RlZCA9IGV4cGVjdGVkO1xuICAgIHRoaXMuZm91bmQgPSBmb3VuZDtcbiAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgdGhpcy5uYW1lID0gXCJTeW50YXhFcnJvclwiO1xuXG4gICAgaWYgKHR5cGVvZiAoT2JqZWN0IGFzIGFueSkuc2V0UHJvdG90eXBlT2YgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgKE9iamVjdCBhcyBhbnkpLnNldFByb3RvdHlwZU9mKHRoaXMsIFN5bnRheEVycm9yLnByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICh0aGlzIGFzIGFueSkuX19wcm90b19fID0gU3ludGF4RXJyb3IucHJvdG90eXBlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIChFcnJvciBhcyBhbnkpLmNhcHR1cmVTdGFja1RyYWNlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIChFcnJvciBhcyBhbnkpLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFN5bnRheEVycm9yKTtcbiAgICB9XG4gIH1cblxuICBmb3JtYXQoc291cmNlczogeyBzb3VyY2U6IHN0cmluZzsgdGV4dDogc3RyaW5nIH1bXSk6IHN0cmluZyB7XG4gICAgbGV0IHN0ciA9ICdFcnJvcjogJyArIHRoaXMubWVzc2FnZTtcbiAgICBpZiAodGhpcy5sb2NhdGlvbikge1xuICAgICAgbGV0IHNyYzogc3RyaW5nW10gfCBudWxsID0gbnVsbDtcbiAgICAgIGxldCBrO1xuICAgICAgZm9yIChrID0gMDsgayA8IHNvdXJjZXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgaWYgKHNvdXJjZXNba10uc291cmNlID09PSB0aGlzLmxvY2F0aW9uLnNvdXJjZSkge1xuICAgICAgICAgIHNyYyA9IHNvdXJjZXNba10udGV4dC5zcGxpdCgvXFxyXFxufFxcbnxcXHIvZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBzID0gdGhpcy5sb2NhdGlvbi5zdGFydDtcbiAgICAgIGxldCBsb2MgPSB0aGlzLmxvY2F0aW9uLnNvdXJjZSArICc6JyArIHMubGluZSArICc6JyArIHMuY29sdW1uO1xuICAgICAgaWYgKHNyYykge1xuICAgICAgICBsZXQgZSA9IHRoaXMubG9jYXRpb24uZW5kO1xuICAgICAgICBsZXQgZmlsbGVyID0gcGVnJHBhZEVuZCgnJywgcy5saW5lLnRvU3RyaW5nKCkubGVuZ3RoLCAnICcpO1xuICAgICAgICBsZXQgbGluZSA9IHNyY1tzLmxpbmUgLSAxXTtcbiAgICAgICAgbGV0IGxhc3QgPSBzLmxpbmUgPT09IGUubGluZSA/IGUuY29sdW1uIDogbGluZS5sZW5ndGggKyAxO1xuICAgICAgICBzdHIgKz0gJ1xcbiAtLT4gJyArIGxvYyArICdcXG4nICsgZmlsbGVyICsgJyB8XFxuJyArIHMubGluZSArICcgfCAnICsgbGluZSArICdcXG4nICsgZmlsbGVyICsgJyB8ICcgK1xuICAgICAgICAgIHBlZyRwYWRFbmQoJycsIHMuY29sdW1uIC0gMSwgJyAnKSArXG4gICAgICAgICAgcGVnJHBhZEVuZCgnJywgbGFzdCAtIHMuY29sdW1uLCAnXicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyICs9ICdcXG4gYXQgJyArIGxvYztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5mdW5jdGlvbiBwZWckcGFyc2UoaW5wdXQ6IHN0cmluZywgb3B0aW9ucz86IElQYXJzZU9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMgOiB7fTtcblxuICBjb25zdCBwZWckRkFJTEVEOiBSZWFkb25seTxhbnk+ID0ge307XG4gIGNvbnN0IHBlZyRzb3VyY2UgPSBvcHRpb25zLmdyYW1tYXJTb3VyY2U7XG5cbiAgY29uc3QgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uczoge1tpZDogc3RyaW5nXTogYW55fSA9IHsgUHJvZ3JhbTogcGVnJHBhcnNlUHJvZ3JhbSB9O1xuICBsZXQgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uOiAoKSA9PiBhbnkgPSBwZWckcGFyc2VQcm9ncmFtO1xuXG4gIGNvbnN0IHBlZyRjMCA9IGZ1bmN0aW9uKGFsbDogYW55KTogYW55IHsgcmV0dXJuIGFsbCB9O1xuICBjb25zdCBwZWckYzEgPSAvXltcXHQgXFxuIFxccl0vO1xuICBjb25zdCBwZWckYzIgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCJcXHRcIiwgXCIgXCIsIFwiXFxuXCIsIFwiIFwiLCBcIlxcclwiXSwgZmFsc2UsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzID0gZnVuY3Rpb24oZGVmOiBhbnkpOiBhbnkgeyByZXR1cm4gZGVmIH07XG4gIGNvbnN0IHBlZyRjNCA9IFwiKGRlZmluZS1zdHJ1Y3RcIjtcbiAgY29uc3QgcGVnJGM1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIihkZWZpbmUtc3RydWN0XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM2ID0gXCIoXCI7XG4gIGNvbnN0IHBlZyRjNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIoXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM4ID0gXCIpXCI7XG4gIGNvbnN0IHBlZyRjOSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIpXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMCA9IGZ1bmN0aW9uKGJpbmRpbmc6IGFueSwgcHJvcGVydGllczogYW55KTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJ0eXBlXCI6IFwiU3RydWN0IERlZmluaXRpb25cIixcbiAgICBcdFwiYmluZGluZ1wiOiBiaW5kaW5nLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHByb3BlcnRpZXNcbiAgICAgIH1cbiAgICB9O1xuICBjb25zdCBwZWckYzExID0gXCIoZGVmaW5lXCI7XG4gIGNvbnN0IHBlZyRjMTIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKGRlZmluZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTMgPSBmdW5jdGlvbihuYW1lOiBhbnksIGFyZ3M6IGFueSwgYm9keTogYW55KTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJ0eXBlXCI6IFwiRnVuY3Rpb24gRGVmaW5pdGlvblwiLFxuICAgIFx0XCJuYW1lXCI6IG5hbWUsXG4gICAgICBcImFyZ3NcIjogYXJncyxcbiAgICAgIFwiYm9keVwiOiBib2R5XG4gICAgICB9XG4gICAgfTtcbiAgY29uc3QgcGVnJGMxNCA9IGZ1bmN0aW9uKG5hbWU6IGFueSwgdmFsdWU6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFwidHlwZVwiOiBcIkNvbnN0YW50IERlZmluaXRpb25cIixcbiAgICBcdFwibmFtZVwiOiBuYW1lLFxuICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZVxuICAgICAgfVxuICAgIH07XG4gIGNvbnN0IHBlZyRjMTUgPSBmdW5jdGlvbihleHByOiBhbnkpOiBhbnkgeyByZXR1cm4gZXhwciB9O1xuICBjb25zdCBwZWckYzE2ID0gXCIoY29uZFwiO1xuICBjb25zdCBwZWckYzE3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIihjb25kXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxOCA9IGZ1bmN0aW9uKG9wdGlvbnM6IGFueSk6IGFueSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBcInR5cGVcIjogXCJDb25kLUV4cHJlc3Npb25cIixcbiAgICAgICAgXCJvcHRpb25zXCI6IG9wdGlvbnNcbiAgICAgIH1cbiAgICB9O1xuICBjb25zdCBwZWckYzE5ID0gXCJbXCI7XG4gIGNvbnN0IHBlZyRjMjAgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiW1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjEgPSBcIl1cIjtcbiAgY29uc3QgcGVnJGMyMiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJdXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyMyA9IGZ1bmN0aW9uKGNvbmRpdGlvbjogYW55LCByZXN1bHQ6IGFueSk6IGFueSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBcInR5cGVcIjogXCJDb25kLU9wdGlvblwiLFxuICAgICAgICBcImNvbmRpdGlvblwiOiBjb25kaXRpb24sXG4gICAgICAgIFwicmVzdWx0XCI6cmVzdWx0XG4gICAgICB9XG4gICAgfTtcbiAgY29uc3QgcGVnJGMyNCA9IGZ1bmN0aW9uKG5hbWU6IGFueSwgYXJnczogYW55KTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJ0eXBlXCI6IFwiRnVuY3Rpb24gQ2FsbFwiLFxuICAgICAgXCJuYW1lXCI6IG5hbWUsXG4gICAgICBcImFyZ3NcIjogYXJnc1xuICAgICAgfVxuICAgIH07XG4gIGNvbnN0IHBlZyRjMjUgPSBcImRlZmluZVwiO1xuICBjb25zdCBwZWckYzI2ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImRlZmluZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjcgPSAvXlteXCIsJ2AoKVtcXF17fXwjXFxuXFx0XFxyIF0vO1xuICBjb25zdCBwZWckYzI4ID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1wiXFxcIlwiLCBcIixcIiwgXCInXCIsIFwiYFwiLCBcIihcIiwgXCIpXCIsIFwiW1wiLCBcIl1cIiwgXCJ7XCIsIFwifVwiLCBcInxcIiwgXCIjXCIsIFwiXFxuXCIsIFwiXFx0XCIsIFwiXFxyXCIsIFwiIFwiXSwgdHJ1ZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI5ID0gZnVuY3Rpb24oc3ltYm9sOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBcInR5cGVcIjogXCJTeW1ib2xcIixcbiAgICBcdFwic3ltYm9sXCI6c3ltYm9sLmpvaW4oXCJcIilcbiAgICAgIH1cbiAgICB9O1xuICBjb25zdCBwZWckYzMwID0gZnVuY3Rpb24odmFsOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBcInR5cGVcIjogXCJMaXRlcmFsIFZhbHVlXCIsXG4gICAgICBcInZhbHVlXCI6IHZhbFxuICAgICAgfVxuICAgIH07XG4gIGNvbnN0IHBlZyRjMzEgPSAvXlswLTldLztcbiAgY29uc3QgcGVnJGMzMiA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCIwXCIsIFwiOVwiXV0sIGZhbHNlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzMgPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiBwYXJzZUludCh0ZXh0KCksIDEwKX07XG4gIGNvbnN0IHBlZyRjMzQgPSBcIiN0cnVlXCI7XG4gIGNvbnN0IHBlZyRjMzUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiI3RydWVcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM2ID0gXCIjZmFsc2VcIjtcbiAgY29uc3QgcGVnJGMzNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIjZmFsc2VcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM4ID0gXCIjdFwiO1xuICBjb25zdCBwZWckYzM5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIiN0XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MCA9IFwiI2ZcIjtcbiAgY29uc3QgcGVnJGM0MSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIjZlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDIgPSBmdW5jdGlvbihib29sOiBhbnkpOiBhbnkgeyByZXR1cm4gKGJvb2wgPT09IFwiI3RydWVcIiB8fCBib29sID09PSBcIiN0XCIpIH07XG4gIGNvbnN0IHBlZyRjNDMgPSBcIicoKVwiO1xuICBjb25zdCBwZWckYzQ0ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIicoKVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDUgPSBmdW5jdGlvbigpOiBhbnkgeyByZXR1cm4gXCInKClcIiB9O1xuICBjb25zdCBwZWckYzQ2ID0gXCJcXFwiXCI7XG4gIGNvbnN0IHBlZyRjNDcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiXFxcIlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDggPSAvXlteXCJdLztcbiAgY29uc3QgcGVnJGM0OSA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIlxcXCJcIl0sIHRydWUsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM1MCA9IGZ1bmN0aW9uKHN0cjogYW55KTogYW55IHsgcmV0dXJuIHN0ci5qb2luKFwiXCIpIH07XG4gIGNvbnN0IHBlZyRjNTEgPSBwZWckb3RoZXJFeHBlY3RhdGlvbihcIndoaXRlc3BhY2VcIik7XG4gIGNvbnN0IHBlZyRjNTIgPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiB1bmRlZmluZWR9O1xuXG4gIGxldCBwZWckY3VyclBvcyA9IDA7XG4gIGxldCBwZWckc2F2ZWRQb3MgPSAwO1xuICBjb25zdCBwZWckcG9zRGV0YWlsc0NhY2hlID0gW3sgbGluZTogMSwgY29sdW1uOiAxIH1dO1xuICBsZXQgcGVnJG1heEZhaWxQb3MgPSAwO1xuICBsZXQgcGVnJG1heEZhaWxFeHBlY3RlZDogRXhwZWN0YXRpb25bXSA9IFtdO1xuICBsZXQgcGVnJHNpbGVudEZhaWxzID0gMDtcblxuICBsZXQgcGVnJHJlc3VsdDtcblxuICBpZiAob3B0aW9ucy5zdGFydFJ1bGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICghKG9wdGlvbnMuc3RhcnRSdWxlIGluIHBlZyRzdGFydFJ1bGVGdW5jdGlvbnMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBzdGFydCBwYXJzaW5nIGZyb20gcnVsZSBcXFwiXCIgKyBvcHRpb25zLnN0YXJ0UnVsZSArIFwiXFxcIi5cIik7XG4gICAgfVxuXG4gICAgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uID0gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uc1tvcHRpb25zLnN0YXJ0UnVsZV07XG4gIH1cblxuICBmdW5jdGlvbiB0ZXh0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGlucHV0LnN1YnN0cmluZyhwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvY2F0aW9uKCk6IElGaWxlUmFuZ2Uge1xuICAgIHJldHVybiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0ZWQoZGVzY3JpcHRpb246IHN0cmluZywgbG9jYXRpb24xPzogSUZpbGVSYW5nZSkge1xuICAgIGxvY2F0aW9uMSA9IGxvY2F0aW9uMSAhPT0gdW5kZWZpbmVkXG4gICAgICA/IGxvY2F0aW9uMVxuICAgICAgOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuXG4gICAgdGhyb3cgcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKFxuICAgICAgW3BlZyRvdGhlckV4cGVjdGF0aW9uKGRlc2NyaXB0aW9uKV0sXG4gICAgICBpbnB1dC5zdWJzdHJpbmcocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyksXG4gICAgICBsb2NhdGlvbjFcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZTogc3RyaW5nLCBsb2NhdGlvbjE/OiBJRmlsZVJhbmdlKSB7XG4gICAgbG9jYXRpb24xID0gbG9jYXRpb24xICE9PSB1bmRlZmluZWRcbiAgICAgID8gbG9jYXRpb24xXG4gICAgICA6IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG5cbiAgICB0aHJvdyBwZWckYnVpbGRTaW1wbGVFcnJvcihtZXNzYWdlLCBsb2NhdGlvbjEpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbih0ZXh0MTogc3RyaW5nLCBpZ25vcmVDYXNlOiBib29sZWFuKTogSUxpdGVyYWxFeHBlY3RhdGlvbiB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJsaXRlcmFsXCIsIHRleHQ6IHRleHQxLCBpZ25vcmVDYXNlOiBpZ25vcmVDYXNlIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckY2xhc3NFeHBlY3RhdGlvbihwYXJ0czogSUNsYXNzUGFydHMsIGludmVydGVkOiBib29sZWFuLCBpZ25vcmVDYXNlOiBib29sZWFuKTogSUNsYXNzRXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwiY2xhc3NcIiwgcGFydHM6IHBhcnRzLCBpbnZlcnRlZDogaW52ZXJ0ZWQsIGlnbm9yZUNhc2U6IGlnbm9yZUNhc2UgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRhbnlFeHBlY3RhdGlvbigpOiBJQW55RXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwiYW55XCIgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRlbmRFeHBlY3RhdGlvbigpOiBJRW5kRXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwiZW5kXCIgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRvdGhlckV4cGVjdGF0aW9uKGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBJT3RoZXJFeHBlY3RhdGlvbiB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJvdGhlclwiLCBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRjb21wdXRlUG9zRGV0YWlscyhwb3M6IG51bWJlcikge1xuICAgIGxldCBkZXRhaWxzID0gcGVnJHBvc0RldGFpbHNDYWNoZVtwb3NdO1xuICAgIGxldCBwO1xuXG4gICAgaWYgKGRldGFpbHMpIHtcbiAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgIH0gZWxzZSB7XG4gICAgICBwID0gcG9zIC0gMTtcbiAgICAgIHdoaWxlICghcGVnJHBvc0RldGFpbHNDYWNoZVtwXSkge1xuICAgICAgICBwLS07XG4gICAgICB9XG5cbiAgICAgIGRldGFpbHMgPSBwZWckcG9zRGV0YWlsc0NhY2hlW3BdO1xuICAgICAgZGV0YWlscyA9IHtcbiAgICAgICAgbGluZTogZGV0YWlscy5saW5lLFxuICAgICAgICBjb2x1bW46IGRldGFpbHMuY29sdW1uXG4gICAgICB9O1xuXG4gICAgICB3aGlsZSAocCA8IHBvcykge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwKSA9PT0gMTApIHtcbiAgICAgICAgICBkZXRhaWxzLmxpbmUrKztcbiAgICAgICAgICBkZXRhaWxzLmNvbHVtbiA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlscy5jb2x1bW4rKztcbiAgICAgICAgfVxuXG4gICAgICAgIHArKztcbiAgICAgIH1cblxuICAgICAgcGVnJHBvc0RldGFpbHNDYWNoZVtwb3NdID0gZGV0YWlscztcblxuICAgICAgcmV0dXJuIGRldGFpbHM7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGNvbXB1dGVMb2NhdGlvbihzdGFydFBvczogbnVtYmVyLCBlbmRQb3M6IG51bWJlcik6IElGaWxlUmFuZ2Uge1xuICAgIGNvbnN0IHN0YXJ0UG9zRGV0YWlscyA9IHBlZyRjb21wdXRlUG9zRGV0YWlscyhzdGFydFBvcyk7XG4gICAgY29uc3QgZW5kUG9zRGV0YWlscyA9IHBlZyRjb21wdXRlUG9zRGV0YWlscyhlbmRQb3MpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNvdXJjZTogcGVnJHNvdXJjZSxcbiAgICAgIHN0YXJ0OiB7XG4gICAgICAgIG9mZnNldDogc3RhcnRQb3MsXG4gICAgICAgIGxpbmU6IHN0YXJ0UG9zRGV0YWlscy5saW5lLFxuICAgICAgICBjb2x1bW46IHN0YXJ0UG9zRGV0YWlscy5jb2x1bW5cbiAgICAgIH0sXG4gICAgICBlbmQ6IHtcbiAgICAgICAgb2Zmc2V0OiBlbmRQb3MsXG4gICAgICAgIGxpbmU6IGVuZFBvc0RldGFpbHMubGluZSxcbiAgICAgICAgY29sdW1uOiBlbmRQb3NEZXRhaWxzLmNvbHVtblxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckZmFpbChleHBlY3RlZDE6IEV4cGVjdGF0aW9uKSB7XG4gICAgaWYgKHBlZyRjdXJyUG9zIDwgcGVnJG1heEZhaWxQb3MpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAocGVnJGN1cnJQb3MgPiBwZWckbWF4RmFpbFBvcykge1xuICAgICAgcGVnJG1heEZhaWxQb3MgPSBwZWckY3VyclBvcztcbiAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQgPSBbXTtcbiAgICB9XG5cbiAgICBwZWckbWF4RmFpbEV4cGVjdGVkLnB1c2goZXhwZWN0ZWQxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRidWlsZFNpbXBsZUVycm9yKG1lc3NhZ2U6IHN0cmluZywgbG9jYXRpb24xOiBJRmlsZVJhbmdlKSB7XG4gICAgcmV0dXJuIG5ldyBTeW50YXhFcnJvcihtZXNzYWdlLCBbXSwgXCJcIiwgbG9jYXRpb24xKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihleHBlY3RlZDE6IEV4cGVjdGF0aW9uW10sIGZvdW5kOiBzdHJpbmcgfCBudWxsLCBsb2NhdGlvbjE6IElGaWxlUmFuZ2UpIHtcbiAgICByZXR1cm4gbmV3IFN5bnRheEVycm9yKFxuICAgICAgU3ludGF4RXJyb3IuYnVpbGRNZXNzYWdlKGV4cGVjdGVkMSwgZm91bmQpLFxuICAgICAgZXhwZWN0ZWQxLFxuICAgICAgZm91bmQsXG4gICAgICBsb2NhdGlvbjFcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlUHJvZ3JhbSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IFtdO1xuICAgIHMyID0gcGVnJHBhcnNlRGVmT3JFeHByKCk7XG4gICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgd2hpbGUgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMS5wdXNoKHMyKTtcbiAgICAgICAgczIgPSBwZWckcGFyc2VEZWZPckV4cHIoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGMwKHMxKTtcbiAgICB9XG4gICAgczAgPSBzMTtcblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZURlZk9yRXhwcigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VEZWZpbml0aW9uKCk7XG4gICAgaWYgKHMxIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBpZiAocGVnJGMxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMik7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgd2hpbGUgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICAgIGlmIChwZWckYzEudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIpOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMChzMSk7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlRGVmaW5pdGlvbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZVN0cnVjdERlZigpO1xuICAgICAgaWYgKHMyIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZUZ1bkRlZigpO1xuICAgICAgICBpZiAoczIgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBwZWckcGFyc2VDb25zdERlZigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMyhzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlU3RydWN0RGVmKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczg7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDE0KSA9PT0gcGVnJGM0KSB7XG4gICAgICBzMSA9IHBlZyRjNDtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDE0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNSk7IH1cbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICAgICAgczQgPSBwZWckYzY7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBbXTtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgICAgICAgaWYgKHM2IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICB3aGlsZSAoczYgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczUucHVzaChzNik7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJGM4O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgICBpZiAoczcgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJGM4O1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOSk7IH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChzOCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMxMChzMiwgczUpO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUZ1bkRlZigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNykgPT09IHBlZyRjMTEpIHtcbiAgICAgIHMxID0gcGVnJGMxMTtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMik7IH1cbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VfKCk7XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICBzMyA9IHBlZyRjNjtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICBpZiAoczUgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gW107XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgICAgICAgICBpZiAoczcgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHM3IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczYucHVzaChzNyk7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZU5hbWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRjODtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczcgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZUV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzOCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJGM4O1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5KTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzOSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTMoczQsIHM2LCBzOCk7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUNvbnN0RGVmKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNDtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNykgPT09IHBlZyRjMTEpIHtcbiAgICAgIHMxID0gcGVnJGMxMTtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMik7IH1cbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgczQgPSBwZWckYzg7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMTQoczIsIHMzKTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlRXhwcmVzc2lvbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZVZhbHVlKCk7XG4gICAgICBpZiAoczIgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNlQ29uZCgpO1xuICAgICAgICBpZiAoczIgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBwZWckcGFyc2VDYWxsKCk7XG4gICAgICAgICAgaWYgKHMyIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczIgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMTUoczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUNvbmQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA1KSA9PT0gcGVnJGMxNikge1xuICAgICAgczEgPSBwZWckYzE2O1xuICAgICAgcGVnJGN1cnJQb3MgKz0gNTtcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE3KTsgfVxuICAgIH1cbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckcGFyc2VPcHRpb24oKTtcbiAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgd2hpbGUgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlT3B0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRjODtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMxOChzMik7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZU9wdGlvbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTEpIHtcbiAgICAgICAgczIgPSBwZWckYzE5O1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjApOyB9XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICBpZiAoczUgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgICBpZiAoczYgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5Mykge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzIxO1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIyKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczcgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyMyhzNCwgczYpO1xuICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VDYWxsKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNDtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgczEgPSBwZWckYzY7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNyk7IH1cbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gW107XG4gICAgICAgIHM0ID0gcGVnJHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICB3aGlsZSAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMucHVzaChzNCk7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJGM4O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzkpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzI0KHMyLCBzMyk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZU5hbWUoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMyNSkge1xuICAgICAgICBzMyA9IHBlZyRjMjU7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNik7IH1cbiAgICAgIH1cbiAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgaWYgKHMzIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBbXTtcbiAgICAgICAgaWYgKHBlZyRjMjcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgIHM0ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjgpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHdoaWxlIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzLnB1c2goczQpO1xuICAgICAgICAgICAgaWYgKHBlZyRjMjcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgICBzNCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyOCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjMjkoczMpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VWYWx1ZSgpOiBhbnkge1xuICAgIGxldCBzMCwgczE7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlTnVtYmVyKCk7XG4gICAgaWYgKHMxIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckcGFyc2VCb29sZWFuKCk7XG4gICAgICBpZiAoczEgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMxID0gcGVnJHBhcnNlRW1wdHkoKTtcbiAgICAgICAgaWYgKHMxIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMxID0gcGVnJHBhcnNlU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjMzAoczEpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlTnVtYmVyKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgaWYgKHBlZyRjMzEudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMik7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgd2hpbGUgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICAgIGlmIChwZWckYzMxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMik7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMzMygpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUJvb2xlYW4oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjMzQpIHtcbiAgICAgICAgczIgPSBwZWckYzM0O1xuICAgICAgICBwZWckY3VyclBvcyArPSA1O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzUpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzM2KSB7XG4gICAgICAgICAgczIgPSBwZWckYzM2O1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczIgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzgpIHtcbiAgICAgICAgICAgIHMyID0gcGVnJGMzODtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMyIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNDApIHtcbiAgICAgICAgICAgICAgczIgPSBwZWckYzQwO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDEpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNDIoczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUVtcHR5KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczI7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDMpID09PSBwZWckYzQzKSB7XG4gICAgICAgIHMyID0gcGVnJGM0MztcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ0KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzQ1KCk7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlU3RyaW5nKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNDtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzNCkge1xuICAgICAgICBzMiA9IHBlZyRjNDY7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0Nyk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBbXTtcbiAgICAgICAgaWYgKHBlZyRjNDgudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgIHM0ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDkpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHdoaWxlIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzLnB1c2goczQpO1xuICAgICAgICAgICAgaWYgKHBlZyRjNDgudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgICBzNCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0OSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM0KSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRjNDY7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzUwKHMzKTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlXygpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyO1xuXG4gICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IFtdO1xuICAgIGlmIChwZWckYzEudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIpOyB9XG4gICAgfVxuICAgIHdoaWxlIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxLnB1c2goczIpO1xuICAgICAgaWYgKHBlZyRjMS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIpOyB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzUyKCk7XG4gICAgfVxuICAgIHMwID0gczE7XG4gICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgaWYgKHMwIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzUxKTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIHBlZyRyZXN1bHQgPSBwZWckc3RhcnRSdWxlRnVuY3Rpb24oKTtcblxuICBpZiAocGVnJHJlc3VsdCAhPT0gcGVnJEZBSUxFRCAmJiBwZWckY3VyclBvcyA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHBlZyRyZXN1bHQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgIHBlZyRmYWlsKHBlZyRlbmRFeHBlY3RhdGlvbigpKTtcbiAgICB9XG5cbiAgICB0aHJvdyBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IoXG4gICAgICBwZWckbWF4RmFpbEV4cGVjdGVkLFxuICAgICAgcGVnJG1heEZhaWxQb3MgPCBpbnB1dC5sZW5ndGggPyBpbnB1dC5jaGFyQXQocGVnJG1heEZhaWxQb3MpIDogbnVsbCxcbiAgICAgIHBlZyRtYXhGYWlsUG9zIDwgaW5wdXQubGVuZ3RoXG4gICAgICAgID8gcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckbWF4RmFpbFBvcywgcGVnJG1heEZhaWxQb3MgKyAxKVxuICAgICAgICA6IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJG1heEZhaWxQb3MsIHBlZyRtYXhGYWlsUG9zKVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUGFyc2VPcHRpb25zIHtcbiAgZmlsZW5hbWU/OiBzdHJpbmc7XG4gIHN0YXJ0UnVsZT86IHN0cmluZztcbiAgdHJhY2VyPzogYW55O1xuICBba2V5OiBzdHJpbmddOiBhbnk7XG59XG5leHBvcnQgdHlwZSBQYXJzZUZ1bmN0aW9uID0gKGlucHV0OiBzdHJpbmcsIG9wdGlvbnM/OiBJUGFyc2VPcHRpb25zKSA9PiBhbnk7XG5leHBvcnQgY29uc3QgcGFyc2U6IFBhcnNlRnVuY3Rpb24gPSBwZWckcGFyc2U7XG4iLCAiLy8gIyMjIyMjIyMjIExBWU9VVCBBU1QgQVMgVFJFRSBESUFHUkFNICMjIyMjIyMjXG5pbXBvcnQgKiBhcyBCU0xfQVNUIGZyb20gXCIuL0JTTF9BU1RcIjtcbmltcG9ydCAqIGFzIEJTTF9QcmludCBmcm9tIFwiLi9CU0xfUHJpbnRcIjtcbmltcG9ydCB7bm9kZSwgcHJvZHVjdGlvblRyZWV9IGZyb20gXCIuL1Byb2R1Y3Rpb25fVHJlZVwiO1xuaW1wb3J0IHtwYXJzZX0gZnJvbSBcIi4vQlNMX1BhcnNlclwiO1xuaW1wb3J0IHtkZWZhdWx0IGFzIGVycm9yX2Nzc30gZnJvbSAnLi9yZXNzb3VyY2VzL2Vycm9yLmNzcyc7XG5cbi8vICMjIyBtYWluIGFwaVxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NCc2xUcmVlcygpIHtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYnNsdHJlZScpKS5tYXAoZWwgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm9ncmFtIDogQlNMX0FTVC5wcm9ncmFtID0gcGFyc2UoQlNMX1ByaW50LmRpcnRpZnkoZWwuaW5uZXJIVE1MKSk7XG4gICAgICBjb25zdCByb290ID0gcHJvZ3JhbVRvTm9kZShwcm9ncmFtKTtcbiAgICAgIGNvbnN0IHF1aXogPSBlbC5nZXRBdHRyaWJ1dGUoJ3F1aXonKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgY29uc3QgbGFuZyA9IChlbC5nZXRBdHRyaWJ1dGUoJ2xhbmcnKSA/IGVsLmdldEF0dHJpYnV0ZSgnbGFuZycpIDogdW5kZWZpbmVkKSBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICBwcm9kdWN0aW9uVHJlZShyb290LCBlbCBhcyBIVE1MRWxlbWVudCwgcHJvZHVjdGlvbnMsIHF1aXosIGxhbmcpO1xuICAgIH0gY2F0Y2goZTphbnkpIHtcbiAgICAgIHJlbmRlckVycm9yKGVsIGFzIEhUTUxFbGVtZW50LCBgJHtlLmxvY2F0aW9uLnN0YXJ0LmxpbmV9OiR7ZS5sb2NhdGlvbi5zdGFydC5jb2x1bW59ICR7ZX1gKTtcbiAgICB9XG4gIH0pO1xufVxuLy8gIyMjIGVycm9yIFJlbmRlciBGdW5jdGlvblxuZnVuY3Rpb24gcmVuZGVyRXJyb3IoZWw6IEhUTUxFbGVtZW50LCBlcnJvcjpzdHJpbmcpe1xuICAvLyBhZGQgY3NzIGlmIG5lY2Vzc2FyeVxuICBpZighZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JzbC10b29scy1lcnJvci1zdHlsZScpKSB7XG4gICAgY29uc3Qgc3R5bGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZU5vZGUuaW5uZXJIVE1MID0gZXJyb3JfY3NzO1xuICAgIHN0eWxlTm9kZS5pZCA9ICdic2wtdG9vbHMtZXJyb3Itc3R5bGUnO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc3R5bGVOb2RlKTtcbiAgfVxuXG4gIGNvbnN0IG9yaWdpbiA9IGVsLmlubmVySFRNTDtcbiAgZWwuaW5uZXJIVE1MID1cIlwiO1xuICAvL2NyZWF0ZSBlcnJvci13cmFwcGVyXG4gIGNvbnN0IGVycm9yV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBlcnJvcldyYXBwZXIuY2xhc3NMaXN0LmFkZCgnZXJyb3Itd3JhcHBlcicpO1xuICBlbC5hcHBlbmRDaGlsZChlcnJvcldyYXBwZXIpO1xuICAvL2NyZWF0ZSBvcmlnaW5EaXZcbiAgY29uc3QgbWVzc2FnZSA9YDxwPiBCU0wtVHJlZSBjb3VsZCBub3QgYmUgcGFyc2VkISA8L3A+XG4gICAgICAgICAgICAgICAgICA8cD4gSW5wdXQ6IDxiIHN0eWxlPVwiZm9udC1zaXplOjAuOWVtO1wiPiR7b3JpZ2lufTwvYj4gPC9wPmA7XG4gIGNvbnN0IG9yaWdpbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBvcmlnaW5EaXYuY2xhc3NMaXN0LmFkZCgnb3JpZ2luJyk7XG4gIG9yaWdpbkRpdi5pbm5lckhUTUwgPSBtZXNzYWdlO1xuICBlcnJvcldyYXBwZXIuYXBwZW5kQ2hpbGQob3JpZ2luRGl2KTtcbiAgLy9DcmVhdGUgZXJyUHJlXG4gIGNvbnN0IGVyclByZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ByZScpO1xuICBlcnJQcmUuY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcbiAgY29uc3QgZXJyQ29kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NvZGUnKTtcbiAgZXJyQ29kZS50ZXh0Q29udGVudCA9IGVycm9yO1xuICBlcnJvcldyYXBwZXIuYXBwZW5kQ2hpbGQoZXJyUHJlKTtcbiAgZXJyUHJlLmFwcGVuZENoaWxkKGVyckNvZGUpO1xufVxuXG4vLyAjIyMga25vd24gbGlzdCBvZiBwcm9kdWN0aW9uc1xuZXhwb3J0IGNvbnN0IHByb2R1Y3Rpb25zID0ge1xuICAnPHByb2dyYW0+JzogICAgICBbJzxkZWYtb3ItZXhwcj4qJ10sXG4gICc8ZGVmLW9yLWV4cHI+Kic6IFtdLCAvLyBbJzxkZWYtb3ItZXhwcj4gPGRlZi1vci1leHByPionLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJyddLFxuICAnPGRlZi1vci1leHByPic6ICBbJzxkZWZpbml0aW9uPicsXG4gICAgICAgICAgICAgICAgICAgICAnPGU+J10sXG4gICc8ZGVmaW5pdGlvbj4nOiAgIFsnKGRlZmluZSAoPG5hbWU+IDxuYW1lPispIDxlPiknLFxuICAgICAgICAgICAgICAgICAgICAgJyhkZWZpbmUgPG5hbWU+IDxlPiknLFxuICAgICAgICAgICAgICAgICAgICAgJyhkZWZpbmUtc3RydWN0IDxuYW1lPiAoPG5hbWU+KikpJ10sXG4gICc8ZT4nOiAgICAgICAgICAgIFsnKG5hbWUgPGU+KiknLFxuICAgICAgICAgICAgICAgICAgICAgJyhjb25kIHtbPGU+LDxlPl19KyknLFxuICAgICAgICAgICAgICAgICAgICAgJzxuYW1lPicsXG4gICAgICAgICAgICAgICAgICAgICAnPHY+J10sXG4gICc8ZT4qJzogICAgICAgICAgIFtdLCAvL1snPGU+IDxlPionLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJyddLFxuICAne1sgPGU+IDxlPiBdfSsnOiBbXSwgLy9bJ1s8ZT4gPGU+XScsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAnWzxlPiA8ZT5dIHtbPGU+LDxlPl19KyddLFxuICAnWyA8ZT4gPGU+IF0nOiAgICBbXSwgLy9bJ1s8ZT4gPGU+XSddLFxuICAnPG5hbWU+Kic6ICAgICAgICBbXSwgLy9bJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAnPG5hbWU+IDxuYW1lPionXSxcbiAgJzxuYW1lPisnOiAgICAgICAgW10sIC8vWyc8bmFtZT4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzxuYW1lPiA8bmFtZT4rJ10sXG4gICc8bmFtZT4nOiAgICAgICAgIFtdLFxuICAnPHY+JzogICAgICAgICAgICBbXVxufTtcblxuLy8gIyMjIHRyYW5zZm9ybSBBU1QgaW50byBub2RlIGhlbHBlciBzdHJ1Y3R1cmVcbmV4cG9ydCBmdW5jdGlvbiBwcm9ncmFtVG9Ob2RlKHA6IEJTTF9BU1QucHJvZ3JhbSk6IG5vZGUge1xuICBjb25zdCBleHByZXNzaW9ucyA9IHAubWFwKEJTTF9QcmludC5wcmludERlZk9yRXhwcik7XG4gIGNvbnN0IGluZGljZXMgPSBbXTtcbiAgbGV0IHByb2dyYW0gPSAnJztcbiAgZm9yKGxldCBpID0gMDsgaSA8IGV4cHJlc3Npb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGkgPiAwKSBwcm9ncmFtID0gYCR7cHJvZ3JhbX1cXG5gO1xuICAgIGNvbnN0IHN0YXJ0ID0gcHJvZ3JhbS5sZW5ndGg7XG4gICAgcHJvZ3JhbSA9IGAke3Byb2dyYW19JHtleHByZXNzaW9uc1tpXX1gO1xuICAgIGNvbnN0IGVuZCA9IHByb2dyYW0ubGVuZ3RoO1xuICAgIGluZGljZXMucHVzaCh7c3RhcnQ6c3RhcnQsZW5kOmVuZH0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJzxwcm9ncmFtPicsXG4gICAgY29kZTogcHJvZ3JhbSxcbiAgICBob2xlczogW1xuICAgICAge1xuICAgICAgICBzdGFydDogMCxcbiAgICAgICAgZW5kOiBwcm9ncmFtLmxlbmd0aCxcbiAgICAgICAgY29udGVudDoge1xuICAgICAgICAgIHByb2R1Y3Rpb246ICc8ZGVmLW9yLWV4cHI+KicsXG4gICAgICAgICAgY29kZTogcHJvZ3JhbSxcbiAgICAgICAgICBob2xlczogaW5kaWNlcy5tYXAoKGgsaWR4KSA9PiB7IHJldHVybiB7XG4gICAgICAgICAgICBzdGFydDogaC5zdGFydCxcbiAgICAgICAgICAgIGVuZDogaC5lbmQsXG4gICAgICAgICAgICBjb250ZW50OiBkZWZPckV4cHJUb05vZGUocFtpZHhdKVxuICAgICAgICAgIH19KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgXVxuICB9O1xufVxuXG5mdW5jdGlvbiBkZWZPckV4cHJUb05vZGUoZGU6IEJTTF9BU1QuZGVmT3JFeHByKTpub2RlIHtcbiAgY29uc3QgY29kZSA9IEJTTF9QcmludC5wcmludERlZk9yRXhwcihkZSkgYXMgc3RyaW5nO1xuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICc8ZGVmLW9yLWV4cHI+JyxcbiAgICBjb2RlOiBjb2RlLFxuICAgIGhvbGVzOiBbe1xuICAgICAgc3RhcnQ6IDAsXG4gICAgICBlbmQ6IGNvZGUubGVuZ3RoLFxuICAgICAgY29udGVudDogQlNMX0FTVC5pc0RlZmluaXRpb24oZGUpID8gZGVmVG9Ob2RlKGRlKSA6IGV4cFRvTm9kZShkZSlcbiAgICB9XVxuICB9XG59XG5cbmZ1bmN0aW9uIGRlZlRvTm9kZShkOiBCU0xfQVNULmRlZmluaXRpb24pOm5vZGUge1xuICBsZXQgY29kZSA9ICcnO1xuICBjb25zdCBob2xlcyA9IFtdO1xuICBpZiAoQlNMX0FTVC5pc0Z1bkRlZihkKSkge1xuICAgIGNvZGUgPSAnKGRlZmluZSAoJztcbiAgICBsZXQgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludE5hbWUoZC5uYW1lKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bmFtZVRvTm9kZShkLm5hbWUpfSk7XG5cbiAgICBjb2RlID0gYCR7Y29kZX0gYDtcbiAgICBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7ZC5hcmdzLm1hcChCU0xfUHJpbnQucHJpbnROYW1lKS5qb2luKCcgJyl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVQbHVzVG9Ob2RlKGQuYXJncyl9KTtcblxuICAgIGNvZGUgPSBgJHtjb2RlfSkgYDtcbiAgICBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50RShkLmJvZHkpfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpleHBUb05vZGUoZC5ib2R5KX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9KWA7XG4gIH0gZWxzZSBpZiAoQlNMX0FTVC5pc0NvbnN0RGVmKGQpKSB7XG4gICAgY29kZSA9ICcoZGVmaW5lICc7XG4gICAgbGV0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnROYW1lKGQubmFtZSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVUb05vZGUoZC5uYW1lKX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9IGA7XG4gICAgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludEUoZC52YWx1ZSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50OmV4cFRvTm9kZShkLnZhbHVlKX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9KWA7XG4gIH0gZWxzZSB7XG4gICAgY29kZSA9ICcoZGVmaW5lLXN0cnVjdCAnO1xuICAgIGxldCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50TmFtZShkLmJpbmRpbmcpfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpuYW1lVG9Ob2RlKGQuYmluZGluZyl9KTtcblxuICAgIGNvZGUgPSBgJHtjb2RlfSAoYDtcbiAgICBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7ZC5wcm9wZXJ0aWVzLm1hcChCU0xfUHJpbnQucHJpbnROYW1lKS5qb2luKCcgJyl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVTdGFyVG9Ob2RlKGQucHJvcGVydGllcyl9KTtcblxuICAgIGNvZGUgPSBgJHtjb2RlfSkpYDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246IGA8ZGVmaW5pdGlvbj5gLFxuICAgIGNvZGU6IGNvZGUsXG4gICAgaG9sZXM6IGhvbGVzXG4gIH07XG59XG5cbmZ1bmN0aW9uIGV4cFRvTm9kZShlOiBCU0xfQVNULmV4cHIpOm5vZGUge1xuICBsZXQgY29kZSA9ICcnO1xuICBjb25zdCBob2xlcyA9IFtdO1xuICBpZihCU0xfQVNULmlzQ2FsbChlKSkge1xuICAgIGNvZGUgPSAnKCc7XG4gICAgbGV0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnROYW1lKGUubmFtZSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVUb05vZGUoZS5uYW1lKX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9IGA7XG4gICAgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke2UuYXJncy5tYXAoQlNMX1ByaW50LnByaW50RSkuam9pbignICcpfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDplU3RhclRvTm9kZShlLmFyZ3MpfSk7XG5cbiAgICBjb2RlID0gYCR7Y29kZX0pYDtcbiAgfSBlbHNlIGlmIChCU0xfQVNULmlzQ29uZChlKSkge1xuICAgIGNvZGUgPSAnKGNvbmQgJztcbiAgICBsZXQgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke2Uub3B0aW9ucy5tYXAoQlNMX1ByaW50LnByaW50T3B0aW9uKS5qb2luKCcgJyl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om9wdGlvbnNUb05vZGUoZS5vcHRpb25zKX0pO1xuICAgIGNvZGUgPSBgJHtjb2RlfSlgO1xuICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNOYW1lKGUpKSB7XG4gICAgY29kZSA9IEJTTF9QcmludC5wcmludE5hbWUoZSk7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6MCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVUb05vZGUoZSl9KTtcbiAgfSBlbHNlIHtcbiAgICBjb2RlID0gQlNMX1ByaW50LnByaW50RShlKTtcbiAgICBob2xlcy5wdXNoKHtzdGFydDowLCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bGl0ZXJhbFRvTm9kZShlKX0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJzxlPicsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfTtcbn1cblxuZnVuY3Rpb24gbmFtZVRvTm9kZShuOiBCU0xfQVNULk5hbWUpOm5vZGUge1xuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICc8bmFtZT4nLFxuICAgIGNvZGU6IEJTTF9QcmludC5wcmludE5hbWUobiksXG4gICAgaG9sZXM6IFtdXG4gIH07XG59XG5cbmZ1bmN0aW9uIG5hbWVQbHVzVG9Ob2RlKG5zOiBCU0xfQVNULk5hbWVbXSk6bm9kZSB7XG4gIGlmIChucy5sZW5ndGggPCAxKSBjb25zb2xlLmVycm9yKCc8bmFtZT4rIGJ1dCB1c2VkIGJ1dCBuYW1lcyBhcmUgZW1wdHknKTtcbiAgbGV0IGNvZGUgPSAnJztcbiAgY29uc3QgaG9sZXMgPSBbXTtcbiAgZm9yKGxldCBpID0gMDsgaSA8IG5zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludE5hbWUobnNbaV0pfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpuYW1lVG9Ob2RlKG5zW2ldKX0pO1xuXG4gICAgaWYoaSA8IG5zLmxlbmd0aCAtIDEpIGNvZGUgPSBgJHtjb2RlfSBgO1xuICB9XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJzxuYW1lPisnLFxuICAgIGNvZGU6IGNvZGUsXG4gICAgaG9sZXM6IGhvbGVzXG4gIH1cbn1cblxuZnVuY3Rpb24gbmFtZVN0YXJUb05vZGUobnM6IEJTTF9BU1QuTmFtZVtdKTpub2RlIHtcbiAgbGV0IGNvZGUgPSAnJztcbiAgY29uc3QgaG9sZXMgPSBbXTtcbiAgZm9yKGxldCBpID0gMDsgaSA8IG5zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludE5hbWUobnNbaV0pfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpuYW1lVG9Ob2RlKG5zW2ldKX0pO1xuXG4gICAgaWYoaSA8IG5zLmxlbmd0aCAtIDEpIGNvZGUgPSBgJHtjb2RlfSBgO1xuICB9XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJzxuYW1lPionLFxuICAgIGNvZGU6IGNvZGUsXG4gICAgaG9sZXM6IGhvbGVzXG4gIH1cbn1cblxuZnVuY3Rpb24gZVN0YXJUb05vZGUoZXM6IEJTTF9BU1QuZXhwcltdKTpub2RlIHtcbiAgbGV0IGNvZGUgPSAnJztcbiAgY29uc3QgaG9sZXMgPSBbXTtcbiAgZm9yKGxldCBpID0gMDsgaSA8IGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludEUoZXNbaV0pfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpleHBUb05vZGUoZXNbaV0pfSk7XG5cbiAgICBpZihpIDwgZXMubGVuZ3RoIC0gMSkgY29kZSA9IGAke2NvZGV9IGA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAnPGU+KicsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfVxufVxuXG5mdW5jdGlvbiBvcHRpb25zVG9Ob2RlKG9zOiBCU0xfQVNULkNsYXVzZVtdKTpub2RlIHtcbiAgbGV0IGNvZGUgPSAnJztcbiAgY29uc3QgaG9sZXMgPSBbXTtcbiAgZm9yKGxldCBpID0gMDsgaSA8IG9zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludE9wdGlvbihvc1tpXSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om9wdGlvblRvTm9kZShvc1tpXSl9KTtcblxuICAgIGlmKGkgPCBvcy5sZW5ndGggLSAxKSBjb2RlID0gYCR7Y29kZX0gYDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICd7WyA8ZT4gPGU+IF19KycsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfVxufVxuXG5mdW5jdGlvbiBvcHRpb25Ub05vZGUobzogQlNMX0FTVC5DbGF1c2UpOm5vZGUge1xuICBsZXQgY29kZSA9ICcnO1xuICBjb25zdCBob2xlcyA9IFtdO1xuICBjb2RlID0gYCR7Y29kZX1bYDtcbiAgbGV0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50RShvLmNvbmRpdGlvbil9YDtcbiAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpleHBUb05vZGUoby5jb25kaXRpb24pfSk7XG5cbiAgY29kZSA9IGAke2NvZGV9IGA7XG4gIHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50RShvLnJlc3VsdCl9YDtcbiAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpleHBUb05vZGUoby5yZXN1bHQpfSk7XG5cbiAgY29kZSA9IGAke2NvZGV9XWA7XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAnWyA8ZT4gPGU+IF0nLFxuICAgIGNvZGU6IGNvZGUsXG4gICAgaG9sZXM6IGhvbGVzXG4gIH07XG5cbn1cblxuZnVuY3Rpb24gbGl0ZXJhbFRvTm9kZSh2OiBCU0xfQVNULkxpdGVyYWwpOm5vZGUge1xuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICc8dj4nLFxuICAgIGNvZGU6IEJTTF9QcmludC5wcmludEUodiksXG4gICAgaG9sZXM6IFtdXG4gIH1cbn1cbiIsICJpbXBvcnQgKiBhcyBCU0xfQVNUIGZyb20gXCIuL0JTTF9BU1RcIjtcblxuZXhwb3J0IGVudW0gUHJvZHVjdGlvbiB7XG4gIFN0ZXBwZXIgPSBcIlN0ZXBwZXJcIixcbiAgRXhwclN0ZXAgPSBcIkV4cHJTdGVwXCIsXG4gIERlZmluaXRpb25TdGVwID0gXCJEZWZpbml0aW9uU3RlcFwiLFxuICBFdmFsU3RlcCA9IFwiRXZhbFN0ZXBcIixcbiAgU3BsaXQgPSBcIlNwbGl0XCIsXG4gIENhbGxSZWRleCA9IFwiQ2FsbFJlZGV4XCIsXG4gIENvbmRSZWRleCA9IFwiQ29uZFJlZGV4XCIsXG4gIE5hbWVSZWRleCA9IFwiTmFtZVJlZGV4XCIsXG4gIENvbmRPcHRpb24gPSBcIkNvbmRPcHRpb25cIixcbiAgQXBwQ29udGV4dCA9IFwiQXBwQ29udGV4dFwiLFxuICBDb25kQ29udGV4dCA9IFwiQ29uZENvbnRleHRcIixcbiAgSG9sZSA9IFwiSG9sZVwiLFxuICBQcmltRGVmID0gXCJQcmltRGVmXCIsXG4gIEZ1bkRlZiA9IFwiRnVuRW52XCIsXG4gIFN0cnVjdERlZiA9IFwiU3RydWN0RGVmXCIsXG4gIE1ha2VGdW4gPSBcIk1ha2VGdW5cIixcbiAgUHJlZEZ1biA9IFwiUHJlZEZ1blwiLFxuICBTZWxlY3RGdW4gPSBcIlNlbGVjdEZ1blwiLFxuICBJZCA9IFwiSWRlbnRpZmllclwiLFxufVxuXG5leHBvcnQgZW51bSBEZWNvbXBvc2l0aW9uIHtcbiAgU3RlcHBlciA9IFwiU3RlcHBlclwiLFxuICBFeHByU3RlcCA9IFwiRXhwclN0ZXBcIixcbiAgRGVmaW5pdGlvblN0ZXAgPSBcIkRlZmluaXRpb25TdGVwXCIsXG4gIEV2YWxTdGVwID0gXCJFdmFsU3RlcFwiLFxuICBTcGxpdCA9IFwiU3BsaXRcIixcbiAgQ2FsbFJlZGV4ID0gXCJDYWxsUmVkZXhcIixcbiAgQ29uZFJlZGV4ID0gXCJDb25kUmVkZXhcIixcbiAgTmFtZVJlZGV4ID0gXCJOYW1lUmVkZXhcIixcbiAgQ29uZE9wdGlvbiA9IFwiQ29uZE9wdGlvblwiLFxuICBBcHBDb250ZXh0ID0gXCJBcHBDb250ZXh0XCIsXG4gIENvbmRDb250ZXh0ID0gXCJDb25kQ29udGV4dFwiLFxuICBIb2xlID0gXCJIb2xlXCIsXG4gIElkID0gXCJJZGVudGlmaWVyXCIsXG59XG5leHBvcnQgZW51bSBFbnZpcm9ubWVudFZhbHVlIHtcbiAgRnVuRGVmID0gXCJGdW5FbnZcIixcbiAgU3RydWN0RGVmID0gXCJTdHJ1Y3REZWZcIixcbiAgTWFrZUZ1biA9IFwiTWFrZUZ1blwiLFxuICBQcmVkRnVuID0gXCJQcmVkRnVuXCIsXG4gIFNlbGVjdEZ1biA9IFwiU2VsZWN0RnVuXCIsXG59XG5leHBvcnQgZW51bSBSdWxlIHtcbiAgS29uZyA9IFwiS29uZ1wiLFxuICBQcmltID0gXCJQcmltXCIsXG4gIFByaW1FcnJvciA9IFwiUHJpbUVycm9yXCIsXG4gIENvbmRUcnVlID0gXCJDb25kVHJ1ZVwiLFxuICBDb25kRmFsc2UgPSBcIkNvbmRGYWxzZVwiLFxuICBDb25kRXJyb3IgPSBcIkNvbmRFcnJvclwiLFxuICBQcm9nID0gXCJQcm9nXCIsXG4gIFByb2dFcnJvciA9IFwiUHJvZ0Vycm9yXCIsXG4gIENvbnN0ID0gXCJDb25zdFwiLFxuICBDb25zdEVycm9yID0gXCJDb25zdEVycm9yXCIsXG4gIEZ1biA9IFwiRnVuXCIsXG4gIEZ1bkVycm9yID0gXCJGdW5FcnJvclwiLFxuICBTdHJ1Y3RNYWtlID0gXCJTdHJ1Y3RNYWtlXCIsXG4gIFN0cnVjdE1ha2VFcnJvciA9IFwiU3RydWN0TWFrZUVycm9yXCIsXG4gIFN0cnVjdFByZWRUcnVlID0gXCJTdHJ1Y3RQcmVkVHJ1ZVwiLFxuICBTdHJ1Y3RQcmVkRmFsc2UgPSBcIlN0cnVjdFByZWRGYWxzZVwiLFxuICBTdHJ1Y3RQcmVkRXJyb3IgPSBcIlN0cnVjdFByZWRFcnJvclwiLFxuICBTdHJ1Y3RTZWxlY3QgPSBcIlN0cnVjdFNlbGVjdFwiLFxuICBTdHJ1Y3RTZWxlY3RFcnJvciA9IFwiU3RydWN0U2VsZWN0RXJyb3JcIixcbn1cbmV4cG9ydCBlbnVtIFByaW1GdW5zIHtcbiAgQWRkID0gXCIrXCIsXG4gIFN1YiA9IFwiLVwiLFxuICBNdWwgPSBcIipcIixcbiAgRGl2ID0gXCIvXCIsXG4gIEFuZCA9IFwiYW5kXCIsXG4gIE9yID0gXCJvclwiLFxuICBOb3QgPSBcIm5vdFwiLFxuICBMZXEgPSBcIjw9XCIsXG4gIEdlcSA9IFwiPj1cIixcbiAgTHQgPSBcIjxcIixcbiAgR3QgPSBcIj5cIixcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3RlcHBlciB7XG4gIHR5cGU6IFByb2R1Y3Rpb24uU3RlcHBlcjtcbiAgb3JpZ2luUHJvZ3JhbTogQlNMX0FTVC5wcm9ncmFtO1xuICBwcm9nU3RlcHM6IFByb2dTdGVwW107XG59XG5leHBvcnQgdHlwZSBQcm9nU3RlcCA9IEV4cHJTdGVwIHwgRGVmaW5pdGlvblN0ZXA7XG4vLyBEZWZpbml0aW9uU3RlcCBoYXMgUHJvZ1J1bGVcbmV4cG9ydCBpbnRlcmZhY2UgRGVmaW5pdGlvblN0ZXAge1xuICB0eXBlOiBQcm9kdWN0aW9uLkRlZmluaXRpb25TdGVwO1xuICBlbnY6IEVudmlyb25tZW50O1xuICBldmFsU3RlcHM6IEV2YWxTdGVwW107XG4gIHJ1bGU6IFByb2cgfCBQcm9nRXJyb3I7XG4gIG9yaWdpbmFsRGVmT3JFeHByOiBCU0xfQVNULmRlZmluaXRpb247XG4gIHJlc3VsdDogQlNMX0FTVC5kZWZpbml0aW9uIHwgRXJyb3I7IC8vZXZhbHVhdGVkIGRlZmluaXRpb24sIHdoaWNoIGlzIGdpdmVuIHRvIGVudlxufVxuZXhwb3J0IGludGVyZmFjZSBFeHByU3RlcCB7XG4gIHR5cGU6IFByb2R1Y3Rpb24uRXhwclN0ZXA7XG4gIGVudjogRW52aXJvbm1lbnQ7XG4gIGV2YWxTdGVwczogRXZhbFN0ZXBbXTtcbiAgb3JpZ2luYWxEZWZPckV4cHI6IEJTTF9BU1QuZXhwcjtcbiAgcmVzdWx0OiBWYWx1ZSB8IEVycm9yO1xufVxuZXhwb3J0IGludGVyZmFjZSBFdmFsU3RlcCB7XG4gIHR5cGU6IFByb2R1Y3Rpb24uRXZhbFN0ZXA7XG4gIGVudjogRW52aXJvbm1lbnQ7XG4gIHJ1bGU6IEtvbmcgfCBPbmVSdWxlO1xuICBjb250ZXh0OiBDb250ZXh0O1xuICByZXN1bHQ6IEJTTF9BU1QuZXhwciB8IFZhbHVlIHwgRXJyb3I7XG59XG5leHBvcnQgdHlwZSBTcGxpdFJlc3VsdCA9IFNwbGl0IHwgVmFsdWU7XG5leHBvcnQgaW50ZXJmYWNlIFNwbGl0IHtcbiAgdHlwZTogUHJvZHVjdGlvbi5TcGxpdDtcbiAgcmVkZXg6IFJlZGV4O1xuICBjb250ZXh0OiBDb250ZXh0O1xufVxuXG4vLyBSZWRleCBpc3QgU3VtbWVudHlwOiBDYWxsUmVkZXggfCBDb25kUmVkZXgsIGV0Yy5cbi8vICMjIyMjIyMgUkVERVggIyMjIyMjI1xuZXhwb3J0IHR5cGUgUmVkZXggPSBDYWxsUmVkZXggfCBDb25kUmVkZXggfCBOYW1lUmVkZXg7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlZGV4IHtcbiAgdHlwZTogUHJvZHVjdGlvbi5DYWxsUmVkZXg7XG4gIG5hbWU6IEJTTF9BU1QuTmFtZTtcbiAgYXJnczogKFZhbHVlIHwgSWQpW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZFJlZGV4IHtcbiAgdHlwZTogUHJvZHVjdGlvbi5Db25kUmVkZXg7XG4gIG9wdGlvbnM6IEJTTF9BU1QuQ2xhdXNlW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmFtZVJlZGV4IHtcbiAgdHlwZTogUHJvZHVjdGlvbi5OYW1lUmVkZXg7XG4gIHN5bWJvbDogc3RyaW5nO1xufVxuLy8gIyMjIyMjIyBDb250ZXh0ICMjIyMjIyNcbmV4cG9ydCB0eXBlIENvbnRleHQgPSBBcHBDb250ZXh0IHwgQ29uZENvbnRleHQgfCBIb2xlO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFwcENvbnRleHQge1xuICB0eXBlOiBQcm9kdWN0aW9uLkFwcENvbnRleHQ7XG4gIG9wOiBCU0xfQVNULk5hbWU7XG4gIHZhbHVlczogKFZhbHVlIHwgSWQpW107XG4gIGN0eDogQ29udGV4dDtcbiAgYXJnczogQlNMX0FTVC5leHByW107XG59XG5leHBvcnQgaW50ZXJmYWNlIENvbmRDb250ZXh0IHtcbiAgdHlwZTogUHJvZHVjdGlvbi5Db25kQ29udGV4dDtcbiAgb3B0aW9uczogQlNMX0FTVC5DbGF1c2VbXTtcbiAgY3R4OiBDb250ZXh0O1xufVxuZXhwb3J0IGludGVyZmFjZSBIb2xlIHtcbiAgdHlwZTogUHJvZHVjdGlvbi5Ib2xlO1xufVxuZXhwb3J0IHR5cGUgVmFsdWUgPVxuICB8IG51bWJlclxuICB8IHN0cmluZ1xuICB8IGJvb2xlYW5cbiAgfCBgJygpYFxuICB8IEJTTF9BU1QuU3RydWN0VmFsdWUgLyp8IEZ1blZhbHVlLyp8IENsb3N1cmUgKi87XG5cbmV4cG9ydCB0eXBlIEVudlZhbHVlID0gVmFsdWUgfCBQcmltRGVmIHwgRnVuRGVmIHwgU3RydWN0RGVmIHwgU3RydWN0RnVuO1xuZXhwb3J0IGludGVyZmFjZSBJZCB7XG4gIHR5cGU6IFByb2R1Y3Rpb24uSWQ7XG4gIHN5bWJvbDogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBQcmltRGVmIHtcbiAgdHlwZTogUHJvZHVjdGlvbi5QcmltRGVmO1xufVxuZXhwb3J0IGludGVyZmFjZSBGdW5EZWYge1xuICB0eXBlOiBQcm9kdWN0aW9uLkZ1bkRlZjtcbiAgcGFyYW1zOiBCU0xfQVNULk5hbWVbXTtcbiAgYm9keTogQlNMX0FTVC5leHByO1xufVxuZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3REZWYge1xuICB0eXBlOiBQcm9kdWN0aW9uLlN0cnVjdERlZjtcbiAgcHJvcGVydGllczogQlNMX0FTVC5OYW1lW107XG59XG5leHBvcnQgdHlwZSBTdHJ1Y3RGdW4gPSBNYWtlRnVuIHwgUHJlZEZ1biB8IFNlbGVjdEZ1bjtcblxuZXhwb3J0IGludGVyZmFjZSBNYWtlRnVuIHtcbiAgdHlwZTogUHJvZHVjdGlvbi5NYWtlRnVuO1xuICBzdHJ1Y3REZWY6IFN0cnVjdERlZjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUHJlZEZ1biB7XG4gIHR5cGU6IFByb2R1Y3Rpb24uUHJlZEZ1bjtcbiAgc3RydWN0RGVmOiBTdHJ1Y3REZWY7XG59XG5leHBvcnQgaW50ZXJmYWNlIFNlbGVjdEZ1biB7XG4gIHR5cGU6IFByb2R1Y3Rpb24uU2VsZWN0RnVuO1xuICBzdHJ1Y3REZWY6IFN0cnVjdERlZjtcbn1cblxuLy8jIyMjIyMjIyBPbmVSdWxlKHMpICMjIyMjIyMjXG5leHBvcnQgdHlwZSBQcmltUnVsZSA9IFByaW0gfCBQcmltRXJyb3I7XG5leHBvcnQgaW50ZXJmYWNlIFByaW0ge1xuICB0eXBlOiBSdWxlLlByaW07XG4gIHJlZGV4OiBDYWxsUmVkZXg7XG4gIHJlc3VsdDogVmFsdWU7XG59XG5leHBvcnQgaW50ZXJmYWNlIFByaW1FcnJvciB7XG4gIHR5cGU6IFJ1bGUuUHJpbUVycm9yO1xuICByZWRleDogQ2FsbFJlZGV4O1xuICByZXN1bHQ6IEVycm9yO1xufVxuZXhwb3J0IHR5cGUgQ29uZFJ1bGUgPSBDb25kVHJ1ZSB8IENvbmRGYWxzZSB8IENvbmRFcnJvcjtcbmV4cG9ydCBpbnRlcmZhY2UgQ29uZFRydWUge1xuICB0eXBlOiBSdWxlLkNvbmRUcnVlO1xuICByZWRleDogQ29uZFJlZGV4O1xuICByZXN1bHQ6IEJTTF9BU1QuZXhwciB8IFZhbHVlO1xufVxuZXhwb3J0IGludGVyZmFjZSBDb25kRmFsc2Uge1xuICB0eXBlOiBSdWxlLkNvbmRGYWxzZTtcbiAgcmVkZXg6IENvbmRSZWRleDtcbiAgcmVzdWx0OiBCU0xfQVNULkNvbmQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIENvbmRFcnJvciB7XG4gIHR5cGU6IFJ1bGUuQ29uZEVycm9yO1xuICByZWRleDogQ29uZFJlZGV4O1xuICByZXN1bHQ6IEVycm9yO1xufVxuZXhwb3J0IHR5cGUgUHJvZ1J1bGUgPSBQcm9nIHwgUHJvZ0Vycm9yO1xuZXhwb3J0IGludGVyZmFjZSBQcm9nIHtcbiAgdHlwZTogUnVsZS5Qcm9nO1xuICByZXN1bHQ6IEJTTF9BU1QuZGVmaW5pdGlvbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUHJvZ0Vycm9yIHtcbiAgdHlwZTogUnVsZS5Qcm9nRXJyb3I7XG4gIHJlc3VsdDogRXJyb3I7XG59XG5leHBvcnQgdHlwZSBDb25zdFJ1bGUgPSBDb25zdCB8IENvbnN0RXJyb3I7XG5leHBvcnQgaW50ZXJmYWNlIENvbnN0IHtcbiAgdHlwZTogUnVsZS5Db25zdDtcbiAgcmVkZXg6IFJlZGV4O1xuICByZXN1bHQ6IEJTTF9BU1QuZXhwciB8IFZhbHVlO1xufVxuZXhwb3J0IGludGVyZmFjZSBDb25zdEVycm9yIHtcbiAgdHlwZTogUnVsZS5Db25zdEVycm9yO1xuICByZWRleDogUmVkZXg7XG4gIHJlc3VsdDogRXJyb3I7XG59XG5leHBvcnQgdHlwZSBGdW5SdWxlID0gRnVuIHwgRnVuRXJyb3I7XG5leHBvcnQgaW50ZXJmYWNlIEZ1biB7XG4gIHR5cGU6IFJ1bGUuRnVuO1xuICByZWRleDogQ2FsbFJlZGV4O1xuICByZXN1bHQ6IEJTTF9BU1QuZXhwcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRnVuRXJyb3Ige1xuICB0eXBlOiBSdWxlLkZ1bkVycm9yO1xuICByZWRleDogQ2FsbFJlZGV4O1xuICByZXN1bHQ6IEVycm9yO1xufVxudHlwZSBTdHJ1Y3RSdWxlID1cbiAgfCBTdHJ1Y3RNYWtlXG4gIHwgU3RydWN0TWFrZUVycm9yXG4gIHwgU3RydWN0UHJlZFRydWVcbiAgfCBTdHJ1Y3RQcmVkRmFsc2VcbiAgfCBTdHJ1Y3RQcmVkRXJyb3JcbiAgfCBTdHJ1Y3RTZWxlY3RcbiAgfCBTdHJ1Y3RTZWxlY3RFcnJvcjtcbmV4cG9ydCBpbnRlcmZhY2UgU3RydWN0TWFrZSB7XG4gIHR5cGU6IFJ1bGUuU3RydWN0TWFrZTtcbiAgcmVkZXg6IENhbGxSZWRleDtcbiAgcmVzdWx0OiBWYWx1ZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3RydWN0TWFrZUVycm9yIHtcbiAgdHlwZTogUnVsZS5TdHJ1Y3RNYWtlRXJyb3I7XG4gIHJlZGV4OiBDYWxsUmVkZXg7XG4gIHJlc3VsdDogRXJyb3I7XG59XG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdFByZWRUcnVlIHtcbiAgdHlwZTogUnVsZS5TdHJ1Y3RQcmVkVHJ1ZTtcbiAgcmVkZXg6IENhbGxSZWRleDtcbiAgcmVzdWx0OiB0cnVlO1xufVxuZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3RQcmVkRmFsc2Uge1xuICB0eXBlOiBSdWxlLlN0cnVjdFByZWRGYWxzZTtcbiAgcmVkZXg6IENhbGxSZWRleDtcbiAgcmVzdWx0OiBmYWxzZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3RydWN0UHJlZEVycm9yIHtcbiAgdHlwZTogUnVsZS5TdHJ1Y3RQcmVkRXJyb3I7XG4gIHJlZGV4OiBDYWxsUmVkZXg7XG4gIHJlc3VsdDogRXJyb3I7XG59XG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdFNlbGVjdCB7XG4gIHR5cGU6IFJ1bGUuU3RydWN0U2VsZWN0O1xuICByZWRleDogQ2FsbFJlZGV4O1xuICByZXN1bHQ6IEJTTF9BU1QuZXhwciB8IFZhbHVlO1xufVxuZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3RTZWxlY3RFcnJvciB7XG4gIHR5cGU6IFJ1bGUuU3RydWN0U2VsZWN0RXJyb3I7XG4gIHJlZGV4OiBDYWxsUmVkZXg7XG4gIHJlc3VsdDogRXJyb3I7XG59XG5cbmV4cG9ydCB0eXBlIE9uZVJ1bGUgPSBQcmltUnVsZSB8IENvbmRSdWxlIHwgQ29uc3RSdWxlIHwgRnVuUnVsZSB8IFN0cnVjdFJ1bGU7XG5cbi8vICMjIyMjIyMgUHJvZ1N0ZXBSdWxlKHMpICMjIyMjIyMjXG5leHBvcnQgaW50ZXJmYWNlIEtvbmcge1xuICB0eXBlOiBSdWxlLktvbmc7XG4gIGNvbnRleHQ6IENvbnRleHQ7XG4gIHJlZGV4UnVsZTogT25lUnVsZTtcbn1cbi8vICMjIyMjIyMjIyBERUZJTklUSU9OUyAjIyMjIyMjI1xuXG4vLyBkZWZpbml0aW9uIGlzIGVpdGhlciBzdHJ1Y3REZWYsIGZ1bkRlZiBvciBjb25zdERlZlxuLy8gRGVmUnVsZXMgUFJPRywgU1RSVUNULCBGVU4sIENPTlNUXG5cbi8vIEVOVklST05NRU5UXG5cbmV4cG9ydCB0eXBlIEVudmlyb25tZW50ID0geyBba2V5OiBzdHJpbmddOiBFbnZWYWx1ZSB9O1xuLy8gQlNMX0FTVC5leHByIGlzIGV2YWx1YXRlZCBmaXJzdCAoY2FsbCBieSB2YWx1ZSlcbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbi8vIHJ1bnRpbWUgdHlwZSBjaGVja2luZ1xuLy8gU3RlcHBlciBhbmQgU3RlcHNcbmV4cG9ydCBmdW5jdGlvbiBpc1N0ZXBwZXIob2JqOiBhbnkpOiBvYmogaXMgU3RlcHBlciB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5TdGVwcGVyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRXhwclN0ZXAob2JqOiBhbnkpOiBvYmogaXMgRXhwclN0ZXAge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uRXhwclN0ZXA7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNEZWZpbml0aW9uU3RlcChvYmo6IGFueSk6IG9iaiBpcyBEZWZpbml0aW9uU3RlcCB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5EZWZpbml0aW9uU3RlcDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0V2YWxTdGVwKG9iajogYW55KTogb2JqIGlzIEV2YWxTdGVwIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkV2YWxTdGVwO1xufVxuLy9SZWRleFxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2FsbFJlZGV4KG9iajogYW55KTogb2JqIGlzIENhbGxSZWRleCB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5DYWxsUmVkZXg7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25kUmVkZXgob2JqOiBhbnkpOiBvYmogaXMgQ29uZFJlZGV4IHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkNvbmRSZWRleDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc05hbWVSZWRleChvYmo6IGFueSk6IG9iaiBpcyBOYW1lUmVkZXgge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uTmFtZVJlZGV4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNIb2xlKG9iajogYW55KTogb2JqIGlzIEhvbGUge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uSG9sZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbnRleHQob2JqOiBhbnkpOiBvYmogaXMgQ29udGV4dCB7XG4gIHJldHVybiAoXG4gICAgb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQXBwQ29udGV4dCB8fCBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25kQ29udGV4dFxuICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXBwQ29udGV4dChvYmo6IGFueSk6IG9iaiBpcyBBcHBDb250ZXh0IHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkFwcENvbnRleHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25kQ29udGV4dChvYmo6IGFueSk6IG9iaiBpcyBDb25kQ29udGV4dCB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25kQ29udGV4dDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1NwbGl0KG9iajogYW55KTogb2JqIGlzIFNwbGl0IHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlNwbGl0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzT25lUnVsZShvYmo6IGFueSk6IG9iaiBpcyBPbmVSdWxlIHtcbiAgcmV0dXJuIChcbiAgICBvYmoudHlwZSA9PT0gUnVsZS5QcmltIHx8XG4gICAgb2JqLnR5cGUgPT09IFJ1bGUuUHJpbUVycm9yIHx8XG4gICAgb2JqLnR5cGUgPT09IFJ1bGUuQ29uZFRydWUgfHxcbiAgICBvYmoudHlwZSA9PT0gUnVsZS5Db25kRmFsc2UgfHxcbiAgICBvYmoudHlwZSA9PT0gUnVsZS5Db25kRXJyb3IgfHxcbiAgICBvYmoudHlwZSA9PT0gUnVsZS5Db25zdCB8fFxuICAgIG9iai50eXBlID09PSBSdWxlLkNvbnN0RXJyb3IgfHxcbiAgICBvYmoudHlwZSA9PT0gUnVsZS5GdW4gfHxcbiAgICBvYmoudHlwZSA9PT0gUnVsZS5GdW5FcnJvciB8fFxuICAgIG9iai50eXBlID09PSBSdWxlLlN0cnVjdE1ha2UgfHxcbiAgICBvYmoudHlwZSA9PT0gUnVsZS5TdHJ1Y3RNYWtlRXJyb3IgfHxcbiAgICBvYmoudHlwZSA9PT0gUnVsZS5TdHJ1Y3RQcmVkVHJ1ZSB8fFxuICAgIG9iai50eXBlID09PSBSdWxlLlN0cnVjdFByZWRGYWxzZSB8fFxuICAgIG9iai50eXBlID09PSBSdWxlLlN0cnVjdFByZWRFcnJvciB8fFxuICAgIG9iai50eXBlID09PSBSdWxlLlN0cnVjdFNlbGVjdCB8fFxuICAgIG9iai50eXBlID09PSBSdWxlLlN0cnVjdFNlbGVjdEVycm9yXG4gICk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNQcm9nUnVsZShvYmo6IGFueSk6IG9iaiBpcyBQcm9nUnVsZSB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUnVsZS5Qcm9nIHx8IG9iai50eXBlID09PSBSdWxlLlByb2dFcnJvcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb2cob2JqOiBhbnkpOiBvYmogaXMgUHJvZyB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUnVsZS5Qcm9nO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvZ0Vycm9yKG9iajogYW55KTogb2JqIGlzIFByb2dFcnJvciB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUnVsZS5Qcm9nRXJyb3I7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNLb25nKG9iajogYW55KTogb2JqIGlzIEtvbmcge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFJ1bGUuS29uZztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbHVlKG9iajogYW55KTogb2JqIGlzIFZhbHVlIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygb2JqID09PSBcIm51bWJlclwiIHx8XG4gICAgdHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIiB8fFxuICAgIHR5cGVvZiBvYmogPT09IFwiYm9vbGVhblwiIHx8XG4gICAgb2JqID09PSBgJygpYCB8fFxuICAgIEJTTF9BU1QuaXNTdHJ1Y3RWYWx1ZShvYmopXG4gICk7IC8vfHwgaXNDbG9zdXJlKG9iaik7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNQcmltRGVmKG9iajogYW55KTogb2JqIGlzIFByaW1EZWYge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uUHJpbURlZjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bkRlZihvYmo6IGFueSk6IG9iaiBpcyBGdW5EZWYge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uRnVuRGVmO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RydWN0RGVmKG9iajogYW55KTogb2JqIGlzIFN0cnVjdERlZiB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5TdHJ1Y3REZWY7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNJZChvYmo6IGFueSk6IG9iaiBpcyBJZCB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5JZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cnVjdEZ1bihvYmo6IGFueSk6IG9iaiBpcyBTdHJ1Y3RGdW4ge1xuICByZXR1cm4gKFxuICAgIG9iai50eXBlID09PSBQcm9kdWN0aW9uLk1ha2VGdW4gfHxcbiAgICBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5QcmVkRnVuIHx8XG4gICAgb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uU2VsZWN0RnVuXG4gICk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNNYWtlRnVuKG9iajogYW55KTogb2JqIGlzIE1ha2VGdW4ge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uTWFrZUZ1bjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ByZWRGdW4ob2JqOiBhbnkpOiBvYmogaXMgUHJlZEZ1biB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5QcmVkRnVuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU2VsZWN0RnVuKG9iajogYW55KTogb2JqIGlzIFNlbGVjdEZ1biB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5TZWxlY3RGdW47XG59XG4iLCAiaW1wb3J0ICogYXMgQlNMX0FTVCBmcm9tIFwiLi9CU0xfQVNUXCI7XG5pbXBvcnQgKiBhcyBTSV9TVFJVQ1QgZnJvbSBcIi4vU0lfU1RSVUNUXCI7XG5cbi8vIGNhbGN1bGF0ZUFsbFN0ZXBzIChmb3IgdGhlIHdob2xlIHByb2dyYW0pXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlUHJvZ3JhbShcbiAgcHJvZ3JhbTogQlNMX0FTVC5wcm9ncmFtXG4pOiBTSV9TVFJVQ1QuU3RlcHBlciB8IEVycm9yIHtcbiAgLy8gSW5pdGlhbGl6ZSB0aGUgZW52aXJvbm1lbnRcbiAgY29uc3QgbWF5YmVFbnYgPSBpbml0RW52KCk7XG4gIGlmIChtYXliZUVudiBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gbWF5YmVFbnY7XG4gIGxldCBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudCA9IG1heWJlRW52O1xuXG5cbiAgLy8gcmV3cml0ZSB0aGlzXG4gIGNvbnN0IHByb2dTdGVwcyA9IHByb2dyYW0ubWFwKChkZWZPckV4cHIpID0+IHtcbiAgICBjb25zdCBuZXdTdGVwID0gY2FsY3VsYXRlUHJvZ1N0ZXAoZGVmT3JFeHByLCBlbnYpO1xuICAgIGlmIChuZXdTdGVwIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBuZXdTdGVwO1xuICAgIGVudiA9IG5ld1N0ZXAuZW52O1xuICAgIHJldHVybiBuZXdTdGVwO1xuICB9KTtcbiAgLy8gaWYgYSBQcm9nU3RlcCBpdHNlbGYgaXMgYW4gRXJyb3IsIHJldHVybiB0aGUgRXJyb3JcbiAgY29uc3QgaXNQcm9nRXJyb3IgPSBwcm9nU3RlcHMuc29tZSgocykgPT4gcyBpbnN0YW5jZW9mIEVycm9yKTtcbiAgaWYgKGlzUHJvZ0Vycm9yKSByZXR1cm4gcHJvZ1N0ZXBzLmZpbmQoKHMpID0+IHMgaW5zdGFuY2VvZiBFcnJvcikgYXMgRXJyb3I7XG4gIC8vIGVsc2UgY2hlY2sgaWYgdGhlcmUgaXMgYW4gZXJyb3IgaW4gdGhlIHJlc3VsdFxuICBjb25zdCBpc1N0ZXBSZXNFcnJvciA9IHByb2dTdGVwcy5zb21lKHM9PiAocyBhcyBTSV9TVFJVQ1QuUHJvZ1N0ZXApLnJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKTtcbiAgLy8gaWYgdGhlcmUgaXMgYW4gZXJyb3IgaW4gdGhlIHJlc3VsdCwgZmluZCB0aGUgaW5kZXggb2YgdGhlIGVycm9yIGFuZCBzbGljZSB0aGUgYXJyYXkgYXQgdGhlIGxhc3QgaW5kZXggYWZ0ZXIgdGhlIGVycm9yXG4gIGNvbnN0IHByb2dTdGVwRXJyb3JJZCA9IGlzU3RlcFJlc0Vycm9yID8gcHJvZ1N0ZXBzLmZpbmRJbmRleCgocykgPT4gKHMgYXMgU0lfU1RSVUNULlByb2dTdGVwKS5yZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikgOiAtMTtcbiAgY29uc3QgbmV3UHJvZ1N0ZXBzID0gaXNTdGVwUmVzRXJyb3IgPyBwcm9nU3RlcHMuc2xpY2UoMCwgcHJvZ1N0ZXBFcnJvcklkICsgMSkgYXMgU0lfU1RSVUNULlByb2dTdGVwW10gOiBwcm9nU3RlcHMgYXMgU0lfU1RSVUNULlByb2dTdGVwW107XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5TdGVwcGVyLFxuICAgIG9yaWdpblByb2dyYW06IHByb2dyYW0sXG4gICAgcHJvZ1N0ZXBzOiBuZXdQcm9nU3RlcHMsXG4gIH07XG59XG4vLyBjYWxjdWxhdGUgUHJvZ1N0ZXBcbi8vIE9uZSBQcm9nU3RlcCByZXByZXNlbnRzIGEgbGluZSBvZiBwcm9ncmFtIGNvZGUgLT4gUHJvZ1N0ZXAgfCBFcnJvclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVByb2dTdGVwKFxuICBkZWZPckV4cHI6IEJTTF9BU1QuZXhwciB8IEJTTF9BU1QuZGVmaW5pdGlvbixcbiAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IFNJX1NUUlVDVC5Qcm9nU3RlcCB8IEVycm9yIHtcbiAgLy8gSWYgaXQgaXMgYW4gZXhwcmVzc2lvbiwgY2FsY3VsYXRlIHRoZSBzdGVwcyBmb3IgdGhlIGV4cHJlc3Npb25cbiAgaWYgKEJTTF9BU1QuaXNFeHByKGRlZk9yRXhwcikpIHtcbiAgICBjb25zdCBldmFsU3RlcCA9IGNhbGN1bGF0ZUV2YWxTdGVwcyhkZWZPckV4cHIsIGVudik7XG4gICAgaWYgKGV2YWxTdGVwIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBldmFsU3RlcDtcbiAgICBpZiAoZXZhbFN0ZXAubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5FeHByU3RlcCxcbiAgICAgICAgZW52OiBlbnYsXG4gICAgICAgIGV2YWxTdGVwczogW10sXG4gICAgICAgIG9yaWdpbmFsRGVmT3JFeHByOiBkZWZPckV4cHIsXG4gICAgICAgIHJlc3VsdDogZXZhbHVhdGVFeHByZXNzaW9uKGRlZk9yRXhwciwgZW52KSBhcyBTSV9TVFJVQ1QuVmFsdWUsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBldmFsU3RlcFtldmFsU3RlcC5sZW5ndGggLSAxXS5yZXN1bHQ7XG4gICAgICBpZiAoQlNMX0FTVC5pc0V4cHIocmVzdWx0KSkgcmV0dXJuIG5ldyBFcnJvcihcIlJlc3VsdCBpcyBub3QgYSB2YWx1ZVwiKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5FeHByU3RlcCxcbiAgICAgICAgICBlbnY6IGV2YWxTdGVwW2V2YWxTdGVwLmxlbmd0aCAtIDFdLmVudixcbiAgICAgICAgICBldmFsU3RlcHM6IGV2YWxTdGVwLFxuICAgICAgICAgIG9yaWdpbmFsRGVmT3JFeHByOiBkZWZPckV4cHIsXG4gICAgICAgICAgcmVzdWx0OiByZXN1bHQsXG4gICAgICAgIH07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIElmIGl0IGlzIGEgZGVmaW5pdGlvbiwgY2FsY3VsYXRlIHRoZSBzdGVwIGZvciB0aGUgZGVmaW5pdGlvblxuICAgIGNvbnN0IGRlZlN0ZXAgPSBjYWxjdWxhdGVEZWZTdGVwcyhkZWZPckV4cHIsIGVudik7XG4gICAgLy8gSWYgdGhlIGFuIGVycm9yIG9jY3VycywgcmV0dXJuIHRoZSBlcnJvclxuICAgIC8vIGlmIChkZWZTdGVwIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBkZWZTdGVwO1xuICAgIHJldHVybiBkZWZTdGVwO1xuICB9XG59XG4vL2NhbGN1bGF0ZURlZlN0ZXBzXG4vL2RlZmluaXRpb24sIEVudmlyb25tZW50ID0+IFNJX1NUUlVDVC5EZWZTdGVwXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlRGVmU3RlcHMoXG4gIGRlZjogQlNMX0FTVC5kZWZpbml0aW9uLFxuICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudFxuKTogU0lfU1RSVUNULkRlZmluaXRpb25TdGVwIHwgRXJyb3Ige1xuICAvLyBJZiBDb25zdGFudCBEZWZpbml0aW9uID0+IEFkZCBDb25zdGFudCBEZWZpbml0aW9uIHRvIEVudmlyb25tZW50XG4gIGlmIChCU0xfQVNULmlzQ29uc3REZWYoZGVmKSkge1xuICAgIGNvbnN0IG5hbWUgPSBkZWYubmFtZTtcbiAgICBjb25zdCBleHByID0gZGVmLnZhbHVlO1xuICAgIC8vIElmIHRoZSBleHByZXNzaW9uIGlzIGEgbGl0ZXJhbCwgYWRkIHRoZSBsaXRlcmFsIHRvIHRoZSBlbnZpcm9ubWVudFxuICAgIGlmIChCU0xfQVNULmlzTGl0ZXJhbChleHByKSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBleHByLnZhbHVlO1xuICAgICAgY29uc3QgbmV3RW52ID0gYWRkVG9FbnYoZW52LCBuYW1lLnN5bWJvbCwgdmFsdWUpO1xuICAgICAgY29uc3QgZXJyID0gbmV3RW52IGluc3RhbmNlb2YgRXJyb3I7XG4gICAgICBjb25zdCBwcm9nUnVsZTogU0lfU1RSVUNULlByb2dSdWxlIHwgU0lfU1RSVUNULlByb2dFcnJvciA9IGVyclxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5SdWxlLlByb2dFcnJvcixcbiAgICAgICAgICAgIHJlc3VsdDogbmV3RW52LFxuICAgICAgICAgIH1cbiAgICAgICAgOiB7IHR5cGU6IFNJX1NUUlVDVC5SdWxlLlByb2csIHJlc3VsdDogZGVmIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5EZWZpbml0aW9uU3RlcCxcbiAgICAgICAgZW52OiBlcnIgPyBlbnYgOiBuZXdFbnYsXG4gICAgICAgIHJ1bGU6IHByb2dSdWxlLFxuICAgICAgICBldmFsU3RlcHM6IFtdLFxuICAgICAgICBvcmlnaW5hbERlZk9yRXhwcjogZGVmLFxuICAgICAgICByZXN1bHQ6IGVyciA/IG5ld0VudiA6IGRlZixcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBzdGVwTGlzdCA9IGNhbGN1bGF0ZUV2YWxTdGVwcyhleHByLCBlbnYpO1xuICAgICAgaWYgKHN0ZXBMaXN0IGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBzdGVwTGlzdDtcbiAgICAgIGNvbnN0IHZhbHVlID0gc3RlcExpc3Rbc3RlcExpc3QubGVuZ3RoIC0gMV0ucmVzdWx0O1xuICAgICAgaWYgKFNJX1NUUlVDVC5pc1ZhbHVlKHZhbHVlKSkge1xuICAgICAgICBjb25zdCBuZXdFbnYgPSBhZGRUb0VudihlbnYsIG5hbWUuc3ltYm9sLCB2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGVyciA9IG5ld0VudiBpbnN0YW5jZW9mIEVycm9yO1xuICAgICAgICBjb25zdCBuZXdEZWY6IEJTTF9BU1QuQ29uc3REZWYgPSB7XG4gICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkNvbnN0YW50RGVmaW5pdGlvbixcbiAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIHZhbHVlOiB7IHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLCB2YWx1ZTogdmFsdWUgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcHJvZ1J1bGU6IFNJX1NUUlVDVC5Qcm9nUnVsZSB8IFNJX1NUUlVDVC5Qcm9nRXJyb3IgPSBlcnJcbiAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlJ1bGUuUHJvZ0Vycm9yLFxuICAgICAgICAgICAgICByZXN1bHQ6IG5ld0VudixcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHsgdHlwZTogU0lfU1RSVUNULlJ1bGUuUHJvZywgcmVzdWx0OiBuZXdEZWYgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5EZWZpbml0aW9uU3RlcCxcbiAgICAgICAgICBlbnY6IGVyciA/IGVudiA6IG5ld0VudixcbiAgICAgICAgICBydWxlOiBwcm9nUnVsZSxcbiAgICAgICAgICBldmFsU3RlcHM6IHN0ZXBMaXN0LFxuICAgICAgICAgIG9yaWdpbmFsRGVmT3JFeHByOiBkZWYsXG4gICAgICAgICAgcmVzdWx0OiBuZXdEZWYsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5EZWZpbml0aW9uU3RlcCxcbiAgICAgICAgICBlbnY6IGVudixcbiAgICAgICAgICBydWxlOiB7XG4gICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5Qcm9nRXJyb3IsXG4gICAgICAgICAgICByZXN1bHQ6IHZhbHVlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXZhbFN0ZXBzOiBzdGVwTGlzdCxcbiAgICAgICAgICBvcmlnaW5hbERlZk9yRXhwcjogZGVmLFxuICAgICAgICAgIHJlc3VsdDogdmFsdWUsXG4gICAgICAgIH1cbiAgICAgIH1lbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcIk5laXRoZXIgYSB2YWx1ZSBub3IgYW4gZXJyb3I7IENvdWxkIG5vdCBldmFsdWF0ZSBleHByZXNzaW9uIHdpdGggY2FsbC1ieS12YWx1ZVwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoQlNMX0FTVC5pc0Z1bkRlZihkZWYpKSB7XG4gICAgY29uc3QgbmFtZSA9IGRlZi5uYW1lO1xuICAgIGNvbnN0IGZ1bkRlZjogU0lfU1RSVUNULkZ1bkRlZiA9IHtcbiAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkZ1bkRlZixcbiAgICAgIHBhcmFtczogZGVmLmFyZ3MsXG4gICAgICBib2R5OiBkZWYuYm9keSxcbiAgICB9O1xuICAgIGNvbnN0IG5ld0VudiA9IGFkZFRvRW52KGVudiwgbmFtZS5zeW1ib2wsIGZ1bkRlZik7XG4gICAgY29uc3QgZXJyID0gbmV3RW52IGluc3RhbmNlb2YgRXJyb3I7XG4gICAgY29uc3QgcHJvZ1J1bGU6IFNJX1NUUlVDVC5Qcm9nUnVsZSB8IFNJX1NUUlVDVC5Qcm9nRXJyb3IgPSBlcnJcbiAgICAgID8ge1xuICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5SdWxlLlByb2dFcnJvcixcbiAgICAgICAgICByZXN1bHQ6IG5ld0VudixcbiAgICAgICAgfVxuICAgICAgOiB7IHR5cGU6IFNJX1NUUlVDVC5SdWxlLlByb2csIHJlc3VsdDogZGVmIH07XG4gICAgY29uc3QgZGVmU3RlcDogU0lfU1RSVUNULkRlZmluaXRpb25TdGVwID0ge1xuICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uRGVmaW5pdGlvblN0ZXAsXG4gICAgICBlbnY6IGVyciA/IGVudiA6IG5ld0VudixcbiAgICAgIHJ1bGU6IHByb2dSdWxlLFxuICAgICAgZXZhbFN0ZXBzOiBbXSxcbiAgICAgIG9yaWdpbmFsRGVmT3JFeHByOiBkZWYsXG4gICAgICByZXN1bHQ6IGVyciA/IG5ld0VudiA6IGRlZixcbiAgICB9O1xuICAgIHJldHVybiBkZWZTdGVwO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGJpbmRpbmcgPSBkZWYuYmluZGluZztcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gZGVmLnByb3BlcnRpZXM7XG4gICAgLy8gYWRkIFN0cnVjdERlZiB0byBlbnZpcm9ubWVudFxuICAgIGNvbnN0IHN0cnVjdERlZjogU0lfU1RSVUNULlN0cnVjdERlZiA9IHtcbiAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLlN0cnVjdERlZixcbiAgICAgIHByb3BlcnRpZXM6IHByb3BlcnRpZXMsXG4gICAgfTtcbiAgICBsZXQgbmV3RW52ID0gYWRkVG9FbnYoZW52LCBiaW5kaW5nLnN5bWJvbCwgc3RydWN0RGVmKTtcbiAgICAvL2NoZWNrIGlmIG5ld0VudiBpcyBhbiBFcnJvciBiZWZvcmUgZGVmaW5pbmcgc3RydWN0RnVuc1xuICAgIC8vcmV0dXJuIGEgUHJvZ0Vycm9yIGluIERlZmluaXRpb25TdGVwXG4gICAgaWYgKG5ld0VudiBpbnN0YW5jZW9mIEVycm9yKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uRGVmaW5pdGlvblN0ZXAsXG4gICAgICAgIGVudjogZW52LFxuICAgICAgICBydWxlOiB7XG4gICAgICAgICAgdHlwZTogU0lfU1RSVUNULlJ1bGUuUHJvZ0Vycm9yLFxuICAgICAgICAgIHJlc3VsdDogbmV3RW52LFxuICAgICAgICB9LFxuICAgICAgICBldmFsU3RlcHM6IFtdLFxuICAgICAgICBvcmlnaW5hbERlZk9yRXhwcjogZGVmLFxuICAgICAgICByZXN1bHQ6IG5ld0VudixcbiAgICAgIH07XG4gICAgLy8gY29uc3RydWN0IHN0cnVjdEZ1bnNcbiAgICBjb25zdCBzdHJ1Y3RGdW5zID0gY29uc3RydWN0RnVuU3RydWN0cyhiaW5kaW5nLCBzdHJ1Y3REZWYpO1xuICAgIC8vIGFkZCBhbGwgc3RydWN0RnVucyB0byBlbnZpcm9ubWVudFxuICAgIC8vIGlmIGFuIGVycm9yIG9jY3VycywgcmV0dXJuIHRoZSBlcnJvclxuICAgIGNvbnN0IGZpbmFsRW52ID0gYWRkU3RydWN0RnVuVG9FbnYobmV3RW52LCBzdHJ1Y3RGdW5zKTtcbiAgICBjb25zdCBlcnIgPSBmaW5hbEVudiBpbnN0YW5jZW9mIEVycm9yO1xuICAgIGNvbnN0IHByb2dSdWxlOiBTSV9TVFJVQ1QuUHJvZ1J1bGUgfCBTSV9TVFJVQ1QuUHJvZ0Vycm9yID0gZXJyXG4gICAgICA/IHtcbiAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5Qcm9nRXJyb3IsXG4gICAgICAgICAgcmVzdWx0OiBmaW5hbEVudixcbiAgICAgICAgfVxuICAgICAgOiB7XG4gICAgICAgICAgdHlwZTogU0lfU1RSVUNULlJ1bGUuUHJvZyxcbiAgICAgICAgICByZXN1bHQ6IGRlZixcbiAgICAgICAgfTtcblxuICAgIGNvbnN0IGRlZlN0ZXA6IFNJX1NUUlVDVC5EZWZpbml0aW9uU3RlcCA9IHtcbiAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkRlZmluaXRpb25TdGVwLFxuICAgICAgZW52OiBlcnIgPyBlbnYgOiBmaW5hbEVudixcbiAgICAgIGV2YWxTdGVwczogW10sXG4gICAgICBydWxlOiBwcm9nUnVsZSxcbiAgICAgIG9yaWdpbmFsRGVmT3JFeHByOiBkZWYsXG4gICAgICByZXN1bHQ6IGVyciA/IGZpbmFsRW52IDogZGVmLFxuICAgIH07XG4gICAgcmV0dXJuIGRlZlN0ZXA7XG4gIH1cbiAgLy8gaGVscGVyIGZ1bmN0aW9uIGZvciBjYWxjdWxhdGVEZWZTdGVwc1xuICBmdW5jdGlvbiBjb25zdHJ1Y3RGdW5TdHJ1Y3RzKFxuICAgIGJpbmRpbmc6IEJTTF9BU1QuTmFtZSxcbiAgICBzdHJ1Y3REZWY6IFNJX1NUUlVDVC5TdHJ1Y3REZWZcbiAgKTogW3N0cmluZywgU0lfU1RSVUNULlN0cnVjdEZ1bl1bXSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IHN0cnVjdERlZi5wcm9wZXJ0aWVzO1xuICAgIGNvbnN0IG1ha2VGdW5OYW1lID0gYG1ha2UtJHtiaW5kaW5nLnN5bWJvbH1gO1xuICAgIGNvbnN0IG1ha2VGdW5EZWY6IFNJX1NUUlVDVC5NYWtlRnVuID0ge1xuICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uTWFrZUZ1bixcbiAgICAgIHN0cnVjdERlZjogc3RydWN0RGVmLFxuICAgIH07XG4gICAgY29uc3QgcHJlZEZ1bk5hbWUgPSBgJHtiaW5kaW5nLnN5bWJvbH0/YDtcbiAgICBjb25zdCBwcmVkRnVuRGVmOiBTSV9TVFJVQ1QuUHJlZEZ1biA9IHtcbiAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLlByZWRGdW4sXG4gICAgICBzdHJ1Y3REZWY6IHN0cnVjdERlZixcbiAgICB9O1xuICAgIC8vIHJlc2VydmUgYWxsIHBvc3NpYmxlIHN0cnVjdC1wcm9wZXJ0eSBuYW1lc1xuICAgIGNvbnN0IHNlbGVjdEZ1bk5hbWVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIHByb3BlcnRpZXMubWFwKChwcm9wZXJ0eSkgPT4ge1xuICAgICAgc2VsZWN0RnVuTmFtZXMucHVzaChgJHtiaW5kaW5nLnN5bWJvbH0tJHtwcm9wZXJ0eS5zeW1ib2x9YCk7XG4gICAgfSk7XG4gICAgY29uc3Qgc2VsZWN0RnVuRGVmOiBTSV9TVFJVQ1QuU2VsZWN0RnVuID0ge1xuICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uU2VsZWN0RnVuLFxuICAgICAgc3RydWN0RGVmOiBzdHJ1Y3REZWYsXG4gICAgfTtcbiAgICBjb25zdCBzdHJ1Y3RGdW5zOiBbc3RyaW5nLCBTSV9TVFJVQ1QuU3RydWN0RnVuXVtdID0gW1xuICAgICAgW21ha2VGdW5OYW1lLCBtYWtlRnVuRGVmXSxcbiAgICAgIFtwcmVkRnVuTmFtZSwgcHJlZEZ1bkRlZl0sXG4gICAgXTtcbiAgICBzZWxlY3RGdW5OYW1lcy5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICBzdHJ1Y3RGdW5zLnB1c2goW25hbWUsIHNlbGVjdEZ1bkRlZl0pO1xuICAgIH0pO1xuICAgIHJldHVybiBzdHJ1Y3RGdW5zO1xuICB9XG4gIC8vIGhlbHBlciBmdW5jdGlvbiBhZGRpbmcgYWxsIHN0cnVjdEZ1bnMgdG8gZW52aXJvbm1lbnRcbiAgZnVuY3Rpb24gYWRkU3RydWN0RnVuVG9FbnYoXG4gICAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnQsXG4gICAgZnVuRGVmczogW3N0cmluZywgU0lfU1RSVUNULlN0cnVjdEZ1bl1bXVxuICApOiBTSV9TVFJVQ1QuRW52aXJvbm1lbnQgfCBFcnJvciB7XG4gICAgY29uc29sZS5sb2coXCJmdW5EZWZzOiBcIiwgZnVuRGVmcyk7XG4gICAgbGV0IG5ld0VudjogU0lfU1RSVUNULkVudmlyb25tZW50IHwgRXJyb3IgPSBlbnY7XG4gICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGFsbCBmdW5EZWZzIGFuZCBjaGFuZ2UgZW52aXJvbm1lbnRcbiAgICAvLyBpZiB0aGVyZSBpcyBhbiBlcnJvciByZXR1cm4gaXRcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZ1bkRlZnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGZ1bkRlZiA9IGZ1bkRlZnNbaV07XG4gICAgICBuZXdFbnYgPSBhZGRUb0VudihuZXdFbnYsIGZ1bkRlZlswXSwgZnVuRGVmWzFdKTtcbiAgICAgIGlmIChuZXdFbnYgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIG5ld0VudjtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0VudjtcbiAgfVxufVxuXG4vLyBleHByLCBzdGVwcFJlc3VsdFtdID0+IGV4cHJTdGVwW10gfCBFcnJvclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUV2YWxTdGVwcyhcbiAgZXhwcjogQlNMX0FTVC5leHByLFxuICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudFxuKTogU0lfU1RSVUNULkV2YWxTdGVwW10gfCBFcnJvciB7XG4gIGxldCBzdGVwTGlzdDogU0lfU1RSVUNULkV2YWxTdGVwW10gPSBbXTtcbiAgbGV0IGN1cnJlbnRFeHByOiBCU0xfQVNULmV4cHIgfCBTSV9TVFJVQ1QuVmFsdWUgPSBleHByO1xuICB3aGlsZSAoIVNJX1NUUlVDVC5pc1ZhbHVlKGN1cnJlbnRFeHByKSkge1xuICAgIGNvbnN0IHN0ZXAgPSBldmFsdWF0ZUV4cHJlc3Npb24oY3VycmVudEV4cHIsIGVudik7XG4gICAgaWYgKFNJX1NUUlVDVC5pc1ZhbHVlKHN0ZXApKSB7XG4gICAgICBjdXJyZW50RXhwciA9IHN0ZXA7XG4gICAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNFdmFsU3RlcChzdGVwKSkge1xuICAgICAgaWYgKHN0ZXAucmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgc3RlcExpc3QucHVzaChzdGVwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50RXhwciA9IHN0ZXAucmVzdWx0O1xuICAgICAgICBzdGVwTGlzdC5wdXNoKHN0ZXApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3RlcDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0ZXBMaXN0O1xufVxuXG4vL2V2YWx1YXRlRXhwcmVzc2lvblxuZXhwb3J0IGZ1bmN0aW9uIGV2YWx1YXRlRXhwcmVzc2lvbihcbiAgZXhwcjogQlNMX0FTVC5leHByLFxuICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudFxuKTogU0lfU1RSVUNULkV2YWxTdGVwIHwgU0lfU1RSVUNULlZhbHVlIHwgRXJyb3Ige1xuICBpZiAoQlNMX0FTVC5pc0xpdGVyYWwoZXhwcikpIHtcbiAgICByZXR1cm4gZXhwci52YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBzcGxpdEV4cHIgPSBzcGxpdChleHByKTtcbiAgICBpZiAoU0lfU1RSVUNULmlzU3BsaXQoc3BsaXRFeHByKSkge1xuICAgICAgY29uc3Qgc3RlcEV4cHIgPSBzdGVwKHNwbGl0RXhwci5yZWRleCwgZW52KTtcbiAgICAgIGlmIChTSV9TVFJVQ1QuaXNPbmVSdWxlKHN0ZXBFeHByKSkge1xuICAgICAgICBjb25zdCBleHByU3RlcCA9IHBsdWcoc3RlcEV4cHIsIHNwbGl0RXhwci5jb250ZXh0LCBlbnYpO1xuICAgICAgICBpZiAoU0lfU1RSVUNULmlzRXZhbFN0ZXAoZXhwclN0ZXApKSB7XG4gICAgICAgICAgcmV0dXJuIGV4cHJTdGVwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBleHByU3RlcDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHN0ZXBFeHByO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3BsaXRFeHByO1xuICAgIH1cbiAgfVxufVxuXG4vL3NwbGl0XG4vLyBFeHByZXNzaW9uID0gPiBTcGxpdFJlc3VsdCB8IEVycm9yXG5leHBvcnQgZnVuY3Rpb24gc3BsaXQoZXhwcjogQlNMX0FTVC5leHByKTogU0lfU1RSVUNULlNwbGl0UmVzdWx0IHwgRXJyb3Ige1xuICBjb25zdCBob2xlOiBTSV9TVFJVQ1QuSG9sZSA9IHsgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uSG9sZSB9O1xuICBpZiAoQlNMX0FTVC5pc0NhbGwoZXhwcikpIHtcbiAgICBjb25zdCBuYW1lID0gZXhwci5uYW1lO1xuICAgIGNvbnN0IGFyZ3MgPSBleHByLmFyZ3M7XG5cbiAgICBpZiAoYXJncy5ldmVyeSgoeCkgPT4gQlNMX0FTVC5pc0xpdGVyYWwoeCkpKSB7XG4gICAgICAvLyBhbGwgYXJndW1lbnRzIGFyZSB2YWx1ZXMsIG5vIG5lZWQgdG8gcmVjdXJzZTogZm91bmQgcmVkZXhcbiAgICAgIGNvbnN0IHJlZGV4OiBTSV9TVFJVQ1QuQ2FsbFJlZGV4ID0ge1xuICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5DYWxsUmVkZXgsXG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGFyZ3M6IGFyZ3MubWFwKChhKSA9PiAoYSBhcyBCU0xfQVNULkxpdGVyYWwpLnZhbHVlKSxcbiAgICAgIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5TcGxpdCxcbiAgICAgICAgcmVkZXg6IHJlZGV4LFxuICAgICAgICBjb250ZXh0OiBob2xlLFxuICAgICAgfTtcbiAgICB9XG4gICAgLy8gc29tZSBhcmd1bWVudHMgc3RpbGwgbmVlZCBldmFsdWF0aW9uLCByZWN1cnNlIGZ1cnRoZXJcbiAgICBjb25zdCBmaXJzdFJlZGV4SW5kZXggPSBhcmdzLmZpbmRJbmRleCgoeCkgPT4gIUJTTF9BU1QuaXNMaXRlcmFsKHgpKTtcbiAgICBjb25zdCB2YWx1ZUxzdCA9IGFyZ3Muc2xpY2UoMCwgZmlyc3RSZWRleEluZGV4KSBhcyBCU0xfQVNULkxpdGVyYWxbXTtcbiAgICBjb25zdCByZWNFeHByID0gYXJnc1tmaXJzdFJlZGV4SW5kZXhdO1xuICAgIGNvbnN0IGV4cHJMc3QgPSBhcmdzLnNsaWNlKGZpcnN0UmVkZXhJbmRleCArIDEpO1xuXG4gICAgY29uc3Qgc3BsaXRSZXN1bHQgPSBzcGxpdChyZWNFeHByKTtcbiAgICBpZiAoU0lfU1RSVUNULmlzU3BsaXQoc3BsaXRSZXN1bHQpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5TcGxpdCxcbiAgICAgICAgcmVkZXg6IHNwbGl0UmVzdWx0LnJlZGV4LFxuICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uQXBwQ29udGV4dCxcbiAgICAgICAgICBvcDogbmFtZSxcbiAgICAgICAgICB2YWx1ZXM6IHZhbHVlTHN0Lm1hcCgoeCkgPT4geC52YWx1ZSksXG4gICAgICAgICAgY3R4OiBzcGxpdFJlc3VsdC5jb250ZXh0LFxuICAgICAgICAgIGFyZ3M6IGV4cHJMc3QsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3BsaXRSZXN1bHQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNDb25kKGV4cHIpKSB7XG4gICAgY29uc3QgY2xhdXNlID0gZXhwci5vcHRpb25zWzBdO1xuICAgIC8vIGlmIGNvbmRpdGlvbiBpcyBhbHJlYWR5IHJlZHVjZWQsIGJ1aWxkIENvbmRSZWRleFxuICAgIGlmIChCU0xfQVNULmlzTGl0ZXJhbChjbGF1c2UuY29uZGl0aW9uKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uU3BsaXQsXG4gICAgICAgIHJlZGV4OiB7XG4gICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uQ29uZFJlZGV4LFxuICAgICAgICAgIG9wdGlvbnM6IGV4cHIub3B0aW9ucyxcbiAgICAgICAgfSxcbiAgICAgICAgY29udGV4dDogaG9sZSxcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIGVsc2Ugc3BsaXQgY29uZGl0aW9uXG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBzcGxpdFJlc3VsdCA9IHNwbGl0KGNsYXVzZS5jb25kaXRpb24pO1xuICAgICAgaWYgKFNJX1NUUlVDVC5pc1NwbGl0KHNwbGl0UmVzdWx0KSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLlNwbGl0LFxuICAgICAgICAgIHJlZGV4OiBzcGxpdFJlc3VsdC5yZWRleCxcbiAgICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5Db25kQ29udGV4dCxcbiAgICAgICAgICAgIG9wdGlvbnM6IGV4cHIub3B0aW9ucyxcbiAgICAgICAgICAgIGN0eDogc3BsaXRSZXN1bHQuY29udGV4dCxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNwbGl0UmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChCU0xfQVNULmlzTmFtZShleHByKSkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5TcGxpdCxcbiAgICAgIGNvbnRleHQ6IGhvbGUsXG4gICAgICByZWRleDoge1xuICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5OYW1lUmVkZXgsXG4gICAgICAgIHN5bWJvbDogZXhwci5zeW1ib2wsXG4gICAgICB9LFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEVycm9yKFwic3BsaXQ6IG5laXRoZXIgYSBjYWxsIG5vciBhIGNvbmQgbm9yIG5hbWVcIik7XG4gIH1cbn1cblxuLy8gc3RlcFxuLy8gUmVkZXggPT4gT25lUnVsZSB8IEVycm9yXG5leHBvcnQgZnVuY3Rpb24gc3RlcChcbiAgcjogU0lfU1RSVUNULlJlZGV4LFxuICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudFxuKTogU0lfU1RSVUNULk9uZVJ1bGUgfCBFcnJvciB7XG4gIC8vIGJlZm9yZSBzdGVwcGluZyBjaGVjayBpZiB0aGUgcmVkZXggaGFzIG5vIG5hbWVzIGluIGl0XG4gIC8vIGlmIGl0IGhhcywgbG9va3VwIGluIGVudmlyb25tZW50IGFuZCBjb25zdHJ1Y3QgUnVsZSAoQ29uc3QsIEZ1biwgb3IgU3RydWN0KVxuICBpZiAoU0lfU1RSVUNULmlzQ2FsbFJlZGV4KHIpKSB7XG4gICAgLy9jaGVjayBpZiBhbGwgYXJncyBkbyBub3QgY29udGFpbiBuYW1lc1xuICAgIGNvbnN0IGFsbEFyZ3NBcmVWYWx1ZXMgPSByLmFyZ3MuZXZlcnkoU0lfU1RSVUNULmlzVmFsdWUpO1xuICAgIGlmIChhbGxBcmdzQXJlVmFsdWVzKSB7XG4gICAgICBjb25zdCBhcmdzOiBTSV9TVFJVQ1QuVmFsdWVbXSA9IHIuYXJncyBhcyBTSV9TVFJVQ1QuVmFsdWVbXTtcbiAgICAgIC8vY2hlY2sgaWYgci5uYW1lIGlzIHByaW1pdGl2ZSBvciBpbiBlbnZcbiAgICAgIC8qIGlmIChpc1ByaW1pdGl2ZShyLm5hbWUpKSB7XG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGZ1bkRlZiA9IGxvb2t1cEVudihlbnYsIHIubmFtZS5zeW1ib2wpO1xuICAgICAgLy9jaGVjayBpZiBuYW1lIGlzIGluIHByaW1pdGl2ZSBmdW5jdGlvbnMgbGlzdFxuICAgICAgaWYgKFNJX1NUUlVDVC5pc1ByaW1EZWYoZnVuRGVmKSkge1xuICAgICAgICBjb25zdCBwcmltUmVzdWx0ID0gcHJpbShyLm5hbWUsIGFyZ3MpO1xuICAgICAgICBpZiAocHJpbVJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5QcmltRXJyb3IsXG4gICAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICAgIHJlc3VsdDogcHJpbVJlc3VsdCxcbiAgICAgICAgICB9O1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5SdWxlLlByaW0sXG4gICAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICAgIHJlc3VsdDogcHJpbVJlc3VsdCxcbiAgICAgICAgICB9O1xuICAgICAgICAvL2lmIG5hbWUgPT4gZnVuY3Rpb25cbiAgICAgIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzRnVuRGVmKGZ1bkRlZikpIHtcbiAgICAgICAgLy9jaGVjayBpZiBmdW5EZWYgaXMgYSBkZWZpbmVkIGZ1bmN0aW9uIG9yIGEgc3RydWN0LXByZWRlZmluZWQgZnVuY3Rpb25cbiAgICAgICAgLy9zdWJzdGl0dXRlIG5hbWVzIGluIGJvZHkgd2l0aCBhcmdzXG4gICAgICAgIGNvbnN0IG5ld0V4cHIgPSBzdWJzdEZ1bihyLCBlbnYpO1xuICAgICAgICBpZiAobmV3RXhwciBpbnN0YW5jZW9mIEVycm9yKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5GdW5FcnJvcixcbiAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgcmVzdWx0OiBuZXdFeHByLFxuICAgICAgICAgIH07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlJ1bGUuRnVuLFxuICAgICAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgICAgICByZXN1bHQ6IG5ld0V4cHIsXG4gICAgICAgICAgfTtcbiAgICAgICAgLy9pZiBuYW1lID0+IHN0cnVjdEZ1bmN0aW9uXG4gICAgICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc1N0cnVjdEZ1bihmdW5EZWYpKSB7XG4gICAgICAgIC8vZGVjaWRlIHdoaWNoIHN0cnVjdCBSdWxlIHRvIHVzZVxuICAgICAgICBpZiAoU0lfU1RSVUNULmlzTWFrZUZ1bihmdW5EZWYpKSB7XG4gICAgICAgICAgY29uc3Qgc3RydWN0VmFsID0gbWFrZVN0cnVjdChyLm5hbWUsIGZ1bkRlZiwgYXJncywgZW52KTtcbiAgICAgICAgICBpZiAoc3RydWN0VmFsIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5TdHJ1Y3RNYWtlRXJyb3IsXG4gICAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgICByZXN1bHQ6IHN0cnVjdFZhbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgbWFrZVJ1bGU6IFNJX1NUUlVDVC5TdHJ1Y3RNYWtlID0ge1xuICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlJ1bGUuU3RydWN0TWFrZSxcbiAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgcmVzdWx0OiBzdHJ1Y3RWYWwsXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gbWFrZVJ1bGU7XG4gICAgICAgIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzUHJlZEZ1bihmdW5EZWYpKSB7XG4gICAgICAgICAgY29uc3QgcHJlZFZhbCA9IHByZWRTdHJ1Y3Qoci5uYW1lLCBmdW5EZWYsIGFyZ3MpO1xuICAgICAgICAgIGlmIChwcmVkVmFsIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5TdHJ1Y3RQcmVkRXJyb3IsXG4gICAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgICByZXN1bHQ6IHByZWRWYWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIC8vIGlmIGNoZWNrIHdoaWNoIFN0cnVjdFByZWRSdWxlIHRvIHVzZVxuICAgICAgICAgIGlmIChwcmVkVmFsKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVkUnVsZTogU0lfU1RSVUNULlN0cnVjdFByZWRUcnVlID0ge1xuICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5TdHJ1Y3RQcmVkVHJ1ZSxcbiAgICAgICAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgICAgICAgIHJlc3VsdDogcHJlZFZhbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcHJlZFJ1bGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByZWRSdWxlOiBTSV9TVFJVQ1QuU3RydWN0UHJlZEZhbHNlID0ge1xuICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5TdHJ1Y3RQcmVkRmFsc2UsXG4gICAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgICByZXN1bHQ6IHByZWRWYWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHByZWRSdWxlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBzZWxlY3RWYWwgPSBzZWxlY3RTdHJ1Y3Qoci5uYW1lLCBmdW5EZWYsIGFyZ3MpO1xuICAgICAgICAgIGlmIChzZWxlY3RWYWwgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5SdWxlLlN0cnVjdFNlbGVjdEVycm9yLFxuICAgICAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICAgICAgcmVzdWx0OiBzZWxlY3RWYWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHNlbGVjdFJ1bGU6IFNJX1NUUlVDVC5TdHJ1Y3RTZWxlY3QgPSB7XG4gICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5TdHJ1Y3RTZWxlY3QsXG4gICAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICAgIHJlc3VsdDogc2VsZWN0VmFsLFxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHNlbGVjdFJ1bGU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5SdWxlLkZ1bkVycm9yLFxuICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgIHJlc3VsdDogRXJyb3IoYGZ1bmN0aW9uICcke3IubmFtZS5zeW1ib2x9JyBpcyBub3QgaW4gZW52YCksXG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN1YnN0UmVkOiBCU0xfQVNULmV4cHIgfCBTSV9TVFJVQ1QuVmFsdWUgfCBFcnJvciA9IHN1YnN0Q29uc3QoXG4gICAgICAgIHIsXG4gICAgICAgIGVudlxuICAgICAgKTtcbiAgICAgIGlmIChzdWJzdFJlZCBpbnN0YW5jZW9mIEVycm9yKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5SdWxlLkNvbnN0RXJyb3IsXG4gICAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgICAgcmVzdWx0OiBzdWJzdFJlZCxcbiAgICAgICAgfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFNJX1NUUlVDVC5SdWxlLkNvbnN0LFxuICAgICAgICByZWRleDogcixcbiAgICAgICAgcmVzdWx0OiBzdWJzdFJlZCxcbiAgICAgIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0NvbmRSZWRleChyKSkge1xuICAgIC8vY2hlY2sgaWYgY29uZGl0aW9uIGlzIGEgbmFtZVxuICAgIGlmIChCU0xfQVNULmlzTGl0ZXJhbChyLm9wdGlvbnNbMF0uY29uZGl0aW9uKSkge1xuICAgICAgY29uc3QgY29uZFJlc3VsdCA9IGNvbmQocik7XG4gICAgICBpZiAoY29uZFJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IG5ld09wdGlvbnMgPSByLm9wdGlvbnMuc2xpY2UoMSk7XG4gICAgICAgIGlmIChuZXdPcHRpb25zLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlJ1bGUuQ29uZEVycm9yLFxuICAgICAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgICAgICByZXN1bHQ6IEVycm9yKFwiJ2NvbmQnOiBhbGwgcXVlc3Rpb24gcmVzdWx0cyB3ZXJlIGZhbHNlXCIpLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3RXhwcjogQlNMX0FTVC5Db25kID0ge1xuICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kRXhwcmVzc2lvbixcbiAgICAgICAgICBvcHRpb25zOiBuZXdPcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5SdWxlLkNvbmRGYWxzZSxcbiAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICByZXN1bHQ6IG5ld0V4cHIsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNFeHByKGNvbmRSZXN1bHQpIHx8IFNJX1NUUlVDVC5pc1ZhbHVlKGNvbmRSZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogU0lfU1RSVUNULlJ1bGUuQ29uZFRydWUsXG4gICAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgICAgcmVzdWx0OiBjb25kUmVzdWx0LFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5Db25kRXJyb3IsXG4gICAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgICAgcmVzdWx0OiBjb25kUmVzdWx0LFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdWJzdFJlZDogQlNMX0FTVC5leHByIHwgU0lfU1RSVUNULlZhbHVlIHwgRXJyb3IgPSBzdWJzdENvbnN0KFxuICAgICAgICByLFxuICAgICAgICBlbnZcbiAgICAgICk7XG4gICAgICBpZiAoc3Vic3RSZWQgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5Db25zdEVycm9yLFxuICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgIHJlc3VsdDogc3Vic3RSZWQsXG4gICAgICAgIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5Db25zdCxcbiAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgIHJlc3VsdDogc3Vic3RSZWQsXG4gICAgICB9O1xuICAgIH1cbiAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNOYW1lUmVkZXgocikpIHtcbiAgICBjb25zdCBzdWJzdFJlZDogQlNMX0FTVC5leHByIHwgU0lfU1RSVUNULlZhbHVlIHwgRXJyb3IgPSBzdWJzdENvbnN0KHIsIGVudik7XG4gICAgaWYgKHN1YnN0UmVkIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5Db25zdEVycm9yLFxuICAgICAgICByZWRleDogcixcbiAgICAgICAgcmVzdWx0OiBzdWJzdFJlZCxcbiAgICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFNJX1NUUlVDVC5SdWxlLkNvbnN0LFxuICAgICAgcmVkZXg6IHIsXG4gICAgICByZXN1bHQ6IHN1YnN0UmVkLFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEVycm9yKFwic3RlcDogcmVkZXggaXMgbmVpdGhlciBhIGNhbGwgbm9yIGNvbmQgbm9yIG5hbWVcIik7XG4gIH1cbn1cblxuLy8gcGx1ZyhvbmVSdWxlLCBjOiBDb250ZXh0KTogRXhwclN0ZXAgfCBFcnJvclxuZXhwb3J0IGZ1bmN0aW9uIHBsdWcoXG4gIG9uZVJ1bGU6IFNJX1NUUlVDVC5PbmVSdWxlLFxuICBjOiBTSV9TVFJVQ1QuQ29udGV4dCxcbiAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IFNJX1NUUlVDVC5FdmFsU3RlcCB8IEVycm9yIHtcbiAgLy9jaGVjayBpZiBjb250ZXh0IGlzIGEgSG9sZVxuICBpZiAoU0lfU1RSVUNULmlzSG9sZShjKSkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5FdmFsU3RlcCxcbiAgICAgIGVudjogZW52LFxuICAgICAgcnVsZTogb25lUnVsZSxcbiAgICAgIGNvbnRleHQ6IGMsXG4gICAgICByZXN1bHQ6IG9uZVJ1bGUucmVzdWx0LFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgLy9BcHBseSBPbmVSdWxlIHdpdGggS09ORyBSVUxFXG4gICAgY29uc3QgZXhwclN0ZXAgPSBwbHVnKG9uZVJ1bGUsIGMuY3R4LCBlbnYpO1xuICAgIGlmIChTSV9TVFJVQ1QuaXNFdmFsU3RlcChleHByU3RlcCkpIHtcbiAgICAgIC8vIFJlc3VsdCBpcyBSdWxlRXJyb3JcbiAgICAgIGlmIChleHByU3RlcC5yZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uRXZhbFN0ZXAsXG4gICAgICAgIGVudjogZXhwclN0ZXAuZW52LFxuICAgICAgICBydWxlOiBleHByU3RlcC5ydWxlLFxuICAgICAgICBjb250ZXh0OiBjLFxuICAgICAgICByZXN1bHQ6IGV4cHJTdGVwLnJlc3VsdFxuICAgICAgfTtcbiAgICAgIC8vQXBwQ29udGV4dFxuICAgICAgaWYgKFNJX1NUUlVDVC5pc0FwcENvbnRleHQoYykpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IFtjLnZhbHVlcywgZXhwclN0ZXAucmVzdWx0LCBjLmFyZ3NdLmZsYXQoKTtcbiAgICAgICAgY29uc3QgbmV3QXJncyA9IGFyZ3MubWFwKChhcmcpID0+IHtcbiAgICAgICAgICBpZiAoU0lfU1RSVUNULmlzVmFsdWUoYXJnKSkge1xuICAgICAgICAgICAgY29uc3QgbmV3QXJnOiBCU0xfQVNULkxpdGVyYWwgPSB7XG4gICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgICAgICB2YWx1ZTogYXJnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBuZXdBcmc7XG4gICAgICAgICAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNJZChhcmcpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdBcmc6IEJTTF9BU1QuTmFtZSA9IHtcbiAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgICAgICAgICAgc3ltYm9sOiBhcmcuc3ltYm9sLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBuZXdBcmc7XG4gICAgICAgICAgfSBlbHNlIHJldHVybiBhcmc7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmaW5hbEV4cHI6IEJTTF9BU1QuQ2FsbCA9IHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uRnVuY3Rpb25DYWxsLFxuICAgICAgICAgIG5hbWU6IGMub3AsXG4gICAgICAgICAgYXJnczogbmV3QXJncyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5FdmFsU3RlcCxcbiAgICAgICAgICBlbnY6IGVudixcbiAgICAgICAgICBydWxlOiB7XG4gICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5Lb25nLFxuICAgICAgICAgICAgY29udGV4dDogYyxcbiAgICAgICAgICAgIHJlZGV4UnVsZTogb25lUnVsZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbnRleHQ6IGMsXG4gICAgICAgICAgcmVzdWx0OiBmaW5hbEV4cHIsXG4gICAgICAgIH07XG4gICAgICAgIC8vQ29uZENvbnRleHRcbiAgICAgIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzQ29uZENvbnRleHQoYykpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGMub3B0aW9ucztcbiAgICAgICAgY29uc3QgZXhwcjogQlNMX0FTVC5leHByID0gU0lfU1RSVUNULmlzVmFsdWUoZXhwclN0ZXAucmVzdWx0KVxuICAgICAgICAgID8geyB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCwgdmFsdWU6IGV4cHJTdGVwLnJlc3VsdCB9XG4gICAgICAgICAgOiBleHByU3RlcC5yZXN1bHQ7XG4gICAgICAgIGNvbnN0IGZpcnN0Q2xhdXNlOiBCU0xfQVNULkNsYXVzZSA9IHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZE9wdGlvbixcbiAgICAgICAgICBjb25kaXRpb246IGV4cHIsXG4gICAgICAgICAgcmVzdWx0OiBvcHRpb25zWzBdLnJlc3VsdCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbmV3T3B0aW9ucyA9IFtmaXJzdENsYXVzZSwgLi4ub3B0aW9ucy5zbGljZSgxKV07XG4gICAgICAgIGNvbnN0IGZpbmFsRXhwcjogQlNMX0FTVC5Db25kID0ge1xuICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kRXhwcmVzc2lvbixcbiAgICAgICAgICBvcHRpb25zOiBuZXdPcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkV2YWxTdGVwLFxuICAgICAgICAgIGVudjogZW52LFxuICAgICAgICAgIHJ1bGU6IHtcbiAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5SdWxlLktvbmcsXG4gICAgICAgICAgICBjb250ZXh0OiBjLFxuICAgICAgICAgICAgcmVkZXhSdWxlOiBvbmVSdWxlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY29udGV4dDogYyxcbiAgICAgICAgICByZXN1bHQ6IGZpbmFsRXhwcixcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBFcnJvcihcInBsdWc6IGNvbnRleHQgaXMgbm90IGFuIEFwcENvbnRleHQgb3IgQ29uZENvbnRleHRcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBleHByU3RlcDtcbiAgICB9XG4gIH1cbn1cblxuLy8gIyMjIyMjIyBPTkUgUlVMRSBGVU5DVElPTlMgIyMjIyMjI1xuZXhwb3J0IGZ1bmN0aW9uIHByaW0oXG4gIG5hbWU6IEJTTF9BU1QuTmFtZSxcbiAgYXJnczogU0lfU1RSVUNULlZhbHVlW11cbik6IFNJX1NUUlVDVC5WYWx1ZSB8IEVycm9yIHtcbiAgLy8gKyAtICogL1xuICBpZiAoXG4gICAgW1wiK1wiLCBcIipcIiwgXCItXCIsIFwiL1wiXS5pbmNsdWRlcyhuYW1lLnN5bWJvbCkgJiZcbiAgICAhYXJncy5ldmVyeSgoYSkgPT4gdHlwZW9mIGEgPT09IFwibnVtYmVyXCIpXG4gICkge1xuICAgIGNvbnN0IGZpcnN0T2ZmZW5kZXIgPSBhcmdzLmZpbmQoKGEpID0+IHR5cGVvZiBhICE9IFwibnVtYmVyXCIpO1xuICAgIHJldHVybiBFcnJvcihcbiAgICAgIGBhcmd1bWVudCAnJHtmaXJzdE9mZmVuZGVyfScgaXMgbm90IGEgbnVtYmVyIGluIGZ1bmN0aW9uICcke25hbWUuc3ltYm9sfSdgXG4gICAgKTtcbiAgfVxuICBzd2l0Y2ggKG5hbWUuc3ltYm9sKSB7XG4gICAgY2FzZSBcIitcIjpcbiAgICAgIHJldHVybiBhcmdzLnJlZHVjZSgoeCwgeSkgPT4gKHggYXMgbnVtYmVyKSArICh5IGFzIG51bWJlcikpO1xuICAgIGNhc2UgXCIqXCI6XG4gICAgICByZXR1cm4gYXJncy5yZWR1Y2UoKHgsIHkpID0+ICh4IGFzIG51bWJlcikgKiAoeSBhcyBudW1iZXIpKTtcbiAgICBjYXNlIFwiLVwiOlxuICAgICAgcmV0dXJuIGFyZ3MucmVkdWNlKCh4LCB5KSA9PiAoeCBhcyBudW1iZXIpIC0gKHkgYXMgbnVtYmVyKSk7XG4gICAgY2FzZSBcIi9cIjpcbiAgICAgIGlmICghYXJncy5zbGljZSgxKS5ldmVyeSgoYSkgPT4gYSAhPSAwKSlcbiAgICAgICAgcmV0dXJuIEVycm9yKGBkaXZpc2lvbiBieSB6ZXJvIGluIGZ1bmN0aW9uICcke25hbWUuc3ltYm9sfSdgKTtcbiAgICAgIHJldHVybiBhcmdzLnJlZHVjZSgoeCwgeSkgPT4gKHggYXMgbnVtYmVyKSAvICh5IGFzIG51bWJlcikpO1xuICAgIGRlZmF1bHQ6XG4gIH1cbiAgLy8gYW5kLCBvciwgbm90XG4gIGlmIChcbiAgICBbXCJhbmRcIiwgXCJvclwiLCBcIm5vdFwiXS5pbmNsdWRlcyhuYW1lLnN5bWJvbCkgJiZcbiAgICAhYXJncy5ldmVyeSgoYSkgPT4gdHlwZW9mIGEgPT09IFwiYm9vbGVhblwiKVxuICApIHtcbiAgICBjb25zdCBmaXJzdE9mZmVuZGVyID0gYXJncy5maW5kKChhKSA9PiB0eXBlb2YgYSAhPSBcImJvb2xlYW5cIik7XG4gICAgcmV0dXJuIEVycm9yKFxuICAgICAgYGFyZ3VtZW50ICcke2ZpcnN0T2ZmZW5kZXJ9JyBpcyBub3QgYSBib29sZWFuIGluIGZ1bmN0aW9uICcke25hbWUuc3ltYm9sfSdgXG4gICAgKTtcbiAgfVxuICBzd2l0Y2ggKG5hbWUuc3ltYm9sKSB7XG4gICAgY2FzZSBcImFuZFwiOlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoIDwgMilcbiAgICAgICAgcmV0dXJuIEVycm9yKGBmdW5jdGlvbiAnJHtuYW1lLnN5bWJvbH0nIG5lZWRzIGF0IGxlYXN0IHR3byBhcmd1bWVudHNgKTtcbiAgICAgIHJldHVybiBhcmdzLmV2ZXJ5KCh4KSA9PiB4KTtcbiAgICBjYXNlIFwib3JcIjpcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA8IDIpXG4gICAgICAgIHJldHVybiBFcnJvcihgZnVuY3Rpb24gJyR7bmFtZS5zeW1ib2x9JyBuZWVkcyBhdCBsZWFzdCB0d28gYXJndW1lbnRzYCk7XG4gICAgICByZXR1cm4gYXJncy5zb21lKCh4KSA9PiB4KTtcbiAgICBjYXNlIFwibm90XCI6XG4gICAgICBpZiAoYXJncy5sZW5ndGggIT09IDEpXG4gICAgICAgIHJldHVybiBFcnJvcihgZnVuY3Rpb24gJyR7bmFtZS5zeW1ib2x9JyBuZWVkcyBleGFjdGx5IG9uZSBhcmd1bWVudGApO1xuICAgICAgcmV0dXJuICFhcmdzWzBdO1xuICAgIGRlZmF1bHQ6XG4gIH1cbiAgLy8gbGVzcyB0aGFuIGFuZCBncmVhdGVyIHRoYW4sIHRvIHRlc3QgSFRNTCBlc2NhcGluZ1xuICBpZiAoW1wiPFwiLCBcIj5cIiwgXCI8PVwiLCBcIj49XCJdLmluY2x1ZGVzKG5hbWUuc3ltYm9sKSkge1xuICAgIGlmIChhcmdzLmxlbmd0aCAhPT0gMikge1xuICAgICAgcmV0dXJuIEVycm9yKGBmdW5jdGlvbiAnJHtuYW1lLnN5bWJvbH0nIG5lZWRzIGV4YWN0bHkgdHdvIGFyZ3VtZW50c2ApO1xuICAgIH1cbiAgICBjb25zdCBsZWZ0ID0gYXJnc1swXTtcbiAgICBjb25zdCByaWdodCA9IGFyZ3NbMV07XG4gICAgaWYgKHR5cGVvZiBsZWZ0ICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiByaWdodCAhPT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIEVycm9yKFxuICAgICAgICBgZnVuY3Rpb24gJyR7bmFtZS5zeW1ib2x9JyBuZWVkcyB0d28gbnVtYmVycywgYnV0IHJlY2VpdmVkICcke2xlZnR9JyBhbmQgJyR7cmlnaHR9J2BcbiAgICAgICk7XG4gICAgfVxuICAgIHN3aXRjaCAobmFtZS5zeW1ib2wpIHtcbiAgICAgIGNhc2UgXCI8XCI6XG4gICAgICAgIHJldHVybiBsZWZ0IDwgcmlnaHQ7XG4gICAgICBjYXNlIFwiPD1cIjpcbiAgICAgICAgcmV0dXJuIGxlZnQgPD0gcmlnaHQ7XG4gICAgICBjYXNlIFwiPj1cIjpcbiAgICAgICAgcmV0dXJuIGxlZnQgPj0gcmlnaHQ7XG4gICAgICBjYXNlIFwiPlwiOlxuICAgICAgICByZXR1cm4gbGVmdCA+IHJpZ2h0O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIG5ldmVyIHJlYWNoZWQgYnV0IG5lZWRlZCBmb3IgY29tcGlsZXJcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gd2lsbCBuZXZlciBiZSByZWFjaGVkIGJ1dCBuZWVkZWQgZm9yIGNvbXBpbGVyXG4gICAgcmV0dXJuIEVycm9yKFxuICAgICAgYGZ1bmN0aW9uICcke25hbWUuc3ltYm9sfScgaXMgbm8gaW1wbGVtZW50ZWQgcHJpbWl0aXZlIGZ1bmN0aW9uYFxuICAgICk7XG4gIH1cbn1cblxuLy8gY29uZFxuLy8gY29uZCBSZWRleCA9PiAgQlNMX0FTVC5leHByIHwgZmFsc2VcbmZ1bmN0aW9uIGNvbmQoXG4gIHI6IFNJX1NUUlVDVC5Db25kUmVkZXhcbik6IEJTTF9BU1QuZXhwciB8IFNJX1NUUlVDVC5WYWx1ZSB8IHVuZGVmaW5lZCB8IEVycm9yIHtcbiAgY29uc3QgY2xhdXNlID0gci5vcHRpb25zWzBdO1xuICBpZiAoQlNMX0FTVC5pc0xpdGVyYWwoY2xhdXNlLmNvbmRpdGlvbikgJiYgY2xhdXNlLmNvbmRpdGlvbi52YWx1ZSA9PSB0cnVlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gQlNMX0FTVC5pc0xpdGVyYWwoY2xhdXNlLnJlc3VsdClcbiAgICAgID8gY2xhdXNlLnJlc3VsdC52YWx1ZVxuICAgICAgOiBjbGF1c2UucmVzdWx0O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gZWxzZSBpZiAoXG4gICAgQlNMX0FTVC5pc0xpdGVyYWwoY2xhdXNlLmNvbmRpdGlvbikgJiZcbiAgICBjbGF1c2UuY29uZGl0aW9uLnZhbHVlID09IGZhbHNlXG4gICkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEVycm9yKFwiJ2NvbmQnOiBjb25kaXRpb24gaXMgbm90IGEgYm9vbGVhblwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdWJzdENvbnN0KFxuICByOiBTSV9TVFJVQ1QuUmVkZXgsXG4gIGVudjogU0lfU1RSVUNULkVudmlyb25tZW50XG4pOiBCU0xfQVNULmV4cHIgfCBTSV9TVFJVQ1QuVmFsdWUgfCBFcnJvciB7XG4gIGlmIChTSV9TVFJVQ1QuaXNDYWxsUmVkZXgocikpIHtcbiAgICAvLyBnZXQgdGhlIGlkZW50aWZpZXIgYXJndW1lbnRcbiAgICBjb25zdCBpZCA9IHIuYXJncy5maW5kKFNJX1NUUlVDVC5pc0lkKTtcbiAgICBpZiAoIWlkKSByZXR1cm4gRXJyb3IoXCJpZDogY291bGQgbm90IGZpbmQgYW4gaWRlbnRpZmllciBpbiBhcmd1bWVudCBsaXN0XCIpO1xuICAgIGNvbnN0IHZhbHVlID0gbG9va3VwQ29uc3QoZW52LCBpZC5zeW1ib2wpO1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsdWU7XG4gICAgY29uc3QgbmV3QXJnczogQlNMX0FTVC5leHByW10gPSByLmFyZ3MubWFwKChlbCkgPT4ge1xuICAgICAgaWYgKFNJX1NUUlVDVC5pc0lkKGVsKSAmJiBlbC5zeW1ib2wgPT09IGlkLnN5bWJvbCkge1xuICAgICAgICBsZXQgbmV3TGl0OiBCU0xfQVNULkxpdGVyYWwgPSB7XG4gICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3TGl0O1xuICAgICAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNJZChlbCkpIHtcbiAgICAgICAgbGV0IG5ld05hbWU6IEJTTF9BU1QuTmFtZSA9IHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgICAgIHN5bWJvbDogZWwuc3ltYm9sLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3TmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBuZXdMaXQ6IEJTTF9BU1QuTGl0ZXJhbCA9IHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICAgICAgICB2YWx1ZTogZWwsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXdMaXQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5GdW5jdGlvbkNhbGwsXG4gICAgICBuYW1lOiByLm5hbWUsXG4gICAgICBhcmdzOiBuZXdBcmdzLFxuICAgIH07XG4gIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzQ29uZFJlZGV4KHIpKSB7XG4gICAgY29uc3QgbmFtZSA9IHIub3B0aW9uc1swXS5jb25kaXRpb247XG4gICAgaWYgKCFCU0xfQVNULmlzTmFtZShuYW1lKSlcbiAgICAgIHJldHVybiBFcnJvcihcInN1YnN0Q29uc3Q6IGNvbmRpdGlvbiBpcyBub3QgYSBuYW1lXCIpO1xuXG4gICAgY29uc3QgdmFsdWUgPSBsb29rdXBDb25zdChlbnYsIG5hbWUuc3ltYm9sKTtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHZhbHVlO1xuXG4gICAgY29uc3QgbmV3TGl0OiBCU0xfQVNULkxpdGVyYWwgPSB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICB9O1xuICAgIGNvbnN0IG5ld09wdDogQlNMX0FTVC5DbGF1c2UgPSB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZE9wdGlvbixcbiAgICAgIGNvbmRpdGlvbjogbmV3TGl0LFxuICAgICAgcmVzdWx0OiByLm9wdGlvbnNbMF0ucmVzdWx0LFxuICAgIH07XG4gICAgY29uc3QgbmV3Q29uZDogQlNMX0FTVC5Db25kID0ge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkNvbmRFeHByZXNzaW9uLFxuICAgICAgb3B0aW9uczogW25ld09wdF0sXG4gICAgfTtcbiAgICByZXR1cm4gbmV3Q29uZDtcbiAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNOYW1lUmVkZXgocikpIHtcbiAgICByZXR1cm4gbG9va3VwQ29uc3QoZW52LCByLnN5bWJvbCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEVycm9yKFwic3Vic3RDb25zdDogcmVkZXggaXMgbm90IGEgY2FsbCBvciBjb25kIG9yIG5hbWVcIik7XG4gIH1cbn1cblxuLy9mdW5cbmZ1bmN0aW9uIHN1YnN0RnVuKFxuICByOiBTSV9TVFJVQ1QuQ2FsbFJlZGV4LFxuICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudFxuKTogQlNMX0FTVC5leHByIHwgRXJyb3Ige1xuICBjb25zdCBmdW5EZWYgPSBsb29rdXBGdW4oZW52LCByLm5hbWUuc3ltYm9sKTtcbiAgaWYgKGZ1bkRlZiBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gZnVuRGVmO1xuICBjb25zdCBwYXJhbXMgPSBmdW5EZWYucGFyYW1zO1xuICBpZiAoci5hcmdzLmxlbmd0aCAhPSBwYXJhbXMubGVuZ3RoKVxuICAgIHJldHVybiBFcnJvcihcbiAgICAgIGBBcml0eSBtaXNtYXRjaCBpbiAnJHtyLm5hbWUuc3ltYm9sfSc6IG51bWJlciBvZiBhcmd1bWVudHMgYXJlIG5vdCBlcXVhbCB0byBudW1iZXIgb2YgcGFyYW1ldGVyc2BcbiAgICApO1xuICBsZXQgbmV3RW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnQgPSB7fTtcbiAgcGFyYW1zLmZvckVhY2goKHBhcmFtLCBpKSA9PiB7XG4gICAgbGV0IHRlbXBFbnYgPSBhZGRUb0VudihuZXdFbnYsIHBhcmFtLnN5bWJvbCwgci5hcmdzW2ldIGFzIFNJX1NUUlVDVC5WYWx1ZSk7XG4gICAgaWYgKHRlbXBFbnYgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHRlbXBFbnY7XG4gICAgbmV3RW52ID0gdGVtcEVudjtcbiAgfSk7XG4gIGNvbnN0IGJvZHkgPSBmdW5EZWYuYm9keTtcbiAgY29uc3QgbmV3RXhwciA9IHN1YnN0RXhwcihib2R5LCBuZXdFbnYpO1xuICByZXR1cm4gbmV3RXhwcjtcbn1cblxuLy9zdHJ1Y3RSdWxlc1xuZnVuY3Rpb24gbWFrZVN0cnVjdChcbiAgbmFtZTogQlNMX0FTVC5OYW1lLFxuICBmdW5EZWY6IFNJX1NUUlVDVC5NYWtlRnVuLFxuICBhcmdzOiBTSV9TVFJVQ1QuVmFsdWVbXSxcbiAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IEJTTF9BU1QuU3RydWN0VmFsdWUgfCBFcnJvciB7XG4gIGNvbnN0IHBhcmFtcyA9IGZ1bkRlZi5zdHJ1Y3REZWYucHJvcGVydGllcztcbiAgLy8gc2xpY2UgbmFtZSB0byBnZXQgc3RydWN0IG5hbWVcbiAgY29uc3Qgc3RydWN0TmFtZSA9IG5hbWUuc3ltYm9sLnNsaWNlKDUpO1xuICBjb25zdCBpbkVudiA9IGxvb2t1cFN0cnVjdChlbnYsIHN0cnVjdE5hbWUpO1xuICBpZiAoaW5FbnYgaW5zdGFuY2VvZiBFcnJvcilcbiAgICByZXR1cm4gRXJyb3IoYCcke3N0cnVjdE5hbWV9JyBub3QgZm91bmQgaW4gZW52aXJvbm1lbnRgKTtcbiAgLy8gY2hlY2sgYXJpdHlcbiAgaWYgKHBhcmFtcy5sZW5ndGggPT0gYXJncy5sZW5ndGgpIHtcbiAgICBjb25zdCBzdHJ1Y3RWYWw6IEJTTF9BU1QuU3RydWN0VmFsdWUgPSB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3RydWN0VmFsdWUsXG4gICAgICBzdHJ1Y3REZWY6IG5hbWUsXG4gICAgICBwcm9wZXJ0aWVzOiBhcmdzLm1hcCgoYXJnKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpdDogQlNMX0FTVC5MaXRlcmFsID0ge1xuICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgIHZhbHVlOiBhcmcsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBsaXQ7XG4gICAgICB9KSxcbiAgICB9O1xuICAgIHJldHVybiBzdHJ1Y3RWYWw7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEVycm9yKFxuICAgICAgYEFyaXR5IG1pc21hdGNoIGluICcke25hbWUuc3ltYm9sfTogbnVtYmVyIG9mIGFyZ3VtZW50cyBkb2VzIG5vdCBtYXRjaCBudW1iZXIgb2YgcHJvcGVydGllc2BcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByZWRTdHJ1Y3QoXG4gIG5hbWU6IEJTTF9BU1QuTmFtZSxcbiAgZnVuRGVmOiBTSV9TVFJVQ1QuUHJlZEZ1bixcbiAgYXJnczogU0lfU1RSVUNULlZhbHVlW11cbik6IGJvb2xlYW4gfCBFcnJvciB7XG4gIGNvbnN0IHBhcmFtcyA9IGZ1bkRlZi5zdHJ1Y3REZWYucHJvcGVydGllcztcbiAgaWYgKGFyZ3MubGVuZ3RoICE9IDEpIHtcbiAgICByZXR1cm4gRXJyb3IoYCcke25hbWUuc3ltYm9sfScgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnRgKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIUJTTF9BU1QuaXNTdHJ1Y3RWYWx1ZShhcmdzWzBdKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdHJ1Y3RWYWwgPSBhcmdzWzBdO1xuICAgICAgLy9leHRyYWN0IHN0cnVjdCBpbiBtYWtlLXN0cnVjdFxuICAgICAgY29uc3Qgc3RydWN0TmFtZSA9IHN0cnVjdFZhbC5zdHJ1Y3REZWYuc3ltYm9sLnNwbGl0KFwiLVwiKVsxXTtcbiAgICAgIC8vZXh0cmFjdCBzdHJ1Y3QgaW4gc3RydWN0P1xuICAgICAgY29uc3QgcHJlZE5hbWUgPSBuYW1lLnN5bWJvbC5zcGxpdChcIj9cIilbMF07XG4gICAgICBpZiAoc3RydWN0TmFtZSA9PT0gcHJlZE5hbWUpIHtcbiAgICAgICAgaWYgKHBhcmFtcy5sZW5ndGggPT0gc3RydWN0VmFsLnByb3BlcnRpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNlbGVjdFN0cnVjdChcbiAgbmFtZTogQlNMX0FTVC5OYW1lLFxuICBmdW5EZWY6IFNJX1NUUlVDVC5TZWxlY3RGdW4sXG4gIGFyZ3M6IFNJX1NUUlVDVC5WYWx1ZVtdXG4pOiBCU0xfQVNULmV4cHIgfCBTSV9TVFJVQ1QuVmFsdWUgfCBFcnJvciB7XG4gIC8vY2hlY2sgaWYgdGhlIG51bWJlciBvZiBhcmd1bWVudHMgaXMgMVxuICBpZiAoYXJncy5sZW5ndGggIT0gMSkge1xuICAgIHJldHVybiBFcnJvcihcInNlbGVjdFN0cnVjdDogbnVtYmVyIG9mIGFyZ3VtZW50cyBkb2Vzbid0IG1hdGNoXCIpO1xuICB9IGVsc2Uge1xuICAgIC8vY2hlY2sgaWYgdGhlIGFyZ3VtZW50IGlzIGEgc3RydWN0IHZhbHVlXG4gICAgaWYgKCFCU0xfQVNULmlzU3RydWN0VmFsdWUoYXJnc1swXSkpIHtcbiAgICAgIHJldHVybiBFcnJvcihcInNlbGVjdFN0cnVjdDogYXJndW1lbnQgaXMgbm90IGEgc3RydWN0IHZhbHVlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdHJ1Y3RWYWw6IEJTTF9BU1QuU3RydWN0VmFsdWUgPSBhcmdzWzBdO1xuICAgICAgLy9leHRyYWN0IHN0cnVjdCBpbiBtYWtlLXN0cnVjdFxuICAgICAgY29uc3Qgc3RydWN0TmFtZSA9IHN0cnVjdFZhbC5zdHJ1Y3REZWYuc3ltYm9sLnNwbGl0KFwiLVwiKVsxXTtcbiAgICAgIC8vZXh0cmFjdCBzdHJ1Y3QgaW4gc3RydWN0LXByb3BlcnR5XG4gICAgICBjb25zdCBzZWxlY3ROYW1lID0gbmFtZS5zeW1ib2wuc3BsaXQoXCItXCIpWzBdO1xuICAgICAgY29uc3QgcHJvcGVydHk6IHN0cmluZyA9IG5hbWUuc3ltYm9sLnNwbGl0KFwiLVwiKVsxXTtcbiAgICAgIC8vY2hlY2sgaWYgdGhlIHN0cnVjdCBuYW1lIGlzIHRoZSBzYW1lXG4gICAgICBpZiAoc3RydWN0TmFtZSAhPT0gc2VsZWN0TmFtZSkge1xuICAgICAgICByZXR1cm4gRXJyb3IoXCJzZWxlY3RTdHJ1Y3Q6IHN0cnVjdCBuYW1lIGRvZXNuJ3QgbWF0Y2hcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBwYXJhbXM6IHN0cmluZ1tdID0gZnVuRGVmLnN0cnVjdERlZi5wcm9wZXJ0aWVzLm1hcChcbiAgICAgICAgICAocGFyYW0pID0+IHBhcmFtLnN5bWJvbFxuICAgICAgICApO1xuICAgICAgICAvL2NoZWNrIGlmIHRoZSBwcm9wZXJ0eSBpcyBpbiB0aGUgc3RydWN0XG4gICAgICAgIGlmIChwYXJhbXMuaW5jbHVkZXMocHJvcGVydHkpKSB7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJhbXMuaW5kZXhPZihwcm9wZXJ0eSk7XG4gICAgICAgICAgY29uc3QgcmVzOiBCU0xfQVNULmV4cHIgPSBzdHJ1Y3RWYWwucHJvcGVydGllc1tpbmRleF07XG4gICAgICAgICAgLy9jaGVjayBpZiB0aGUgcHJvcGVydHkgaXMgYSBsaXRlcmFsXG4gICAgICAgICAgLy9yZWR1Y2UgdG8gdmFsdWVcbiAgICAgICAgICBpZiAoQlNMX0FTVC5pc0xpdGVyYWwocmVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy52YWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN0cnVjdFZhbC5wcm9wZXJ0aWVzW2luZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIEVycm9yKFwic2VsZWN0U3RydWN0OiBwcm9wZXJ0eSBkb2Vzbid0IGV4aXN0XCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vL3N1YnN0RXhwclxuLy9zdWJzdGl0dXRlIGFsbCBuYW1lcyBpbiBhbiBleHByZXNzaW9uIHdpdGggdGhlIHZhbHVlcyBvZiBhIGdpdmVuIGVudmlyb25tZW50XG5mdW5jdGlvbiBzdWJzdEV4cHIoXG4gIGV4cHI6IEJTTF9BU1QuZXhwcixcbiAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IEJTTF9BU1QuZXhwciB8IEVycm9yIHtcbiAgaWYgKEJTTF9BU1QuaXNMaXRlcmFsKGV4cHIpKSB7XG4gICAgcmV0dXJuIGV4cHI7XG4gIH0gZWxzZSBpZiAoQlNMX0FTVC5pc05hbWUoZXhwcikpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGxvb2t1cENvbnN0KGVudiwgZXhwci5zeW1ib2wpO1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsdWU7XG4gICAgbGV0IG5ld0xpdDogQlNMX0FTVC5MaXRlcmFsID0ge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgfTtcbiAgICByZXR1cm4gbmV3TGl0O1xuICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNDYWxsKGV4cHIpKSB7XG4gICAgbGV0IGFyZ3MgPSBleHByLmFyZ3MubWFwKChhcmcpID0+IHtcbiAgICAgIGxldCBuZXdFeHByID0gc3Vic3RFeHByKGFyZywgZW52KTtcbiAgICAgIGlmIChuZXdFeHByIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBhcmc7XG4gICAgICBlbHNlIHJldHVybiBuZXdFeHByO1xuICAgIH0pO1xuICAgIC8vbmVlZCBjYXNlIGZvciBuYW1lcywgd2hpY2ggYXJlIGluIHRoZSBvdGhlciBkaWN0aW9uYXJ5IGFzIHdlbGxcbiAgICBpZiAoYXJncy5zb21lKChhcmcpID0+IGFyZyBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgcmV0dXJuIEVycm9yKFwic3Vic3RFeHByOiBlcnJvciBpbiBhcmdzXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbmV3Q2FsbDogQlNMX0FTVC5DYWxsID0ge1xuICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uRnVuY3Rpb25DYWxsLFxuICAgICAgICBuYW1lOiBleHByLm5hbWUsXG4gICAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICB9O1xuICAgICAgcmV0dXJuIG5ld0NhbGw7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBvcHRpb25zID0gZXhwci5vcHRpb25zLm1hcCgoY2xhdXNlKSA9PiB7XG4gICAgICBsZXQgbmV3Q29uZGl0aW9uID0gc3Vic3RFeHByKGNsYXVzZS5jb25kaXRpb24sIGVudik7XG4gICAgICBsZXQgbmV3UmVzdWx0ID0gc3Vic3RFeHByKGNsYXVzZS5yZXN1bHQsIGVudik7XG4gICAgICBpZiAobmV3Q29uZGl0aW9uIGluc3RhbmNlb2YgRXJyb3IgfHwgbmV3UmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgIHJldHVybiBFcnJvcihcInN1YnN0RXhwcjogZXJyb3IgaW4gY29uZFwiKTtcbiAgICAgIGxldCBuZXdDbGF1c2U6IEJTTF9BU1QuQ2xhdXNlID0ge1xuICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZE9wdGlvbixcbiAgICAgICAgY29uZGl0aW9uOiBuZXdDb25kaXRpb24sXG4gICAgICAgIHJlc3VsdDogbmV3UmVzdWx0LFxuICAgICAgfTtcbiAgICAgIHJldHVybiBuZXdDbGF1c2U7XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMuc29tZSgoY2xhdXNlKSA9PiBjbGF1c2UgaW5zdGFuY2VvZiBFcnJvcikpXG4gICAgICByZXR1cm4gRXJyb3IoXCJzdWJzdEV4cHI6IGVycm9yIGluIGNvbmRcIik7XG4gICAgbGV0IG5ld0NvbmQ6IEJTTF9BU1QuQ29uZCA9IHtcbiAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kRXhwcmVzc2lvbixcbiAgICAgIG9wdGlvbnM6IG9wdGlvbnMgYXMgQlNMX0FTVC5DbGF1c2VbXSxcbiAgICB9O1xuICAgIHJldHVybiBuZXdDb25kO1xuICB9XG59XG5cbi8vICMjIyMjIyMgRW52aXJvbm1lbnQgRnVuY3Rpb25zICMjIyMjIyNcblxuLy8gaW5pdGlhbGl6ZSBlbnZpcm9ubWVudCB3aXRoIGJ1aWx0LWluIGZ1bmN0aW9uc1xuZnVuY3Rpb24gaW5pdEVudigpOiBTSV9TVFJVQ1QuRW52aXJvbm1lbnQgfCBFcnJvciB7XG4gIGxldCBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudCB8IEVycm9yID0ge307XG4gIC8vYWRkIGJ1aWx0LWluIGZ1bmN0aW9uc1xuICBPYmplY3QuZW50cmllcyhTSV9TVFJVQ1QuUHJpbUZ1bnMpLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICBpZiAoZW52IGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBlbnY7XG4gICAgZWxzZSBlbnYgPSBhZGRUb0VudihlbnYsIG5hbWVbMV0sIHsgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uUHJpbURlZiB9KTtcbiAgfSk7XG4gIGlmIChlbnYgPT09IHVuZGVmaW5lZCkgcmV0dXJuIEVycm9yKFwiaW5pdEVudjogZW52aXJvbm1lbnQgaXMgdW5kZWZpbmVkXCIpO1xuICBlbHNlIGlmIChlbnYgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIGVudjtcbiAgcmV0dXJuIGVudjtcbn1cblxuLy9hZGRzIGEgVmFsdWUgdG8gYW4gRW52aXJvbm1lbnRcbmZ1bmN0aW9uIGFkZFRvRW52KFxuICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudCxcbiAgbmFtZTogc3RyaW5nLFxuICB2YWx1ZTogU0lfU1RSVUNULkVudlZhbHVlXG4pOiBTSV9TVFJVQ1QuRW52aXJvbm1lbnQgfCBFcnJvciB7XG4gIGlmIChlbnZbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IG5ld0VudiA9IHsgLi4uZW52IH07XG4gICAgbmV3RW52W25hbWVdID0gdmFsdWU7XG4gICAgcmV0dXJuIG5ld0VudjtcbiAgfSBlbHNlIHJldHVybiBFcnJvcihgJyR7bmFtZX0nIGFscmVhZHkgZXhpc3RzIGluIGVudmlyb25tZW50YCk7XG59XG5cbmZ1bmN0aW9uIGxvb2t1cEVudihcbiAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnQsXG4gIG5hbWU6IHN0cmluZ1xuKTogU0lfU1RSVUNULkVudlZhbHVlIHwgRXJyb3Ige1xuICBpZiAobmFtZSBpbiBlbnYpIHtcbiAgICByZXR1cm4gZW52W25hbWVdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBFcnJvcihgJyR7bmFtZX0nIGlzIG5vdCBib3VuZCBpbiBlbnZpcm9ubWVudGApO1xuICB9XG59XG5cbi8vTG9va1VwIGhlbHBlciBmdW5jdGlvbnNcblxuZnVuY3Rpb24gbG9va3VwQ29uc3QoXG4gIGVudjogU0lfU1RSVUNULkVudmlyb25tZW50LFxuICBuYW1lOiBzdHJpbmdcbik6IFNJX1NUUlVDVC5WYWx1ZSB8IEVycm9yIHtcbiAgY29uc3QgdmFsdWUgPSBsb29rdXBFbnYoZW52LCBuYW1lKTtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiB2YWx1ZTtcbiAgZWxzZSBpZiAoU0lfU1RSVUNULmlzVmFsdWUodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gIGVsc2UgcmV0dXJuIEVycm9yKFwibG9va3VwQ29uc3Q6IG5hbWUgaXMgbm90IGJvdW5kIHRvIGEgVmFsdWVcIik7XG59XG5cbmZ1bmN0aW9uIGxvb2t1cEZ1bihcbiAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnQsXG4gIG5hbWU6IHN0cmluZ1xuKTogU0lfU1RSVUNULkZ1bkRlZiB8IEVycm9yIHtcbiAgY29uc3QgdmFsdWUgPSBsb29rdXBFbnYoZW52LCBuYW1lKTtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiB2YWx1ZTtcbiAgZWxzZSBpZiAoU0lfU1RSVUNULmlzRnVuRGVmKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICBlbHNlIHJldHVybiBFcnJvcihcImxvb2t1cEZ1bjogbmFtZSBpcyBub3QgYm91bmQgdG8gYSBGdW5cIik7XG59XG5cbmZ1bmN0aW9uIGxvb2t1cFN0cnVjdChcbiAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnQsXG4gIG5hbWU6IHN0cmluZ1xuKTogU0lfU1RSVUNULlN0cnVjdERlZiB8IEVycm9yIHtcbiAgY29uc3QgdmFsdWUgPSBsb29rdXBFbnYoZW52LCBuYW1lKTtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiB2YWx1ZTtcbiAgZWxzZSBpZiAoU0lfU1RSVUNULmlzU3RydWN0RGVmKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICBlbHNlIHJldHVybiBFcnJvcihcImxvb2t1cFN0cnVjdDogbmFtZSBpcyBub3QgYm91bmQgdG8gYSBTdHJ1Y3RcIik7XG59XG4iLCAiLy8gcGFyc2luZyBhbmQgcHJvY2Vzc2luZyBjb2RlIGlucHV0XG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gXCIuL0JTTF9QYXJzZXJcIjtcbmltcG9ydCAqIGFzIEJTTF9BU1QgZnJvbSBcIi4vQlNMX0FTVFwiO1xuaW1wb3J0ICogYXMgQlNMX1ByaW50IGZyb20gXCIuL0JTTF9QcmludFwiO1xuLy8gc21hbGwtc3RlcCBpbnRlcnByZXRlciBiYWNrLWVuZFxuaW1wb3J0ICogYXMgU0lfU1RSVUNUIGZyb20gXCIuL1NJX1NUUlVDVFwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlUHJvZ3JhbSB9IGZyb20gXCIuL1NJXCI7XG4vLyBzdHlsZXMgJiBpY29uIHJlc3NvdXJjZXNcbmltcG9ydCB7IGRlZmF1bHQgYXMgc3RlcHBlcl9jc3MgfSBmcm9tIFwiLi9yZXNzb3VyY2VzL3N0ZXBwZXIuY3NzXCI7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIGFuZ2xlX3VwIH0gZnJvbSBcIi4vcmVzc291cmNlcy9pY29ucy9hbmdsZS11cC1zb2xpZC5zdmdcIjtcbmltcG9ydCB7IGRlZmF1bHQgYXMgYW5nbGVfZG93biB9IGZyb20gXCIuL3Jlc3NvdXJjZXMvaWNvbnMvYW5nbGUtZG93bi1zb2xpZC5zdmdcIjtcbmltcG9ydCB7IGRlZmF1bHQgYXMgcGx1c19pY29uIH0gZnJvbSBcIi4vcmVzc291cmNlcy9pY29ucy9wbHVzLXNvbGlkLnN2Z1wiO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBtaW51c19pY29uIH0gZnJvbSBcIi4vcmVzc291cmNlcy9pY29ucy9taW51cy1zb2xpZC5zdmdcIjtcbmltcG9ydCB7IGRlZmF1bHQgYXMgY2lyY2xlX2luZm8gfSBmcm9tIFwiLi9yZXNzb3VyY2VzL2ljb25zL2NpcmNsZS1pbmZvLXNvbGlkLnN2Z1wiO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBjaXJjbGVfeG1hcmsgfSBmcm9tIFwiLi9yZXNzb3VyY2VzL2ljb25zL2NpcmNsZS14bWFyay1zb2xpZC5zdmdcIjtcbi8vIGh0bWwgaGVscGVyc1xuaW1wb3J0IHsgZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUsIG5hdmlnYXRlRE9NIH0gZnJvbSBcIi4vRE9NX0hlbHBlcnNcIjtcblxuLy8gIyMjIyMjIyMjIG1haW4gZnVuY3Rpb24gcHJvY2Vzc2luZyBzdGVwcGVycyAjIyMjIyMjIyMjI1xuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NTdGVwcGVycygpIHtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInN0ZXBwZXJcIikpLm1hcCgoZWwpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvZ3JhbTogQlNMX0FTVC5wcm9ncmFtID0gcGFyc2UoQlNMX1ByaW50LmRpcnRpZnkoZWwuaW5uZXJIVE1MKSk7XG4gICAgICBjb25zb2xlLmxvZyhwcm9ncmFtKTtcbiAgICAgIHNldFVwU3RlcHBlckd1aShwcm9ncmFtLCBlbCBhcyBIVE1MRWxlbWVudCk7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICByZW5kZXJFcnJvcihlLCBlbCBhcyBIVE1MRWxlbWVudCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyRXJyb3IoZXJyOiBhbnksIGVsOiBIVE1MRWxlbWVudCkge1xuICBjb25zb2xlLmVycm9yKGVycik7XG4gIGNvbnN0IGVycm9yID0gZXJyID8gYCR7ZXJyfWAgOiAnVW5rbm93biBFcnJvcic7XG4gIGVsLmlubmVySFRNTCA9IGBcbiAgICA8aDM+RXJyb3IgdHVybmluZyBQcm9ncmFtIGludG8gU3RlcHBlcjwvaDM+XG4gICAgPGRpdj4ke2VsLmlubmVySFRNTH08L2Rpdj5cbiAgICA8ZGl2PiR7ZXJyb3J9PC9kaXY+XG4gIGA7XG4gIChlbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICBwYWRkaW5nOiAyZW07XG4gICAgY29sb3I6IGRhcmtyZWQ7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIGA7XG59XG5cbi8vICMjIyBzZXQgdXAgYSBzaW5nbGUgc3RlcHBlciAjIyNcbmV4cG9ydCBmdW5jdGlvbiBzZXRVcFN0ZXBwZXJHdWkoXG4gIHByb2dyYW06IEJTTF9BU1QucHJvZ3JhbSxcbiAgZWw6IEhUTUxFbGVtZW50XG4pOiB2b2lkIHtcbiAgYWRkU3R5bGVzaGVldCgpO1xuICBjb25zdCBzdGVwcGVyID0gY2FsY3VsYXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgY29uc29sZS5sb2coQlNMX1ByaW50LmluZGVudChCU0xfUHJpbnQucHByaW50KHByb2dyYW0pLCAzMCkpO1xuICBjb25zb2xlLmxvZyhzdGVwcGVyKTtcbiAgaWYgKHN0ZXBwZXIgaW5zdGFuY2VvZiBFcnJvcikgdGhyb3cgc3RlcHBlcjtcbiAgY29uc3QgbGFuZyA9IGdldExhbmd1YWdlKGVsKTtcbiAgY29uc3QgbWVhc3VyZXMgPSBnZXRQaXhlbE1lYXN1cmVtZW50cyhlbCk7IC8vIGZvciBzdGF0aWMgbWF4d2lkdGggaW5kZW50YXRpb24gJiBjbGlwcGluZ1xuICBlbC5pbm5lckhUTUwgPSByZW5kZXJTdGVwcGVyKHN0ZXBwZXIsIGxhbmcsIG1lYXN1cmVzKTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGVzaGVldCgpIHtcbiAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJzbC10b29scy1zdGVwcGVyLXN0eWxlXCIpKSB7XG4gICAgY29uc3Qgc3R5bGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgIHN0eWxlTm9kZS5pbm5lckhUTUwgPSBzdGVwcGVyX2NzcztcbiAgICBzdHlsZU5vZGUuaWQgPSBcImJzbC10b29scy1zdGVwcGVyLXN0eWxlXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKHN0eWxlTm9kZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0TGFuZ3VhZ2UoZWw6IEhUTUxFbGVtZW50KTogaW1wbGVtZW50ZWRMYW5ndWFnZSB7XG4gIGNvbnN0IGxhbmcgPSBlbC5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpO1xuICBpZiAoIWxhbmcpIHtcbiAgICByZXR1cm4gXCJlblwiO1xuICB9IGVsc2UgaWYgKCFpbXBsZW1lbnRlZExhbmd1YWdlcy5pbmNsdWRlcyhsYW5nKSkge1xuICAgIGNvbnNvbGUuZXJyb3IoYFxuICAgICAgICBMYW5ndWFnZSAke2xhbmd9IGlzIG5vdCBpbXBsZW1lbnRlZCBmb3IgdGhpcyBtb2R1bGUsXG4gICAgICAgIHlvdSBjYW4gY2hvb3NlIGZyb20gJHtpbXBsZW1lbnRlZExhbmd1YWdlcy5qb2luKFwiLFwiKX0uXG4gICAgICAgIERlZmF1bHRpbmcgdG8gJ2VuJy5cbiAgICAgIGApO1xuICAgIHJldHVybiBcImVuXCI7XG4gIH1cbiAgcmV0dXJuIGxhbmcgYXMgaW1wbGVtZW50ZWRMYW5ndWFnZTtcbn1cblxuLy8gaGVscGVyIGZvciBnZXR0aW5nIHdpZHRoIG9mIGVtIGluIHB4XG5pbnRlcmZhY2UgUGl4ZWxNZWFzdXJlbWVudHMge1xuICBjaGFyV2lkdGg6IG51bWJlcixcbiAgbWF4Q2hhcnM6IG51bWJlclxufVxuZnVuY3Rpb24gZ2V0UGl4ZWxNZWFzdXJlbWVudHMoZWw6IEhUTUxFbGVtZW50KTogUGl4ZWxNZWFzdXJlbWVudHMge1xuICBjb25zdCBtZWFzdXJlVGV4dCA9ICdMb2FkaW5nLi4uJztcbiAgZWwuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJic2wtdG9vbHMtc3RlcHBlclwiIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiYm94XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwIGNvZGVcIlxuICAgICAgICAgICAgIGRhdGEtY3VycmVudFN0ZXA9XCJ0cnVlXCI+XG4gICAgICAgICAgPHAgc3R5bGU9XCJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+JHttZWFzdXJlVGV4dH08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG4gIGNvbnN0IHAgPSBlbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBcIilbMF07XG4gIGNvbnN0IHN0ZXBwZXIgPSBlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYnNsLXRvb2xzLXN0ZXBwZXJcIilbMF07XG4gIGlmICghcCB8fCAhc3RlcHBlcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gaW5qZWN0IG1lYXN1cmluZyBIVE1MIGludG9cIiwgZWwpO1xuICAgIHJldHVybiB7Y2hhcldpZHRoOiAxMiwgbWF4Q2hhcnM6IDgwfTsgLy8gYXJiaXRyYXJ5IHZhbHVlXG4gIH1cbiAgY29uc3QgY2hhclB4V2lkdGggPSBwLmNsaWVudFdpZHRoIC8gbWVhc3VyZVRleHQubGVuZ3RoO1xuICBjb25zdCBmYWN0b3IgPSAwLjk7XG4gIGNvbnN0IG1heFdpZHRoSW5DaGFycyA9IE1hdGgucm91bmQoKGZhY3RvciAqIHN0ZXBwZXIuY2xpZW50V2lkdGgpIC8gY2hhclB4V2lkdGgpO1xuICByZXR1cm4ge2NoYXJXaWR0aDogY2hhclB4V2lkdGgsIG1heENoYXJzOiBtYXhXaWR0aEluQ2hhcnN9O1xufVxuXG4vLyAjIyMjIyMgaW50ZXJuYXRpb25hbGl6YXRpb24gZm9yIHRoaXMgbW9kdWxlICMjIyMjXG50eXBlIGltcGxlbWVudGVkTGFuZ3VhZ2UgPSBcImVuXCIgfCBcImRlXCI7XG5jb25zdCBpbXBsZW1lbnRlZExhbmd1YWdlcyA9IFtcImVuXCIsIFwiZGVcIl07XG5cbmNvbnN0IGRpY3Rpb25hcnkgPSB7XG4gIGVuOiB7XG4gICAgXCJjdXJyZW50IGV2YWx1YXRpb25cIjogXCJDdXJyZW50IEV2YWx1YXRpb25cIixcbiAgICBcIm5leHQgc3RlcFwiOiBcIk5leHQgU3RlcFwiLFxuICAgIFwicHJldmlvdXMgc3RlcFwiOiBcIlByZXZpb3VzIFN0ZXBcIixcbiAgICBcImVudmlyb25tZW50XCI6IFwiRW52aXJvbm1lbnRcIixcbiAgICBcInJlbWFpbmluZyBwcm9ncmFtXCI6IFwiUmVtYWluaW5nIFByb2dyYW1cIixcbiAgICBcInN0YXJ0IGV2YWx1YXRpb25cIjogXCJTdGFydCBFdmFsdWF0aW9uXCIsXG4gICAgXCJldmFsdWF0aW9uIGZpbmlzaGVkXCI6IFwiRXZhbHVhdGlvbiBGaW5pc2hlZFwiLFxuICAgIFwiZXZhbHVhdGlvbiBmaW5pc2hlZCB3aXRoIGVycm9yXCI6IFwiRXZhbHVhdGlvbiBGaW5pc2hlZCBiZWNhdXNlIG9mIEVycm9yXCIsXG4gICAgXCJnbyBiYWNrXCI6IFwiR28gQmFja1wiLFxuICB9LFxuICBkZToge1xuICAgIFwiY3VycmVudCBldmFsdWF0aW9uXCI6IFwiQWt0dWVsbGUgQXVzd2VydHVuZ1wiLFxuICAgIFwibmV4dCBzdGVwXCI6IFwiTlx1MDBFNGNoc3RlciBTY2hyaXR0XCIsXG4gICAgXCJwcmV2aW91cyBzdGVwXCI6IFwiVm9yaGVyaWdlciBTY2hyaXR0XCIsXG4gICAgXCJlbnZpcm9ubWVudFwiOiBcIlVtZ2VidW5nXCIsXG4gICAgXCJyZW1haW5pbmcgcHJvZ3JhbVwiOiBcIlZlcmJsZWliZW5kZXMgUHJvZ3JhbW1cIixcbiAgICBcInN0YXJ0IGV2YWx1YXRpb25cIjogXCJBdXN3ZXJ0dW5nIFN0YXJ0ZW5cIixcbiAgICBcImV2YWx1YXRpb24gZmluaXNoZWRcIjogXCJBdXN3ZXJ0dW5nIEJlZW5kZXRcIixcbiAgICBcImV2YWx1YXRpb24gZmluaXNoZWQgd2l0aCBlcnJvclwiOiBcIkF1c3dlcnR1bmcgd2VnZW4gRmVobGVyIGJlZW5kZXRcIixcbiAgICBcImdvIGJhY2tcIjogXCJTY2hyaXR0IHp1clx1MDBGQ2NrXCIsXG4gIH0sXG59O1xuXG4vLyAjIyMjIyMjIFJFTkRFUiBGVU5DVElPTlMgIyMjIyMjI1xuXG4vLyBtYWluIGZ1bmN0aW9uXG5mdW5jdGlvbiByZW5kZXJTdGVwcGVyKFxuICBzdGVwcGVyOiBTSV9TVFJVQ1QuU3RlcHBlcixcbiAgbGFuZzogaW1wbGVtZW50ZWRMYW5ndWFnZSxcbiAgbWVhc3VyZXM6IFBpeGVsTWVhc3VyZW1lbnRzXG4pOiBzdHJpbmcge1xuICBjb25zdCBwcm9nU3RlcHMgPSBzdGVwcGVyLnByb2dTdGVwcztcblxuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJic2wtdG9vbHMtc3RlcHBlclwiPlxuXG4gICAgICAgPGRpdiBjbGFzcz1cImJveCBlbnZpcm9ubWVudFwiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cImJveGxhYmVsXCI+JHtkaWN0aW9uYXJ5W2xhbmddW1wiZW52aXJvbm1lbnRcIl19PC9kaXY+XG4gICAgICAgICAke3Byb2dTdGVwcy5tYXAoKHMsaSkgPT4gcmVuZGVyRGVmaW5pdGlvbihzLCBpLCBtZWFzdXJlcykpLmpvaW4oXCJcIil9XG4gICAgICAgPC9kaXY+XG5cbiAgICAgICA8ZGl2IGNsYXNzPVwiYm94IGV2YWwtc3RlcHNcIlxuICAgICAgICAgICAgZGF0YS1wcm9nc3RlcD1cIi0xXCJcbiAgICAgICAgICAgIGRhdGEtdmlzaWJsZT1cInRydWVcIj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJib3hsYWJlbFwiPiR7ZGljdGlvbmFyeVtsYW5nXVtcImN1cnJlbnQgZXZhbHVhdGlvblwiXX08L2Rpdj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwXCJcbiAgICAgICAgICAgICAgZGF0YS1jdXJyZW50U3RlcD1cInRydWVcIj5cbiAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5leHQtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbmNsaWNrPVwidGFrZVByb2dTdGVwcyhldmVudCwgMSlcIj5cbiAgICAgICAgICAgICA8Y2FwPlByb2c8L2NhcD46ICR7XG4gICAgICAgICAgICAgICBkaWN0aW9uYXJ5W2xhbmddW1wic3RhcnQgZXZhbHVhdGlvblwiXVxuICAgICAgICAgICAgIH0gPGltZyBjbGFzcz1cImljb25cIiBzcmM9XCIke2FuZ2xlX2Rvd259XCI+XG4gICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGx1Zy1yZXN1bHQgY29kZVwiXG4gICAgICAgICAgICAgICAgZGF0YS1pbmZvLWNvbGxhcHNlZD1cInRydWVcIj5cbiAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiaWNvbiBpbmZvLXRvZ2dsZSBpbmZvLWV4cGFuZFwiXG4gICAgICAgICAgICAgICAgICAgICBzcmM9XCIke2NpcmNsZV9pbmZvfVwiXG4gICAgICAgICAgICAgICAgICAgICBvbmNsaWNrPVwiZXhwYW5kSW5mbyhldmVudClcIj5cbiAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiaWNvbiBpbmZvLXRvZ2dsZSBpbmZvLWNvbGxhcHNlXCJcbiAgICAgICAgICAgICAgICAgICAgIHNyYz1cIiR7Y2lyY2xlX3htYXJrfVwiXG4gICAgICAgICAgICAgICAgICAgICBvbmNsaWNrPVwiY29sbGFwc2VJbmZvKGV2ZW50KVwiPlxuICAgICAgICAgICAgICR7cmVuZGVyUnVsZUluZm9ybWF0aW9uKCdQcm9nJywgZmFsc2UpfVxuICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZGl2PlxuXG4gICAgICAgJHtwcm9nU3RlcHMubWFwKChlbCwgaSkgPT4gcmVuZGVyRXZhbFN0ZXBzKGVsLCBpLCBsYW5nLCBtZWFzdXJlcykpLmpvaW4oXCJcIil9XG5cbiAgICAgICA8ZGl2IGNsYXNzPVwiYm94IGV2YWwtc3RlcHNcIlxuICAgICAgICAgICAgZGF0YS1wcm9nc3RlcD1cIiR7cHJvZ1N0ZXBzLmxlbmd0aH1cIlxuICAgICAgICAgICAgZGF0YS12aXNpYmxlPVwiZmFsc2VcIj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJib3hsYWJlbFwiPiR7ZGljdGlvbmFyeVtsYW5nXVtcImN1cnJlbnQgZXZhbHVhdGlvblwiXX08L2Rpdj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwXCJcbiAgICAgICAgICAgICAgZGF0YS1jdXJyZW50U3RlcD1cInRydWVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2RlXCI+JHtcbiAgICAgICAgICAgICAgcHJvZ1N0ZXBzW3Byb2dTdGVwcy5sZW5ndGggLSAxXS5yZXN1bHQgaW5zdGFuY2VvZiBFcnJvclxuICAgICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImhvbGUtZXJyb3JcIj4ke2RpY3Rpb25hcnlbbGFuZ11bXCJldmFsdWF0aW9uIGZpbmlzaGVkIHdpdGggZXJyb3JcIl19PC9zcGFuPmBcbiAgICAgICAgICAgICAgOiBkaWN0aW9uYXJ5W2xhbmddW1wiZXZhbHVhdGlvbiBmaW5pc2hlZFwiXVxuICAgICAgICAgICAgfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByZXYtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgb25jbGljaz1cInRha2VQcm9nU3RlcHMoZXZlbnQsIC0xKVwiPlxuICAgICAgICAgICAgICAke1xuICAgICAgICAgICAgICAgIGRpY3Rpb25hcnlbbGFuZ11bXCJnbyBiYWNrXCJdXG4gICAgICAgICAgICAgIH0gPGltZyBjbGFzcz1cImljb25cIiBzcmM9XCIke2FuZ2xlX3VwfVwiPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICA8L2Rpdj5cblxuICAgICAgIDxkaXYgY2xhc3M9XCJib3ggcHJvZ3JhbVwiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cImJveGxhYmVsXCI+JHtkaWN0aW9uYXJ5W2xhbmddW1wicmVtYWluaW5nIHByb2dyYW1cIl19PC9kaXY+XG4gICAgICAgICAke3N0ZXBwZXIub3JpZ2luUHJvZ3JhbS5tYXAoKHMsaSkgPT4gcmVuZGVyT3JpZ2luYWxFeHByZXNzaW9uKHMsaSxtZWFzdXJlcyxwcm9nU3RlcHMubGVuZ3RoKSkuam9pbihcIlwiKX1cbiAgICAgICA8L2Rpdj5cblxuICAgIDwvZGl2PmA7XG59XG4od2luZG93IGFzIGFueSkudGFrZVByb2dTdGVwcyA9IChlOiBFdmVudCwgYTogbnVtYmVyKSA9PiB7XG4gIHRha2VQcm9nU3RlcHMoZSwgYSk7XG59O1xuLy8gcmVuZGVyIHdoYXQgcmVtYWlucyBvZiBhbiBleHByZXNzaW9uIGFmdGVyIGV2YWx1YXRpb25cbmZ1bmN0aW9uIHJlbmRlckRlZmluaXRpb24ocHJvZ1N0ZXA6IFNJX1NUUlVDVC5Qcm9nU3RlcCwgaWR4OiBudW1iZXIsIG1lYXN1cmVzOiBQaXhlbE1lYXN1cmVtZW50cyk6IHN0cmluZyB7XG4gIC8vIGZpbHRlcmluZyBhdCB0aGlzIHBvc2l0aW9uIGluIG9yZGVyIHRvIGtlZXAgY29ycmVjdCBpbXBsaWNpdCBwcm9nU3RlcCBpbmRleFxuICBpZiAoIVNJX1NUUlVDVC5pc0RlZmluaXRpb25TdGVwKHByb2dTdGVwKSB8fCBwcm9nU3RlcC5yZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIFwiXCI7XG4gIHJldHVybiBgXG4gICAgICA8ZGl2IGNsYXNzPVwic3RlcCBjb2RlXCJcbiAgICAgICAgICAgZGF0YS1wcm9nc3RlcD1cIiR7aWR4fVwiXG4gICAgICAgICAgIGRhdGEtdmlzaWJsZT1cImZhbHNlXCI+XG4gICAgICAgICR7QlNMX1ByaW50LmluZGVudChcbiAgICAgICAgICBCU0xfUHJpbnQuc2FuaXRpemUoQlNMX1ByaW50LnByaW50RGVmaW5pdGlvbihwcm9nU3RlcC5yZXN1bHQpKSxcbiAgICAgICAgICBtZWFzdXJlcy5tYXhDaGFycyxcbiAgICAgICAgICBcImh0bWxcIlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgYDtcbn1cblxuLy8gcmVuZGVyIHRoZSBwYXJ0IG9mIHRoZSBvcmlnaW5hbCBQcm9ncmFtIHRoYXQgaXMgYmVpbmcgcmVwcmVzZW50ZWQgYnkgYSBwcm9nc3RlcFxuZnVuY3Rpb24gcmVuZGVyT3JpZ2luYWxFeHByZXNzaW9uKFxuICBleHByZXNzaW9uOiBCU0xfQVNULmRlZk9yRXhwcixcbiAgaWR4OiBudW1iZXIsXG4gIG1lYXN1cmVzOiBQaXhlbE1lYXN1cmVtZW50cyxcbiAgdmFsaWRVbnRpbDogbnVtYmVyXG4pOiBzdHJpbmcge1xuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJzdGVwIGNvZGVcIlxuICAgICAgICAgZGF0YS1wcm9nc3RlcD1cIiR7aWR4IDw9IHZhbGlkVW50aWwgLSAxID8gaWR4IDogaWR4ICsgMTAwIC8qcHJldmVudCBuZXh0IGJ1dHRvbiBmcm9tIFwiZWF0aW5nXCIgbmV2ZXIgZXhlY3V0ZWQgc3RlcHMqL31cIlxuICAgICAgICAgZGF0YS12aXNpYmxlPVwidHJ1ZVwiPlxuICAgICAgJHtCU0xfUHJpbnQuaW5kZW50KFxuICAgICAgICBCU0xfUHJpbnQuc2FuaXRpemUoXG4gICAgICAgICAgQlNMX1ByaW50LnByaW50RGVmT3JFeHByKGV4cHJlc3Npb24pXG4gICAgICAgICksXG4gICAgICAgIG1lYXN1cmVzLm1heENoYXJzLFxuICAgICAgICBcImh0bWxcIlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgYDtcbn1cbi8vIG9uZSBzdGVwcGVyIGZvciBvbmUgZXhwcmVzc2lvblxuZnVuY3Rpb24gcmVuZGVyRXZhbFN0ZXBzKFxuICBwcm9nU3RlcDogU0lfU1RSVUNULlByb2dTdGVwLFxuICBpZHg6IG51bWJlcixcbiAgbGFuZzogaW1wbGVtZW50ZWRMYW5ndWFnZSxcbiAgbWVhc3VyZXM6IFBpeGVsTWVhc3VyZW1lbnRzXG4pOiBzdHJpbmcge1xuICBjb25zdCBjdHggPVxuICAgIFNJX1NUUlVDVC5pc0RlZmluaXRpb25TdGVwKHByb2dTdGVwKSAmJiBCU0xfQVNULmlzQ29uc3REZWYocHJvZ1N0ZXAub3JpZ2luYWxEZWZPckV4cHIpXG4gICAgPyB7IGxlZnQ6IGAoZGVmaW5lICR7cHJvZ1N0ZXAub3JpZ2luYWxEZWZPckV4cHIubmFtZS5zeW1ib2x9IGAsIHJpZ2h0OiBcIilcIiB9XG4gICAgOiB7IGxlZnQ6IFwiXCIsIHJpZ2h0OiBcIlwiIH07XG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cImJveCBldmFsLXN0ZXBzXCJcbiAgICAgICAgIGRhdGEtcHJvZ3N0ZXA9XCIke2lkeH1cIlxuICAgICAgICAgZGF0YS12aXNpYmxlPVwiZmFsc2VcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJib3hsYWJlbFwiPiR7ZGljdGlvbmFyeVtsYW5nXVtcImN1cnJlbnQgZXZhbHVhdGlvblwiXX08L2Rpdj5cbiAgICAgICR7XG4gICAgICAgIHByb2dTdGVwLmV2YWxTdGVwc1xuICAgICAgICAgIC5tYXAoKGVsLCBpKSA9PiByZW5kZXJTdGVwKGksIGVsLCBsYW5nLCB7IC4uLmN0eCB9LCBtZWFzdXJlcykpXG4gICAgICAgICAgLmpvaW4oXCJcIilcbiAgICAgIH1cbiAgICAgICR7cmVuZGVyTGFzdFN0ZXAocHJvZ1N0ZXAsIGxhbmcsIG1lYXN1cmVzKX1cblxuICAgIDwvZGl2PlxuICBgO1xufVxuXG5mdW5jdGlvbiByZW5kZXJMYXN0U3RlcChcbiAgcHJvZ1N0ZXA6IFNJX1NUUlVDVC5Qcm9nU3RlcCxcbiAgbGFuZzogaW1wbGVtZW50ZWRMYW5ndWFnZSxcbiAgbWVhc3VyZXM6IFBpeGVsTWVhc3VyZW1lbnRzXG4pOiBzdHJpbmcge1xuICByZXR1cm4gYFxuICA8ZGl2IGNsYXNzPVwic3RlcFwiXG4gICAgICAgZGF0YS1zdGVwPVwiJHtwcm9nU3RlcC5ldmFsU3RlcHMubGVuZ3RofVwiXG4gICAgICAgZGF0YS1jdXJyZW50U3RlcD1cIiR7XG4gICAgICAgICBwcm9nU3RlcC5ldmFsU3RlcHMubGVuZ3RoID09PSAwID8gXCJ0cnVlXCIgOiBcImZhbHNlXCJcbiAgICAgICB9XCJcbiAgICAgICBkYXRhLWNvbGxhcHNlZD1cImZhbHNlXCI+XG4gICAgPGRpdiBjbGFzcz1cInByZXYtYnV0dG9uXCJcbiAgICAgICAgIG9uY2xpY2s9XCJwcmV2U3RlcChldmVudClcIj5cbiAgICAgICR7XG4gICAgICAgIGRpY3Rpb25hcnlbbGFuZ11bXCJwcmV2aW91cyBzdGVwXCJdXG4gICAgICB9IDxpbWcgY2xhc3M9XCJpY29uXCIgc3JjPVwiJHthbmdsZV91cH1cIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibmV4dC1idXR0b25cIlxuICAgICAgICAgb25jbGljaz1cIm5leHRTdGVwKGV2ZW50KVwiPlxuICAgICAgPGNhcD5Qcm9nPC9jYXA+OiAke1xuICAgICAgICBkaWN0aW9uYXJ5W2xhbmddW1wibmV4dCBzdGVwXCJdXG4gICAgICB9IDxpbWcgY2xhc3M9XCJpY29uXCIgc3JjPVwiJHthbmdsZV9kb3dufVwiPlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cInBsdWctcmVzdWx0IGNvZGUgJHtwcm9nU3RlcC5yZXN1bHQgaW5zdGFuY2VvZiBFcnJvciA/ICdob2xlLWVycm9yJyA6ICcnfVwiXG4gICAgICAgICBkYXRhLWluZm8tY29sbGFwc2VkPVwidHJ1ZVwiPlxuICAgICAgJHtcbiAgICAgICAgQlNMX1ByaW50LmluZGVudChCU0xfUHJpbnQuc2FuaXRpemUoXG4gICAgICAgICAgU0lfU1RSVUNULmlzRGVmaW5pdGlvblN0ZXAocHJvZ1N0ZXApICYmICEocHJvZ1N0ZXAucmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgICAgPyBCU0xfUHJpbnQucHJpbnREZWZpbml0aW9uKHByb2dTdGVwLnJlc3VsdClcbiAgICAgICAgICA6IGAke1xuICAgICAgICAgICAgICBwcm9nU3RlcC5yZXN1bHQgaW5zdGFuY2VvZiBFcnJvclxuICAgICAgICAgICAgICAgID8gcHJvZ1N0ZXAucmVzdWx0XG4gICAgICAgICAgICAgICAgOiBCU0xfUHJpbnQucHJpbnRWYWx1ZShwcm9nU3RlcC5yZXN1bHQgYXMgU0lfU1RSVUNULlZhbHVlKVxuICAgICAgICAgICAgfWApLCBtZWFzdXJlcy5tYXhDaGFycylcbiAgICAgIH1cbiAgICAgIDxpbWcgY2xhc3M9XCJpY29uIGluZm8tdG9nZ2xlIGluZm8tZXhwYW5kXCJcbiAgICAgICAgICAgICAgc3JjPVwiJHtjaXJjbGVfaW5mb31cIlxuICAgICAgICAgICAgICBvbmNsaWNrPVwiZXhwYW5kSW5mbyhldmVudClcIj5cbiAgICAgIDxpbWcgY2xhc3M9XCJpY29uIGluZm8tdG9nZ2xlIGluZm8tY29sbGFwc2VcIlxuICAgICAgICAgICAgICBzcmM9XCIke2NpcmNsZV94bWFya31cIlxuICAgICAgICAgICAgICBvbmNsaWNrPVwiY29sbGFwc2VJbmZvKGV2ZW50KVwiPlxuICAgICAgJHtyZW5kZXJSdWxlSW5mb3JtYXRpb24ocHJvZ1N0ZXAucmVzdWx0IGluc3RhbmNlb2YgRXJyb3IgPyAnUHJvZ0Vycm9yJyA6ICdQcm9nJywgZmFsc2UpfVxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgYDtcbn1cblxuLypcbiAgdXBkYXRlIHZpc2liaWxpdHkgb2YgZXhwcmVzc2lvbnMgaW4gZW52aXJvbm1lbnQvcmVtYWluaW5nIHByb2dyYW0gYW5kIHN0ZXBwZXJzXG4gIGFtb3VudDogbnVtYmVyIG9mIFByb2dTdGVwcyB0byBtb3ZlIGZvcndhcmQvYmFja3dhcmRzXG4qL1xuZnVuY3Rpb24gdGFrZVByb2dTdGVwcyhlOiBFdmVudCwgYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcbiAgY29uc3QgYnV0dG9uID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIC8vIGVsIHdpbGwgYmUgYSBidXR0b25cbiAgY29uc3Qgb2xkQnV0dG9uUG9zaXRpb24gPSBidXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueTtcbiAgY29uc3QgY3VycmVudFN0ZXAgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShidXR0b24sIFwiZXZhbC1zdGVwc1wiKTtcbiAgaWYgKCFjdXJyZW50U3RlcCkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJmb3VuZCBubyBwYXJlbnQgd2l0aCBjbGFzcyAuZXZhbC1zdGVwc1wiLCBidXR0b24pO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBpZHhTdHJpbmcgPSBjdXJyZW50U3RlcC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2dzdGVwXCIpO1xuICBpZiAoIWlkeFN0cmluZykge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcImRpdiB3aXRoIGNsYXNzIC5ldmFsLXN0ZXBzIGhhcyBubyBkYXRhLXByb2dzdGVwIGF0dHJpYnV0ZVwiLFxuICAgICAgY3VycmVudFN0ZXBcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBpZHggPSBwYXJzZUludChpZHhTdHJpbmcpO1xuICBjb25zdCB0YXJnZXRJZHggPSBpZHggKyBhbW91bnQ7XG4gIGlmICh0YXJnZXRJZHggPCAtMSkge1xuICAgIGNvbnNvbGUuZXJyb3IoYGNhbm5vdCBuYXZpZ2F0ZSB0byBwcm9nU3RlcCAke3RhcmdldElkeH06IGRvZXMgbm90IGV4aXN0YCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHJvb3QgPSBjdXJyZW50U3RlcC5wYXJlbnRFbGVtZW50O1xuICBpZighcm9vdCkgcmV0dXJuO1xuICBzaG93RW52aXJvbm1lbnQocm9vdCwgdGFyZ2V0SWR4KTtcbiAgc2hvd1JlbWFpbmluZ1Byb2dyYW0ocm9vdCwgdGFyZ2V0SWR4KTtcbiAgY29uc3QgbmV3Q3VycmVudFN0ZXAgPSBzaG93UHJvZ1N0ZXAocm9vdCwgdGFyZ2V0SWR4KTtcbiAgbW92ZVByb2dTdGVwQnV0dG9uKG5ld0N1cnJlbnRTdGVwLCBvbGRCdXR0b25Qb3NpdGlvbiwgYW1vdW50ID4gMCk7XG59XG5cbmZ1bmN0aW9uIHNob3dFbnZpcm9ubWVudChyb290OiBIVE1MRWxlbWVudCwgc3RlcDogbnVtYmVyKSB7XG4gIG5hdmlnYXRlRE9NKFtyb290XSwgXCIuZW52aXJvbm1lbnQvZGl2XCIpLmZvckVhY2goKGRlZikgPT4ge1xuICAgIGNvbnN0IGlkeFN0cmluZyA9IGRlZi5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2dzdGVwXCIpO1xuICAgIGlmIChpZHhTdHJpbmcpIHtcbiAgICAgIGRlZi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmlzaWJsZScsIHBhcnNlSW50KGlkeFN0cmluZykgPCBzdGVwID8gJ3RydWUnOiAnZmFsc2UnKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzaG93UmVtYWluaW5nUHJvZ3JhbShyb290OiBIVE1MRWxlbWVudCwgc3RlcDogbnVtYmVyKSB7XG4gIG5hdmlnYXRlRE9NKFtyb290XSwgXCIucHJvZ3JhbS9kaXZcIikuZm9yRWFjaCgocHJvZykgPT4ge1xuICAgIGNvbnN0IGlkeFN0cmluZyA9IHByb2cuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm9nc3RlcFwiKTtcbiAgICBpZiAoaWR4U3RyaW5nKSB7XG4gICAgICBwcm9nLnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgcGFyc2VJbnQoaWR4U3RyaW5nKSA+IHN0ZXAgPyAndHJ1ZSc6ICdmYWxzZScpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNob3dQcm9nU3RlcChyb290OiBIVE1MRWxlbWVudCwgaW5kZXg6IG51bWJlcik6IEhUTUxFbGVtZW50IHtcbiAgcmV0dXJuIG5hdmlnYXRlRE9NKFtyb290XSwgXCIuZXZhbC1zdGVwc1wiKS5maWx0ZXIoKHByb2dTdGVwKSA9PiB7XG4gICAgY29uc3QgaWR4U3RyaW5nID0gcHJvZ1N0ZXAuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm9nc3RlcFwiKTtcbiAgICBjb25zdCBjdXJyZW50ID0gaWR4U3RyaW5nICYmIHBhcnNlSW50KGlkeFN0cmluZykgPT09IGluZGV4O1xuICAgIHByb2dTdGVwLnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgY3VycmVudCA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgIHJldHVybiBjdXJyZW50O1xuICB9KVswXTtcbn1cblxuZnVuY3Rpb24gbW92ZVByb2dTdGVwQnV0dG9uKHByb2dTdGVwOiBIVE1MRWxlbWVudCwgb2xkQnV0dG9uUG9zaXRpb246IG51bWJlciwgZm9yd2FyZDogYm9vbGVhbikge1xuICAvLyBtb3ZlIHByZXYvbmV4dC1idXR0b24gdG8gc3RheSB1bmRlciBtb3VzZVxuICBjb25zdCBjdXJyZW50U3RlcCA9IEFycmF5LmZyb20ocHJvZ1N0ZXAuY2hpbGRyZW4pXG4gICAgLmZpbHRlcigoYykgPT4gYy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWN1cnJlbnRzdGVwXCIpID09PSBcInRydWVcIilbMF07XG4gIGlmKCFjdXJyZW50U3RlcCkgcmV0dXJuO1xuICBjb25zdCBuZXdCdXR0b24gPSBjdXJyZW50U3RlcC5xdWVyeVNlbGVjdG9yKFxuICAgIGZvcndhcmQgPyBcIi5uZXh0LWJ1dHRvblwiIDogXCIucHJldi1idXR0b25cIlxuICApO1xuICBpZiAoIW5ld0J1dHRvbikgcmV0dXJuO1xuICBjb25zdCBuZXdCdXR0b25Qb3NpdGlvbiA9IG5ld0J1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55O1xuICB3aW5kb3cuc2Nyb2xsQnkoMCwgbmV3QnV0dG9uUG9zaXRpb24gLSBvbGRCdXR0b25Qb3NpdGlvbik7XG59XG5cbi8vIG9uZSBpbmRpdmlkdWFsIHN0ZXBcbmZ1bmN0aW9uIHJlbmRlclN0ZXAoXG4gIGN1cnJlbnRTdGVwOiBudW1iZXIsXG4gIHN0ZXA6IFNJX1NUUlVDVC5FdmFsU3RlcCxcbiAgbGFuZzogaW1wbGVtZW50ZWRMYW5ndWFnZSxcbiAgY3R4OiBDb250ZXh0ID0geyBsZWZ0OiBcIlwiLCByaWdodDogXCJcIiB9LFxuICBtZWFzdXJlczogUGl4ZWxNZWFzdXJlbWVudHNcbik6IHN0cmluZyB7XG4gIC8vIGFjcXVpcmUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uOlxuICAvLyBjb250ZXh0IGFuZCByZWRleFxuICBjb25zdCBjb250ZXh0OiBDb250ZXh0ID0gU0lfU1RSVUNULmlzS29uZyhzdGVwLnJ1bGUpXG4gICAgPyBwcmludENvbnRleHQoc3RlcC5ydWxlLmNvbnRleHQsIGN0eClcbiAgICA6IChzdGVwLnJlc3VsdCBpbnN0YW5jZW9mIEVycm9yXG4gICAgICA/IHByaW50Q29udGV4dChzdGVwLmNvbnRleHQsIGN0eClcbiAgICAgIDogY3R4KTtcbiAgY29uc3QgcmVkZXhSdWxlID0gU0lfU1RSVUNULmlzS29uZyhzdGVwLnJ1bGUpXG4gICAgPyBzdGVwLnJ1bGUucmVkZXhSdWxlXG4gICAgOiBzdGVwLnJ1bGU7XG4gIC8vIHJlc3VsdCBhbmQgcnVsZSBuYW1lXG4gIGNvbnN0IHJlZGV4OiBzdHJpbmcgPSBCU0xfUHJpbnQuc2FuaXRpemUocHJpbnRSZWRleChyZWRleFJ1bGUucmVkZXgpKTtcbiAgZnVuY3Rpb24gcmVuZGVyUmVzdWx0KHJlczogQlNMX0FTVC5leHByIHwgU0lfU1RSVUNULlZhbHVlIHwgRXJyb3IpOiB7aHRtbDogc3RyaW5nLCByZWRleDogc3RyaW5nLCBlcnJvcjogYm9vbGVhbn0ge1xuICAgIGlmIChTSV9TVFJVQ1QuaXNWYWx1ZShyZXMpKSB7XG4gICAgICBjb25zdCByZWRleFJlc3VsdCA9IEJTTF9QcmludC5wcmludFZhbHVlKHJlcyk7XG4gICAgICBjb25zdCByZXN1bHRIdG1sID0gYCR7XG4gICAgICAgIGNvbnRleHQubGVmdFxuICAgICAgfTxzcGFuIGNsYXNzPVwiaG9sZSBob2xlLXJlc3VsdFwiPiR7QlNMX1ByaW50LnNhbml0aXplKFxuICAgICAgICByZWRleFJlc3VsdFxuICAgICAgKX08L3NwYW4+JHtcbiAgICAgICAgY29udGV4dC5yaWdodFxuICAgICAgfWA7XG4gICAgICByZXR1cm4ge2h0bWw6IHJlc3VsdEh0bWwsIHJlZGV4OiByZWRleFJlc3VsdCwgZXJyb3I6IGZhbHNlfTtcbiAgICB9IGVsc2UgaWYgKHJlcyBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBjb25zdCByZWRleFJlc3VsdCA9IGAke3Jlc31gO1xuICAgICAgY29uc3QgcmVzdWx0SHRtbCA9IGA8c3BhbiBjbGFzcz1cImhvbGUgaG9sZS1yZXN1bHQgaG9sZS1lcnJvclwiPlwiJHtyZXN9XCI8L3NwYW4+YDsgLy8gdG8gcHJldmVudCBpbmRlbnRhdGlvbiBpc3N1ZXNcbiAgICAgIHJldHVybiB7cmVkZXg6IHJlZGV4UmVzdWx0LCBodG1sOiByZXN1bHRIdG1sLCBlcnJvcjogdHJ1ZX07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJlZGV4UmVzdWx0ID0gQlNMX1ByaW50LnByaW50RShyZXMpO1xuICAgICAgY29uc3QgcmVzdWx0SHRtbCA9IGAke1xuICAgICAgICBjb250ZXh0LmxlZnRcbiAgICAgIH08c3BhbiBjbGFzcz1cImhvbGUgaG9sZS1yZXN1bHRcIj4ke0JTTF9QcmludC5zYW5pdGl6ZShcbiAgICAgICAgcmVkZXhSZXN1bHRcbiAgICAgICl9PC9zcGFuPiR7Y29udGV4dC5yaWdodH1gO1xuICAgICAgcmV0dXJuIHtyZWRleDogcmVkZXhSZXN1bHQsIGh0bWw6IHJlc3VsdEh0bWwsIGVycm9yOiBmYWxzZX07XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlc3VsdCA9IHJlbmRlclJlc3VsdChyZWRleFJ1bGUucmVzdWx0KTtcbiAgY29uc3QgcnVsZU5hbWUgPSByZWRleFJ1bGUudHlwZTtcbiAgLy8gcHJlcGFyZSBpbmRlbnRlZCBjb2RlIGV4cHJlc3Npb25zXG4gIGNvbnN0IGNvZGVfYmVmb3JlID0gQlNMX1ByaW50LmluZGVudChcbiAgICBgJHtjb250ZXh0LmxlZnR9PHNwYW4gY2xhc3M9XCJob2xlXCI+JHtyZWRleH08L3NwYW4+JHtjb250ZXh0LnJpZ2h0fWAsXG4gICAgbWVhc3VyZXMubWF4Q2hhcnMsXG4gICAgXCJodG1sXCJcbiAgKTtcbiAgY29uc3QgY29kZV9hZnRlciA9IEJTTF9QcmludC5pbmRlbnQocmVzdWx0Lmh0bWwsIG1lYXN1cmVzLm1heENoYXJzLCBcImh0bWxcIik7XG5cbiAgLy8gZmluZCBvdXQgd2hlcmUgdG8gcG9zaXRpb24gdGhlIHJ1bGUgYXJyb3cgc28gdGhhdCBpdCBwb2ludHMgYXQgdGhlIGhvbGVcbiAgY29uc3QgY29kZV9iZWZvcmVfaG9sZSA9IGNvZGVfYWZ0ZXJcbiAgICAuc2xpY2UoMCwgY29kZV9hZnRlci5pbmRleE9mKCc8c3BhbiBjbGFzcz1cImhvbGUgaG9sZS1yZXN1bHQnKSlcbiAgICAuc3BsaXQoXCI8YnI+XCIpXG4gICAgLnJldmVyc2UoKVswXTtcbiAgY29uc3QgaG9sZV9wb3NpdGlvbiA9IGNvZGVfYmVmb3JlX2hvbGVcbiAgICA/IEJTTF9QcmludC5kaXJ0aWZ5KGNvZGVfYmVmb3JlX2hvbGUpLmxlbmd0aFxuICAgIDogMDtcbiAgY29uc3QgS09OR19XSURUSCA9IDQ7XG4gIGNvbnN0IGxlZnRfb2Zmc2V0X2Fycm93ID1cbiAgICBjb250ZXh0LmxlZnQubGVuZ3RoID4gMCAmJiBob2xlX3Bvc2l0aW9uIDwgS09OR19XSURUSFxuICAgICAgPyBLT05HX1dJRFRIXG4gICAgICA6IGhvbGVfcG9zaXRpb247XG4gIC8vIGZpbmQgb3V0IGlmIHdlIGhhdmUgcGxhY2UgdG8gcmVwZWF0IHRoZSBob2xlc1xuICBjb25zdCBydWxlTmFtZU9ubHlUZXh0ID0gcnVsZXNbcnVsZU5hbWVdW1wibmFtZVwiXS5yZXBsYWNlQWxsKCc8Y2FwPicsICcnKS5yZXBsYWNlQWxsKCc8L2NhcD4nLCcnKTtcbiAgY29uc3Qgc3BhY2VfbGVmdCA9IC8vIDMgZm9yIHRoZSBhcnJvdywgMiBmb3IgdGhlIGljb24gLS0tdlxuICAgIG1lYXN1cmVzLm1heENoYXJzIC0gbGVmdF9vZmZzZXRfYXJyb3cgLSBydWxlTmFtZU9ubHlUZXh0Lmxlbmd0aCAtIDU7XG4gIGNvbnN0IHJlbmRlckhvbGVzSW5SdWxlID0gcmVkZXgubGVuZ3RoICsgcmVzdWx0LnJlZGV4Lmxlbmd0aCA8PSBzcGFjZV9sZWZ0O1xuXG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cInN0ZXBcIlxuICAgICAgICAgZGF0YS1zdGVwPVwiJHtjdXJyZW50U3RlcH1cIlxuICAgICAgICAgZGF0YS1jdXJyZW50U3RlcD1cIiR7Y3VycmVudFN0ZXAgPT09IDAgPyBcInRydWVcIiA6IFwiZmFsc2VcIn1cIlxuICAgICAgICAgZGF0YS1jb2xsYXBzZWQ9XCJmYWxzZVwiPlxuICAgICAgPGRpdiBjbGFzcz1cInByZXYtYnV0dG9uXCJcbiAgICAgICAgICAgb25jbGljaz1cInByZXZTdGVwKGV2ZW50KVwiPlxuICAgICAgICAke2RpY3Rpb25hcnlbbGFuZ11bXCJwcmV2aW91cyBzdGVwXCJdfSA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cIiR7YW5nbGVfdXB9XCI+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJuZXh0LWJ1dHRvblwiXG4gICAgICAgICAgIG9uY2xpY2s9XCJuZXh0U3RlcChldmVudClcIj5cbiAgICAgICAgJHtkaWN0aW9uYXJ5W2xhbmddW1wibmV4dCBzdGVwXCJdfSA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cIiR7YW5nbGVfZG93bn1cIj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwic3BsaXQtcmVzdWx0IGNvZGVcIj4ke2NvZGVfYmVmb3JlfTxpbWcgY2xhc3M9XCJpY29uIGV4cGFuZGVyXCJcbiAgICAgICAgICAgICAgc3JjPVwiJHtwbHVzX2ljb259XCJcbiAgICAgICAgICAgICAgb25jbGljaz1cImV4cGFuZChldmVudClcIlxuICAgICAgICA+PGltZyBjbGFzcz1cImljb24gY29sbGFwc2VyXCJcbiAgICAgICAgICAgICAgc3JjPVwiJHttaW51c19pY29ufVwiXG4gICAgICAgICAgICAgIG9uY2xpY2s9XCJjb2xsYXBzZShldmVudClcIlxuICAgICAgPjwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwicGx1Zy1yZXN1bHQgY29kZVwiXG4gICAgICAgICAgIGRhdGEtaW5mby1jb2xsYXBzZWQ9XCJ0cnVlXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgJHtcbiAgICAgICAgICAgIC8vIGlmIGNvbnRleHQgaXMgbm90IGVtcHR5LCB3ZSBhcmUgYXBwbHlpbmcgS09OR1xuICAgICAgICAgICAgY29udGV4dC5sZWZ0ICE9PSBcIlwiXG4gICAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwicnVsZSBydWxlLW5hbWUgbGVmdC1hcnJvd2VkIGtvbmdcIj5cbiAgICAgICAgICAgICAgICAgJHtydWxlc1tcIktvbmdcIl1bXCJuYW1lXCJdfVxuICAgICAgICAgICAgICA8L3NwYW4+YFxuICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICB9XG5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInJ1bGUgbGVmdC1hcnJvd2VkIG9uZS1ydWxlXCJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIi0tb25lLXJ1bGUtbWFyZ2luLWxlZnQ6ICR7bGVmdF9vZmZzZXRfYXJyb3cgKiBtZWFzdXJlcy5jaGFyV2lkdGh9cHhcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJ1bGUtbmFtZVwiPiR7cnVsZXNbcnVsZU5hbWVdW1wibmFtZVwiXX08L3NwYW4+JHtcbiAgICAgICAgICAgICAgICByZW5kZXJIb2xlc0luUnVsZVxuICAgICAgICAgICAgICAgICAgPyBgOlxuICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicnVsZS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJob2xlIHJ1bGUtaG9sZVwiPiR7cmVkZXh9PC9zcGFuPiBcdTIxOTJcbiAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaG9sZSBob2xlLXJlc3VsdCBydWxlLWhvbGUgJHtyZXN1bHQuZXJyb3IgPyAnaG9sZS1lcnJvcicgOiAnJ31cIj4ke1xuICAgICAgICAgICAgICAgICAgICAgICBCU0xfUHJpbnQuc2FuaXRpemUocmVzdWx0LnJlZGV4KVxuICAgICAgICAgICAgICAgICAgICAgfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICA8L3NwYW4+YFxuICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgIDxpbWcgc3JjPVwiJHtjaXJjbGVfaW5mb31cIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwiaWNvbiBpbmZvLXRvZ2dsZSBpbmZvLWV4cGFuZFwiXG4gICAgICAgICAgICAgICAgb25jbGljaz1cImV4cGFuZEluZm8oZXZlbnQpXCI+XG4gICAgICAgICAgIDxpbWcgc3JjPVwiJHtjaXJjbGVfeG1hcmt9XCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImljb24gaW5mby10b2dnbGUgaW5mby1jb2xsYXBzZVwiXG4gICAgICAgICAgICAgICAgb25jbGljaz1cImNvbGxhcHNlSW5mbyhldmVudClcIj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgJHtyZW5kZXJSdWxlSW5mb3JtYXRpb24ocnVsZU5hbWUsIGNvbnRleHQubGVmdCAhPT0gXCJcIil9XG4gICAgICAgIDxkaXY+JHtjb2RlX2FmdGVyfTwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICA8L2Rpdj5cbiAgYDtcbn1cbi8vIGV2ZW50IGhhbmRsZXJzXG4od2luZG93IGFzIGFueSkubmV4dFN0ZXAgPSAoZTogRXZlbnQpID0+IHtcbiAgY29uc3QgYnV0dG9uID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IG9sZEJ1dHRvblBvc2l0aW9uID0gYnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnk7XG4gIGNvbnN0IGN1cnJlbnRTdGVwID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoYnV0dG9uLCBcInN0ZXBcIik7XG4gIGlmKCFjdXJyZW50U3RlcCkgcmV0dXJuO1xuICBjb25zdCBuZXdDdXJyZW50U3RlcCA9IGN1cnJlbnRTdGVwLm5leHRFbGVtZW50U2libGluZztcbiAgaWYoIW5ld0N1cnJlbnRTdGVwKSB7XG4gICAgLy8gY29udGludWUgd2l0aCBuZXh0IGV4cHJlc3Npb25cbiAgICB0YWtlUHJvZ1N0ZXBzKGUsIDEpO1xuICAgIHJldHVybjtcbiAgfVxuICBjdXJyZW50U3RlcC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWN1cnJlbnRTdGVwXCIsIFwiZmFsc2VcIik7XG4gIGN1cnJlbnRTdGVwLnNldEF0dHJpYnV0ZShcImRhdGEtY29sbGFwc2VkXCIsIFwidHJ1ZVwiKTtcbiAgbmV3Q3VycmVudFN0ZXAuc2V0QXR0cmlidXRlKFwiZGF0YS1jdXJyZW50U3RlcFwiLCBcInRydWVcIik7XG4gIG5ld0N1cnJlbnRTdGVwLnNldEF0dHJpYnV0ZShcImRhdGEtY29sbGFwc2VkXCIsIFwiZmFsc2VcIik7XG4gIC8vIG1vdmUgXCJuZXh0XCIgYnV0dG9uIHVuZGVyIG1vdXNlXG4gIGNvbnN0IG5ld0J1dHRvbiA9IG5ld0N1cnJlbnRTdGVwLnF1ZXJ5U2VsZWN0b3IoXCIubmV4dC1idXR0b25cIik7XG4gIGlmICghbmV3QnV0dG9uKSByZXR1cm47XG4gIGNvbnN0IG5ld0J1dHRvblBvc2l0aW9uID0gbmV3QnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnk7XG4gIHdpbmRvdy5zY3JvbGxCeSgwLCBuZXdCdXR0b25Qb3NpdGlvbiAtIG9sZEJ1dHRvblBvc2l0aW9uKTtcbn07XG4od2luZG93IGFzIGFueSkucHJldlN0ZXAgPSAoZTogRXZlbnQpID0+IHtcbiAgY29uc3QgYnV0dG9uID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IG9sZEJ1dHRvblBvc2l0aW9uID0gYnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnk7XG4gIGNvbnN0IGN1cnJlbnRTdGVwID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoYnV0dG9uLCBcInN0ZXBcIik7XG4gIGlmICghY3VycmVudFN0ZXApIHtcbiAgICBjb25zb2xlLmVycm9yKFwicHJldlN0ZXAgbm90IGNhbGxlZCBmcm9tIHdpdGhpbiBhbiBlbGVtZW50IG9mIHRoZSAuc3RlcCBjbGFzc1wiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcG9zaXRpb24gPSBjdXJyZW50U3RlcC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN0ZXBcIik7XG4gIGlmIChwb3NpdGlvbiA9PT0gXCIwXCIpIHtcbiAgICB0YWtlUHJvZ1N0ZXBzKGUsIC0xKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgbmV3Q3VycmVudFN0ZXAgPSBjdXJyZW50U3RlcC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICBpZighbmV3Q3VycmVudFN0ZXApIHtcbiAgICBjb25zb2xlLmVycm9yKFwicHJldlN0ZXAgY2FsbGVkIG9uIGEgc3RlcCB3aXRoIG5vIHByZXZpb3VzIGh0bWwgZWxlbWVudFwiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY3VycmVudFN0ZXAuc2V0QXR0cmlidXRlKFwiZGF0YS1jdXJyZW50U3RlcFwiLCBcImZhbHNlXCIpO1xuICBjdXJyZW50U3RlcC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbGxhcHNlZFwiLCBcInRydWVcIik7XG4gIG5ld0N1cnJlbnRTdGVwLnNldEF0dHJpYnV0ZShcImRhdGEtY3VycmVudFN0ZXBcIixcInRydWVcIik7XG4gIG5ld0N1cnJlbnRTdGVwLnNldEF0dHJpYnV0ZShcImRhdGEtY29sbGFwc2VkXCIsXCJmYWxzZVwiKTtcbiAgLy8gbW92ZSBcInByZXZcIiBidXR0b24gdG8gYmUgdW5kZXIgbW91c2VcbiAgY29uc3QgbmV3QnV0dG9uID0gbmV3Q3VycmVudFN0ZXAucXVlcnlTZWxlY3RvcihcIi5wcmV2LWJ1dHRvblwiKTtcbiAgaWYgKCFuZXdCdXR0b24pIHJldHVybjtcbiAgY29uc3QgbmV3QnV0dG9uUG9zaXRpb24gPSBuZXdCdXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueTtcbiAgd2luZG93LnNjcm9sbEJ5KDAsIG5ld0J1dHRvblBvc2l0aW9uIC0gb2xkQnV0dG9uUG9zaXRpb24pO1xufTtcbih3aW5kb3cgYXMgYW55KS5jb2xsYXBzZSA9IChlOiBFdmVudCkgPT4ge1xuICBjb25zdCBidXR0b24gPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3Qgc3RlcCA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKGJ1dHRvbiwgXCJzdGVwXCIpO1xuICBpZiAoc3RlcCkge1xuICAgIHN0ZXAuc2V0QXR0cmlidXRlKFwiZGF0YS1jb2xsYXBzZWRcIiwgXCJ0cnVlXCIpO1xuICB9XG59O1xuKHdpbmRvdyBhcyBhbnkpLmV4cGFuZCA9IChlOiBFdmVudCkgPT4ge1xuICBjb25zdCBidXR0b24gPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3Qgc3RlcCA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKGJ1dHRvbiwgXCJzdGVwXCIpO1xuICBpZiAoc3RlcCkge1xuICAgIHN0ZXAuc2V0QXR0cmlidXRlKFwiZGF0YS1jb2xsYXBzZWRcIiwgXCJmYWxzZVwiKTtcbiAgfVxufTtcblxuLy8gcmVjdXJzaXZlIGRlZmluaXRpb24gb2YgcHJpbnRpbmcgdGhlIGNvbnRleHRcbmludGVyZmFjZSBDb250ZXh0IHtcbiAgbGVmdDogc3RyaW5nO1xuICByaWdodDogc3RyaW5nO1xufVxuZnVuY3Rpb24gcHJpbnRDb250ZXh0KFxuICBjdHg6IFNJX1NUUlVDVC5Db250ZXh0LFxuICBhY2M6IENvbnRleHQgPSB7IGxlZnQ6IFwiXCIsIHJpZ2h0OiBcIlwiIH1cbik6IENvbnRleHQge1xuICBpZiAoU0lfU1RSVUNULmlzSG9sZShjdHgpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IEJTTF9QcmludC5zYW5pdGl6ZShhY2MubGVmdCksXG4gICAgICByaWdodDogQlNMX1ByaW50LnNhbml0aXplKGFjYy5yaWdodCksXG4gICAgfTtcbiAgfVxuICBpZiAoU0lfU1RSVUNULmlzQXBwQ29udGV4dChjdHgpKSB7XG4gICAgY29uc3QgbGVmdEVscyA9IFtcbiAgICAgIEJTTF9QcmludC5wcmludE5hbWUoY3R4Lm9wKSxcbiAgICAgIC4uLmN0eC52YWx1ZXMubWFwKCh2KSA9PiBCU0xfQVNULmlzU3RydWN0VmFsdWUodikgPyBCU0xfUHJpbnQucHJpbnRWYWx1ZSh2KSA6IGAke3Z9YCksXG4gICAgXTtcbiAgICBhY2MubGVmdCA9IGAke2FjYy5sZWZ0fSgke2xlZnRFbHMuam9pbihcIiBcIil9IGA7XG4gICAgYWNjLnJpZ2h0ID1cbiAgICAgIGN0eC5hcmdzLmxlbmd0aCA+IDBcbiAgICAgICAgPyBgICR7Y3R4LmFyZ3MubWFwKEJTTF9QcmludC5wcmludEUpLmpvaW4oXCIgXCIpfSkke2FjYy5yaWdodH1gXG4gICAgICAgIDogYCkke2FjYy5yaWdodH1gO1xuICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0NvbmRDb250ZXh0KGN0eCkpIHtcbiAgICBhY2MubGVmdCA9IGAke2FjYy5sZWZ0fShjb25kIFtgO1xuICAgIGNvbnN0IHJlc3QgPSBbXG4gICAgICBgJHtCU0xfUHJpbnQucHJpbnRFKGN0eC5vcHRpb25zWzBdLnJlc3VsdCl9XWAsXG4gICAgICAuLi5jdHgub3B0aW9ucy5zbGljZSgxKS5tYXAoQlNMX1ByaW50LnByaW50T3B0aW9uKSxcbiAgICBdO1xuICAgIGFjYy5yaWdodCA9IGAgJHtyZXN0LmpvaW4oXCIgXCIpfSkke2FjYy5yaWdodH1gO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJQcmludGluZyB0aGlzIGNvbnRleHQgaXMgbm90IGltcGxlbWVudGVkIHlldFwiLCBjdHgpO1xuICAgIHRocm93IGBQcmludGluZyAke2N0eFtcInR5cGVcIl19IGNvbnRleHQgaXMgbm90IGltcGxlbWVudGVkIHlldCFgO1xuICB9XG4gIHJldHVybiBwcmludENvbnRleHQoY3R4LmN0eCwgYWNjKTtcbn1cbmZ1bmN0aW9uIHByaW50VmFsdWVPcklkKHZPcklkOiAoU0lfU1RSVUNULlZhbHVlIHwgU0lfU1RSVUNULklkKSk6IHN0cmluZyB7XG4gIGlmKFNJX1NUUlVDVC5pc1ZhbHVlKHZPcklkKSkge1xuICAgIHJldHVybiBCU0xfUHJpbnQucHJpbnRWYWx1ZSh2T3JJZCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHByaW50SWRlbnRpZmllcih2T3JJZCk7XG4gIH1cbn1cbi8vIHJlY3Vyc2l2ZSBkZWZpbml0aW9uIG9mIHByaW50aW5nIHRoZSByZWRleFxuZnVuY3Rpb24gcHJpbnRSZWRleChyZWRleDogU0lfU1RSVUNULlJlZGV4KTogc3RyaW5nIHtcbiAgaWYgKFNJX1NUUlVDVC5pc0NhbGxSZWRleChyZWRleCkpIHtcbiAgICByZXR1cm4gYCgke0JTTF9QcmludC5wcmludE5hbWUocmVkZXgubmFtZSl9ICR7cmVkZXguYXJnc1xuICAgICAgLm1hcChwcmludFZhbHVlT3JJZClcbiAgICAgIC5qb2luKFwiIFwiKX0pYDtcbiAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNDb25kUmVkZXgocmVkZXgpKSB7XG4gICAgcmV0dXJuIGAoY29uZCAke3JlZGV4Lm9wdGlvbnMubWFwKEJTTF9QcmludC5wcmludE9wdGlvbikuam9pbihcIiBcIil9KWA7XG4gIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzTmFtZVJlZGV4KHJlZGV4KSkge1xuICAgIHJldHVybiByZWRleC5zeW1ib2w7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgXCJJbnZhbGlkIElucHV0IHRvIHByaW50UmVkZXhcIjtcbiAgfVxufVxuLy8gUHJpbnQgSWRlbnRpZmllclxuZnVuY3Rpb24gcHJpbnRJZGVudGlmaWVyKGlkOiBTSV9TVFJVQ1QuSWQpOiBzdHJpbmcge1xuICByZXR1cm4gaWQuc3ltYm9sO1xufVxuXG4vLyByZW5kZXJpbmcgdGhlIHJ1bGUgdGlwXG5mdW5jdGlvbiByZW5kZXJSdWxlSW5mb3JtYXRpb24ocnVsZTogYXZhaWxhYmxlUnVsZXMsIGtvbmc6IGJvb2xlYW4pOiBzdHJpbmcge1xuICBjb25zdCBydWxlSW5mbyA9IHJ1bGVzW3J1bGVdO1xuICByZXR1cm4gYDxkaXYgY2xhc3M9XCJydWxlLWluZm9cIj4ke1xuICAgIGtvbmdcbiAgICAgID8gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby10ZXh0LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicnVsZS1pbmZvLXJ1bGUtbmFtZVwiPiR7cnVsZXNbXCJLb25nXCJdW1wibmFtZVwiXX08L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby1ydWxlLXRleHRcIj4ke3J1bGVzW1wiS29uZ1wiXVtcInRleHRcIl19PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgYFxuICAgICAgOiBcIlwiXG4gIH1cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJydWxlLWluZm8tdGV4dC1jb250YWluZXJcIj5cbiAgICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby1ydWxlLW5hbWVcIj4ke3J1bGVJbmZvW1wibmFtZVwiXX08L2Rpdj5cbiAgICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby1ydWxlLXRleHRcIj4ke3J1bGVJbmZvW1widGV4dFwiXX08L2Rpdj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgPC9kaXY+YDtcbn1cbih3aW5kb3cgYXMgYW55KS5leHBhbmRJbmZvID0gKGU6IEV2ZW50KSA9PiB7XG4gIGNvbnN0IHQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3QgcCA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKHQsIFwicGx1Zy1yZXN1bHRcIik7XG4gIGlmICghcCkgcmV0dXJuO1xuICBwLnNldEF0dHJpYnV0ZShcImRhdGEtaW5mby1jb2xsYXBzZWRcIiwgXCJmYWxzZVwiKTtcbn07XG4od2luZG93IGFzIGFueSkuY29sbGFwc2VJbmZvID0gKGU6IEV2ZW50KSA9PiB7XG4gIGNvbnN0IHQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3QgcCA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKHQsIFwicGx1Zy1yZXN1bHRcIik7XG4gIGlmIChwKSBwLnNldEF0dHJpYnV0ZShcImRhdGEtaW5mby1jb2xsYXBzZWRcIiwgXCJ0cnVlXCIpO1xufTtcbi8vICMjIyBydWxlcyAjIyNcbi8vIGFzIHRha2VuIGZyb20gb3ZlcnZpZXctcmVkdWN0aW9uLWFuZC1lcXVpdmFsZW5jZS5wZGYsIGkuZS4gdGhlIHNjcmlwdFxuLy8gdG8gYmUgZGlzcGxheWVkIGFzIHJlZmVyZW5jZVxudHlwZSBhdmFpbGFibGVSdWxlcyA9XG4gIHwgXCJLb25nXCJcbiAgfCBcIkZ1blwiXG4gIHwgXCJGdW5FcnJvclwiXG4gIHwgXCJQcmltXCJcbiAgfCBcIlByaW1FcnJvclwiXG4gIHwgXCJDb25zdFwiXG4gIHwgXCJDb25zdEVycm9yXCJcbiAgfCBcIkNvbmRUcnVlXCJcbiAgfCBcIkNvbmRGYWxzZVwiXG4gIHwgXCJDb25kRXJyb3JcIlxuICB8IFwiU3RydWN0TWFrZVwiXG4gIHwgXCJTdHJ1Y3RNYWtlRXJyb3JcIlxuICB8IFwiU3RydWN0U2VsZWN0XCJcbiAgfCBcIlN0cnVjdFNlbGVjdEVycm9yXCJcbiAgfCBcIlN0cnVjdFByZWRUcnVlXCJcbiAgfCBcIlN0cnVjdFByZWRGYWxzZVwiXG4gIHwgXCJTdHJ1Y3RQcmVkRXJyb3JcIlxuICB8IFwiUHJvZ1wiXG4gIHwgXCJQcm9nRXJyb3JcIjtcbmNvbnN0IHJ1bGVzID0ge1xuICBLb25nOiB7XG4gICAgbmFtZTogYDxjYXA+S29uZzwvY2FwPmAsXG4gICAgdGV4dDogYFxuICAgICAgPGVtPkVbZTxzbWFsbD4xPC9zbWFsbD5dIFx1MjE5MiBFW2U8c21hbGw+Mjwvc21hbGw+XSBmYWxscyBlPHNtYWxsPjE8L3NtYWxsPiBcdTIxOTIgZTxzbWFsbD4yPC9zbWFsbD48L2VtPjxicj5cbiAgICAgIDxlbT5cdTIwMzlFXHUyMDNBIDo6PSBbXTxicj5cbiAgICAgICZuYnNwOyZuYnNwOyZuYnNwO3wgKFx1MjAzOW5hbWVcdTIwM0EgXHUyMDM5dlx1MjAzQSogXHUyMDM5RVx1MjAzQSBcdTIwMzllXHUyMDNBKik8YnI+XG4gICAgICAmbmJzcDsmbmJzcDsmbmJzcDt8ICg8c3Ryb25nPmNvbmQ8L3N0cm9uZz4gW1x1MjAzOUVcdTIwM0EgXHUyMDM5ZVx1MjAzQSBde1sgXHUyMDM5ZVx1MjAzQSBcdTIwMzllXHUyMDNBXX0qKTwvZW0+XG4gICAgYCxcbiAgfSxcbiAgRnVuOiB7XG4gICAgbmFtZTogYDxjYXA+RnVuPC9jYXA+YCxcbiAgICB0ZXh0OiBgXG4gICAgICA8ZW0+KG5hbWUgdjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IHY8c21hbGw+bjwvc21hbGw+KSBcdTIxOTJcbiAgICAgIGVbbmFtZTxzbWFsbD4xPC9zbWFsbD4gOj0gdjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IG5hbWU8c21hbGw+bjwvc21hbGw+IDo9IHY8c21hbGw+bjwvc21hbGw+IF08L2VtPlxuICAgICAgZmFsbHNcbiAgICAgIDxlbT4oPC9lbT4gPHN0cm9uZz5kZWZpbmU8L3N0cm9uZz4gPGVtPihuYW1lIG5hbWU8c21hbGw+MTwvc21hbGw+IFx1MjAyNiBuYW1lPHNtYWxsPm48L3NtYWxsPikgZSk8L2VtPiBpbiBVbWdlYnVuZ1xuICAgIGAsXG4gIH0sXG4gIEZ1bkVycm9yOiB7XG4gICAgbmFtZTogYDxjYXA+RnVuRXJyb3I8L2NhcD5gLFxuICAgIHRleHQ6IGBcbiAgICAgIDxlbT4obmFtZSB2PHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgdjxzbWFsbD5uPC9zbWFsbD4pIFx1MjE5MiBFcnJvcjwvZW0+XG4gICAgICBmYWxsc1xuICAgICAgPGVtPig8L2VtPiA8c3Ryb25nPmRlZmluZTwvc3Ryb25nPiA8ZW0+KG5hbWUgbmFtZTxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IG5hbWU8c21hbGw+bjwvc21hbGw+KSBlKTwvZW0+IG5pY2h0IGluIFVtZ2VidW5nLlxuICAgIGAsXG4gIH0sXG4gIFByaW06IHtcbiAgICBuYW1lOiBgPGNhcD5QcmltPC9jYXA+YCxcbiAgICB0ZXh0OiBgXG4gICAgICA8ZW0+KG5hbWUgdjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IHY8c21hbGw+bjwvc21hbGw+KSBcdTIxOTIgdjwvZW0+IGZhbGxzXG4gICAgICA8ZW0+bmFtZTwvZW0+IGVpbmUgcHJpbWl0aXZlIEZ1bmt0aW9uIDxlbT5mPC9lbT4gaXN0IHVuZFxuICAgICAgPGVtPmYodjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IHY8c21hbGw+bjwvc21hbGw+KSA9IHY8L2VtPlxuICAgIGAsXG4gIH0sXG4gIFByaW1FcnJvcjoge1xuICAgIG5hbWU6IGA8Y2FwPlByaW08L2NhcD4tRXJyb3JgLFxuICAgIHRleHQ6IGBcbiAgICAgIDxlbT4obmFtZSB2PHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgdjxzbWFsbD5uPC9zbWFsbD4pIFx1MjE5MiBFcnJvcjwvZW0+IGZhbGxzXG4gICAgICA8ZW0+bmFtZTwvZW0+IGVpbmUgcHJpbWl0aXZlIEZ1bmt0aW9uIDxlbT5mPC9lbT4gaXN0IHVuZFxuICAgICAgPGVtPmYodjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IHY8c21hbGw+bjwvc21hbGw+KSA9IEVycm9yPC9lbT5cbiAgICBgLFxuICB9LFxuICBDb25zdDoge1xuICAgIG5hbWU6IGA8Y2FwPkNvbnN0PC9jYXA+YCxcbiAgICB0ZXh0OiBgXG4gICAgICA8ZW0+bmFtZSBcdTIxOTIgdjwvZW0+IGZhbGxzIDxlbT4oPHN0cm9uZz5kZWZpbmU8L3N0cm9uZz4gbmFtZSB2KTwvZW0+IGluIFVtZ2VidW5nLlxuICAgIGAsXG4gIH0sXG4gIENvbnN0RXJyb3I6IHtcbiAgICBuYW1lOiBgPGNhcD5Db25zdDwvY2FwPi1FcnJvcmAsXG4gICAgdGV4dDogYFxuICAgICAgPGVtPm5hbWUgXHUyMTkyIEVycm9yPC9lbT4gZmFsbHMgPGVtPig8c3Ryb25nPmRlZmluZTwvc3Ryb25nPiBuYW1lIHYpPC9lbT5cbiAgICAgIG5pY2h0IGluIFVtZ2VidW5nLlxuICAgIGAsXG4gIH0sXG4gIENvbmRUcnVlOiB7XG4gICAgbmFtZTogYDxjYXA+Q29uZDwvY2FwPi1UcnVlYCxcbiAgICB0ZXh0OiBgXG4gICAgICA8ZW0+KDxzdHJvbmc+Y29uZDwvc3Ryb25nPiBbPHN0cm9uZz4jdHJ1ZTwvc3Ryb25nPiBlXSBcdTIwMjYpIFx1MjE5MiBlPC9lbT5cbiAgICBgLFxuICB9LFxuICBDb25kRmFsc2U6IHtcbiAgICBuYW1lOiBgPGNhcD5Db25kPC9jYXA+LUZhbHNlYCxcbiAgICB0ZXh0OiBgXG4gICAgICA8ZW0+KDxzdHJvbmc+Y29uZDwvc3Ryb25nPiBbPHN0cm9uZz4jZmFsc2U8L3N0cm9uZz4gZTxzbWFsbD4xPC9zbWFsbD5dXG4gICAgICAgICBbZTxzbWFsbD4yPC9zbWFsbD4gZTxzbWFsbD4zPC9zbWFsbD5dIFx1MjAyNikgXHUyMTkyXG4gICAgICAgICAoPHN0cm9uZz5jb25kPC9zdHJvbmc+IFtlPHNtYWxsPjI8L3NtYWxsPiBlPHNtYWxsPjM8L3NtYWxsPl0gXHUyMDI2KTwvZW0+XG4gICAgYCxcbiAgfSxcbiAgQ29uZEVycm9yOiB7XG4gICAgbmFtZTogYDxjYXA+Q29uZDwvY2FwPi1FcnJvcmAsXG4gICAgdGV4dDogYFxuICAgICAgPGVtPig8c3Ryb25nPmNvbmQ8L3N0cm9uZz4gW2U8c21hbGw+MTwvc21hbGw+IGU8c21hbGw+Mjwvc21hbGw+XSBcdTIwMjYpIFx1MjE5MlxuICAgICAgICAgICg8c3Ryb25nPmVycm9yPC9zdHJvbmc+IFwiY29uZDogYWxsIGNvbmRpdGlvbnMgZmFsc2VcIik8L2VtPlxuICAgIGAsXG4gIH0sXG4gIFN0cnVjdE1ha2U6IHtcbiAgICBuYW1lOiBgPGNhcD5TdHJ1Y3Q8L2NhcD4tbWFrZWAsXG4gICAgdGV4dDogYFxuICAgICAgPGVtPig8c3Ryb25nPm1ha2U8L3N0cm9uZz4tbmFtZSB2PHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgdjxzbWFsbD5uPC9zbWFsbD4pIFx1MjE5MlxuICAgICAgJmx0OzxzdHJvbmc+bWFrZTwvc3Ryb25nPi1uYW1lIHY8c21hbGw+MTwvc21hbGw+IFx1MjAyNiB2PHNtYWxsPm48L3NtYWxsPiZndDs8L2VtPlxuICAgICAgZmFsbHMgPGVtPig8c3Ryb25nPmRlZmluZS1zdHJ1Y3Q8L3N0cm9uZz4gbmFtZSAobmFtZTxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IG5hbWU8c21hbGw+bjwvc21hbGw+KSk8L2VtPiBpbiBVbWdlYnVuZ1xuICAgIGAsXG4gIH0sXG4gIFN0cnVjdE1ha2VFcnJvcjoge1xuICAgIG5hbWU6IGA8Y2FwPlN0cnVjdDwvY2FwPi1tYWtlLUVycm9yYCxcbiAgICB0ZXh0OiBgYCxcbiAgfSxcbiAgU3RydWN0U2VsZWN0OiB7XG4gICAgbmFtZTogYDxjYXA+U3RydWN0PC9jYXA+LXNlbGVjdGAsXG4gICAgdGV4dDogYFxuICAgICAgPGVtPihuYW1lLW5hbWU8c21hbGw+aTwvc21hbGw+ICZsdDs8c3Ryb25nPm1ha2U8L3N0cm9uZz4tbmFtZVxuICAgICAgICB2PHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgdjxzbWFsbD5uPC9zbWFsbD4mZ3Q7KSBcdTIxOTIgdjxzbWFsbD5pPC9zbWFsbD48L2VtPlxuICAgICAgICBmYWxscyA8ZW0+KDxzdHJvbmc+ZGVmaW5lLXN0cnVjdDwvc3Ryb25nPiBuYW1lXG4gICAgICAgICAgKG5hbWU8c21hbGw+MTwvc21hbGw+IFx1MjAyNiBuYW1lPHNtYWxsPm48L3NtYWxsPikpPC9lbT4gaW4gVW1nZWJ1bmdcbiAgICBgLFxuICB9LFxuICBTdHJ1Y3RTZWxlY3RFcnJvcjoge1xuICAgIG5hbWU6IGA8Y2FwPlN0cnVjdDwvY2FwPi1zZWxlY3QtRXJyb3JgLFxuICAgIHRleHQ6IGBgLFxuICB9LFxuICBTdHJ1Y3RQcmVkVHJ1ZToge1xuICAgIG5hbWU6IGA8Y2FwPlN0cnVjdDwvY2FwPi1wcmVkdHJ1ZWAsXG4gICAgdGV4dDogYFxuICAgICAgPGVtPihuYW1lPyAmbHQ7PHN0cm9uZz5tYWtlPC9zdHJvbmc+LW5hbWUgXHUyMDI2Jmd0OykgXHUyMTkyIDxzdHJvbmc+I3RydWU8L3N0cm9uZz48L2VtPlxuICAgIGAsXG4gIH0sXG4gIFN0cnVjdFByZWRGYWxzZToge1xuICAgIG5hbWU6IGA8Y2FwPlN0cnVjdDwvY2FwPi1wcmVkZmFsc2VgLFxuICAgIHRleHQ6IGBcbiAgICAgIDxlbT4obmFtZT8gdikgXHUyMTkyIDxzdHJvbmc+I2ZhbHNlPC9zdHJvbmc+PC9lbT4gZmFsbHMgPGVtPnY8L2VtPiBuaWNodFxuICAgICAgPGVtPiZsdDs8c3Ryb25nPm1ha2U8L3N0cm9uZz4tbmFtZSBcdTIwMjYmZ3Q7PC9lbT4gaXN0XG4gICAgYCxcbiAgfSxcbiAgU3RydWN0UHJlZEVycm9yOiB7XG4gICAgbmFtZTogYDxjYXA+U3RydWN0PC9jYXA+LXByZWRlcnJvcmAsXG4gICAgdGV4dDogYGAsXG4gIH0sXG4gIFByb2c6IHtcbiAgICBuYW1lOiBgPGNhcD5Qcm9nPC9jYXA+YCxcbiAgICB0ZXh0OiBgXG4gICAgICBFaW4gUHJvZ3JhbW0gd2lyZCB2b24gbGlua3MgbmFjaCByZWNodHMgYXVzZ2VmXHUwMEZDaHJ0IHVuZCBzdGFydGV0IG1pdCBkZXJcbiAgICAgIGxlZXJlbiBVbWdlYnVuZy4gSXN0IGRhcyBuXHUwMEU0Y2hzdGUgUHJvZ3JhbW1lbGVtZW50IGVpbmUgRnVua3Rpb25zLSBvZGVyXG4gICAgICBTdHJ1a3R1cmRlZmluaXRpb24sIHNvIHdpcmQgZGllc2UgRGVmaW5pdGlvbiBpbiBkaWUgVW1nZWJ1bmcgYXVmZ2Vub21tZW5cbiAgICAgIHVuZCBkaWUgQXVzZlx1MDBGQ2hydW5nIG1pdCBkZW0gblx1MDBFNGNoc3RlbiBQcm9ncmFtbWVsZW1lbnQgaW4gZGVyIGVyd2VpdGVydGVuXG4gICAgICBVbWdlYnVuZyBmb3J0Z2VzZXR6dC4gSXN0IGRhcyBuXHUwMEU0Y2hzdGUgUHJvZ3JhbW1lbGVtZW50IGVpbiBBdXNkcnVjaywgc29cbiAgICAgIHdpcmQgZGllc2VyIGdlbVx1MDBFNFx1MDBERiBkZXIgdW50ZW4gc3RlaGVuZGVuIFJlZ2VsbiBpbiBkZXIgYWt0dWVsbGVuIFVtZ2VidW5nIHp1XG4gICAgICBlaW5lbSBXZXJ0IGF1c2dld2VydC4gSXN0IGRhcyBuXHUwMEU0Y2hzdGUgUHJvZ3JhbW1lbGVtZW50IGVpbmVcbiAgICAgIEtvbnN0YW50ZW5kZWZpbml0aW9uIDxlbT4oPHN0cm9uZz5kZWZpbmU8L3N0cm9uZz4geCBlKTwvZW0+LCBzbyB3aXJkIGluXG4gICAgICBkZXIgYWt0dWVsbGVuIFVtZ2VidW5nIHp1blx1MDBFNGNoc3QgPGVtPmU8L2VtPiB6dSBlaW5lbSBXZXJ0IDxlbT52PC9lbT5cbiAgICAgIGF1c2dld2VydGV0IHVuZCBkYW5uIDxlbT4oPHN0cm9uZz5kZWZpbmU8L3N0cm9uZz4geCB2KTwvZW0+IHp1ciBha3R1ZWxsZW5cbiAgICAgIFVtZ2VidW5nIGhpbnp1Z2VmXHUwMEZDZ3QuXG4gICAgYCxcbiAgfSxcbiAgUHJvZ0Vycm9yOiB7XG4gICAgbmFtZTogYDxjYXA+UHJvZzwvY2FwPi1FcnJvcmAsXG4gICAgdGV4dDogYFxuICAgIEVpbiBQcm9ncmFtbSB3aXJkIHZvbiBsaW5rcyBuYWNoIHJlY2h0cyBhdXNnZWZcdTAwRkNocnQgdW5kIHN0YXJ0ZXQgbWl0IGRlclxuICAgIGxlZXJlbiBVbWdlYnVuZy4gSXN0IGRhcyBuXHUwMEU0Y2hzdGUgUHJvZ3JhbW1lbGVtZW50IGVpbmUgRnVua3Rpb25zLSBvZGVyXG4gICAgU3RydWt0dXJkZWZpbml0aW9uLCBzbyB3aXJkIGRpZXNlIERlZmluaXRpb24gaW4gZGllIFVtZ2VidW5nIGF1Zmdlbm9tbWVuXG4gICAgdW5kIGRpZSBBdXNmXHUwMEZDaHJ1bmcgbWl0IGRlbSBuXHUwMEU0Y2hzdGVuIFByb2dyYW1tZWxlbWVudCBpbiBkZXIgZXJ3ZWl0ZXJ0ZW5cbiAgICBVbWdlYnVuZyBmb3J0Z2VzZXR6dC4gU29mZXJuIGRpZSBEZWZpbml0aW9uIGFsbGVyZGluZ3Mgc2Nob24gaW4gZGVyIFVtZ2VidW5nXG4gICAgdm9yaGFuZGVuIGlzdCwgd2lyZCBlaW4gRmVobGVyIGF1c2dlZ2ViZW4gdW5kIGRpZSBBdXN3ZXJ0dW5nIGJlZW5kZXQuIElzdCBkYXNcbiAgICBuXHUwMEU0Y2hzdGUgUHJvZ3JhbW1lbGVtZW50IGVpbiBBdXNkcnVjaywgZGVyIGluIGVpbmVtIEZlaGxlciByZXN1bHRpZXJ0LCB3aXJkXG4gICAgZGllIEF1c3dlcnR1bmcgZWJlbmZhbGxzIGJlZW5kZXQuXG4gICAgYCxcbiAgfSxcbn07XG4vLyBleGVjdXRlIHRoZSBjb25zdCBydWxlID0gLi4uLWRlZmluaXRpb24gaW4gYSBqcyBjb25zb2xlIChlLmcuIERldiBUb29scylcbi8vIGFuZCB0aGVuIHJ1biB0aGUgZm9sbG93aW5nIHNuaXBwZXQgdG9cbi8vIHZlcmlmeSBpdCBjb250YWlucyBubyBpbnZhbGlkIEhUTUwgd2l0aCBvcGVuIHRhZ3Ncbi8vIE9iamVjdC5rZXlzKHJ1bGVzKS5mb3JFYWNoKG5hbWUgPT4ge1xuLy8gICBjb25zdCBydWxlID0gcnVsZXNbbmFtZV07XG4vLyAgIGNvbnN0IHRleHQgPSBgJHtydWxlLm5hbWV9JHtydWxlLnRleHR9YDtcbi8vICAgY29uc3QgdGFncyA9IHRleHRcbi8vICAgICAuc3BsaXQoJzwnKVxuLy8gICAgIC5zbGljZSgxKVxuLy8gICAgIC5tYXAocyA9PiBzLnNwbGl0KCc+JylbMF0pXG4vLyAgICAgLmZpbHRlcihzID0+IHMgIT0gJ2JyJyk7XG4vLyAgIGxldCB0YWdTdGFjayA9IFtdO1xuLy8gICB0YWdzLmZvckVhY2godCA9PiB7XG4vLyAgICAgaWYoIXQuc3RhcnRzV2l0aCgnLycpKSByZXR1cm4gdGFnU3RhY2sucHVzaCh0KTtcbi8vICAgICBjb25zdCB0YWcgPSB0LnNsaWNlKDEpO1xuLy8gICAgIGlmKHRhZ1N0YWNrLnBvcCgpICE9IHRhZykgdGhyb3cgRXJyb3IoXG4vLyAgICAgICBgUnVsZSAke25hbWV9IGNvbnRhaW5zIGludmFsaWQgSFRNTDogJHt0fSBoYXMgbm8gY29ycmVzcG9uZGluZyBvcGVuIHRhZ2ApO1xuLy8gICB9KTtcbi8vICAgaWYgKHRhZ1N0YWNrLmxlbmd0aCA+IDApXG4vLyAgICAgdGhyb3cgRXJyb3IoYFJ1bGUgJHtuYW1lfSBjb250YWlucyBpbnZhbGlkIEhUTUw6ICR7dGFnU3RhY2suam9pbignLCcpfSBhcmUgb3BlbmVkIGJ1dCBub3QgY2xvc2VkYCk7XG4vLyB9KTtcbiIsICIvLyAjIyMjIyMjIyMgVFJFRSAmIFNURVBQRVIgIyMjIyMjIyNcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSBcIi4vQlNMX1BhcnNlclwiO1xuaW1wb3J0ICogYXMgQlNMX0FTVCBmcm9tIFwiLi9CU0xfQVNUXCI7XG5pbXBvcnQgeyBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZSwgbmF2aWdhdGVET00gfSBmcm9tIFwiLi9ET01fSGVscGVyc1wiO1xuaW1wb3J0IHsgc2V0VXBTdGVwcGVyR3VpIH0gZnJvbSBcIi4vU0lfUmVuZGVyZXJcIjtcbmltcG9ydCB7IHByb2dyYW1Ub05vZGUsIHByb2R1Y3Rpb25zIH0gZnJvbSBcIi4vQlNMX1RyZWVcIjtcbmltcG9ydCB7IHByb2R1Y3Rpb25UcmVlIH0gZnJvbSBcIi4vUHJvZHVjdGlvbl9UcmVlXCI7XG5cbi8vICMgbWFpbiBmdW5jdGlvbjogZ2VuZXJhdGUgYSB0cmVlIG9yIGEgc3RlcHBlciB0aHJvdWdoIDxnZW5lcmF0b3I+IHRhZ1xuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NHZW5lcmF0b3JzKCk6IHZvaWQge1xuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYnNsdG9vbHNnZW5lcmF0b3JcIikpLm1hcCgoZWwpID0+IHtcbiAgICB0cnkge1xuICAgICAgaW5pdEdlbmVyYXRvcihlbCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyAjIyMjIyMjIyMgSU5JVElBTElaQVRJT04gIyMjIyMjIyNcbmV4cG9ydCBmdW5jdGlvbiBpbml0R2VuZXJhdG9yKGVsOiBFbGVtZW50KSB7XG4gICAgZWwuaW5uZXJIVE1MID0gIGBcbiAgICA8ZGl2IGNsYXNzPVwiYnNsLXRvb2xzLWdlbmVyYXRvclwiPlxuICAgICAgPGRpdiBjbGFzcz1cImlucHV0XCI+XG4gICAgICAgIDxsYWJlbD5cbiAgICAgICAgICA8cD5FbnRlciB2YWxpZCBCU0wgQ29kZSBoZXJlOjwvcD5cbiAgICAgICAgICA8dGV4dGFyZWEgaWQ9XCJjb2RlXCIgY29scz1cIjgwXCIgcm93cz1cIjVcIj5cbihkZWZpbmUgKGYgeCkgKCogeCAyKSlcbihmIDIxKVxuICAgICAgICAgIDwvdGV4dGFyZWE+XG4gICAgICAgIDwvbGFiZWw+PGJyPlxuICAgICAgICA8YnV0dG9uIG9uY2xpY2s9XCJic2xfdG9vbHNfZ2VuZXJhdGUoZXZlbnQpXCIgZGF0YS10eXBlPVwidHJlZVwiPlxuICAgICAgICAgIEdlbmVyYXRlIFRyZWVcbiAgICAgICAgPC9idXR0b24+IHxcbiAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPVwiYnNsX3Rvb2xzX2dlbmVyYXRlKGV2ZW50KVwiIGRhdGEtdHlwZT1cInRyZWUtcXVpelwiPlxuICAgICAgICAgIEdlbmVyYXRlIFRyZWUgUXVpelxuICAgICAgICA8L2J1dHRvbj4gfFxuICAgICAgICA8YnV0dG9uIG9uY2xpY2s9XCJic2xfdG9vbHNfZ2VuZXJhdGUoZXZlbnQpXCIgZGF0YS10eXBlPVwic3RlcHBlclwiPlxuICAgICAgICAgIEdlbmVyYXRlIFN0ZXBwZXJcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJvdXRwdXRcIj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG59XG4od2luZG93IGFzIGFueSkuYnNsX3Rvb2xzX2dlbmVyYXRlID0gKGU6IEV2ZW50KSA9PiB7XG4gIC8vIHNldHVwXG4gIGNvbnN0IGJ1dHRvbiA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICBjb25zdCB0eXBlID0gYnV0dG9uLmdldEF0dHJpYnV0ZShcImRhdGEtdHlwZVwiKTtcbiAgaWYoIXR5cGUgfHwgIVsndHJlZScsICd0cmVlLXF1aXonLCAnc3RlcHBlciddLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgY29uc29sZS5lcnJvcihcImludmFsaWQgYXR0cmlidXRlIGRhdGEtdHlwZSwgbXVzdCBiZSBvbmUgb2YgdHJlZSwgdHJlZS1xdWl6LCBzdGVwcGVyXCIsIHR5cGUpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBpbnB1dCA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKGJ1dHRvbiwgJ2lucHV0Jyk7XG4gIGlmICghaW5wdXQpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiZ2VuZXJhdGVfdHJlZSBjYWxsZWQgZnJvbSBidXR0b24gbm90IHdpdGhpbiBpbnB1dCBkaXZcIik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHRleHRhcmVhID0gaW5wdXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0ZXh0YXJlYVwiKVswXTtcbiAgY29uc3QgY29kZSA9IHRleHRhcmVhLnZhbHVlO1xuXG4gIC8vIHBhcnNlIFByb2dyYW1cbiAgbGV0IHByb2dyYW06IEJTTF9BU1QucHJvZ3JhbSA9IFtdO1xuICB0cnkge1xuICAgIHByb2dyYW0gPSBwYXJzZShjb2RlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHdpbmRvdy5hbGVydChlKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBnZW5lcmF0ZSBpbnB1dCBwaWVjZVxuICBjb25zdCBvdXRwdXQgPSBuYXZpZ2F0ZURPTShbaW5wdXRdLCAnLi4vLm91dHB1dCcpWzBdO1xuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LmNsYXNzTGlzdC5hZGQoXCJnZW5lcmF0ZWRcIik7XG4gIGRpdi5zdHlsZS5tYXJnaW5Ub3AgPSBcIjJlbVwiO1xuICBkaXYuc3R5bGUuYm9yZGVyQm90dG9tID0gXCIxcHggc29saWQgZ3JleVwiO1xuICBvdXRwdXQucHJlcGVuZChkaXYpO1xuICBjb25zdCBpbm5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYuYXBwZW5kQ2hpbGQoaW5uZXJEaXYpO1xuICBjb25zdCByZW1vdmVQYXJ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHJlbW92ZVBhcnQuc3R5bGUubWFyZ2luQm90dG9tID0gXCIxZW1cIjtcbiAgcmVtb3ZlUGFydC5pbm5lckhUTUwgPSBgXG4gICAgPGJ1dHRvbiBvbmNsaWNrPVwiYnNsX3Rvb2xzX3JlbW92ZShldmVudClcIj5SZW1vdmUgJHt0eXBlfSBhYm92ZTwvYnV0dG9uPlxuICBgO1xuICBkaXYuYXBwZW5kQ2hpbGQocmVtb3ZlUGFydCk7XG5cbiAgLy8gYWN0dWFsbHkgZ2VuZXJhdGUgc3R1ZmZcbiAgbGV0IHF1aXogPSBmYWxzZTtcbiAgc3dpdGNoKHR5cGUpIHtcbiAgICBjYXNlICdzdGVwcGVyJzpcbiAgICAgIHNldFVwU3RlcHBlckd1aShwcm9ncmFtLCBpbm5lckRpdik7XG4gICAgICByZXR1cm47XG4gICAgY2FzZSAndHJlZS1xdWl6JzpcbiAgICAgIHF1aXogPSB0cnVlO1xuICAgIGNhc2UgJ3RyZWUnOlxuICAgICAgY29uc3Qgcm9vdCA9IHByb2dyYW1Ub05vZGUocHJvZ3JhbSk7XG4gICAgICBwcm9kdWN0aW9uVHJlZShyb290LCBpbm5lckRpdiwgcHJvZHVjdGlvbnMsIHF1aXosICdlbicpO1xuICAgICAgcmV0dXJuO1xuICB9XG59XG5cbih3aW5kb3cgYXMgYW55KS5ic2xfdG9vbHNfcmVtb3ZlID0gKGU6IEV2ZW50KSA9PiB7XG4gIGNvbnN0IGJ1dHRvbiA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICBjb25zdCBnZW5lcmF0ZWQgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShidXR0b24sICdnZW5lcmF0ZWQnKTtcbiAgaWYoIWdlbmVyYXRlZCkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJic2xfdG9vbHNfcmVtb3ZlIGNhbGxlZCBmcm9tIGJ1dHRvbiBub3Qgd2l0aGluIGdlbmVyYXRlZCBkaXZcIik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGdlbmVyYXRlZC5yZW1vdmUoKTtcbn1cbiIsICJpbXBvcnQge25vZGUsIHByb2R1Y3Rpb25UcmVlLCBncmFtbWFyfSBmcm9tIFwiLi9Qcm9kdWN0aW9uX1RyZWVcIjtcbmltcG9ydCB7ZGlydGlmeX0gZnJvbSAnLi9CU0xfUHJpbnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc0pzb25UcmVlcygpIHtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnanNvbnRyZWUnKSkubWFwKGVsID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmV0ID0gcGFyc2VKc29uVHJlZShkaXJ0aWZ5KGVsLmlubmVySFRNTCkpO1xuICAgICAgY29uc3Qgcm9vdCA9IHJldC5yb290O1xuICAgICAgY29uc3QgZ3JhbW1hciA9IHJldC5ncmFtbWFyO1xuICAgICAgY29uc3QgcXVpeiA9IGVsLmdldEF0dHJpYnV0ZSgncXVpeicpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XG4gICAgICBjb25zdCBsYW5nID0gKGVsLmdldEF0dHJpYnV0ZSgnbGFuZycpID8gZWwuZ2V0QXR0cmlidXRlKCdsYW5nJykgOiB1bmRlZmluZWQpIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgIHByb2R1Y3Rpb25UcmVlKHJvb3QsIGVsIGFzIEhUTUxFbGVtZW50LCBncmFtbWFyLCBxdWl6LCBsYW5nKTtcbiAgICB9IGNhdGNoKGU6YW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgZWwuaW5uZXJIVE1MID0gYCR7ZX1gO1xuICAgICAgKGVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICBwYWRkaW5nOiAyZW07XG4gICAgICAgIGNvbG9yOiBkYXJrcmVkO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGA7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcGFyc2VKc29uVHJlZShqczogc3RyaW5nKToge3Jvb3Q6IG5vZGUsIGdyYW1tYXI6IGdyYW1tYXIgfCB1bmRlZmluZWR9IHtcbiAgY29uc3QganNvbiA9IEpTT04ucGFyc2UoanMudHJpbSgpKTtcbiAgY29uc3QgZ3JhbW1hciA9IGpzb25bJ2dyYW1tYXInXTtcbiAgY29uc3Qgcm9vdCA9IHByb2Nlc3NIb2xlc1JlY3Vyc2l2ZShqc29uKTtcbiAgcmV0dXJuIHtcbiAgICByb290OiByb290LFxuICAgIGdyYW1tYXI6IGdyYW1tYXJcbiAgfTtcbn1cblxuLy8gIyMjIHJ1bnRpbWUgdHlwZSBjaGVja2luZywgZXh0cmFjdGluZyBob2xlIHBvc2l0aW9ucyBhbmQgcmVtb3Zpbmdcbi8vICAgICBkaXZpZGVycyAofCkgZnJvbSBjb2RlXG5mdW5jdGlvbiBwcm9jZXNzSG9sZXNSZWN1cnNpdmUobjogbm9kZSk6IG5vZGUge1xuICAvLyBydW50aW1lIHR5cGUgY2hlY2tpbmdcbiAgY29uc3QgcCA9IG4ucHJvZHVjdGlvbjtcbiAgaWYoIXAgfHwgdHlwZW9mKHApICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IGAke3JlbmRlckVycm9ub3VzSlNPTihuKX08YnI+IGhhcyB3cm9uZyBzdHJ1Y3R1cmUsIHByb2R1Y3Rpb24gbmVlZHMgdG8gYmUgYSBzdHJpbmdgO1xuICB9XG4gIGNvbnN0IGMgPSBuLmNvZGU7XG4gIGlmKCFjIHx8IHR5cGVvZihjKSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBgJHtyZW5kZXJFcnJvbm91c0pTT04obil9PGJyPiAgaGFzIHdyb25nIHN0cnVjdHVyZSwgY29kZSBuZWVkcyB0byBiZSBhIHN0cmluZ2A7XG4gIH1cbiAgaWYgKCFuLmhvbGVzKSBuLmhvbGVzID0gW107XG5cbiAgLy8gZXh0cmFjdGluZyBob2xlIHBvc2l0aW9ucyBhbmQgcmVtb3ZpbmcgZGl2aWRlcnMgfHwgZnJvbSBjb2RlXG4gIGNvbnN0IGNvZGVQYXJ0cyA9IGMuc3BsaXQoJ3wnKTtcbiAgbGV0IGNvZGUgPSAnJztcbiAgbGV0IGhvbGVzID0gW107XG4gIGZvcihsZXQgaSA9IDA7IGkgPCBjb2RlUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBzdGFydDogbm90IGVuY2xvc2VkIGluIHx8XG4gICAgY29kZSA9IGAke2NvZGV9JHtjb2RlUGFydHNbaV19YDtcblxuICAgIC8vIG5leHQgcGFydDogZW50ZXIgfHxcbiAgICBpKys7XG4gICAgaWYoaSA8IGNvZGVQYXJ0cy5sZW5ndGggJiYgY29kZVBhcnRzW2ldKSB7XG4gICAgICBjb25zdCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgICAgY29kZSA9IGAke2NvZGV9JHtjb2RlUGFydHNbaV19YDtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBuLmhvbGVzW2hvbGVzLmxlbmd0aF0gYXMgYW55O1xuICAgICAgaWYoIWNvbnRlbnQpIHtcbiAgICAgICAgdGhyb3cgYCR7cmVuZGVyRXJyb25vdXNKU09OKG4pfTxicj4gaGFzIHdyb25nIHN0cnVjdHVyZTogbGVzcyBob2xlcyB0aGFuIG1hcmtlZCB3aXRoIHx8IGluIHRoZSBjb2RlYDtcbiAgICAgIH1cbiAgICAgIGhvbGVzLnB1c2goe3N0YXJ0OiBzdGFydCwgZW5kOiBjb2RlLmxlbmd0aCwgY29udGVudDogcHJvY2Vzc0hvbGVzUmVjdXJzaXZlKGNvbnRlbnQpfSk7XG4gICAgfVxuICB9XG4gIC8vIHJldHVybiBwcm9jZXNzZWQgbm9kZVxuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246IHAsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfTtcblxufVxuXG5mdW5jdGlvbiByZW5kZXJFcnJvbm91c0pTT04objogbm9kZSk6IHN0cmluZyB7XG4gIGNvbnN0IGNvZGUgPSBKU09OLnN0cmluZ2lmeShuLCB1bmRlZmluZWQsIDIpO1xuICByZXR1cm4gYFxuICAgIDx0ZXh0YXJlYSByb3dzPVwiJHtjb2RlLnNwbGl0KCdcXG4nKS5sZW5ndGh9XCJcbiAgICAgICAgICAgICAgY29scz1cIiR7Y29kZS5zcGxpdCgnXFxuJykubWFwKGwgPT4gbC5sZW5ndGgpLnJlZHVjZSgoeCx5KSA9PiB4ID4geSA/IHggOiB5KX1cIlxuICAgICAgICAgICAgICByZWFkT25seT1cInRydWVcIlxuICAgICAgICAgICAgICByZXNpemFibGU9XCJmYWxzZVwiPiR7Y29kZX08L3RleHRhcmVhPlxuICBgO1xufVxuIiwgImltcG9ydCB7cHJvY2Vzc0JzbFRyZWVzfSBmcm9tICcuL0JTTF9UcmVlJztcbmltcG9ydCB7cHJvY2Vzc0dlbmVyYXRvcnN9IGZyb20gJy4vR2VuZXJhdG9yJztcbmltcG9ydCB7cHJvY2Vzc0pzb25UcmVlc30gZnJvbSAnLi9KU09OX1RyZWUnO1xuaW1wb3J0IHtwcm9jZXNzU3RlcHBlcnN9IGZyb20gJy4vU0lfUmVuZGVyZXInO1xuXG4vLyBzZXR1cCBjYWxsYmFja3Ncbi8vIC0gZG8gbm90IHNldCB3aW5kb3cub25sb2FkIC0gb3RoZXIgc2NyaXB0cyBtaWdodCB1c2UgaXQsIHRvb1xuLy8gLSAnbG9hZCcgYW5kIG5vdCAnRE9NQ29udGVudExvYWRlZCcgc2luY2Ugd2Ugd2FudCBDU1MgdG8gYmUgcmVhZHkgd2hlbiB3ZSBcIm1lYXN1cmVcIiBsYXlvdXQtcmVsYXRlZCBzdHVmZlxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gIHByb2Nlc3NCc2xUcmVlcygpO1xuICBwcm9jZXNzSnNvblRyZWVzKCk7XG4gIHByb2Nlc3NTdGVwcGVycygpO1xuICBwcm9jZXNzR2VuZXJhdG9ycygpO1xufSk7XG4iXSwKICAibWFwcGluZ3MiOiAib2NBa0VPLFlBQXNCLEVBQTZCLENBQ3hELE1BQU8sR0FBUyxDQUFHLEdBQUssRUFBVyxDQUFHLEdBQUssR0FBWSxDQUFHLENBQzVELENBQ08sV0FBa0IsRUFBeUIsQ0FDaEQsTUFBTyxHQUFJLE9BQVMscUJBQ3RCLENBQ08sV0FBb0IsRUFBMkIsQ0FDcEQsTUFBTyxHQUFJLE9BQVMscUJBQ3RCLENBQ08sWUFBcUIsRUFBNEIsQ0FDdEQsTUFBTyxHQUFJLE9BQVMsbUJBQ3RCLENBRU8sWUFBZ0IsRUFBdUIsQ0FDNUMsTUFBTyxHQUFPLENBQUcsR0FBSyxFQUFPLENBQUcsR0FBSyxFQUFPLENBQUcsR0FBSyxFQUFVLENBQUcsQ0FDbkUsQ0FDTyxXQUFnQixFQUF1QixDQUM1QyxNQUFPLEdBQUksT0FBUyxlQUN0QixDQUNPLFdBQWdCLEVBQXVCLENBQzVDLE1BQU8sR0FBSSxPQUFTLGlCQUN0QixDQUNPLFdBQWdCLEVBQXVCLENBQzVDLE1BQU8sR0FBSSxPQUFTLFFBQ3RCLENBQ08sV0FBbUIsRUFBMEIsQ0FDbEQsTUFBTyxHQUFJLE9BQVMsZUFDdEIsQ0FJTyxXQUF1QixFQUE4QixDQUMxRCxNQUFPLEdBQUksT0FBUyxjQUN0QixDQ2pHTyxZQUFnQixFQUE0QixDQUNqRCxNQUFPLEdBQUUsSUFBSSxFQUFjLEVBQUUsS0FB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
