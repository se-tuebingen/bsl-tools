(()=>{var Fn=Object.defineProperty,Dn=Object.defineProperties;var Mn=Object.getOwnPropertyDescriptors;var bt=Object.getOwnPropertySymbols;var Nn=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable;var xt=(e,n,t)=>n in e?Fn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,J=(e,n)=>{for(var t in n||(n={}))Nn.call(n,t)&&xt(e,t,n[t]);if(bt)for(var t of bt(n))Hn.call(n,t)&&xt(e,t,n[t]);return e},Tt=(e,n)=>Dn(e,Mn(n));function Ce(e){return Y(e)||z(e)||Ve(e)}function Y(e){return e.type==="Function Definition"}function z(e){return e.type==="Constant Definition"}function Ve(e){return e.type==="Struct Definition"}function ve(e){return W(e)||Z(e)||j(e)||A(e)}function W(e){return e.type==="Function Call"}function Z(e){return e.type==="Cond-Expression"}function j(e){return e.type==="Symbol"}function A(e){return e.type==="Literal Value"}function q(e){return e.type==="Struct Value"}function Ct(e){return e.map(le).join(`
`)}function le(e){return Ce(e)?Ee(e):_(e)}function Ee(e){return Y(e)?`(define (${v(e.name)} ${e.args.map(v).join(" ")}) ${_(e.body)})`:z(e)?`(define ${v(e.name)} ${_(e.value)})`:Ve(e)?`(define-struct ${v(e.binding)} (${e.properties.map(v).join(" ")}))`:(console.error("Invalid input to printDefinition"),"")}function _(e){return W(e)?`(${v(e.name)} ${e.args.map(_).join(" ")})`:Z(e)?`(cond ${e.options.map(ee).join(" ")})`:j(e)?v(e):A(e)?ae(e.value):(console.error("Invalid input to printE"),`<${e}>`)}function ae(e){return typeof e=="string"&&e!=="'()"?`"${e}"`:typeof e=="boolean"?e?"#true":"#false":q(e)?`<${v(e.structDef)} ${e.properties.map(_).join(" ")}>`:`${e}`}function ee(e){return`[${_(e.condition)} ${_(e.result)}]`}function v(e){return e.symbol}var Gr=[{type:"Function Definition",name:{type:"Symbol",symbol:"f"},args:[{type:"Symbol",symbol:"x"},{type:"Symbol",symbol:"y"}],body:{type:"Function Call",name:{type:"Symbol",symbol:"+"},args:[{type:"Symbol",symbol:"x"},{type:"Symbol",symbol:"y"}]}},{type:"Cond-Expression",options:[{type:"Cond-Option",condition:{type:"Function Call",name:{type:"Symbol",symbol:"="},args:[{type:"Symbol",symbol:"x"},{type:"Literal Value",value:3}]},result:{type:"Literal Value",value:"isThree"}},{type:"Cond-Option",condition:{type:"Literal Value",value:!1},result:{type:"Literal Value",value:"'()"}}]},{type:"Constant Definition",name:{type:"Symbol",symbol:"x"},value:{type:"Literal Value",value:42}},{type:"Struct Definition",binding:{type:"Symbol",symbol:"name"},properties:[{type:"Symbol",symbol:"firstName"},{type:"Symbol",symbol:"lastName"}]}];function te(e,n,t="text"){let r=[],s=0,l=0,u=0,p="",m=!1,y=!1;e.split("").forEach(d=>{if(m&&d!=='"'){p+=d;return}if(y&&d!==">"){p+=d;return}switch(d){case"(":case"[":l++;break;case")":case"]":l--;break;case'"':m=!m;break;case"<":y=t==="html";break;case">":t==="html"&&(y=!1);break;case" ":case`
`:case"	":if(!p)return;r.push({term:p,level:s}),s>u&&(u=s),p="",s=l;return}p+=d}),p!==""&&(r.push({term:p,level:s}),s>u&&(u=s));let S=t==="html"?"<br>":`
`;for(let d=u;d>0;d--){let T=[];r.forEach(h=>{h.level<d?T.push(Tt(J({},h),{subterms:[]})):T[T.length-1].subterms.push(h.term)}),r=T.map(h=>{let E=h.subterms.some(D=>D.includes(S)),P=`${h.term}${h.subterms.length>0?" ":""}${h.subterms.join(" ")}`,se=t==="html"?On(P):P.length;if(E||se+h.level>n){let D=h.subterms.map(N=>`${ht(t==="html"?"&nbsp;":" ",d)}${N}`);D.unshift(h.term);let ie=t==="html"?"<br>":`
`;return{term:`${D.join(ie)}`,level:h.level}}else return{term:P,level:h.level}})}return r.map(d=>d.term).join(S)}function ht(e,n){let t="";for(let r=0;r<n;r++)t+=e;return t}function On(e){let n=document.createElement("div");return n.innerHTML=e,n.textContent?n.textContent.length:0}function I(e){return e.replaceAll("<","&lt;").replaceAll(">","&gt;")}function ne(e){return e.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&nbsp;"," ")}function w(e,n,t=!1){if(e.length===0)return[];let r=n.split("/"),s=r.shift();if(s=="")return e;let l=r.join("/"),u=[];if(s=="..")u=e.map(p=>p.parentElement).filter(p=>p);else if(s=="+")u=e.map(p=>p.nextElementSibling).filter(p=>p);else if(s.startsWith(".")){let p=s.slice(1);u=e.flatMap(m=>Array.from(m.children).filter(y=>y.classList.contains(p)))}else u=e.flatMap(p=>Array.from(p.children).filter(m=>m.tagName==s.toUpperCase()));return u.length===0&&t&&console.error(`Error traversing ${n}: No element found`),w(u,l)}function re(e,n){if(e.tagName==n.toUpperCase())return e;{let t=e.parentElement;return t?re(t,n):(console.error("Could not find parent element with requested tag ",n),null)}}function U(e,n){if(e.classList.contains(n))return e;{let t=e.parentElement;return t?U(t,n):(console.error("Could not find parent element with requested class ",n),null)}}var Et=`/* ######## color variables ###### */
.bsl-tools-tree {
  --branch-color: #666;
  --node-background: #ebf0f4; /* racket azure */
  --text-grey: #444; /* like in scribble */
  --hole-yellow: #fdf68d; /* pale yellow */
  --highlight-border-connectors: lime;
  --wrong-background: red;
  --correct-background: lime;
  --hole-selection-background: white;
}
/*
CSS for tree by Ross Angus
https://www.cssscript.com/clean-tree-diagram/
(Edited and extended)
*/
/* ###### parent ###### */
.bsl-tools-tree-container {
  text-align: center;
  overflow-y: scroll;
}

/* ###### node layout ######## */
.bsl-tools-tree,
.bsl-tools-tree ul,
.bsl-tools-tree li {
    list-style: none;
    margin: 0;
    padding: 0;
    position: relative;
    white-space: nowrap;
}

.bsl-tools-tree {
    margin: 0 0 1em;
    text-align: center;
    margin-left: auto;
    margin-right: auto;
}

.bsl-tools-tree,
.bsl-tools-tree ul {
    display: table;
}

.bsl-tools-tree ul {
    width: 100%;
}

.bsl-tools-tree li {
    display: table-cell;
    padding: 0;
    padding-top: 1.5em;
    vertical-align: top;
}

.bsl-tools-tree code,
.bsl-tools-tree span {
    border: solid .1em var(--branch-color);
    border-radius: .2em;
    display: inline-block;
    margin-left: 1em;
    margin-right: 1em;
    margin-top: 1.5em;
    padding: .2em .5em;
    position: relative;
    box-sizing: border-box;
}

/* ########### custom AST node  styles ######## */
/* node */
.bsl-tools-tree span {
  font-family: 'Fira-Mono', monospace;
  background-color: var(--node-background);
  transition: 1s background-color ease-out;
}
.bsl-tools-tree .terminal-symbol {
  border-width: .2em;
  border-style: double;
}
/* node label */
.bsl-tools-tree .name {
  color: var(--text-grey);
  font-style: italic;
  font-size: 0.85em;
  text-align: right;

  position: absolute;
  top: calc(-0.85em - 1.5em);
  right: var(--edgetext-right, 50%); /* to be set dynamically */
  margin-right: -1.5em;
  background-color: rgba(255,255,255,0.7);
}
/* tooltip */
.bsl-tools-tree .name .tooltip {
  display: none;
}
.bsl-tools-tree .name:hover .tooltip {
  display: block;
  position: absolute;
  left: 100%;
  bottom: calc(-0.5em - 1px);
  background-color: var(--node-background);
  border: 1px solid var(--branch-color);
  text-align: left;
  padding: 0.5em;
  z-index: 1000;
}

/* ###### connectors ########### */
/* part above box */
.bsl-tools-tree span:before {
    outline: solid 1px var(--branch-color);
    content: "";
    width: var(--connector-width, 0px); /* to be set dynamically */
    left: var(--connector-left, 50%); /* to be set dynamically */
    position: absolute;
    top: -1.5em;
    transform: var(--connector-transform); /* to be set dynamically */
}
.bsl-tools-tree span.terminal-symbol:before {
  top: calc(-1.5em - .2em);
}

/* ####### highlight way back up from a node ###### */
/* .bsl-tools-tree li:hover > span {
  border-color: var(--highlight-border-connectors);
}
.bsl-tools-tree li:hover::before {
  border-color: var(--highlight-border-connectors);
  z-index: 1000;
}
.bsl-tools-tree li:hover > span::before {
  outline-color: var(--highlight-border-connectors);
} */

/* ######## hide connectors over root ######## */
.bsl-tools-tree>li:before,
.bsl-tools-tree>li:after,
.bsl-tools-tree>li>code:before,
.bsl-tools-tree>li>span:before {
    outline: none !important;
    border: none !important;
}
.bsl-tools-tree>li {
    margin-top: 0;
}

/* ####### collapse nodes ######## */
/* click on span to hide/show */
.bsl-tools-tree .hole:hover {
  cursor: pointer;
}

.bsl-tools-tree [data-collapsed="true"] {
  display: none;
}

/* ######### holes ########## */
.bsl-tools-tree .char {
  display: inline;
  margin: 0;
  border: none;
  padding: 0;
  border-radius: 0;
  background-color: transparent;
  transition: background-color 1s ease-out;
}
.bsl-tools-tree .char::before {
  display: none;
}

.bsl-tools-tree .hole {
  display: inline-block;
  background-color: var(--hole-yellow);
  border: 1px solid var(--text-grey);
  color: var(--text-grey);
  padding-left: 0.25em;
  padding-right: 0.25em;
  position: relative;
}

/* ########### quiz ########## */

/* quiz stages */
.bsl-tools-tree span[data-quiz-state="production"] .name,
.bsl-tools-tree span[data-quiz-state="production"] .code,
.bsl-tools-tree span[data-quiz-state="production"] .hole-marking {
  display: none;
}

.bsl-tools-tree span[data-quiz-state="hole-marking"] .code,
.bsl-tools-tree span[data-quiz-state="hole-marking"] .production {
  display: none;
}

.bsl-tools-tree span[data-quiz-state="done"] .production,
.bsl-tools-tree span[data-quiz-state="done"] .hole-marking {
  display: none;
}

/* highlighting text by putting a div behind a textarea */
.bsl-tools-tree textarea,
.bsl-tools-tree .marker-container {
  font-family: inherit;
  resize: none;
  font-size: calc(1em);
  padding: 2px;
  margin: .2em;
  border: none;
  box-sizing: border-box;
}

.bsl-tools-tree .textarea-container {
  position: relative;
  display: inline-block;
}
.bsl-tools-tree textarea {
  position: relative;
  background-color: transparent;
  z-index: 2;
}
.bsl-tools-tree .marker-container {
  text-align: left;
  background-color: var(--hole-selection-background);
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
}
.bsl-tools-tree .marker {
  color: transparent;
  background-color: transparent;
  transition: 1s background-color ease-out;
}

/* feedback for wrong answer */
.bsl-tools-tree .wrong {
  background-color: var(--wrong-background);
  transition: none;
}
.bsl-tools-tree .correct {
  background-color: var(--correct-background);
  transition: none;
}
`;function _e(e,n,t,r=!1,s="en"){if(t||(t=jn(e)),!document.getElementById("bsl-tools-tree-style")){let l=document.createElement("style");l.innerHTML=Et,l.id="bsl-tools-tree-style",document.getElementsByTagName("head")[0].appendChild(l)}_t.includes(s)||(console.error(`
      Selected language "${s}" is not implemented, defaulting to "en".
      Available language codes: ${_t.join(", ")}
    `),s="en"),n.innerHTML=`
  <div class="bsl-tools-tree-container">
    <ul class="bsl-tools-tree">
      ${r?Bt(e,s,t):$t(e,t)}
    </ul>
  </div>`,r&&w([n],"ul/li/ul/li").map(l=>l.setAttribute("data-collapsed","false")),Le(n)}function jn(e){let n={};return Lt(e,n),n}function Lt(e,n){n[e.production]=[],e.holes.map(t=>Lt(t.content,n))}var _t=["en","de"],Rt={en:{"select production":"Select production","mark selected text as hole":"Mark selected text as subexpression"},de:{"select production":"Produktion ausw\xE4hlen","mark selected text as hole":"Auswahl als Teilausdruck markieren"}};function Le(e){let n=parseFloat(getComputedStyle(e).fontSize)*3;for(let t=1;;t++){let r=Array.from(e.getElementsByClassName(`hole-${t}`));if(r.length<1)return;r.map(s=>{let l=s,u=.5*(l.getBoundingClientRect().x+l.getBoundingClientRect().right);if(u==0)return;let p=re(l,"li");!p||w([p],`ul/.child-${t}/span`).map(m=>{let y=m,S=.5*(y.getBoundingClientRect().x+y.getBoundingClientRect().right),d=u-S,T=-Math.atan2(n,d),h=Math.sqrt(d*d+n*n),E=d/2-h/2;y.style.cssText=`
          --connector-width: ${h}px;
          --connector-left: calc(50% + ${E}px);
          --edgetext-right: calc(50% - ${d/2}px);
          --connector-transform: rotate(${T}rad);
        `})})}}function $t(e,n,t=-1){return`
    <li class="${t>=0?`child-${t+1}`:""}"
        data-collapsed="${t>=0?"true":"false"}">
      <span class="${e.holes.length>0?"":"terminal-symbol"}">

        ${Pt(e,n)}

        ${At(e)}

      </span>
      ${e.holes.length>0?`<ul>${e.holes.map((r,s)=>$t(r.content,n,s)).join("")}</ul>`:""}
    </li>
  `}function At(e){return`
  <div class="code">${qn(e).map(t=>`<span class="char ${t.pos?`hole hole-${t.pos}`:""}"
             ${t.pos?`onclick="toggleChild(event,${t.pos})"`:""}
             >${e.code.slice(t.start,t.end)}</span>`).join("")}
  </div>
  `}window.toggleChild=(e,n)=>{let t=e.target,r=re(t,"li"),s=U(t,"bsl-tools-tree");if(!r||!s){console.error("toggleChild called from .hole not in .bsl-tools-tree");return}w([r],`ul/.child-${n}`).map(l=>{l.setAttribute("data-collapsed",l.getAttribute("data-collapsed")==="true"?"false":"true")}),Le(s)};function qn(e){let n=[],t=0;for(let r=0;r<e.holes.length;r++)e.holes[r].start>t&&n.push({pos:!1,start:t,end:e.holes[r].start}),n.push(J({pos:r+1},e.holes[r])),t=e.holes[r].end;return t<e.code.length&&n.push({pos:!1,start:t,end:e.code.length}),n}function Pt(e,n){return`
    <div class="name">${I(e.production)}${n[e.production]&&n[e.production].length>0?`<div class="tooltip">::= ${n[e.production].map(I).join("<br>&nbsp;|&nbsp;&nbsp;")}</div>`:""}</div>
  `}function Bt(e,n,t,r=-1){return`
    <li class="${r>=0?`child-${r+1}`:""}"
        data-collapsed="${r>=0?"true":"false"}">
      <span class="${e.holes.length>0?"":"terminal-symbol"}"
            data-quiz-state="${r>=0?"production":"done"}"
            data-is-terminal="${e.holes.length<=0}"
            data-is-trivial-hole="${e.holes.length===1&&e.holes[0].start===0&&e.holes[0].end===e.code.length}">

        ${Kn(e,n,t)}

        ${Jn(e,n)}

        ${Pt(e,t)}
        ${At(e)}
      </span>
      ${e.holes.length>0?`<ul>${e.holes.map((s,l)=>Bt(s.content,n,t,l)).join("")}</ul>`:""}
    </li>
  `}function Kn(e,n,t){return`
  <div class="production">
    <select onchange="checkProduction(event, '${e.production}')">
      <option selected="true">${Rt[n]["select production"]}</option>
      ${Object.keys(t).map(r=>`
          <option value="${r}">${I(r)}</option>
        `).join("")}
    </select>
  </div>
  `}window.checkProduction=(e,n)=>{let t=e.target;if(t.value===n){let r=re(t,"span");if(r){r.getAttribute("data-is-terminal")==="true"?r.setAttribute("data-quiz-state","done"):r.getAttribute("data-is-trivial-hole")==="true"?(r.setAttribute("data-quiz-state","done"),w([r],"+/li",!0).map(l=>l.setAttribute("data-collapsed","false"))):r.setAttribute("data-quiz-state","hole-marking"),w([r],"../+").map(l=>l.setAttribute("data-collapsed","false"));let s=U(r,"bsl-tools-tree");s&&Le(s)}}else{Array.from(t.selectedOptions).map(s=>s.remove());let r=re(t,"span");r&&(r.classList.add("wrong"),window.setTimeout(()=>{r.classList.remove("wrong")},100))}};function Jn(e,n){return`
  <div class="hole-marking"
       data-holes="${btoa(JSON.stringify(e.holes.map(t=>[t.start,t.end,!1])))}">
    <div class="textarea-container">
      <div class="marker-container">
        ${e.code.split(`
`).map(t=>t.split("").map(r=>`<span class="char marker">${r}</span>`).join("")).join('<span class="char marker"></span><br>')}
      </div>
      <textarea autocorrect="off"
                spellcheck="false"
                cols="${e.code.split(`
`).map(t=>t.length).reduce((t,r)=>t>r?t:r)}"
                rows="${e.code.split(`
`).length}"
                oninput="stopInput(event, '${btoa(e.code)}')">${e.code}</textarea>
    </div><br>
    <button onclick="checkSelection(event)">
      ${Rt[n]["mark selected text as hole"]}
    </button>
  </div>
  `}window.stopInput=(e,n)=>{e.target.value=atob(n)};window.checkSelection=e=>{let n=e.target,t=U(n,"hole-marking");if(!t){console.error("checkProduction called from el. not wrapped in div.hole-marking");return}let r=JSON.parse(atob(t.getAttribute("data-holes"))),s=t.getElementsByTagName("textarea")[0],l=s.selectionStart,u=s.selectionEnd,p=l<u?l:u,m=l<u?u:l,y=-1;if(r.map((S,d)=>{S[0]===p&&S[1]===m&&(S[2]=!0,y=d)}),y>=0)t.setAttribute("data-holes",btoa(JSON.stringify(r))),w([t],".textarea-container/.marker-container/.marker",!0).slice(p,m).map(S=>S.classList.add("correct"));else{let S=w([t],".textarea-container/.marker-container/.marker",!0).slice(p,m);S.map(d=>d.classList.add("wrong")),window.setTimeout(()=>{S.map(d=>d.classList.remove("wrong"))},100)}if(r.every(S=>S[2])){let S=re(t,"span");if(S){S.setAttribute("data-quiz-state","done"),w([S],"../ul/.child-1").map(T=>T.setAttribute("data-collapsed","false"));let d=U(S,"bsl-tools-tree");d&&Le(d)}}};function Oe(e,n,t){return t=t||" ",e.length>n?e:(n-=e.length,t+=t.repeat(n),e+t.slice(0,n))}var K=class extends Error{constructor(t,r,s,l){super();this.message=t,this.expected=r,this.found=s,this.location=l,this.name="SyntaxError",typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(this,K.prototype):this.__proto__=K.prototype,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,K)}static buildMessage(t,r){function s(S){return S.charCodeAt(0).toString(16).toUpperCase()}function l(S){return S.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,d=>"\\x0"+s(d)).replace(/[\x10-\x1F\x7F-\x9F]/g,d=>"\\x"+s(d))}function u(S){return S.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,d=>"\\x0"+s(d)).replace(/[\x10-\x1F\x7F-\x9F]/g,d=>"\\x"+s(d))}function p(S){switch(S.type){case"literal":return'"'+l(S.text)+'"';case"class":let d=S.parts.map(T=>Array.isArray(T)?u(T[0])+"-"+u(T[1]):u(T));return"["+(S.inverted?"^":"")+d+"]";case"any":return"any character";case"end":return"end of input";case"other":return S.description}}function m(S){let d=S.map(p),T,h;if(d.sort(),d.length>0){for(T=1,h=1;T<d.length;T++)d[T-1]!==d[T]&&(d[h]=d[T],h++);d.length=h}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function y(S){return S?'"'+l(S)+'"':"end of input"}return"Expected "+m(t)+" but "+y(r)+" found."}format(t){let r="Error: "+this.message;if(this.location){let s=null,l;for(l=0;l<t.length;l++)if(t[l].source===this.location.source){s=t[l].text.split(/\r\n|\n|\r/g);break}let u=this.location.start,p=this.location.source+":"+u.line+":"+u.column;if(s){let m=this.location.end,y=Oe("",u.line.toString().length," "),S=s[u.line-1],d=u.line===m.line?m.column:S.length+1;r+=`
 --> `+p+`
`+y+` |
`+u.line+" | "+S+`
`+y+" | "+Oe("",u.column-1," ")+Oe("",d-u.column,"^")}else r+=`
 at `+p}return r}};function Wn(e,n){n=n!==void 0?n:{};let t={},r=n.grammarSource,s={Program:St},l=St,u=function(o){return o},p=/^[\t \n \r]/,m=he(["	"," ",`
`," ","\r"],!1,!1),y=function(o){return o},S="(define-struct",d=B("(define-struct",!1),T="(",h=B("(",!1),E=")",P=B(")",!1),se=function(o,a){return{type:"Struct Definition",binding:o,properties:a}},D="(define",ie=B("(define",!1),be=function(o,a,c){return{type:"Function Definition",name:o,args:a,body:c}},N=function(o,a){return{type:"Constant Definition",name:o,value:a}},V=function(o){return o},G="(cond",Zt=B("(cond",!1),en=function(o){return{type:"Cond-Expression",options:o}},tn="[",nn=B("[",!1),rn="]",on=B("]",!1),sn=function(o,a){return{type:"Cond-Option",condition:o,result:a}},ln=function(o,a){return{type:"Function Call",name:o,args:a}},Ye="define",an=B("define",!1),Ze=/^[^",'`()[\]{}|#\n\t\r0-9 ]/,et=he(['"',",","'","`","(",")","[","]","{","}","|","#",`
`,"	","\r",["0","9"]," "],!0,!1),cn=function(o){return{type:"Symbol",symbol:o.join("")}},un=function(o){return{type:"Literal Value",value:o}},tt=/^[0-9]/,nt=he([["0","9"]],!1,!1),pn=function(){return parseInt(Cn(),10)},rt="#true",dn=B("#true",!1),ot="#false",fn=B("#false",!1),st="#t",mn=B("#t",!1),it="#f",Sn=B("#f",!1),gn=function(o){return o==="#true"||o==="#t"},lt="'()",yn=B("'()",!1),bn=function(){return"'()"},at='"',ct=B('"',!1),ut=/^[^"]/,pt=he(['"'],!0,!1),xn=function(o){return o.join("")},Tn=dt("whitespace"),hn=function(){},i=0,C=0,xe=[{line:1,column:1}],H=0,Ne=[],b=0,Te;if(n.startRule!==void 0){if(!(n.startRule in s))throw new Error(`Can't start parsing from rule "`+n.startRule+'".');l=s[n.startRule]}function Cn(){return e.substring(C,i)}function jr(){return de(C,i)}function qr(o,a){throw a=a!==void 0?a:de(C,i),mt([dt(o)],e.substring(C,i),a)}function Kr(o,a){throw a=a!==void 0?a:de(C,i),En(o,a)}function B(o,a){return{type:"literal",text:o,ignoreCase:a}}function he(o,a,c){return{type:"class",parts:o,inverted:a,ignoreCase:c}}function Jr(){return{type:"any"}}function vn(){return{type:"end"}}function dt(o){return{type:"other",description:o}}function ft(o){let a=xe[o],c;if(a)return a;for(c=o-1;!xe[c];)c--;for(a=xe[c],a={line:a.line,column:a.column};c<o;)e.charCodeAt(c)===10?(a.line++,a.column=1):a.column++,c++;return xe[o]=a,a}function de(o,a){let c=ft(o),f=ft(a);return{source:r,start:{offset:o,line:c.line,column:c.column},end:{offset:a,line:f.line,column:f.column}}}function x(o){i<H||(i>H&&(H=i,Ne=[]),Ne.push(o))}function En(o,a){return new K(o,[],"",a)}function mt(o,a,c){return new K(K.buildMessage(o,a),o,a,c)}function St(){let o,a,c;if(o=i,a=[],c=gt(),c!==t)for(;c!==t;)a.push(c),c=gt();else a=t;return a!==t&&(C=o,a=u(a)),o=a,o}function gt(){let o,a,c,f;if(o=i,a=_n(),a===t&&(a=Q()),a!==t){if(c=[],p.test(e.charAt(i))?(f=e.charAt(i),i++):(f=t,b===0&&x(m)),f!==t)for(;f!==t;)c.push(f),p.test(e.charAt(i))?(f=e.charAt(i),i++):(f=t,b===0&&x(m));else c=t;c!==t?(C=o,a=u(a),o=a):(i=o,o=t)}else i=o,o=t;return o}function _n(){let o,a,c;return o=i,a=R(),a!==t?(c=Ln(),c===t&&(c=Rn(),c===t&&(c=$n())),c!==t?(C=o,a=y(c),o=a):(i=o,o=t)):(i=o,o=t),o}function Ln(){let o,a,c,f,g,M,L,$,X;if(o=i,e.substr(i,14)===S?(a=S,i+=14):(a=t,b===0&&x(d)),a!==t)if(c=O(),c!==t)if(f=R(),f!==t)if(e.charCodeAt(i)===40?(g=T,i++):(g=t,b===0&&x(h)),g!==t){if(M=[],L=O(),L!==t)for(;L!==t;)M.push(L),L=O();else M=t;M!==t?(e.charCodeAt(i)===41?(L=E,i++):(L=t,b===0&&x(P)),L!==t?($=R(),$!==t?(e.charCodeAt(i)===41?(X=E,i++):(X=t,b===0&&x(P)),X!==t?(C=o,a=se(c,M),o=a):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)}else i=o,o=t;else i=o,o=t;else i=o,o=t;else i=o,o=t;return o}function Rn(){let o,a,c,f,g,M,L,$,X,He;if(o=i,e.substr(i,7)===D?(a=D,i+=7):(a=t,b===0&&x(ie)),a!==t)if(c=R(),c!==t)if(e.charCodeAt(i)===40?(f=T,i++):(f=t,b===0&&x(h)),f!==t)if(g=O(),g!==t)if(M=R(),M!==t){if(L=[],$=O(),$!==t)for(;$!==t;)L.push($),$=O();else L=t;L!==t?(e.charCodeAt(i)===41?($=E,i++):($=t,b===0&&x(P)),$!==t?(X=Q(),X!==t?(e.charCodeAt(i)===41?(He=E,i++):(He=t,b===0&&x(P)),He!==t?(C=o,a=be(g,L,X),o=a):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)}else i=o,o=t;else i=o,o=t;else i=o,o=t;else i=o,o=t;else i=o,o=t;return o}function $n(){let o,a,c,f,g;return o=i,e.substr(i,7)===D?(a=D,i+=7):(a=t,b===0&&x(ie)),a!==t?(c=O(),c!==t?(f=Q(),f!==t?(e.charCodeAt(i)===41?(g=E,i++):(g=t,b===0&&x(P)),g!==t?(C=o,a=N(c,f),o=a):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)):(i=o,o=t),o}function Q(){let o,a,c;return o=i,a=R(),a!==t?(c=An(),c===t&&(c=Pn(),c===t&&(c=O(),c===t&&(c=Bn()))),c!==t?(C=o,a=V(c),o=a):(i=o,o=t)):(i=o,o=t),o}function An(){let o,a,c,f,g;if(o=i,e.substr(i,5)===G?(a=G,i+=5):(a=t,b===0&&x(Zt)),a!==t){if(c=[],f=yt(),f!==t)for(;f!==t;)c.push(f),f=yt();else c=t;c!==t?(f=R(),f!==t?(e.charCodeAt(i)===41?(g=E,i++):(g=t,b===0&&x(P)),g!==t?(C=o,a=en(c),o=a):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)}else i=o,o=t;return o}function yt(){let o,a,c,f,g,M,L,$;return o=i,a=R(),a!==t?(e.charCodeAt(i)===91?(c=tn,i++):(c=t,b===0&&x(nn)),c!==t?(f=R(),f!==t?(g=Q(),g!==t?(M=R(),M!==t?(L=Q(),L!==t?(e.charCodeAt(i)===93?($=rn,i++):($=t,b===0&&x(on)),$!==t?(C=o,a=sn(g,L),o=a):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)):(i=o,o=t)):(i=o,o=t),o}function Pn(){let o,a,c,f,g;if(o=i,e.charCodeAt(i)===40?(a=T,i++):(a=t,b===0&&x(h)),a!==t)if(c=O(),c!==t){for(f=[],g=Q();g!==t;)f.push(g),g=Q();f!==t?(e.charCodeAt(i)===41?(g=E,i++):(g=t,b===0&&x(P)),g!==t?(C=o,a=ln(c,f),o=a):(i=o,o=t)):(i=o,o=t)}else i=o,o=t;else i=o,o=t;return o}function O(){let o,a,c,f,g;if(o=i,a=R(),a!==t)if(c=i,b++,e.substr(i,6)===Ye?(f=Ye,i+=6):(f=t,b===0&&x(an)),b--,f===t?c=void 0:(i=c,c=t),c!==t){if(f=[],Ze.test(e.charAt(i))?(g=e.charAt(i),i++):(g=t,b===0&&x(et)),g!==t)for(;g!==t;)f.push(g),Ze.test(e.charAt(i))?(g=e.charAt(i),i++):(g=t,b===0&&x(et));else f=t;f!==t?(C=o,a=cn(f),o=a):(i=o,o=t)}else i=o,o=t;else i=o,o=t;return o}function Bn(){let o,a;return o=i,a=In(),a===t&&(a=wn(),a===t&&(a=Un(),a===t&&(a=kn()))),a!==t&&(C=o,a=un(a)),o=a,o}function In(){let o,a,c,f;if(o=i,a=R(),a!==t){if(c=[],tt.test(e.charAt(i))?(f=e.charAt(i),i++):(f=t,b===0&&x(nt)),f!==t)for(;f!==t;)c.push(f),tt.test(e.charAt(i))?(f=e.charAt(i),i++):(f=t,b===0&&x(nt));else c=t;c!==t?(C=o,a=pn(),o=a):(i=o,o=t)}else i=o,o=t;return o}function wn(){let o,a,c;return o=i,a=R(),a!==t?(e.substr(i,5)===rt?(c=rt,i+=5):(c=t,b===0&&x(dn)),c===t&&(e.substr(i,6)===ot?(c=ot,i+=6):(c=t,b===0&&x(fn)),c===t&&(e.substr(i,2)===st?(c=st,i+=2):(c=t,b===0&&x(mn)),c===t&&(e.substr(i,2)===it?(c=it,i+=2):(c=t,b===0&&x(Sn))))),c!==t?(C=o,a=gn(c),o=a):(i=o,o=t)):(i=o,o=t),o}function Un(){let o,a,c;return o=i,a=R(),a!==t?(e.substr(i,3)===lt?(c=lt,i+=3):(c=t,b===0&&x(yn)),c!==t?(C=o,a=bn(),o=a):(i=o,o=t)):(i=o,o=t),o}function kn(){let o,a,c,f,g;if(o=i,a=R(),a!==t)if(e.charCodeAt(i)===34?(c=at,i++):(c=t,b===0&&x(ct)),c!==t){if(f=[],ut.test(e.charAt(i))?(g=e.charAt(i),i++):(g=t,b===0&&x(pt)),g!==t)for(;g!==t;)f.push(g),ut.test(e.charAt(i))?(g=e.charAt(i),i++):(g=t,b===0&&x(pt));else f=t;f!==t?(e.charCodeAt(i)===34?(g=at,i++):(g=t,b===0&&x(ct)),g!==t?(C=o,a=xn(f),o=a):(i=o,o=t)):(i=o,o=t)}else i=o,o=t;else i=o,o=t;return o}function R(){let o,a,c;for(b++,o=i,a=[],p.test(e.charAt(i))?(c=e.charAt(i),i++):(c=t,b===0&&x(m));c!==t;)a.push(c),p.test(e.charAt(i))?(c=e.charAt(i),i++):(c=t,b===0&&x(m));return a!==t&&(C=o,a=hn()),o=a,b--,o===t&&(a=t,b===0&&x(Tn)),o}if(Te=l(),Te!==t&&i===e.length)return Te;throw Te!==t&&i<e.length&&x(vn()),mt(Ne,H<e.length?e.charAt(H):null,H<e.length?de(H,H+1):de(H,H))}var Re=Wn;var It=`/* css for errors */
.error-wrapper{
    display:flex;
    flex-direction:column;
    margin:2vw;
    font-size:inherit;
}

.error{
    font-size:1.2em;
}
`;function wt(){Array.from(document.getElementsByTagName("bsltree")).map(e=>{try{let n=Re(ne(e.innerHTML)),t=Yn(n),r=e.getAttribute("quiz")==="true",s=e.getAttribute("lang")?e.getAttribute("lang"):void 0;_e(t,e,Xn,r,s)}catch(n){Qn(e,`${n.location.start.line}:${n.location.start.column} ${n}`)}})}function Qn(e,n){if(!document.getElementById("bsl-tools-error-style")){let m=document.createElement("style");m.innerHTML=It,m.id="bsl-tools-error-style",document.getElementsByTagName("head")[0].appendChild(m)}let t=e.innerHTML;e.innerHTML="";let r=document.createElement("div");r.classList.add("error-wrapper"),e.appendChild(r);let s=`<p> BSL-Tree could not be parsed! </p>
                  <p> Input: <b style="font-size:0.9em;">${t}</b> </p>`,l=document.createElement("div");l.classList.add("origin"),l.innerHTML=s,r.appendChild(l);let u=document.createElement("pre");u.classList.add("error");let p=document.createElement("code");p.textContent=n,r.appendChild(u),u.appendChild(p)}var Xn={"<program>":["<def-or-expr>*"],"<def-or-expr>*":[],"<def-or-expr>":["<definition>","<e>"],"<definition>":["(define (<name> <name>+) <e>)","(define <name> <e>)","(define-struct <name> (<name>*))"],"<e>":["(name <e>*)","(cond {[<e>,<e>]}+)","<name>","<v>"],"<e>*":[],"{[ <e> <e> ]}+":[],"[ <e> <e> ]":[],"<name>*":[],"<name>+":[],"<name>":[],"<v>":[]};function Yn(e){let n=e.map(le),t=[],r="";for(let s=0;s<n.length;s++){s>0&&(r=`${r}
`);let l=r.length;r=`${r}${n[s]}`;let u=r.length;t.push({start:l,end:u})}return{production:"<program>",code:r,holes:[{start:0,end:r.length,content:{production:"<def-or-expr>*",code:r,holes:t.map((s,l)=>({start:s.start,end:s.end,content:Zn(e[l])}))}}]}}function Zn(e){let n=le(e);return{production:"<def-or-expr>",code:n,holes:[{start:0,end:n.length,content:Ce(e)?er(e):ce(e)}]}}function er(e){let n="",t=[];if(Y(e)){n="(define (";let r=n.length;n=`${n}${v(e.name)}`,t.push({start:r,end:n.length,content:oe(e.name)}),n=`${n} `,r=n.length,n=`${n}${e.args.map(v).join(" ")}`,t.push({start:r,end:n.length,content:tr(e.args)}),n=`${n}) `,r=n.length,n=`${n}${_(e.body)}`,t.push({start:r,end:n.length,content:ce(e.body)}),n=`${n})`}else if(z(e)){n="(define ";let r=n.length;n=`${n}${v(e.name)}`,t.push({start:r,end:n.length,content:oe(e.name)}),n=`${n} `,r=n.length,n=`${n}${_(e.value)}`,t.push({start:r,end:n.length,content:ce(e.value)}),n=`${n})`}else{n="(define-struct ";let r=n.length;n=`${n}${v(e.binding)}`,t.push({start:r,end:n.length,content:oe(e.binding)}),n=`${n} (`,r=n.length,n=`${n}${e.properties.map(v).join(" ")}`,t.push({start:r,end:n.length,content:nr(e.properties)}),n=`${n}))`}return{production:"<definition>",code:n,holes:t}}function ce(e){let n="",t=[];if(W(e)){n="(";let r=n.length;n=`${n}${v(e.name)}`,t.push({start:r,end:n.length,content:oe(e.name)}),n=`${n} `,r=n.length,n=`${n}${e.args.map(_).join(" ")}`,t.push({start:r,end:n.length,content:rr(e.args)}),n=`${n})`}else if(Z(e)){n="(cond ";let r=n.length;n=`${n}${e.options.map(ee).join(" ")}`,t.push({start:r,end:n.length,content:or(e.options)}),n=`${n})`}else j(e)?(n=v(e),t.push({start:0,end:n.length,content:oe(e)})):(n=_(e),t.push({start:0,end:n.length,content:ir(e)}));return{production:"<e>",code:n,holes:t}}function oe(e){return{production:"<name>",code:v(e),holes:[]}}function tr(e){e.length<1&&console.error("<name>+ but used but names are empty");let n="",t=[];for(let r=0;r<e.length;r++){let s=n.length;n=`${n}${v(e[r])}`,t.push({start:s,end:n.length,content:oe(e[r])}),r<e.length-1&&(n=`${n} `)}return{production:"<name>+",code:n,holes:t}}function nr(e){let n="",t=[];for(let r=0;r<e.length;r++){let s=n.length;n=`${n}${v(e[r])}`,t.push({start:s,end:n.length,content:oe(e[r])}),r<e.length-1&&(n=`${n} `)}return{production:"<name>*",code:n,holes:t}}function rr(e){let n="",t=[];for(let r=0;r<e.length;r++){let s=n.length;n=`${n}${_(e[r])}`,t.push({start:s,end:n.length,content:ce(e[r])}),r<e.length-1&&(n=`${n} `)}return{production:"<e>*",code:n,holes:t}}function or(e){let n="",t=[];for(let r=0;r<e.length;r++){let s=n.length;n=`${n}${ee(e[r])}`,t.push({start:s,end:n.length,content:sr(e[r])}),r<e.length-1&&(n=`${n} `)}return{production:"{[ <e> <e> ]}+",code:n,holes:t}}function sr(e){let n="",t=[];n=`${n}[`;let r=n.length;return n=`${n}${_(e.condition)}`,t.push({start:r,end:n.length,content:ce(e.condition)}),n=`${n} `,r=n.length,n=`${n}${_(e.result)}`,t.push({start:r,end:n.length,content:ce(e.result)}),n=`${n}]`,{production:"[ <e> <e> ]",code:n,holes:t}}function ir(e){return{production:"<v>",code:_(e),holes:[]}}function Ut(){Array.from(document.getElementsByTagName("jsontree")).map(e=>{try{let n=lr(ne(e.innerHTML)),t=n.root,r=n.grammar,s=e.getAttribute("quiz")==="true",l=e.getAttribute("lang")?e.getAttribute("lang"):void 0;_e(t,e,r,s,l)}catch(n){console.error(n),e.innerHTML=`${n}`,e.style.cssText=`
        padding: 2em;
        color: darkred;
        display: block;
      `}})}function lr(e){let n=JSON.parse(e.trim()),t=n.grammar;return{root:kt(n),grammar:t}}function kt(e){let n=e.production;if(!n||typeof n!="string")throw`${ze(e)}<br> has wrong structure, production needs to be a string`;let t=e.code;if(!t||typeof t!="string")throw`${ze(e)}<br>  has wrong structure, code needs to be a string`;e.holes||(e.holes=[]);let r=t.split("|"),s="",l=[];for(let u=0;u<r.length;u++)if(s=`${s}${r[u]}`,u++,u<r.length&&r[u]){let p=s.length;s=`${s}${r[u]}`;let m=e.holes[l.length];if(!m)throw`${ze(e)}<br> has wrong structure: less holes than marked with || in the code`;l.push({start:p,end:s.length,content:kt(m)})}return{production:n,code:s,holes:l}}function ze(e){let n=JSON.stringify(e,void 0,2);return`
    <textarea rows="${n.split(`
`).length}"
              cols="${n.split(`
`).map(t=>t.length).reduce((t,r)=>t>r?t:r)}"
              readOnly="true"
              resizable="false">${n}</textarea>
  `}var je=(d=>(d.Add="+",d.Sub="-",d.Mul="*",d.Div="/",d.And="and",d.Or="or",d.Not="not",d.Leq="<=",d.Geq=">=",d.Lt="<",d.Gt=">",d))(je||{});function $e(e){return e.type==="DefinitionStep"}function Ae(e){return e.type==="EvalStep"}function me(e){return e.type==="CallRedex"}function Se(e){return e.type==="CondRedex"}function ge(e){return e.type==="NameRedex"}function Pe(e){return e.type==="Hole"}function Be(e){return e.type==="AppContext"}function Ie(e){return e.type==="CondContext"}function we(e){return e.type==="Split"}function Ft(e){return e.type==="Prim"||e.type==="PrimError"||e.type==="CondTrue"||e.type==="CondFalse"||e.type==="CondError"||e.type==="Const"||e.type==="ConstError"||e.type==="Fun"||e.type==="FunError"||e.type==="StructMake"||e.type==="StructMakeError"||e.type==="StructPredTrue"||e.type==="StructPredFalse"||e.type==="StructPredError"||e.type==="StructSelect"||e.type==="StructSelectError"}function qe(e){return e.type==="Kong"}function k(e){return typeof e=="number"||typeof e=="string"||typeof e=="boolean"||e==="'()"||q(e)}function Ke(e){return e.type==="FunEnv"}function Dt(e){return e.type==="StructDef"}function ye(e){return e.type==="Identifier"}function Mt(e){return e.type==="MakeFun"||e.type==="PredFun"||e.type==="SelectFun"}function Nt(e){return e.type==="MakeFun"}function Ht(e){return e.type==="PredFun"}function Ot(e){let n={},t=[];return e.map(r=>{let s=ar(r,n);if(s instanceof Error)return s;n=s.env,t.push(s),console.log("progStep: ",s),console.log("env:",n)}),{type:"Stepper",originProgram:e,progSteps:t}}function ar(e,n){if(ve(e)){let t=zt(e,n);if(console.log("evalStep:",t),t instanceof Error)return t;if(t.length===0)return{type:"ExprStep",env:n,evalSteps:[],originalDefOrExpr:e,result:jt(e,n)};{let r=t[t.length-1].result;return ve(r)?new Error("Result is not a value"):{type:"ExprStep",env:t[t.length-1].env,evalSteps:t,originalDefOrExpr:e,result:r}}}else{console.log("definition",e);let t=cr(e,n);return t instanceof Error||console.log("defStep",t),t}}function cr(e,n){if(z(e)){let t=e.name,r=e.value;if(console.log("name",t+"expr",r),A(r)){let s=r.value,l=ue(n,t.symbol,s);return l instanceof Error?l:{type:"DefinitionStep",env:l,evalSteps:[],originalDefOrExpr:e,result:e}}else{let s=zt(r,n);if(s instanceof Error)return s;let l=s[s.length-1].result;if(k(l)){let u=ue(n,t.symbol,l);if(u instanceof Error)return u;let p={type:"Constant Definition",name:t,value:{type:"Literal Value",value:l}};return{type:"DefinitionStep",env:u,evalSteps:s,originalDefOrExpr:e,result:p}}else return Error("calculateDefSteps: Last ExprStep is an Expr, not a Value")}}else if(Y(e)){let t=e.name;if(t.symbol in n)return Error("calculateDefSteps: name already bound");{let r={type:"FunEnv",params:e.args,body:e.body},s=ue(n,t.symbol,r);return s instanceof Error?s:{type:"DefinitionStep",env:s,evalSteps:[],originalDefOrExpr:e,result:e}}}else{let t=e.binding,r=e.properties,s={type:"StructDef",properties:r},l=ue(n,t.symbol,s);if(l instanceof Error)return l;let u=`make-${t.symbol}`,p={type:"MakeFun",structDef:s},m=`${t.symbol}?`,y={type:"PredFun",structDef:s},S=[];r.map(E=>{S.push(`${t.symbol}-${E.symbol}`)});let d={type:"SelectFun",structDef:s},T=[[u,p],[m,y]];return S.forEach(E=>{T.push([E,d])}),T.forEach(E=>{if(l instanceof Error)return l;l=ue(l,E[0],E[1])}),l instanceof Error?l:{type:"DefinitionStep",env:l,evalSteps:[],originalDefOrExpr:e,result:e}}}function zt(e,n){let t=[],r=e;for(;!k(r);){let s=jt(r,n);if(k(s))r=s;else if(Ae(s))if(s.result instanceof Error){t.push(s);break}else r=s.result,t.push(s);else return s}return t}function jt(e,n){if(A(e))return console.log("evaluateExpression: Literal",e),e.value;{let t=We(e);if(we(t)){let r=ur(t.redex,n);if(Ft(r)){let s=qt(r,t.context,n);return console.log("exprStep",s),Ae(s),s}else return r}else return t}}function We(e){let n={type:"Hole"};if(W(e)){let t=e.name,r=e.args;if(console.warn("### splitting call with args: ",e.args),r.every(y=>A(y))){console.warn("### al arguments are values");let y={type:"CallRedex",name:t,args:r.map(S=>S.value)};return{type:"Split",redex:y,context:n}}console.warn("#### recursing");let s=r.findIndex(y=>!A(y)),l=r.slice(0,s),u=r[s],p=r.slice(s+1);console.warn(s,l,u,p);let m=We(u);return we(m)?{type:"Split",redex:m.redex,context:{type:"AppContext",op:t,values:l.map(y=>y.value),ctx:m.context,args:p}}:m}else if(Z(e)){let t=e.options[0];if(A(t.condition))return{type:"Split",redex:{type:"CondRedex",options:e.options},context:n};{let r=We(t.condition);return we(r)?{type:"Split",redex:r.redex,context:{type:"CondContext",options:e.options,ctx:r.context}}:r}}else return j(e)?{type:"Split",context:n,redex:{type:"NameRedex",symbol:e.symbol}}:Error("split: neither a call nor a cond nor name")}function ur(e,n){if(me(e))if(e.args.every(k)){let r=e.args,s=Fe(n,e.name.symbol);if(Object.values(je).includes(e.name.symbol)){let l=pr(e.name,r);return l instanceof Error?{type:"PrimError",redex:e,result:l}:{type:"Prim",redex:e,result:l}}else if(Ke(s)){console.log("step: env: "+JSON.stringify(s)+" args: "+r);let l=fr(e,n);return l instanceof Error?{type:"FunError",redex:e,result:l}:{type:"Fun",redex:e,result:l}}else if(Mt(s))if(Nt(s)){let l=mr(e.name,s,r,n);return l instanceof Error?{type:"StructMakeError",redex:e,result:l}:{type:"StructMake",redex:e,result:l}}else if(Ht(s)){let l=Sr(e.name,s,r);return l instanceof Error?{type:"StructPredError",redex:e,result:l}:l?{type:"StructPredTrue",redex:e,result:l}:{type:"StructPredFalse",redex:e,result:l}}else{let l=gr(e.name,s,r);return l instanceof Error?{type:"StructSelectError",redex:e,result:l}:{type:"StructSelect",redex:e,result:l}}else return{type:"FunError",redex:e,result:Error(`function '${e.name.symbol}' is not in env`)}}else{console.log("step: env:"+JSON.stringify(n));let r=Je(e,n);return r instanceof Error?{type:"ConstError",redex:e,result:r}:{type:"Const",redex:e,result:r}}else if(Se(e))if(A(e.options[0].condition)){let t=dr(e);if(t===void 0){let r=e.options.slice(1);if(r.length<1)return{type:"CondError",redex:e,result:Error("'cond': all question results were false")};let s={type:"Cond-Expression",options:r};return{type:"CondFalse",redex:e,result:s}}else return ve(t)||k(t)?{type:"CondTrue",redex:e,result:t}:{type:"CondError",redex:e,result:t}}else{let t=Je(e,n);return t instanceof Error?{type:"ConstError",redex:e,result:t}:{type:"Const",redex:e,result:t}}else if(ge(e)){let t=Je(e,n);return t instanceof Error?{type:"ConstError",redex:e,result:t}:{type:"Const",redex:e,result:t}}else return Error("step: redex is neither a call nor cond nor name")}function qt(e,n,t){if(console.log("plug: oneRule: "+JSON.stringify(e)),Pe(n))return{type:"EvalStep",env:t,rule:e,result:e.result};{let r=qt(e,n.ctx,t);if(Ae(r)){if(r.result instanceof Error)return r;if(Be(n)){let l=[n.values,r.result,n.args].flat().map(p=>k(p)?{type:"Literal Value",value:p}:ye(p)?{type:"Symbol",symbol:p.symbol}:p),u={type:"Function Call",name:n.op,args:l};return console.log("plug: env: "+JSON.stringify(t)),{type:"EvalStep",env:t,rule:{type:"Kong",context:n,redexRule:e},result:u}}else if(Ie(n)){let s=n.options,l=k(r.result)?{type:"Literal Value",value:r.result}:r.result,p=[{type:"Cond-Option",condition:l,result:s[0].result},...s.slice(1)],m={type:"Cond-Expression",options:p};return{type:"EvalStep",env:t,rule:{type:"Kong",context:n,redexRule:e},result:m}}else return Error("plug: context is not an AppContext or CondContext")}else return r}}function pr(e,n){if(["+","*","-","/"].includes(e.symbol)&&!n.every(t=>typeof t=="number")){let t=n.find(r=>typeof r!="number");return Error(`argument '${t}' is not a number in function '${e.symbol}'`)}switch(e.symbol){case"+":return n.reduce((t,r)=>t+r);case"*":return n.reduce((t,r)=>t*r);case"-":return n.reduce((t,r)=>t-r);case"/":return n.slice(1).every(t=>t!=0)?n.reduce((t,r)=>t/r):Error(`division by zero in function '${e.symbol}'`);default:}if(["and","or","not"].includes(e.symbol)&&!n.every(t=>typeof t=="boolean")){let t=n.find(r=>typeof r!="boolean");return Error(`argument '${t}' is not a boolean in function '${e.symbol}'`)}switch(e.symbol){case"and":return n.length<2?Error(`function '${e.symbol}' needs at least two arguments`):n.every(t=>t);case"or":return n.length<2?Error(`function '${e.symbol}' needs at least two arguments`):n.some(t=>t);case"not":return n.length!==1?Error(`function '${e.symbol}' needs exactly one argument`):!n[0];default:}if(["<",">","<=",">="].includes(e.symbol)){if(n.length!==2)return Error(`function '${e.symbol}' needs exactly two arguments`);let t=n[0],r=n[1];if(typeof t!="number"||typeof r!="number")return Error(`function '${e.symbol}' needs two numbers, but received '${t}' and '${r}'`);switch(e.symbol){case"<":return t<r;case"<=":return t<=r;case">=":return t>=r;case">":return t>r;default:return!0}}else return Error(`function '${e.symbol}' is no implemented primitive function`)}function dr(e){let n=e.options[0];return A(n.condition)&&n.condition.value==!0?A(n.result)?n.result.value:n.result:A(n.condition)&&n.condition.value==!1?void 0:Error("'cond': condition is not a boolean")}function Je(e,n){if(me(e)){let t=e.args.find(ye);if(!t)return Error("id: could not find an identifier in argument list");let r=ke(n,t.symbol);if(r instanceof Error)return r;let s=e.args.map(l=>ye(l)&&l.symbol===t.symbol?{type:"Literal Value",value:r}:ye(l)?{type:"Symbol",symbol:l.symbol}:{type:"Literal Value",value:l});return{type:"Function Call",name:e.name,args:s}}else if(Se(e)){let t=e.options[0].condition;if(!j(t))return Error("substConst: condition is not a name");let r=ke(n,t.symbol);if(r instanceof Error)return r;let s={type:"Literal Value",value:r},l={type:"Cond-Option",condition:s,result:e.options[0].result};return{type:"Cond-Expression",options:[l]}}else return ge(e)?ke(n,e.symbol):Error("substConst: redex is not a call or cond or name")}function fr(e,n){let t=yr(n,e.name.symbol);if(t instanceof Error)return t;let r=t.params;if(e.args.length!=r.length)return Error(`Arity mismatch in '${e.name.symbol}': number of arguments are not equal to number of parameters`);let s={};r.forEach((p,m)=>{let y=ue(s,p.symbol,e.args[m]);if(y instanceof Error)return y;s=y});let l=t.body;return Ue(l,s)}function mr(e,n,t,r){let s=n.structDef.properties,l=e.symbol.slice(5);return br(r,l)instanceof Error?Error(`'${l}' not found in environment`):s.length==t.length?{type:"Struct Value",structDef:e,properties:t.map(m=>({type:"Literal Value",value:m}))}:Error(`Arity mismatch in '${e.symbol}: number of arguments does not match number of properties`)}function Sr(e,n,t){let r=n.structDef.properties;if(t.length!=1)return Error(`'${e.symbol}' takes exactly one argument`);if(q(t[0])){let s=t[0],l=s.structDef.symbol.split("-")[1],u=e.symbol.split("?")[0];return l===u?r.length==s.properties.length:!1}else return!1}function gr(e,n,t){if(t.length!=1)return Error("selectStruct: number of arguments doesn't match");if(q(t[0])){let r=t[0],s=r.structDef.symbol.split("-")[1],l=e.symbol.split("-")[0],u=e.symbol.split("-")[1];if(s!==l)return Error("selectStruct: struct name doesn't match");{let p=n.structDef.properties.map(m=>m.symbol);if(p.includes(u)){let m=p.indexOf(u),y=r.properties[m];return A(y)?y.value:r.properties[m]}else return Error("selectStruct: property doesn't exist")}}else return Error("selectStruct: argument is not a struct value")}function Ue(e,n){if(A(e))return e;if(j(e)){let t=ke(n,e.symbol);return t instanceof Error?t:{type:"Literal Value",value:t}}else if(W(e)){let t=e.args.map(r=>{let s=Ue(r,n);return s instanceof Error?r:s});return t.some(r=>r instanceof Error)?Error("substExpr: error in args"):{type:"Function Call",name:e.name,args:t}}else{let t=e.options.map(s=>{let l=Ue(s.condition,n),u=Ue(s.result,n);return l instanceof Error||u instanceof Error?Error("substExpr: error in cond"):{type:"Cond-Option",condition:l,result:u}});return t.some(s=>s instanceof Error)?Error("substExpr: error in cond"):{type:"Cond-Expression",options:t}}}function ue(e,n,t){if(e[n]===void 0){let r=J({},e);return r[n]=t,console.warn("addToEnv: "+n+":"+t+" added to "+JSON.stringify(e)),console.warn("addToEnv: newEnv = "+JSON.stringify(r)),r}else return Error("addToEnv: name already exists in environment")}function Fe(e,n){return n in e?(console.warn("lookupEnv: "+n+" found in "+JSON.stringify(e)),e[n]):Error(`'${n}' is not bound in environment`)}function ke(e,n){let t=Fe(e,n);return t instanceof Error||k(t)?t:Error("lookupConst: name is not bound to a Value")}function yr(e,n){let t=Fe(e,n);return t instanceof Error||Ke(t)?t:Error("lookupFun: name is not bound to a Fun")}function br(e,n){let t=Fe(e,n);return t instanceof Error||Dt(t)?t:Error("lookupStruct: name is not bound to a Struct")}var Kt=`/* ######### colors ####### */
.bsl-tools-stepper {
  /* --branch-color: #666; */
  --box-background: #ebf0f4; /* racket azure */
  --box-border: #0d3657;
  --button-border: #0d3657;
  --text-grey: #444; /* like in scribble */
  --hole-yellow: #fdf68d; /* pale yellow */
  --hole-green: lightgreen;
  --hole-red: lightpink;
  --font-family-monospace: 'Fira Sans', monospace;
  --font-family-rule-description: Palatino, Georgia, "Times New Roman", serif;
}
/* ####### general layout ####### */
div.bsl-tools-stepper {
  text-align: center;
  box-sizing: border-box;
}
/* ##### boxes ###### */
.bsl-tools-stepper .box {
  text-align: left;
  background-color: var(--box-background);
  padding: 0.5em;
  padding-top: 1em;
  border: 1px solid var(--box-border);
  border-radius: 0.5em;
  position: relative;
  margin-bottom: 1.5em;
}
.bsl-tools-stepper .boxlabel {
  position: absolute;
  top: -1em;
  left: 0.5em;
  padding: 0.25em;
  border: 0px solid transparent;
  border-radius: 0.25em;
  background-color: var(--box-background);
  color: var(--box-border);

}
/* single step */
.bsl-tools-stepper .step {
  margin-bottom: 0.5em;
  position: relative;
  background-color: white;
  padding: 0.5em;
}

/* ####### buttons ###### */
.bsl-tools-stepper .step[data-currentStep="true"] {
  padding-top: 1.5em;
  margin-top: 1.5em;
  padding-bottom: 1.5em;
  margin-bottom: 1.5em;

}
.bsl-tools-stepper .prev-button, .bsl-tools-stepper .next-button {
  display: none;
}
.bsl-tools-stepper [data-currentStep="true"] .prev-button,
.bsl-tools-stepper [data-currentStep="true"] .next-button {
  position: absolute;
  display: inline-block;
  right: 2em;
  padding: 0.5em;
  border: 1px solid var(--button-border);
  background-color: white;
  border-radius: 0.25em;
}
.bsl-tools-stepper .prev-button:hover, .bsl-tools-stepper .next-button:hover {
  cursor: pointer;
}
.bsl-tools-stepper .prev-button {
  top: -1em;
}
/* second child because of box label */
.bsl-tools-stepper .step:nth-child(2) .prev-button {
  top: -3.5em;
}
.bsl-tools-stepper .step:nth-child(2) .prev-button::after {
  content: ' (PROG)';
}
.bsl-tools-stepper .next-button {
  bottom: -1.25em;
}
.bsl-tools-stepper .step:last-child .next-button {
  bottom: -3.25em;
}
.bsl-tools-stepper .step:last-child .next-button::after {
  content: ' (PROG)';
}
.bsl-tools-stepper .step:last-child .info-toggle {
  position: absolute;
  right: 0;
  bottom: -4em;
  margin: 0;
  background-color: white;
}
.bsl-tools-stepper .icon {
  display: inline-block;
  height: 1em;
}
.bsl-tools-stepper .split-result .icon {
  opacity: 70%;
}
.bsl-tools-stepper [data-visible="false"] {
  display: none;
}

/* ######### code and rules ####### */
.bsl-tools-stepper .code {
  font-family: var(--font-family-monospace, monospace);
  color: var(--text-grey);
}
.bsl-tools-stepper .plug-result {
  position: relative;
  z-index: 2;
}
.bsl-tools-stepper .hole {
  display: inline-block;
  background-color: var(--hole-yellow);
  /* border: 1px solid var(--text-grey); */
  color: var(--text-grey);
  padding-left: 0.25em;
  padding-right: 0.25em;
  position: relative;
}
.bsl-tools-stepper .hole-result {
  background-color: var(--hole-green);
}
.bsl-tools-stepper .hole-result.rule-hole {
  padding: 0;
}
.bsl-tools-stepper .hole-error {
  background-color: var(--hole-red);
}
.bsl-tools-stepper .rule {
  display: inline-block;
  position: relative;
  padding-left: .5em;
  width: fit-content;
  white-space: nowrap;
  margin-top: 1em;
  margin-bottom: 1.5em;
}
.bsl-tools-stepper .kong {
  position: absolute;
  left: 0;
  top: 0;
  padding-left: 0;
  background-color: rgba(255,255,255,0.5);
}
.bsl-tools-stepper .one-rule {
  margin-left: var(--one-rule-margin-left, 4em);
}
.bsl-tools-stepper .rule-description {
  font-family: var(--font-family-monospace, monospace);
}

/* arrow body */
.bsl-tools-stepper .left-arrowed::before {
  position: absolute;
  content: '';
  left: 0;
  top: -0.5em;
  height: 2.5em;
  border-left: 2px solid var(--text-grey);
  z-index: -1;
}
.bsl-tools-stepper .kong::before {
  left: 0.35em;
  border-left: 2px dotted var(--text-grey);
}

/* arrow head */
.bsl-tools-stepper .left-arrowed::after {
  position: absolute;
  content: '';
  left: calc(2px - 0.35em); /*-0.35em; /* ca. sqrt(2)/2 * 0.5em */
  top: 1.5em;
  width: 0.5em;
  height: 0.5em;
  border-right: 2px solid var(--text-grey);
  border-bottom: 2px solid var(--text-grey);
  transform: rotate(45deg);
}
.bsl-tools-stepper .kong::after {
  left: 2px;
}
/* rule info */
.bsl-tools-stepper .info-toggle {
  margin-top: 1em;
  margin-bottom: 1.5em;
  margin-left: 0.5em;
  float: right;
}
.bsl-tools-stepper .info-toggle:hover {
  cursor: pointer;
}
.bsl-tools-stepper .rule-info {
  padding: 0.5em;
}
.bsl-tools-stepper .rule-info-rule-text {
  font-family: var(--font-family-rule-description, serif);
}
.bsl-tools-stepper .rule-info-rule-text small {
  vertical-align: sub;
}
.bsl-tools-stepper cap {
  font-variant-caps: small-caps;
}
.bsl-tools-stepper .rule-info-rule-name {
  position: absolute;
  left: -6em;
  top: 0;
}
.bsl-tools-stepper .rule-info-text-container {
  position: relative;
  margin-left: 6em;
  margin-bottom: 1em;
}

/* ##### showing and hiding stuff #### */
/* hide steps that are not yet reached */
.bsl-tools-stepper .step[data-currentStep="true"] ~ .step {
  display: none;
}
/* collapsing and expanding steps */
.bsl-tools-stepper .step[data-collapsed="true"] .plug-result {
  display: none;
}
.bsl-tools-stepper .expander, .bsl-tools-stepper .collapser {
  padding-left: 0.25em;
  padding-right: 0.25em;
  float: right;
}
.bsl-tools-stepper .expander:hover, .bsl-tools-stepper .collapser:hover {
  cursor: pointer;
}
.bsl-tools-stepper .step[data-collapsed="true"] .collapser {
  display: none;
}
.bsl-tools-stepper .step[data-collapsed="false"] .expander {
  display: none;
}
/* collapsing and expanding info about the rules */
.bsl-tools-stepper .plug-result[data-info-collapsed="true"] .rule-info,
.bsl-tools-stepper .plug-result[data-info-collapsed="true"] .info-collapse {
  display: none;
}
.bsl-tools-stepper .plug-result[data-info-collapsed="false"] .info-expand {
  display: none;
}
`;var De="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODQgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMzUyIDM1MmMtOC4xODggMC0xNi4zOC0zLjEyNS0yMi42Mi05LjM3NUwxOTIgMjA1LjNsLTEzNy40IDEzNy40Yy0xMi41IDEyLjUtMzIuNzUgMTIuNS00NS4yNSAwcy0xMi41LTMyLjc1IDAtNDUuMjVsMTYwLTE2MGMxMi41LTEyLjUgMzIuNzUtMTIuNSA0NS4yNSAwbDE2MCAxNjBjMTIuNSAxMi41IDEyLjUgMzIuNzUgMCA0NS4yNUMzNjguNCAzNDguOSAzNjAuMiAzNTIgMzUyIDM1MnoiLz48L3N2Zz4=";var Me="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODQgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMTkyIDM4NGMtOC4xODggMC0xNi4zOC0zLjEyNS0yMi42Mi05LjM3NWwtMTYwLTE2MGMtMTIuNS0xMi41LTEyLjUtMzIuNzUgMC00NS4yNXMzMi43NS0xMi41IDQ1LjI1IDBMMTkyIDMwNi44bDEzNy40LTEzNy40YzEyLjUtMTIuNSAzMi43NS0xMi41IDQ1LjI1IDBzMTIuNSAzMi43NSAwIDQ1LjI1bC0xNjAgMTYwQzIwOC40IDM4MC45IDIwMC4yIDM4NCAxOTIgMzg0eiIvPjwvc3ZnPg==";var Jt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNNDMyIDI1NmMwIDE3LjY5LTE0LjMzIDMyLjAxLTMyIDMyLjAxSDI1NnYxNDRjMCAxNy42OS0xNC4zMyAzMS45OS0zMiAzMS45OXMtMzItMTQuMy0zMi0zMS45OXYtMTQ0SDQ4Yy0xNy42NyAwLTMyLTE0LjMyLTMyLTMyLjAxczE0LjMzLTMxLjk5IDMyLTMxLjk5SDE5MnYtMTQ0YzAtMTcuNjkgMTQuMzMtMzIuMDEgMzItMzIuMDFzMzIgMTQuMzIgMzIgMzIuMDF2MTQ0aDE0NEM0MTcuNyAyMjQgNDMyIDIzOC4zIDQzMiAyNTZ6Ii8+PC9zdmc+";var Wt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNNDAwIDI4OGgtMzUyYy0xNy42OSAwLTMyLTE0LjMyLTMyLTMyLjAxczE0LjMxLTMxLjk5IDMyLTMxLjk5aDM1MmMxNy42OSAwIDMyIDE0LjMgMzIgMzEuOTlTNDE3LjcgMjg4IDQwMCAyODh6Ii8+PC9zdmc+";var Ge="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMjU2IDBDMTE0LjYgMCAwIDExNC42IDAgMjU2czExNC42IDI1NiAyNTYgMjU2czI1Ni0xMTQuNiAyNTYtMjU2UzM5Ny40IDAgMjU2IDB6TTI1NiAxMjhjMTcuNjcgMCAzMiAxNC4zMyAzMiAzMmMwIDE3LjY3LTE0LjMzIDMyLTMyIDMyUzIyNCAxNzcuNyAyMjQgMTYwQzIyNCAxNDIuMyAyMzguMyAxMjggMjU2IDEyOHpNMjk2IDM4NGgtODBDMjAyLjggMzg0IDE5MiAzNzMuMyAxOTIgMzYwczEwLjc1LTI0IDI0LTI0aDE2di02NEgyMjRjLTEzLjI1IDAtMjQtMTAuNzUtMjQtMjRTMjEwLjggMjI0IDIyNCAyMjRoMzJjMTMuMjUgMCAyNCAxMC43NSAyNCAyNHY4OGgxNmMxMy4yNSAwIDI0IDEwLjc1IDI0IDI0UzMwOS4zIDM4NCAyOTYgMzg0eiIvPjwvc3ZnPg==";var Qe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMCAyNTZDMCAxMTQuNiAxMTQuNiAwIDI1NiAwQzM5Ny40IDAgNTEyIDExNC42IDUxMiAyNTZDNTEyIDM5Ny40IDM5Ny40IDUxMiAyNTYgNTEyQzExNC42IDUxMiAwIDM5Ny40IDAgMjU2ek0xNzUgMjA4LjFMMjIyLjEgMjU1LjFMMTc1IDMwM0MxNjUuNyAzMTIuNCAxNjUuNyAzMjcuNiAxNzUgMzM2LjFDMTg0LjQgMzQ2LjMgMTk5LjYgMzQ2LjMgMjA4LjEgMzM2LjFMMjU1LjEgMjg5LjlMMzAzIDMzNi4xQzMxMi40IDM0Ni4zIDMyNy42IDM0Ni4zIDMzNi4xIDMzNi4xQzM0Ni4zIDMyNy42IDM0Ni4zIDMxMi40IDMzNi4xIDMwM0wyODkuOSAyNTUuMUwzMzYuMSAyMDguMUMzNDYuMyAxOTkuNiAzNDYuMyAxODQuNCAzMzYuMSAxNzVDMzI3LjYgMTY1LjcgMzEyLjQgMTY1LjcgMzAzIDE3NUwyNTUuMSAyMjIuMUwyMDguMSAxNzVDMTk5LjYgMTY1LjcgMTg0LjQgMTY1LjcgMTc1IDE3NUMxNjUuNyAxODQuNCAxNjUuNyAxOTkuNiAxNzUgMjA4LjFWMjA4LjF6Ii8+PC9zdmc+";function Qt(){Array.from(document.getElementsByTagName("stepper")).map(e=>{try{let n=Re(ne(e.innerHTML));console.log(te(Ct(n),30)),Rr(n,e)}catch(n){Lr(n,e)}})}function Lr(e,n){console.error(e);let t=e?`${e}`:"Unknown Error";n.innerHTML=`
    <h3>Error turning Program into Stepper</h3>
    <div>${n.innerHTML}</div>
    <div>${t}</div>
  `,n.style.cssText=`
    padding: 2em;
    color: darkred;
    display: block;
  `}function Rr(e,n){$r();let t=Ot(e);if(t instanceof Error)throw t;let r=Ar(n),s=Pr(n);n.innerHTML=Br(t,r,s)}function $r(){if(!document.getElementById("bsl-tools-stepper-style")){let e=document.createElement("style");e.innerHTML=Kt,e.id="bsl-tools-stepper-style",document.getElementsByTagName("head")[0].appendChild(e)}}function Ar(e){let n=e.getAttribute("lang");if(n){if(!Gt.includes(n))return console.error(`
        Language ${n} is not implemented for this module,
        you can choose from ${Gt.join(",")}.
        Defaulting to 'en'.
      `),"en"}else return"en";return n}function Pr(e){let n="Loading...";e.innerHTML=`
    <div class="bsl-tools-stepper" style="width: 100%;">
      <div class="box">
        <div class="step code"
             data-currentStep="true">
          <p style="display: inline-block;">${n}</p>
        </div>
      </div>
    </div>
  `;let t=e.getElementsByTagName("p")[0],r=e.getElementsByClassName("bsl-tools-stepper")[0];if(!t||!r)return console.error("failed to inject measuring HTML into",e),{charWidth:12,maxChars:80};let s=t.clientWidth/n.length,u=Math.round(.9*r.clientWidth/s);return{charWidth:s,maxChars:u}}var Gt=["en","de"],F={en:{"current evaluation":"Current Evaluation","next step":"Next Step","previous step":"Previous Step",environment:"Environment","remaining program":"Remaining Program","start evaluation":"Start Evaluation","evaluation finished":"Evaluation Finished","go back":"Go Back"},de:{"current evaluation":"Aktuelle Auswertung","next step":"N\xE4chster Schritt","previous step":"Vorheriger Schritt",environment:"Umgebung","remaining program":"Verbleibendes Programm","start evaluation":"Auswertung Starten","evaluation finished":"Auswertung Beendet","go back":"Schritt zur\xFCck"}};function Br(e,n,t){let r=e.progSteps;return`
    <div class="bsl-tools-stepper">

       <div class="box environment">
         <div class="boxlabel">${F[n].environment}</div>
         ${r.map((s,l)=>Ir(s,l,t)).join("")}
       </div>

       <div class="box eval-steps"
            data-progstep="-1"
            data-visible="true">
         <div class="boxlabel">${F[n]["current evaluation"]}</div>
         <div class="step"
              data-currentStep="true">
           <div class="next-button"
                onclick="takeProgSteps(event, 1)">
             ${F[n]["start evaluation"]} <img class="icon" src="${Me}">
           </div>
         </div>
       </div>

       ${r.map((s,l)=>Ur(s,l,n,t)).join("")}

       <div class="box eval-steps"
            data-progstep="${r.length}"
            data-visible="false">
         <div class="boxlabel">${F[n]["current evaluation"]}</div>
         <div class="step"
              data-currentStep="true">
            <div class="code">${F[n]["evaluation finished"]}</div>
            <div class="prev-button"
                 onclick="takeProgSteps(event, -1)">
              ${F[n]["go back"]} <img class="icon" src="${De}">
            </div>
         </div>
       </div>

       <div class="box program">
         <div class="boxlabel">${F[n]["remaining program"]}</div>
         ${r.map((s,l)=>wr(s,l,t)).join("")}
       </div>

    </div>`}window.takeProgSteps=(e,n)=>{Xe(e,n)};function Ir(e,n,t){return $e(e)?`
      <div class="step code"
           data-progstep="${n}"
           data-visible="false">
        ${te(I(Ee(e.result)),t.maxChars,"html")}
      </div>
    `:""}function wr(e,n,t){return`
    <div class="step code"
         data-progstep="${n}"
         data-visible="true">
      ${te(I(le(e.originalDefOrExpr)),t.maxChars,"html")}
    </div>
  `}function Ur(e,n,t,r){let s=$e(e)&&z(e.originalDefOrExpr)?{left:`(define ${e.originalDefOrExpr.name.symbol} `,right:")"}:{left:"",right:""};return`
    <div class="box eval-steps"
         data-progstep="${n}"
         data-visible="false">
      <div class="boxlabel">${F[t]["current evaluation"]}</div>
      ${e.evalSteps.map((l,u)=>Hr(u,l,t,J({},s),r)).join("")}
      ${kr(e,t,r)}

    </div>
  `}function kr(e,n,t){return`
  <div class="step"
       data-step="${e.evalSteps.length}"
       data-currentStep="${e.evalSteps.length===0?"true":"false"}"
       data-collapsed="false">
    <div class="prev-button"
         onclick="prevStep(event)">
      ${F[n]["previous step"]} <img class="icon" src="${De}">
    </div>
    <div class="next-button"
         onclick="nextStep(event)">
      ${F[n]["next step"]} <img class="icon" src="${Me}">
    </div>

    <div class="plug-result code"
         data-info-collapsed="true">
      ${te(I($e(e)?Ee(e.result):`${e.result instanceof Error?e.result:ae(e.result)}`),t.maxChars)}
      <img class="icon info-toggle info-expand"
              src="${Ge}"
              onclick="expandInfo(event)">
      <img class="icon info-toggle info-collapse"
              src="${Qe}"
              onclick="collapseInfo(event)">
      ${Yt("Prog",!1)}
    </div>
  </div>
  `}function Xe(e,n){let t=e.target,r=t.getBoundingClientRect().y,s=U(t,"eval-steps");if(!s){console.error("found no parent with class .eval-steps",t);return}let l=s.getAttribute("data-progstep");if(!l){console.error("div with class .eval-steps has no data-progstep attribute",s);return}let p=parseInt(l)+n;if(p<-1){console.error(`cannot navigate to progStep ${p}: does not exist`);return}let m=s.parentElement;if(!m)return;Fr(m,p),Dr(m,p);let y=Mr(m,p);Nr(y,r,n>0)}function Fr(e,n){w([e],".environment/div").forEach(t=>{let r=t.getAttribute("data-progstep");r&&t.setAttribute("data-visible",parseInt(r)<n?"true":"false")})}function Dr(e,n){w([e],".program/div").forEach(t=>{let r=t.getAttribute("data-progstep");r&&t.setAttribute("data-visible",parseInt(r)>n?"true":"false")})}function Mr(e,n){return w([e],".eval-steps").filter(t=>{let r=t.getAttribute("data-progstep"),s=r&&parseInt(r)===n;return t.setAttribute("data-visible",s?"true":"false"),s})[0]}function Nr(e,n,t){let r=Array.from(e.children).filter(u=>u.getAttribute("data-currentstep")==="true")[0];if(!r)return;let s=r.querySelector(t?".next-button":".prev-button");if(!s)return;let l=s.getBoundingClientRect().y;window.scrollBy(0,l-n)}function Hr(e,n,t,r={left:"",right:""},s){let l=qe(n.rule)?Xt(n.rule.context,r):r,u=qe(n.rule)?n.rule.redexRule:n.rule,p=I(Or(u.redex));function m(N){if(k(N)){let V=ae(N);return{html:`${l.left}<span class="hole hole-result">${I(V)}</span>${l.right}`,redex:V}}else if(N instanceof Error){let V=`${N}`,G=`<span class="hole hole-result hole-error">"${N}"</span>`;return{redex:V,html:G}}else{let V=_(N),G=`${l.left}<span class="hole hole-result">${I(V)}</span>${l.right}`;return{redex:V,html:G}}}let y=m(u.result),S=u.type,d=te(`${l.left}<span class="hole">${p}</span>${l.right}`,s.maxChars,"html"),T=te(y.html,s.maxChars,"html"),h=T.slice(0,T.indexOf('<span class="hole hole-result')).split("<br>").reverse()[0],E=h?ne(h).length:0,P=4,se=l.left.length>0&&E<P?P:E,D=pe[S].name.replaceAll("<cap>","").replaceAll("</cap>",""),ie=s.maxChars-se-D.length-5,be=p.length+y.redex.length<=ie;return`
    <div class="step"
         data-step="${e}"
         data-currentStep="${e===0?"true":"false"}"
         data-collapsed="false">
      <div class="prev-button"
           onclick="prevStep(event)">
        ${F[t]["previous step"]} <img class="icon" src="${De}">
      </div>
      <div class="next-button"
           onclick="nextStep(event)">
        ${F[t]["next step"]} <img class="icon" src="${Me}">
      </div>

      <div class="split-result code">${d}<img class="icon expander"
              src="${Jt}"
              onclick="expand(event)"
        ><img class="icon collapser"
              src="${Wt}"
              onclick="collapse(event)"
      ></div>

      <div class="plug-result code"
           data-info-collapsed="true">
        <div>
          ${l.left!==""?`<span class="rule rule-name left-arrowed kong">
                 ${pe.Kong.name}
              </span>`:""}

          <span class="rule left-arrowed one-rule"
                style="--one-rule-margin-left: ${se*s.charWidth}px">
             <span class="rule-name">${pe[S].name}</span>${be?`:
                   <span class="rule-description">
                     <span class="hole rule-hole">${p}</span> \u2192
                     <span class="hole hole-result rule-hole">${I(y.redex)}</span>
                   </span>`:""}
           </span>

           <img src="${Ge}"
                class="icon info-toggle info-expand"
                onclick="expandInfo(event)">
           <img src="${Qe}"
                class="icon info-toggle info-collapse"
                onclick="collapseInfo(event)">

        </div>
        ${Yt(S,l.left!=="")}
        <div>${T}</div>
      </div>

    </div>
  `}window.nextStep=e=>{let n=e.target,t=n.getBoundingClientRect().y,r=U(n,"step");if(!r)return;let s=r.nextElementSibling;if(!s){Xe(e,1);return}r.setAttribute("data-currentStep","false"),r.setAttribute("data-collapsed","true"),s.setAttribute("data-currentStep","true"),s.setAttribute("data-collapsed","false");let l=s.querySelector(".next-button");if(!l)return;let u=l.getBoundingClientRect().y;window.scrollBy(0,u-t)};window.prevStep=e=>{let n=e.target,t=n.getBoundingClientRect().y,r=U(n,"step");if(!r){console.error("prevStep not called from within an element of the .step class");return}if(r.getAttribute("data-step")==="0"){Xe(e,-1);return}let l=r.previousElementSibling;if(!l){console.error("prevStep called on a step with no previous html element");return}r.setAttribute("data-currentStep","false"),r.setAttribute("data-collapsed","true"),l.setAttribute("data-currentStep","true"),l.setAttribute("data-collapsed","false");let u=l.querySelector(".prev-button");if(!u)return;let p=u.getBoundingClientRect().y;window.scrollBy(0,p-t)};window.collapse=e=>{let n=e.target,t=U(n,"step");t&&t.setAttribute("data-collapsed","true")};window.expand=e=>{let n=e.target,t=U(n,"step");t&&t.setAttribute("data-collapsed","false")};function Xt(e,n={left:"",right:""}){if(Pe(e))return{left:I(n.left),right:I(n.right)};if(Be(e)){let t=[v(e.op),...e.values.map(r=>q(r)?ae(r):`${r}`)];n.left=`${n.left}(${t.join(" ")} `,n.right=e.args.length>0?` ${e.args.map(_).join(" ")})${n.right}`:`)${n.right}`}else if(Ie(e)){n.left=`${n.left}(cond [`;let t=[`${_(e.options[0].result)}]`,...e.options.slice(1).map(ee)];n.right=` ${t.join(" ")})${n.right}`}else throw console.error("Printing this context is not implemented yet",e),`Printing ${e.type} context is not implemented yet!`;return Xt(e.ctx,n)}function Vr(e){return k(e)?ae(e):zr(e)}function Or(e){if(me(e))return`(${v(e.name)} ${e.args.map(Vr).join(" ")})`;if(Se(e))return`(cond ${e.options.map(ee).join(" ")})`;if(ge(e))return e.symbol;throw"Invalid Input to printRedex"}function zr(e){return e.symbol}function Yt(e,n){let t=pe[e];return`<div class="rule-info">${n?`
            <div class="rule-info-text-container">
              <div class="rule-info-rule-name">${pe.Kong.name}</div>
              <div class="rule-info-rule-text">${pe.Kong.text}</div>
            </div>
           `:""}
         <div class="rule-info-text-container">
           <div class="rule-info-rule-name">${t.name}</div>
           <div class="rule-info-rule-text">${t.text}</div>
         </div>
         </div>`}window.expandInfo=e=>{let n=e.target,t=U(n,"plug-result");!t||t.setAttribute("data-info-collapsed","false")};window.collapseInfo=e=>{let n=e.target,t=U(n,"plug-result");t&&t.setAttribute("data-info-collapsed","true")};var pe={Kong:{name:"<cap>Kong</cap>",text:`
      <em>E[e<small>1</small>] \u2192 E[e<small>2</small>] falls e<small>1</small> \u2192 e<small>2</small></em><br>
      <em>\u2039E\u203A ::= []<br>
      &nbsp;&nbsp;&nbsp;| (\u2039name\u203A \u2039v\u203A* \u2039E\u203A \u2039e\u203A*)<br>
      &nbsp;&nbsp;&nbsp;| (<strong>cond</strong> [\u2039E\u203A \u2039e\u203A ]{[ \u2039e\u203A \u2039e\u203A]}*)</em>
    `},Fun:{name:"<cap>Fun</cap>",text:`
      <em>(name v<small>1</small> \u2026 v<small>n</small>) \u2192
      e[name<small>1</small> := v<small>1</small> \u2026 name<small>n</small> := v<small>n</small> ]</em>
      falls
      <em>(</em> <strong>define</strong> <em>(name name<small>1</small> \u2026 name<small>n</small>) e)</em> in Umgebung
    `},FunError:{name:"<cap>FunError</cap>",text:`
      <em>(name v<small>1</small> \u2026 v<small>n</small>) \u2192 Error</em>
      falls
      <em>(</em> <strong>define</strong> <em>(name name<small>1</small> \u2026 name<small>n</small>) e)</em> nicht in Umgebung.
    `},Prim:{name:"<cap>Prim</cap>",text:`
      <em>(name v<small>1</small> \u2026 v<small>n</small>) \u2192 v</em> falls
      <em>name</em> eine primitive Funktion <em>f</em> ist und
      <em>f(v<small>1</small> \u2026 v<small>n</small>) = v</em>
    `},PrimError:{name:"<cap>Prim</cap>-Error",text:`
      <em>(name v<small>1</small> \u2026 v<small>n</small>) \u2192 Error</em> falls
      <em>name</em> eine primitive Funktion <em>f</em> ist und
      <em>f(v<small>1</small> \u2026 v<small>n</small>) = Error</em>
    `},Const:{name:"<cap>Const</cap>",text:`
      <em>name \u2192 v</em> falls <em>(<strong>define</strong> name v)</em> in Umgebung.
    `},ConstError:{name:"<cap>Const</cap>-Error",text:`
      <em>name \u2192 Error</em> falls <em>(<strong>define</strong> name v)</em>
      nicht in Umgebung.
    `},CondTrue:{name:"<cap>Cond</cap>-True",text:`
      <em>(<strong>cond</strong> [<strong>#true</strong> e] \u2026) \u2192 e</em>
    `},CondFalse:{name:"<cap>Cond</cap>-False",text:`
      <em>(<strong>cond</strong> [<strong>#false</strong> e<small>1</small>]
         [e<small>2</small> e<small>3</small>] \u2026) \u2192
         (<strong>cond</strong> [e<small>2</small> e<small>3</small>] \u2026)</em>
    `},CondError:{name:"<cap>Cond</cap>-Error",text:`
      <em>(<strong>cond</strong> [e<small>1</small> e<small>2</small>] \u2026) \u2192
          (<strong>error</strong> "cond: all conditions false")</em>
    `},StructMake:{name:"<cap>Struct</cap>-make",text:`
      <em>(<strong>make</strong>-name v<small>1</small> \u2026 v<small>n</small>) \u2192
      &lt;<strong>make</strong>-name v<small>1</small> \u2026 v<small>n</small>&gt;</em>
      falls <em>(<strong>define-struct</strong> name (name<small>1</small> \u2026 name<small>n</small>))</em> in Umgebung
    `},StructMakeError:{name:"<cap>Struct</cap>-make-Error",text:""},StructSelect:{name:"<cap>Struct</cap>-select",text:`
      <em>(name-name<small>i</small> &lt;<strong>make</strong>-name
        v<small>1</small> \u2026 v<small>n</small>&gt;) \u2192 v<small>i</small></em>
        falls <em>(<strong>define-struct</strong> name
          (name<small>1</small> \u2026 name<small>n</small>))</em> in Umgebung
    `},StructSelectError:{name:"<cap>Struct</cap>-select-Error",text:""},StructPredTrue:{name:"<cap>Struct</cap>-predtrue",text:`
      <em>(name? &lt;<strong>make</strong>-name \u2026&gt;) \u2192 <strong>#true</strong></em>
    `},StructPredFalse:{name:"<cap>Struct</cap>-predfalse",text:`
      <em>(name? v) \u2192 <strong>#false</strong></em> falls <em>v</em> nicht
      <em>&lt;<strong>make</strong>-name \u2026&gt;</em> ist
    `},StructPredError:{name:"<cap>Struct</cap>-prederror",text:""},Prog:{name:"<cap>Prog</cap>",text:`
      Ein Programm wird von links nach rechts ausgef\xFChrt und startet mit der
      leeren Umgebung. Ist das n\xE4chste Programmelement eine Funktions- oder
      Strukturdefinition, so wird diese Definition in die Umgebung aufgenommen
      und die Ausf\xFChrung mit dem n\xE4chsten Programmelement in der erweiterten
      Umgebung fortgesetzt. Ist das n\xE4chste Programmelement ein Ausdruck, so
      wird dieser gem\xE4\xDF der unten stehenden Regeln in der aktuellen Umgebung zu
      einem Wert ausgewert. Ist das n\xE4chste Programmelement eine
      Konstantendefinition <em>(<strong>define</strong> x e)</em>, so wird in
      der aktuellen Umgebung zun\xE4chst <em>e</em> zu einem Wert <em>v</em>
      ausgewertet und dann <em>(<strong>define</strong> x v)</em> zur aktuellen
      Umgebung hinzugef\xFCgt.
    `},ProgError:{name:"<cap>Prog</cap>-Error",text:`
    Ein Programm wird von links nach rechts ausgef\xFChrt und startet mit der
    leeren Umgebung. Ist das n\xE4chste Programmelement eine Funktions- oder
    Strukturdefinition, so wird diese Definition in die Umgebung aufgenommen
    und die Ausf\xFChrung mit dem n\xE4chsten Programmelement in der erweiterten
    Umgebung fortgesetzt. Sofern die Definition allerdings schon in der Umgebung
    vorhanden ist, wird ein Fehler ausgegeben.
    `}};window.onload=()=>{wt(),Ut(),Qt()};})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL0JTTF9BU1QudHMiLCAiLi4vc3JjL0JTTF9QcmludC50cyIsICIuLi9zcmMvRE9NX0hlbHBlcnMudHMiLCAiLi4vc3JjL1Byb2R1Y3Rpb25fVHJlZS50cyIsICIuLi9zcmMvQlNMX1BhcnNlci50cyIsICIuLi9zcmMvQlNMX1RyZWUudHMiLCAiLi4vc3JjL0pTT05fVHJlZS50cyIsICIuLi9zcmMvU0lfU1RSVUNULnRzIiwgIi4uL3NyYy9TSS50cyIsICIuLi9zcmMvU0lfUmVuZGVyZXIudHMiLCAiLi4vc3JjL2JzbF90b29scy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiZXhwb3J0IGVudW0gUHJvZHVjdGlvbiB7XG4gIEZ1bmN0aW9uRGVmaW5pdGlvbiA9ICdGdW5jdGlvbiBEZWZpbml0aW9uJyxcbiAgQ29uc3RhbnREZWZpbml0aW9uID0gJ0NvbnN0YW50IERlZmluaXRpb24nLFxuICBTdHJ1Y3REZWZpbml0aW9uID0gJ1N0cnVjdCBEZWZpbml0aW9uJyxcbiAgRnVuY3Rpb25DYWxsID0gJ0Z1bmN0aW9uIENhbGwnLFxuICBDb25kRXhwcmVzc2lvbiA9ICdDb25kLUV4cHJlc3Npb24nLFxuICBDb25kT3B0aW9uID0gJ0NvbmQtT3B0aW9uJyxcbiAgU3ltYm9sID0gJ1N5bWJvbCcsXG4gIExpdGVyYWwgPSAnTGl0ZXJhbCBWYWx1ZScsXG4gIFN0cnVjdFZhbHVlID0gJ1N0cnVjdCBWYWx1ZScsXG4gIE51bWJlciA9ICdOdW1iZXInXG59XG5cbmV4cG9ydCB0eXBlIHByb2dyYW0gPSBkZWZPckV4cHJbXTtcblxuZXhwb3J0IHR5cGUgZGVmT3JFeHByID0gZGVmaW5pdGlvbiB8IGV4cHI7XG5leHBvcnQgdHlwZSBkZWZpbml0aW9uID0gRnVuRGVmIHwgQ29uc3REZWYgfCBTdHJ1Y3REZWY7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRnVuRGVme1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uRnVuY3Rpb25EZWZpbml0aW9uO1xuICAgIG5hbWU6IE5hbWU7XG4gICAgYXJnczogTmFtZVtdO1xuICAgIGJvZHk6IGV4cHI7XG59XG5leHBvcnQgaW50ZXJmYWNlIENvbnN0RGVme1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uQ29uc3RhbnREZWZpbml0aW9uO1xuICAgIG5hbWU6IE5hbWU7XG4gICAgdmFsdWU6IGV4cHI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdERlZntcbiAgICB0eXBlOiBQcm9kdWN0aW9uLlN0cnVjdERlZmluaXRpb247XG4gICAgYmluZGluZzogTmFtZTtcbiAgICBwcm9wZXJ0aWVzOiBOYW1lW107XG59O1xuZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3RWYWx1ZXtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLlN0cnVjdFZhbHVlO1xuICAgIHN0cnVjdERlZjogTmFtZTtcbiAgICBwcm9wZXJ0aWVzOiBMaXRlcmFsW107XG59O1xuXG5leHBvcnQgdHlwZSBleHByID0gQ2FsbCB8IENvbmQgfCBOYW1lIHwgTGl0ZXJhbDtcblxuZXhwb3J0IGludGVyZmFjZSBDYWxse1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uRnVuY3Rpb25DYWxsO1xuICAgIG5hbWU6IE5hbWU7XG4gICAgYXJnczogZXhwcltdO1xufTtcbmV4cG9ydCBpbnRlcmZhY2UgQ2xhdXNle1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uQ29uZE9wdGlvbixcbiAgICBjb25kaXRpb246IGV4cHI7XG4gICAgcmVzdWx0OiBleHByO1xufVxuZXhwb3J0IGludGVyZmFjZSBDb25ke1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uQ29uZEV4cHJlc3Npb247XG4gICAgb3B0aW9uczogQ2xhdXNlW11cbn1cbmV4cG9ydCBpbnRlcmZhY2UgTmFtZXtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLlN5bWJvbDtcbiAgICBzeW1ib2w6c3RyaW5nO1xufTtcbmV4cG9ydCBpbnRlcmZhY2UgTGl0ZXJhbCB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgIHZhbHVlOiBib29sZWFuIHwgc3RyaW5nIHwgbnVtYmVyIHwgYCcoKWAgfCBTdHJ1Y3RWYWx1ZTtcbn1cblxuLy8gcnVudGltZSB0eXBlIGNoZWNraW5nXG5leHBvcnQgZnVuY3Rpb24gaXNEZWZpbml0aW9uKG9iajogYW55KTogb2JqIGlzIGRlZmluaXRpb24ge1xuICByZXR1cm4gaXNGdW5EZWYob2JqKSB8fCBpc0NvbnN0RGVmKG9iaikgfHwgaXNTdHJ1Y3REZWYob2JqKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bkRlZihvYmo6IGFueSk6IG9iaiBpcyBGdW5EZWYge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uRnVuY3Rpb25EZWZpbml0aW9uO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uc3REZWYob2JqOiBhbnkpOiBvYmogaXMgQ29uc3REZWYge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ29uc3RhbnREZWZpbml0aW9uO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RydWN0RGVmKG9iajogYW55KTogb2JqIGlzIFN0cnVjdERlZiB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5TdHJ1Y3REZWZpbml0aW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFeHByKG9iajogYW55KTogb2JqIGlzIGV4cHIge1xuICByZXR1cm4gaXNDYWxsKG9iaikgfHwgaXNDb25kKG9iaikgfHwgaXNOYW1lKG9iaikgfHwgaXNMaXRlcmFsKG9iaik7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDYWxsKG9iajogYW55KTogb2JqIGlzIENhbGwge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uRnVuY3Rpb25DYWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uZChvYmo6IGFueSk6IG9iaiBpcyBDb25kIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkNvbmRFeHByZXNzaW9uO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTmFtZShvYmo6IGFueSk6IG9iaiBpcyBOYW1lIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlN5bWJvbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0xpdGVyYWwob2JqOiBhbnkpOiBvYmogaXMgTGl0ZXJhbCB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5MaXRlcmFsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyKG9iajogYW55KTogb2JqIGlzIG51bWJlciB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5OdW1iZXI7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTdHJ1Y3RWYWx1ZShvYmo6IGFueSk6IG9iaiBpcyBTdHJ1Y3RWYWx1ZSB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5TdHJ1Y3RWYWx1ZTtcbn0iLCAiaW1wb3J0ICogYXMgQlNMX0FTVCBmcm9tIFwiLi9CU0xfQVNUXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcHJpbnQocDogQlNMX0FTVC5wcm9ncmFtKTogc3RyaW5nIHtcbiAgcmV0dXJuIHAubWFwKHByaW50RGVmT3JFeHByKS5qb2luKFwiXFxuXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHByaW50RGVmT3JFeHByKGVvZDogQlNMX0FTVC5kZWZPckV4cHIpIHtcbiAgaWYgKEJTTF9BU1QuaXNEZWZpbml0aW9uKGVvZCkpIHtcbiAgICByZXR1cm4gcHJpbnREZWZpbml0aW9uKGVvZCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHByaW50RShlb2QpO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcHJpbnREZWZpbml0aW9uKGQ6IEJTTF9BU1QuZGVmaW5pdGlvbik6IHN0cmluZyB7XG4gIGlmIChCU0xfQVNULmlzRnVuRGVmKGQpKSB7XG4gICAgcmV0dXJuIGAoZGVmaW5lICgke3ByaW50TmFtZShkLm5hbWUpfSAke2QuYXJnc1xuICAgICAgLm1hcChwcmludE5hbWUpXG4gICAgICAuam9pbihcIiBcIil9KSAke3ByaW50RShkLmJvZHkpfSlgO1xuICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNDb25zdERlZihkKSkge1xuICAgIHJldHVybiBgKGRlZmluZSAke3ByaW50TmFtZShkLm5hbWUpfSAke3ByaW50RShkLnZhbHVlKX0pYDtcbiAgfSBlbHNlIGlmIChCU0xfQVNULmlzU3RydWN0RGVmKGQpKSB7XG4gICAgcmV0dXJuIGAoZGVmaW5lLXN0cnVjdCAke3ByaW50TmFtZShkLmJpbmRpbmcpfSAoJHtkLnByb3BlcnRpZXNcbiAgICAgIC5tYXAocHJpbnROYW1lKVxuICAgICAgLmpvaW4oXCIgXCIpfSkpYDtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBwcmludERlZmluaXRpb25cIik7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBwcmludEUoZTogQlNMX0FTVC5leHByKTogc3RyaW5nIHtcbiAgaWYgKEJTTF9BU1QuaXNDYWxsKGUpKSB7XG4gICAgcmV0dXJuIGAoJHtwcmludE5hbWUoZS5uYW1lKX0gJHtlLmFyZ3MubWFwKHByaW50RSkuam9pbihcIiBcIil9KWA7XG4gIH0gZWxzZSBpZiAoQlNMX0FTVC5pc0NvbmQoZSkpIHtcbiAgICByZXR1cm4gYChjb25kICR7ZS5vcHRpb25zLm1hcChwcmludE9wdGlvbikuam9pbihcIiBcIil9KWA7XG4gIH0gZWxzZSBpZiAoQlNMX0FTVC5pc05hbWUoZSkpIHtcbiAgICByZXR1cm4gcHJpbnROYW1lKGUpO1xuICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNMaXRlcmFsKGUpKSB7XG4gICAgICByZXR1cm4gcHJpbnRWYWx1ZShlLnZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBwcmludEVcIik7XG4gICAgcmV0dXJuIGA8JHtlfT5gO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmludFZhbHVlKHZhbDogYm9vbGVhbiB8IHN0cmluZyB8IG51bWJlciB8IEJTTF9BU1QuU3RydWN0VmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgJiYgdmFsICE9PSBgJygpYCkge1xuICAgIHJldHVybiBgXCIke3ZhbH1cImA7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gdmFsID8gXCIjdHJ1ZVwiIDogXCIjZmFsc2VcIjtcbiAgfVxuICBpZiAoQlNMX0FTVC5pc1N0cnVjdFZhbHVlKHZhbCkpIHtcbiAgcmV0dXJuIGA8JHtwcmludE5hbWUodmFsLnN0cnVjdERlZil9ICR7dmFsLnByb3BlcnRpZXMubWFwKHByaW50RSkuam9pbihcIiBcIil9PmA7XG59XG4gIGVsc2Uge1xuICAgIHJldHVybiBgJHt2YWx9YDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJpbnRPcHRpb24obzogQlNMX0FTVC5DbGF1c2UpIHtcbiAgcmV0dXJuIGBbJHtwcmludEUoby5jb25kaXRpb24pfSAke3ByaW50RShvLnJlc3VsdCl9XWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmludE5hbWUoczogQlNMX0FTVC5OYW1lKTogc3RyaW5nIHtcbiAgcmV0dXJuIHMuc3ltYm9sO1xufVxuXG5leHBvcnQgY29uc3QgdGVzdHByb2dyYW06IEJTTF9BU1QucHJvZ3JhbSA9IFtcbiAge1xuICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5GdW5jdGlvbkRlZmluaXRpb24sXG4gICAgbmFtZToge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgIHN5bWJvbDogXCJmXCIsXG4gICAgfSxcbiAgICBhcmdzOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgIHN5bWJvbDogXCJ4XCIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgICBzeW1ib2w6IFwieVwiLFxuICAgICAgfSxcbiAgICBdLFxuICAgIGJvZHk6IHtcbiAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5GdW5jdGlvbkNhbGwsXG4gICAgICBuYW1lOiB7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgIHN5bWJvbDogXCIrXCIsXG4gICAgICB9LFxuICAgICAgYXJnczogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgICAgICBzeW1ib2w6IFwieFwiLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgICAgICBzeW1ib2w6IFwieVwiLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9LFxuICB9LFxuICB7XG4gICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkNvbmRFeHByZXNzaW9uLFxuICAgIG9wdGlvbnM6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkNvbmRPcHRpb24sXG4gICAgICAgIGNvbmRpdGlvbjoge1xuICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5GdW5jdGlvbkNhbGwsXG4gICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgICAgICAgIHN5bWJvbDogXCI9XCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcmdzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgICAgICAgIHN5bWJvbDogXCJ4XCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICAgICAgICAgICAgdmFsdWU6IDMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHJlc3VsdDoge1xuICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgIHZhbHVlOiBcImlzVGhyZWVcIixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kT3B0aW9uLFxuICAgICAgICBjb25kaXRpb246IHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIHJlc3VsdDoge1xuICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgIHZhbHVlOiBgJygpYCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25zdGFudERlZmluaXRpb24sXG4gICAgbmFtZToge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgIHN5bWJvbDogXCJ4XCIsXG4gICAgfSxcbiAgICB2YWx1ZToge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgICB2YWx1ZTogNDIsXG4gICAgfSxcbiAgfSxcbiAge1xuICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TdHJ1Y3REZWZpbml0aW9uLFxuICAgIGJpbmRpbmc6IHtcbiAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICBzeW1ib2w6IFwibmFtZVwiLFxuICAgIH0sXG4gICAgcHJvcGVydGllczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgICBzeW1ib2w6IFwiZmlyc3ROYW1lXCIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgICBzeW1ib2w6IFwibGFzdE5hbWVcIixcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbl07XG5cbi8vIGluZGVudCBjb2RlIHRoYXQgaXMgd2lkZXIgdGhhbiBtYXhMZW5ndGggY2hhcmFjdGVyc1xuZXhwb3J0IGZ1bmN0aW9uIGluZGVudChcbiAgY29kZTogc3RyaW5nLFxuICBtYXhXaWR0aDogbnVtYmVyLFxuICBtb2RlOiBcImh0bWxcIiB8IFwidGV4dFwiID0gXCJ0ZXh0XCJcbik6IHN0cmluZyB7XG4gIC8vIGNvbnNvbGUubG9nKCdDb2RlIGJlZm9yZSBpbmRlbnRhdGlvbicsIGNvZGUpO1xuICAvLyBleHRyYWN0IHRlcm1zIGFuZCB0aGVpciB0aGVvcmV0aWNhbCBpbmRlbnRhdGlvbiBsZXZlbFxuICBsZXQgdGVybXM6IHsgdGVybTogc3RyaW5nOyBsZXZlbDogbnVtYmVyIH1bXSA9IFtdO1xuICBsZXQgbGV2ZWwgPSAwO1xuICBsZXQgbmV4dExldmVsID0gMDtcbiAgbGV0IG1heExldmVsID0gMDtcbiAgbGV0IGFjYyA9IFwiXCI7XG4gIGxldCBpblN0cmluZyA9IGZhbHNlO1xuICBsZXQgaW5UYWcgPSBmYWxzZTtcbiAgY29kZS5zcGxpdChcIlwiKS5mb3JFYWNoKChjaGFyKSA9PiB7XG4gICAgaWYgKGluU3RyaW5nICYmIGNoYXIgIT09ICdcIicpIHtcbiAgICAgIGFjYyArPSBjaGFyO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5UYWcgJiYgY2hhciAhPT0gXCI+XCIpIHtcbiAgICAgIGFjYyArPSBjaGFyO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgIGNhc2UgXCIoXCI6XG4gICAgICBjYXNlIFwiW1wiOlxuICAgICAgICBuZXh0TGV2ZWwrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiKVwiOlxuICAgICAgY2FzZSBcIl1cIjpcbiAgICAgICAgbmV4dExldmVsLS07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnXCInOlxuICAgICAgICBpblN0cmluZyA9ICFpblN0cmluZztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiPFwiOlxuICAgICAgICBpblRhZyA9IG1vZGUgPT09IFwiaHRtbFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCI+XCI6XG4gICAgICAgIGlmIChtb2RlID09PSBcImh0bWxcIikgaW5UYWcgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiIFwiOlxuICAgICAgY2FzZSBcIlxcblwiOlxuICAgICAgY2FzZSBcIlxcdFwiOlxuICAgICAgICBpZiAoIWFjYykgcmV0dXJuO1xuICAgICAgICB0ZXJtcy5wdXNoKHsgdGVybTogYWNjLCBsZXZlbDogbGV2ZWwgfSk7XG4gICAgICAgIGlmIChsZXZlbCA+IG1heExldmVsKSBtYXhMZXZlbCA9IGxldmVsO1xuICAgICAgICBhY2MgPSBcIlwiO1xuICAgICAgICBsZXZlbCA9IG5leHRMZXZlbDtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhY2MgKz0gY2hhcjtcbiAgICByZXR1cm47XG4gIH0pO1xuICBpZiAoYWNjICE9PSBcIlwiKSB7XG4gICAgdGVybXMucHVzaCh7IHRlcm06IGFjYywgbGV2ZWw6IGxldmVsIH0pO1xuICAgIGlmIChsZXZlbCA+IG1heExldmVsKSBtYXhMZXZlbCA9IGxldmVsO1xuICB9XG4gIC8vIGNvbnNvbGUubG9nKHRlcm1zKTtcbiAgLy8gYXBwZW5kIHRlcm1zIHN0YXJ0aW5nIGZyb20gdGhlIGluc2lkZVxuICBjb25zdCBqb2luZXIgPVxuICAgIG1vZGUgPT09IFwiaHRtbFwiXG4gICAgICA/IFwiPGJyPlwiXG4gICAgICA6IGBcbmA7XG4gIGZvciAobGV0IGxldmVsID0gbWF4TGV2ZWw7IGxldmVsID4gMDsgbGV2ZWwtLSkge1xuICAgIC8vIGdyb3VwIHRlcm1zXG4gICAgY29uc3QgbmV3VGVybXM6IHsgdGVybTogc3RyaW5nOyBsZXZlbDogbnVtYmVyOyBzdWJ0ZXJtczogc3RyaW5nW10gfVtdID0gW107XG4gICAgdGVybXMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgaWYgKHQubGV2ZWwgPCBsZXZlbCkge1xuICAgICAgICBuZXdUZXJtcy5wdXNoKHsgLi4udCwgc3VidGVybXM6IFtdIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3VGVybXNbbmV3VGVybXMubGVuZ3RoIC0gMV0uc3VidGVybXMucHVzaCh0LnRlcm0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIGFwcGVuZCBhbmQgY2hlY2sgaWYgd2UgbmVlZCB0byBzdGFydCBpbmRlbnRpbmdcbiAgICB0ZXJtcyA9IG5ld1Rlcm1zLm1hcCgodCkgPT4ge1xuICAgICAgY29uc3QgYWxyZWFkeUluZGVudGluZyA9IHQuc3VidGVybXMuc29tZSgocykgPT4gcy5pbmNsdWRlcyhqb2luZXIpKTtcbiAgICAgIGNvbnN0IHVuaW5kZW50ZWQgPSBgJHt0LnRlcm19JHtcbiAgICAgICAgdC5zdWJ0ZXJtcy5sZW5ndGggPiAwID8gXCIgXCIgOiBcIlwiXG4gICAgICB9JHt0LnN1YnRlcm1zLmpvaW4oXCIgXCIpfWA7XG4gICAgICBjb25zdCB1bmluZGVudGVkTGVuZ3RoID1cbiAgICAgICAgbW9kZSA9PT0gXCJodG1sXCIgPyBodG1sSWdub3JpbmdMZW5ndGgodW5pbmRlbnRlZCkgOiB1bmluZGVudGVkLmxlbmd0aDtcbiAgICAgIGlmIChhbHJlYWR5SW5kZW50aW5nIHx8IHVuaW5kZW50ZWRMZW5ndGggKyB0LmxldmVsID4gbWF4V2lkdGgpIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSB0LnN1YnRlcm1zLm1hcChcbiAgICAgICAgICAocykgPT5cbiAgICAgICAgICAgIGAke1xuICAgICAgICAgICAgICBtb2RlID09PSBcImh0bWxcIiA/IHJlcGVhdChcIiZuYnNwO1wiLCBsZXZlbCkgOiByZXBlYXQoXCIgXCIsIGxldmVsKVxuICAgICAgICAgICAgfSR7c31gXG4gICAgICAgICk7XG4gICAgICAgIHBhcnRzLnVuc2hpZnQodC50ZXJtKTtcbiAgICAgICAgY29uc3Qgam9pbmVyID1cbiAgICAgICAgICBtb2RlID09PSBcImh0bWxcIlxuICAgICAgICAgICAgPyBcIjxicj5cIlxuICAgICAgICAgICAgOiBgXG5gOyAvLyBsaXRlcmFsIG5ld2xpbmUgdG8gYmUgc2FmZVxuICAgICAgICBjb25zdCBhbGwgPSBgJHtwYXJ0cy5qb2luKGpvaW5lcil9YDtcbiAgICAgICAgcmV0dXJuIHsgdGVybTogYWxsLCBsZXZlbDogdC5sZXZlbCB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgdGVybTogdW5pbmRlbnRlZCwgbGV2ZWw6IHQubGV2ZWwgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBjb25zb2xlLmxvZyh0ZXJtcyk7XG4gIH1cbiAgLy8gbm93IHRoZXJlIHNob3VsZCBiZSBvbmx5IHRvcCBsZXZlbCB0ZXJtcyBsZWZ0XG4gIHJldHVybiB0ZXJtcy5tYXAoKHQpID0+IHQudGVybSkuam9pbihqb2luZXIpO1xufVxuXG4vLyByZXBlYXQgYSBzdHJpbmcgcyBuIHRpbWVzXG5mdW5jdGlvbiByZXBlYXQoczogc3RyaW5nLCBuOiBudW1iZXIpOiBzdHJpbmcge1xuICBsZXQgYWNjID0gXCJcIjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICBhY2MgKz0gcztcbiAgfVxuICByZXR1cm4gYWNjO1xufVxuLy8gbWVhc3VyZSB0aGUgbGVuZ3RoIG9mIGEgc3RyaW5nIHdoaWxlIGlnbm9yaW5nIGh0bWxcbmZ1bmN0aW9uIGh0bWxJZ25vcmluZ0xlbmd0aChzOiBzdHJpbmcpOiBudW1iZXIge1xuICBjb25zdCB0ZXN0RGl2OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHRlc3REaXYuaW5uZXJIVE1MID0gcztcbiAgcmV0dXJuIHRlc3REaXYudGV4dENvbnRlbnQgPyB0ZXN0RGl2LnRleHRDb250ZW50Lmxlbmd0aCA6IDA7XG59XG5cbi8vICMjIyMgcHJldmVudGluZyBwcm9ibGVtcyB3aXRoIGJyYWNrZXRzXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemUoczogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHMucmVwbGFjZUFsbChcIjxcIiwgXCImbHQ7XCIpLnJlcGxhY2VBbGwoXCI+XCIsIFwiJmd0O1wiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkaXJ0aWZ5KHM6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzXG4gICAgLnJlcGxhY2VBbGwoXCImbHQ7XCIsIFwiPFwiKVxuICAgIC5yZXBsYWNlQWxsKFwiJmd0O1wiLCBcIj5cIilcbiAgICAucmVwbGFjZUFsbChcIiZuYnNwO1wiLCBcIiBcIik7XG59XG4iLCAiLy8gbmF2aWdhdGUgdGhlIERPTSB1c2luZyBwYXRoIG5vdGF0aW9uXG4vLyAuLiAtPiBwYXJlbnRcbi8vICsgIC0+IG5leHQgc2libGluZ1xuLy8gLmNsYXNzIC0+IGFsbCBjaGlsZHJlbiB3aXRoIGEgY2xhc3Ncbi8vIHRhZyAtPiBhbGwgY2hpbGRyZW4gb2YgYSBjZXJ0YWluIHRhZ1xuLy8gZGl2aWRlZCBieSAvXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVET00ocG9zaXRpb25zOiBIVE1MRWxlbWVudFtdLCBwYXRoOiBzdHJpbmcsIHN0cmljdDogYm9vbGVhbiA9IGZhbHNlKTogSFRNTEVsZW1lbnRbXSB7XG4gIGlmIChwb3NpdGlvbnMubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG4gIGNvbnN0IHN0ZXBzID0gcGF0aC5zcGxpdCgnLycpO1xuICBjb25zdCBjdXJyU3RlcCA9IHN0ZXBzLnNoaWZ0KCkgYXMgc3RyaW5nO1xuICBpZiAoY3VyclN0ZXAgPT0gJycpIHJldHVybiBwb3NpdGlvbnM7XG4gIGNvbnN0IHJlc3RTdGVwcyA9IHN0ZXBzLmpvaW4oJy8nKTtcblxuICBsZXQgbmV3UG9zaXRpb25zID0gW107XG4gIGlmIChjdXJyU3RlcCA9PSAnLi4nKSB7XG4gICAgLy8gbmF2aWdhdGUgdXBcbiAgICBuZXdQb3NpdGlvbnMgPSBwb3NpdGlvbnMubWFwKHAgPT4gcC5wYXJlbnRFbGVtZW50KS5maWx0ZXIocCA9PiBwKTtcbiAgfSBlbHNlIGlmIChjdXJyU3RlcCA9PSAnKycpIHtcbiAgICAvLyBuYXZpZ2F0ZSBzaWRld2F5c1xuICAgIG5ld1Bvc2l0aW9ucyA9IHBvc2l0aW9ucy5tYXAocCA9PiBwLm5leHRFbGVtZW50U2libGluZykuZmlsdGVyKHAgPT4gcCk7XG4gIH0gZWxzZSBpZiAoY3VyclN0ZXAuc3RhcnRzV2l0aCgnLicpKSB7XG4gICAgLy8gbmF2aWdhdGUgZG93biArIGZpbHRlciBmb3IgY2xhc3NcbiAgICBjb25zdCBjbGFzc05hbWUgPSBjdXJyU3RlcC5zbGljZSgxKTtcbiAgICBuZXdQb3NpdGlvbnMgPSBwb3NpdGlvbnMuZmxhdE1hcChwID0+IEFycmF5LmZyb20ocC5jaGlsZHJlbikuZmlsdGVyKGMgPT4gYy5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkpO1xuICB9IGVsc2Uge1xuICAgIC8vIG5hdmlnYXRlIGRvd24gKyBmaWx0ZXIgZm9yIHRhZ1xuICAgIG5ld1Bvc2l0aW9ucyA9IHBvc2l0aW9ucy5mbGF0TWFwKHAgPT4gQXJyYXkuZnJvbShwLmNoaWxkcmVuKS5maWx0ZXIoYyA9PiBjLnRhZ05hbWUgPT0gY3VyclN0ZXAudG9VcHBlckNhc2UoKSkpO1xuICB9XG4gIGlmIChuZXdQb3NpdGlvbnMubGVuZ3RoID09PSAwICYmIHN0cmljdCkge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHRyYXZlcnNpbmcgJHtwYXRofTogTm8gZWxlbWVudCBmb3VuZGApO1xuICB9XG4gIHJldHVybiBuYXZpZ2F0ZURPTShuZXdQb3NpdGlvbnMgYXMgSFRNTEVsZW1lbnRbXSwgcmVzdFN0ZXBzKTtcbn1cblxuLy8gZ2V0UGFyZW50VGFnUmVjdXJzaXZlIGZyb20gYSBjaGlsZCBlbGVtZW50XG4vLyBpZiBlbGVtZW50IGhhcyBUYWdOYW1lXG4vLyByZXR1cm47XG4vLyBlbHNlOiByZXRyeSB3aXRoIHBhcmVudEVsZW1lbnRcbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnRUYWdSZWN1cnNpdmUoZWw6IEhUTUxFbGVtZW50LCB0YWc6IHN0cmluZyk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gIGlmIChlbC50YWdOYW1lID09IHRhZy50b1VwcGVyQ2FzZSgpKSB7XG4gICAgcmV0dXJuIGVsO1xuICB9XG4gIGVsc2Uge1xuICAgIGxldCBwYXJlbnQgPSBlbC5wYXJlbnRFbGVtZW50O1xuICAgIGlmICghcGFyZW50KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgZmluZCBwYXJlbnQgZWxlbWVudCB3aXRoIHJlcXVlc3RlZCB0YWcgJywgdGFnKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0UGFyZW50VGFnUmVjdXJzaXZlKHBhcmVudCwgdGFnKSBhcyBIVE1MRWxlbWVudDtcbiAgfVxufVxuXG4vLyBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZSBmcm9tIGEgY2hpbGQgZWxlbWVudFxuLy8gaWYgZWxlbWVudCBoYXMgY2xhc3Ncbi8vIHJldHVybjtcbi8vIGVsc2U6IHJldHJ5IHdpdGggcGFyZW50RWxlbWVudFxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudENsYXNzUmVjdXJzaXZlKGVsOiBIVE1MRWxlbWVudCwgYzogc3RyaW5nKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcbiAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucyhjKSkge1xuICAgIHJldHVybiBlbDtcbiAgfVxuICBlbHNlIHtcbiAgICBsZXQgcGFyZW50ID0gZWwucGFyZW50RWxlbWVudDtcbiAgICBpZiAoIXBhcmVudCkge1xuICAgICAgY29uc29sZS5lcnJvcignQ291bGQgbm90IGZpbmQgcGFyZW50IGVsZW1lbnQgd2l0aCByZXF1ZXN0ZWQgY2xhc3MgJywgYyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGdldFBhcmVudENsYXNzUmVjdXJzaXZlKHBhcmVudCwgYyk7XG4gIH1cbn1cbiIsICJpbXBvcnQge25hdmlnYXRlRE9NLCBnZXRQYXJlbnRUYWdSZWN1cnNpdmUsIGdldFBhcmVudENsYXNzUmVjdXJzaXZlfSBmcm9tIFwiLi9ET01fSGVscGVyc1wiO1xuaW1wb3J0IHtkZWZhdWx0IGFzIHRyZWVfY3NzfSBmcm9tICcuL3Jlc3NvdXJjZXMvdHJlZS5jc3MnO1xuaW1wb3J0IHtzYW5pdGl6ZX0gZnJvbSAnLi9CU0xfUHJpbnQnO1xuXG4vLyAjIyMjIG1haW4gYXBpICMjIyMjXG4vLyBzaW1wbGUgaGVscGVyIHN0cnVjdHVyZSByZXByZXNlbnRpbmcgYSBwcmludGVkIHRyZWVcbmV4cG9ydCBpbnRlcmZhY2Ugbm9kZSB7XG4gIHByb2R1Y3Rpb246IHN0cmluZztcbiAgY29kZTogc3RyaW5nO1xuICBob2xlczoge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlciwgY29udGVudDpub2RlfVtdO1xufVxuLy8gb2JqZWN0IHJlcHJlc2VudGluZyBhIGdyYW1tYXJcbmV4cG9ydCB0eXBlIGdyYW1tYXIgPSB7W2tleTogc3RyaW5nXTogc3RyaW5nW119O1xuXG4vLyBhZGQgcHJvZHVjdGlvbiB0cmVlIHRvIGh0bWwgZWxlbWVudFxuZXhwb3J0IGZ1bmN0aW9uIHByb2R1Y3Rpb25UcmVlKFxuICByb290OiBub2RlLFxuICB0YXJnZXQ6IEhUTUxFbGVtZW50LFxuICBncmFtbWFyOiBncmFtbWFyIHwgdW5kZWZpbmVkLFxuICBxdWl6PWZhbHNlLFxuICBsYW5nPSdlbicpe1xuICAvLyBpbmZlciBncmFtbWFyIGlmIG5lY2Vzc2FyeVxuICBpZighZ3JhbW1hcikgZ3JhbW1hciA9IGV4dHJhY3RQcm9kdWN0aW9ucyhyb290KTtcbiAgLy8gYWRkIGNzcyBpZiBuZWNlc3NhcnlcbiAgaWYoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdic2wtdG9vbHMtdHJlZS1zdHlsZScpKSB7XG4gICAgY29uc3Qgc3R5bGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZU5vZGUuaW5uZXJIVE1MID0gdHJlZV9jc3M7XG4gICAgc3R5bGVOb2RlLmlkID0gJ2JzbC10b29scy10cmVlLXN0eWxlJztcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHN0eWxlTm9kZSk7XG4gIH1cbiAgLy8gY2hlY2sgbGFuZ3VhZ2UgYXZhaWxhYmlsaXR5XG4gIGlmICghaW1wbGVtZW50ZWRMYW5ndWFnZXMuaW5jbHVkZXMobGFuZykpIHtcbiAgICBjb25zb2xlLmVycm9yKGBcbiAgICAgIFNlbGVjdGVkIGxhbmd1YWdlIFwiJHtsYW5nfVwiIGlzIG5vdCBpbXBsZW1lbnRlZCwgZGVmYXVsdGluZyB0byBcImVuXCIuXG4gICAgICBBdmFpbGFibGUgbGFuZ3VhZ2UgY29kZXM6ICR7aW1wbGVtZW50ZWRMYW5ndWFnZXMuam9pbignLCAnKX1cbiAgICBgKTtcbiAgICBsYW5nID0gJ2VuJztcbiAgfVxuICAvLyByZW5kZXIgSFRNTFxuICB0YXJnZXQuaW5uZXJIVE1MID0gYFxuICA8ZGl2IGNsYXNzPVwiYnNsLXRvb2xzLXRyZWUtY29udGFpbmVyXCI+XG4gICAgPHVsIGNsYXNzPVwiYnNsLXRvb2xzLXRyZWVcIj5cbiAgICAgICR7cXVpelxuICAgICAgICA/IHJlbmRlclF1aXpOb2RlKHJvb3QsIGxhbmcgYXMgaW1wbGVtZW50ZWRMYW5ndWFnZSwgZ3JhbW1hciBhcyBncmFtbWFyKVxuICAgICAgICA6IHJlbmRlck5vZGUocm9vdCwgZ3JhbW1hciBhcyBncmFtbWFyKX1cbiAgICA8L3VsPlxuICA8L2Rpdj5gO1xuICBpZiAocXVpeikge1xuICAgIC8vIHNob3cgZmlyc3QgcXVpeiBub2RlXG4gICAgbmF2aWdhdGVET00oW3RhcmdldF0sJ3VsL2xpL3VsL2xpJykubWFwKGMgPT5cbiAgICAgIGMuc2V0QXR0cmlidXRlKCdkYXRhLWNvbGxhcHNlZCcsJ2ZhbHNlJykpO1xuICB9XG4gIC8vIGFsaWduIGNvbm5lY3RvcnMgaG9yaXpvbnRhbGx5XG4gIGFkanVzdENvbm5lY3RvcnModGFyZ2V0KTtcbn1cblxuLy8gIyMjIHRyYXZlcnNlIHRyZWUgdG8gZ2V0IGFsbCBvY2N1cnJpbmcgcHJvZHVjdGlvbnNcbmZ1bmN0aW9uIGV4dHJhY3RQcm9kdWN0aW9ucyhuOiBub2RlKTogZ3JhbW1hciB7XG4gIGNvbnN0IHByb2R1Y3Rpb25zID0ge307XG4gIGV4dHJhY3RQcm9kdWN0aW9uc1JlY3Vyc2l2ZShuLCBwcm9kdWN0aW9ucyk7XG4gIHJldHVybiBwcm9kdWN0aW9ucztcbn1cbmZ1bmN0aW9uIGV4dHJhY3RQcm9kdWN0aW9uc1JlY3Vyc2l2ZShuOiBub2RlLCBwOiBncmFtbWFyKSB7XG4gIHBbbi5wcm9kdWN0aW9uXSA9IFtdO1xuICBuLmhvbGVzLm1hcChoID0+IGV4dHJhY3RQcm9kdWN0aW9uc1JlY3Vyc2l2ZShoLmNvbnRlbnQsIHApKTtcbn1cblxuLy8gIyMjIyMjIGludGVybmF0aW9uYWxpemF0aW9uIGZvciB0aGlzIG1vZHVsZSAjIyMjI1xuLy8gbWFpbmx5IGZvciBxdWl6LCBjdXJyZW50bHlcbnR5cGUgaW1wbGVtZW50ZWRMYW5ndWFnZSA9ICdlbicgfCAnZGUnO1xuY29uc3QgaW1wbGVtZW50ZWRMYW5ndWFnZXMgPSBbJ2VuJywgJ2RlJ107XG5cbmNvbnN0IGRpY3Rpb25hcnkgPSB7XG4gICdlbic6IHtcbiAgICAnc2VsZWN0IHByb2R1Y3Rpb24nOiAnU2VsZWN0IHByb2R1Y3Rpb24nLFxuICAgICdtYXJrIHNlbGVjdGVkIHRleHQgYXMgaG9sZSc6ICdNYXJrIHNlbGVjdGVkIHRleHQgYXMgc3ViZXhwcmVzc2lvbicsXG4gIH0sXG4gICdkZSc6IHtcbiAgICAnc2VsZWN0IHByb2R1Y3Rpb24nOiAnUHJvZHVrdGlvbiBhdXN3XHUwMEU0aGxlbicsXG4gICAgJ21hcmsgc2VsZWN0ZWQgdGV4dCBhcyBob2xlJzogJ0F1c3dhaGwgYWxzIFRlaWxhdXNkcnVjayBtYXJraWVyZW4nLFxuICB9LFxufTtcblxuLy8gIyMjIyMjIGxheW91dCBoZWxwZXIgIyMjIyMjIyNcbi8vIGR5bmFtaWNhbGx5IGNvbXB1dGUgZGltZW5zaW9ucyBvZiBjb25uZWN0b3JzIGJldHdlZW4gbm9kZXNcbi8vIHN1Y2ggdGhhdCB0aGV5IHBvaW50IHRvIHRoZSBjb3JyZWN0IFwiaG9sZVwiXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ1NTX09iamVjdF9Nb2RlbC9EZXRlcm1pbmluZ190aGVfZGltZW5zaW9uc19vZl9lbGVtZW50c1xuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L29mZnNldExlZnRcbmZ1bmN0aW9uIGFkanVzdENvbm5lY3RvcnModHJlZTogSFRNTEVsZW1lbnQpIHtcbiAgY29uc3QgeWRpZmYgPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUodHJlZSkuZm9udFNpemUpICogMzsgLy8gM2VtXG4gIGZvcihsZXQgaSA9IDE7IDtpKyspIHtcbiAgICBjb25zdCBob2xlcyA9IEFycmF5LmZyb20odHJlZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGBob2xlLSR7aX1gKSk7XG4gICAgaWYgKGhvbGVzLmxlbmd0aCA8IDEpIHJldHVybjtcbiAgICBob2xlcy5tYXAoaCA9PiB7XG4gICAgICBjb25zdCBlbDogSFRNTEVsZW1lbnQgPSBoIGFzIEhUTUxFbGVtZW50O1xuICAgICAgY29uc3QgeHBvcyA9IDAuNSAqIChlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54ICsgZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQpO1xuICAgICAgLy8gbm8gbGF5b3V0IGVmZmVjdCBpZiBob2xlIGlzIGludmlzaWJsZVxuICAgICAgaWYgKHhwb3MgPT0gMCkgcmV0dXJuO1xuXG4gICAgICAvLyBuYXZpZ2F0ZSB0aGUgRE9NXG4gICAgICBjb25zdCBsaSA9IGdldFBhcmVudFRhZ1JlY3Vyc2l2ZShlbCwgJ2xpJyk7XG4gICAgICAvLyBub3QgaW5zaWRlIGEgbGlzdCBub2RlPyBwcm9iYWJseSB3cm9uZyB0YWcsIHJldHVyblxuICAgICAgaWYoIWxpKSByZXR1cm47XG5cbiAgICAgIC8vIHByb2Nlc3MgY2hpbGRyZW5cbiAgICAgIG5hdmlnYXRlRE9NKFtsaV0sIGB1bC8uY2hpbGQtJHtpfS9zcGFuYCkubWFwKGMgPT4ge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGMgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHhwb3NDaGlsZCA9IDAuNSAqIChjaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54ICsgY2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQpO1xuICAgICAgICBjb25zdCB4ZGlmZiA9IHhwb3MgLSB4cG9zQ2hpbGQ7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gLSBNYXRoLmF0YW4yKHlkaWZmLCB4ZGlmZik7XG4gICAgICAgIGNvbnN0IGFtb3VudCA9IE1hdGguc3FydCh4ZGlmZip4ZGlmZiArIHlkaWZmKnlkaWZmKTtcbiAgICAgICAgY29uc3QgbGVmdCA9ICh4ZGlmZi8yKSAtIChhbW91bnQvMik7XG4gICAgICAgIC8vIHNldCBjc3MgdmFyaWFibGVzICh1c2FnZSBzZWUgdHJlZS5jc3MpXG4gICAgICAgIGNoaWxkLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgLS1jb25uZWN0b3Itd2lkdGg6ICR7YW1vdW50fXB4O1xuICAgICAgICAgIC0tY29ubmVjdG9yLWxlZnQ6IGNhbGMoNTAlICsgJHtsZWZ0fXB4KTtcbiAgICAgICAgICAtLWVkZ2V0ZXh0LXJpZ2h0OiBjYWxjKDUwJSAtICR7eGRpZmYvMn1weCk7XG4gICAgICAgICAgLS1jb25uZWN0b3ItdHJhbnNmb3JtOiByb3RhdGUoJHthbmdsZX1yYWQpO1xuICAgICAgICBgO1xuICAgICAgfSk7XG5cbiAgICB9KTtcbiAgfVxufVxuXG4vLyAjIyMjIyBnZW5lcmF0ZSBIVE1MICMjIyMjI1xuXG4vLyAjIyMgcmVndWxhciBub2RlL3RyZWVcbmZ1bmN0aW9uIHJlbmRlck5vZGUobjogbm9kZSwgcDogZ3JhbW1hciwgaTpudW1iZXI9LTEpOnN0cmluZyB7XG4gIHJldHVybiBgXG4gICAgPGxpIGNsYXNzPVwiJHtpID49IDAgPyBgY2hpbGQtJHtpKzF9YCA6ICcnfVwiXG4gICAgICAgIGRhdGEtY29sbGFwc2VkPVwiJHtpID49IDAgPyAndHJ1ZScgOiAnZmFsc2UnfVwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCIke24uaG9sZXMubGVuZ3RoID4gMCA/ICcnIDogJ3Rlcm1pbmFsLXN5bWJvbCd9XCI+XG5cbiAgICAgICAgJHtyZW5kZXJQcm9kdWN0aW9uKG4sIHApfVxuXG4gICAgICAgICR7cmVuZGVyQ29kZShuKX1cblxuICAgICAgPC9zcGFuPlxuICAgICAgJHtuLmhvbGVzLmxlbmd0aCA+IDAgP1xuICAgICAgICBgPHVsPiR7XG4gICAgICAgICAgbi5ob2xlcy5tYXAoKGgsIGlkeCkgPT5cbiAgICAgICAgICAgIHJlbmRlck5vZGUoaC5jb250ZW50LCBwLCBpZHgpKVxuICAgICAgICAgIC5qb2luKCcnKVxuICAgICAgICB9PC91bD5gXG4gICAgICAgIDogJydcbiAgICAgIH1cbiAgICA8L2xpPlxuICBgO1xufVxuXG4vLyAjIyMgYmxvY2sgb2YgY29kZSBpbiBub2RlXG5mdW5jdGlvbiByZW5kZXJDb2RlKG46IG5vZGUpOnN0cmluZyB7XG4gIGNvbnN0IHNwYW5zID0gZ2V0U3BhbnMobik7XG4gIHJldHVybiBgXG4gIDxkaXYgY2xhc3M9XCJjb2RlXCI+JHtcbiAgICBzcGFucy5tYXAocyA9PlxuICAgICAgYDxzcGFuIGNsYXNzPVwiY2hhciAke3MucG9zID8gYGhvbGUgaG9sZS0ke3MucG9zfWAgOiAnJ31cIlxuICAgICAgICAgICAgICR7cy5wb3MgPyBgb25jbGljaz1cInRvZ2dsZUNoaWxkKGV2ZW50LCR7cy5wb3N9KVwiYCA6ICcnfVxuICAgICAgICAgICAgID4ke24uY29kZS5zbGljZShzLnN0YXJ0LCBzLmVuZCl9PC9zcGFuPmApXG4gICAgLmpvaW4oJycpfVxuICA8L2Rpdj5cbiAgYDtcbn1cbih3aW5kb3cgYXMgYW55KS50b2dnbGVDaGlsZCA9IChlOiBFdmVudCxpOm51bWJlcikgPT4ge1xuICBjb25zdCBob2xlID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IGxpID0gZ2V0UGFyZW50VGFnUmVjdXJzaXZlKGhvbGUsICdsaScpO1xuICBjb25zdCB0cmVlID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoaG9sZSwgJ2JzbC10b29scy10cmVlJyk7XG4gIGlmKCFsaSB8fCAhdHJlZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ3RvZ2dsZUNoaWxkIGNhbGxlZCBmcm9tIC5ob2xlIG5vdCBpbiAuYnNsLXRvb2xzLXRyZWUnKTtcbiAgICByZXR1cm47XG4gIH07XG5cbiAgbmF2aWdhdGVET00oW2xpXSxgdWwvLmNoaWxkLSR7aX1gKS5tYXAoYyA9PiB7XG4gICAgYy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywgYy5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJykgPT09ICd0cnVlJyA/ICdmYWxzZScgOiAndHJ1ZScpO1xuICB9KTtcbiAgYWRqdXN0Q29ubmVjdG9ycyh0cmVlKTtcbn1cbmludGVyZmFjZSBzcGFuIHtcbiAgcG9zOiBib29sZWFuIHwgbnVtYmVyO1xuICBzdGFydDogbnVtYmVyO1xuICBlbmQ6IG51bWJlcjtcbn1cbmZ1bmN0aW9uIGdldFNwYW5zKG46IG5vZGUpOnNwYW5bXSB7XG4gIC8vIHNsaWNlIHRleHQgaW50byBob2xlc1xuICBjb25zdCBzcGFucyA9IFtdO1xuICBsZXQgcG9zaXRpb24gPSAwO1xuICBmb3IobGV0IGkgPSAwOyBpIDwgbi5ob2xlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChuLmhvbGVzW2ldLnN0YXJ0ID4gcG9zaXRpb24pIHtcbiAgICAgIHNwYW5zLnB1c2goe3BvczogZmFsc2UsIHN0YXJ0OnBvc2l0aW9uLCBlbmQ6bi5ob2xlc1tpXS5zdGFydH0pO1xuICAgIH1cbiAgICBzcGFucy5wdXNoKHtwb3M6IGkrMSwgLi4ubi5ob2xlc1tpXX0pO1xuICAgIHBvc2l0aW9uID0gbi5ob2xlc1tpXS5lbmQ7XG4gIH1cbiAgaWYgKHBvc2l0aW9uIDwgbi5jb2RlLmxlbmd0aCkge1xuICAgIHNwYW5zLnB1c2goe3BvczogZmFsc2UsIHN0YXJ0OnBvc2l0aW9uLCBlbmQ6bi5jb2RlLmxlbmd0aH0pO1xuICB9XG4gIHJldHVybiBzcGFucztcbn1cbi8vICMjIyBwcm9kdWN0aW9uIG5hbWUgLSB3aXRoIHRvb2x0aXAgb24gaG92ZXJcbmZ1bmN0aW9uIHJlbmRlclByb2R1Y3Rpb24objogbm9kZSwgcDogZ3JhbW1hcikge1xuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJuYW1lXCI+JHtzYW5pdGl6ZShuLnByb2R1Y3Rpb24pfSR7XG4gICAgICBwW24ucHJvZHVjdGlvbl0gJiYgcFtuLnByb2R1Y3Rpb25dLmxlbmd0aCA+IDAgP1xuICAgICAgYDxkaXYgY2xhc3M9XCJ0b29sdGlwXCI+Ojo9ICR7XG4gICAgICAgIHBbbi5wcm9kdWN0aW9uXS5tYXAoc2FuaXRpemUpLmpvaW4oJzxicj4mbmJzcDt8Jm5ic3A7Jm5ic3A7JylcbiAgICAgIH08L2Rpdj5gXG4gICAgICA6ICcnXG4gICAgfTwvZGl2PlxuICBgO1xufVxuXG4vLyAjIyMjIyMgcmVuZGVyaW5nIGEgbm9kZS90cmVlIGFzIGEgcXVpelxuZnVuY3Rpb24gcmVuZGVyUXVpek5vZGUobjogbm9kZSwgbGFuZzogaW1wbGVtZW50ZWRMYW5ndWFnZSwgZ3JhbW1hcjogZ3JhbW1hciwgaTpudW1iZXI9LTEpOnN0cmluZyB7XG4gIHJldHVybiBgXG4gICAgPGxpIGNsYXNzPVwiJHtpID49IDAgPyBgY2hpbGQtJHtpKzF9YCA6ICcnfVwiXG4gICAgICAgIGRhdGEtY29sbGFwc2VkPVwiJHtpID49IDAgPyAndHJ1ZScgOiAnZmFsc2UnfVwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCIke24uaG9sZXMubGVuZ3RoID4gMCA/ICcnIDogJ3Rlcm1pbmFsLXN5bWJvbCd9XCJcbiAgICAgICAgICAgIGRhdGEtcXVpei1zdGF0ZT1cIiR7aSA+PSAwID8gJ3Byb2R1Y3Rpb24nIDogJ2RvbmUnfVwiXG4gICAgICAgICAgICBkYXRhLWlzLXRlcm1pbmFsPVwiJHtuLmhvbGVzLmxlbmd0aCA8PSAwfVwiXG4gICAgICAgICAgICBkYXRhLWlzLXRyaXZpYWwtaG9sZT1cIiR7bi5ob2xlcy5sZW5ndGggPT09IDEgJiYgbi5ob2xlc1swXS5zdGFydCA9PT0gMCAmJiBuLmhvbGVzWzBdLmVuZCA9PT0gbi5jb2RlLmxlbmd0aH1cIj5cblxuICAgICAgICAke3JlbmRlclByb2R1Y3Rpb25RdWl6KG4sIGxhbmcsIGdyYW1tYXIpfVxuXG4gICAgICAgICR7cmVuZGVySG9sZVF1aXoobiwgbGFuZyl9XG5cbiAgICAgICAgJHtyZW5kZXJQcm9kdWN0aW9uKG4sIGdyYW1tYXIpfVxuICAgICAgICAke3JlbmRlckNvZGUobil9XG4gICAgICA8L3NwYW4+XG4gICAgICAke24uaG9sZXMubGVuZ3RoID4gMCA/XG4gICAgICAgIGA8dWw+JHtcbiAgICAgICAgICBuLmhvbGVzLm1hcCgoaCwgaWR4KSA9PlxuICAgICAgICAgICAgcmVuZGVyUXVpek5vZGUoaC5jb250ZW50LCBsYW5nLCBncmFtbWFyLCBpZHgpKVxuICAgICAgICAgICAgLmpvaW4oJycpXG4gICAgICAgICB9PC91bD5gXG4gICAgICAgIDogJydcbiAgICAgIH1cbiAgICA8L2xpPlxuICBgO1xufVxuXG4vLyAjIyMgZmlyc3QgcGFydCBvZiB0aGUgcXVpelxuZnVuY3Rpb24gcmVuZGVyUHJvZHVjdGlvblF1aXoobjogbm9kZSwgbGFuZzogaW1wbGVtZW50ZWRMYW5ndWFnZSwgZ3JhbW1hcjogZ3JhbW1hcik6c3RyaW5nIHtcbiAgcmV0dXJuIGBcbiAgPGRpdiBjbGFzcz1cInByb2R1Y3Rpb25cIj5cbiAgICA8c2VsZWN0IG9uY2hhbmdlPVwiY2hlY2tQcm9kdWN0aW9uKGV2ZW50LCAnJHtuLnByb2R1Y3Rpb259JylcIj5cbiAgICAgIDxvcHRpb24gc2VsZWN0ZWQ9XCJ0cnVlXCI+JHtkaWN0aW9uYXJ5W2xhbmddWydzZWxlY3QgcHJvZHVjdGlvbiddfTwvb3B0aW9uPlxuICAgICAgJHtPYmplY3Qua2V5cyhncmFtbWFyKS5tYXAocCA9PiBgXG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIiR7cH1cIj4ke3Nhbml0aXplKHApfTwvb3B0aW9uPlxuICAgICAgICBgKS5qb2luKCcnKX1cbiAgICA8L3NlbGVjdD5cbiAgPC9kaXY+XG4gIGA7XG59XG5cbih3aW5kb3cgYXMgYW55KS5jaGVja1Byb2R1Y3Rpb24gPSAoZTogRXZlbnQsIHA6IHN0cmluZykgPT4ge1xuICBjb25zdCBzZWwgPSBlLnRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudDtcbiAgaWYgKHNlbC52YWx1ZSA9PT0gcCkge1xuICAgIC8vIGFuc3dlciBjb3JyZWN0XG4gICAgY29uc3Qgc3BhbiA9IGdldFBhcmVudFRhZ1JlY3Vyc2l2ZShzZWwsICdzcGFuJyk7XG4gICAgaWYgKHNwYW4pIHtcbiAgICAgIGlmIChzcGFuLmdldEF0dHJpYnV0ZSgnZGF0YS1pcy10ZXJtaW5hbCcpID09PSAndHJ1ZScpIHtcbiAgICAgICAgLy8gd2UncmUgZG9uZVxuICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZSgnZGF0YS1xdWl6LXN0YXRlJywgJ2RvbmUnKTtcbiAgICAgIH0gZWxzZSBpZiAoc3Bhbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtaXMtdHJpdmlhbC1ob2xlJykgPT09ICd0cnVlJykge1xuICAgICAgICAvLyB3ZSdyZSBkb25lXG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKCdkYXRhLXF1aXotc3RhdGUnLCAnZG9uZScpO1xuICAgICAgICAvLyBidXQgd2UgYWxzbyBuZWVkIHRvIGV4cGFuZCB0aGUgY2hpbGRcbiAgICAgICAgbmF2aWdhdGVET00oW3NwYW5dLCcrL2xpJyx0cnVlKS5tYXAoYyA9PlxuICAgICAgICAgIGMuc2V0QXR0cmlidXRlKCdkYXRhLWNvbGxhcHNlZCcsICdmYWxzZScpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG1vdmUgb24gdG8gc2VsZWN0aW5nIGhvbGVzXG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKCdkYXRhLXF1aXotc3RhdGUnLCAnaG9sZS1tYXJraW5nJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGV4cGFuZCBuZXh0IHNpYmxpbmcgKGlmIHByZXNlbnQpXG4gICAgICBuYXZpZ2F0ZURPTShbc3Bhbl0sICcuLi8rJykubWFwKGwgPT5cbiAgICAgICAgbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywgJ2ZhbHNlJykpO1xuXG4gICAgICAvLyBhZGp1c3QgY29ubmVjdG9yc1xuICAgICAgY29uc3QgcXVpeiA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKHNwYW4sICdic2wtdG9vbHMtdHJlZScpO1xuICAgICAgaWYgKHF1aXopIGFkanVzdENvbm5lY3RvcnMocXVpeik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIG1hcmsgb3B0aW9uIGFzIHRyaWVkLWFuZC13cm9uZ1xuICAgIEFycmF5LmZyb20oc2VsLnNlbGVjdGVkT3B0aW9ucykubWFwKG8gPT5cbiAgICAgIG8ucmVtb3ZlKCkpO1xuICAgIC8vIGdpdmUgdmlzdWFsIGZlZWRiYWNrXG4gICAgY29uc3Qgc3BhbiA9IGdldFBhcmVudFRhZ1JlY3Vyc2l2ZShzZWwsICdzcGFuJyk7XG4gICAgaWYgKHNwYW4pIHtcbiAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgnd3JvbmcnKTtcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QucmVtb3ZlKCd3cm9uZycpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gIyMjIHNlY29uZCBwYXJ0IG9mIHRoZSBxdWl6XG5mdW5jdGlvbiByZW5kZXJIb2xlUXVpeihuOiBub2RlLCBsYW5nOiBpbXBsZW1lbnRlZExhbmd1YWdlKTpzdHJpbmcge1xuICByZXR1cm4gYFxuICA8ZGl2IGNsYXNzPVwiaG9sZS1tYXJraW5nXCJcbiAgICAgICBkYXRhLWhvbGVzPVwiJHtidG9hKEpTT04uc3RyaW5naWZ5KG4uaG9sZXMubWFwKGggPT4gW2guc3RhcnQsaC5lbmQsIGZhbHNlXSkpKX1cIj5cbiAgICA8ZGl2IGNsYXNzPVwidGV4dGFyZWEtY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibWFya2VyLWNvbnRhaW5lclwiPlxuICAgICAgICAke24uY29kZS5zcGxpdCgnXFxuJylcbiAgICAgICAgICAgIC5tYXAobCA9PiBsLnNwbGl0KCcnKS5tYXAoYyA9PlxuICAgICAgICAgICAgICBgPHNwYW4gY2xhc3M9XCJjaGFyIG1hcmtlclwiPiR7Y308L3NwYW4+YFxuICAgICAgICAgICAgKS5qb2luKCcnKSlcbiAgICAgICAgICAgIC5qb2luKCc8c3BhbiBjbGFzcz1cImNoYXIgbWFya2VyXCI+PC9zcGFuPjxicj4nKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPHRleHRhcmVhIGF1dG9jb3JyZWN0PVwib2ZmXCJcbiAgICAgICAgICAgICAgICBzcGVsbGNoZWNrPVwiZmFsc2VcIlxuICAgICAgICAgICAgICAgIGNvbHM9XCIke24uY29kZS5zcGxpdCgnXFxuJykubWFwKGwgPT4gbC5sZW5ndGgpLnJlZHVjZSgoeCx5KSA9PiB4ID4geSA/IHggOiB5KX1cIlxuICAgICAgICAgICAgICAgIHJvd3M9XCIke24uY29kZS5zcGxpdCgnXFxuJykubGVuZ3RofVwiXG4gICAgICAgICAgICAgICAgb25pbnB1dD1cInN0b3BJbnB1dChldmVudCwgJyR7YnRvYShuLmNvZGUpfScpXCI+JHtuLmNvZGV9PC90ZXh0YXJlYT5cbiAgICA8L2Rpdj48YnI+XG4gICAgPGJ1dHRvbiBvbmNsaWNrPVwiY2hlY2tTZWxlY3Rpb24oZXZlbnQpXCI+XG4gICAgICAke2RpY3Rpb25hcnlbbGFuZ11bJ21hcmsgc2VsZWN0ZWQgdGV4dCBhcyBob2xlJ119XG4gICAgPC9idXR0b24+XG4gIDwvZGl2PlxuICBgO1xufVxuKHdpbmRvdyBhcyBhbnkpLnN0b3BJbnB1dCA9IChlOiBFdmVudCwgb2xkVmFsOiBzdHJpbmcpID0+IHtcbiAgKGUudGFyZ2V0IGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQpLnZhbHVlID0gYXRvYihvbGRWYWwpO1xufVxuKHdpbmRvdyBhcyBhbnkpLmNoZWNrU2VsZWN0aW9uID0gKGU6IEV2ZW50KSA9PiB7XG4gIC8vIGdldCBjb250ZXh0XG4gIGNvbnN0IGJ0biA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICBjb25zdCBkaXYgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShidG4sICdob2xlLW1hcmtpbmcnKTtcbiAgaWYgKCFkaXYpIHtcbiAgICBjb25zb2xlLmVycm9yKCdjaGVja1Byb2R1Y3Rpb24gY2FsbGVkIGZyb20gZWwuIG5vdCB3cmFwcGVkIGluIGRpdi5ob2xlLW1hcmtpbmcnKTtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gZ2V0IGhvbGVzIHRvIGZpbmRcbiAgY29uc3QgaG9sZXMgPSBKU09OLnBhcnNlKGF0b2IoZGl2LmdldEF0dHJpYnV0ZSgnZGF0YS1ob2xlcycpIGFzIHN0cmluZykpIGFzIFtudW1iZXIsbnVtYmVyLGJvb2xlYW5dW107XG5cbiAgLy8gZ2V0IGN1cnJlbnQgc2VsZWN0aW9uXG4gIGNvbnN0IHRleHRhcmVhID0gZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0ZXh0YXJlYScpWzBdIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gIGNvbnN0IHNlbFN0YXJ0ID0gdGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQ7XG4gIGNvbnN0IHNlbEVuZCA9IHRleHRhcmVhLnNlbGVjdGlvbkVuZDtcbiAgY29uc3Qgc3RhcnQgPSBzZWxTdGFydCA8IHNlbEVuZCA/IHNlbFN0YXJ0IDogc2VsRW5kO1xuICBjb25zdCBlbmQgPSBzZWxTdGFydCA8IHNlbEVuZCA/IHNlbEVuZCA6IHNlbFN0YXJ0O1xuXG4gIC8vIGNoZWNrIGlmIGhvbGUgaXMgZm91bmRcbiAgbGV0IGZvdW5kID0gLTE7XG4gIGhvbGVzLm1hcCgoaCxpKSA9PiB7XG4gICAgaWYgKGhbMF0gPT09IHN0YXJ0ICYmIGhbMV0gPT09IGVuZCkge1xuICAgICAgaFsyXSA9IHRydWU7XG4gICAgICBmb3VuZCA9IGk7XG4gICAgfVxuICB9KTtcblxuICBpZiAoZm91bmQgPj0gMCkge1xuICAgIC8vIHNhdmUgY2hhbmdlZCBzdGF0ZVxuICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaG9sZXMnLCBidG9hKEpTT04uc3RyaW5naWZ5KGhvbGVzKSkpO1xuICAgIC8vIG1hcmsgaG9sZSBhcyBjb3JyZWN0XG4gICAgbmF2aWdhdGVET00oW2Rpdl0sICcudGV4dGFyZWEtY29udGFpbmVyLy5tYXJrZXItY29udGFpbmVyLy5tYXJrZXInLCB0cnVlKVxuICAgICAgLnNsaWNlKHN0YXJ0LCBlbmQpXG4gICAgICAubWFwKG0gPT4gbS5jbGFzc0xpc3QuYWRkKCdjb3JyZWN0JykpO1xuICB9IGVsc2Uge1xuICAgIC8vIGdpdmUgZmVlZGJhY2sgYWJvdXQgd3Jvbmcgc2VsZWN0aW9uXG4gICAgY29uc3QgbWFya2VycyA9IG5hdmlnYXRlRE9NKFtkaXZdLCAnLnRleHRhcmVhLWNvbnRhaW5lci8ubWFya2VyLWNvbnRhaW5lci8ubWFya2VyJywgdHJ1ZSlcbiAgICAgIC5zbGljZShzdGFydCwgZW5kKTtcblxuICAgIG1hcmtlcnMubWFwKG0gPT4gbS5jbGFzc0xpc3QuYWRkKCd3cm9uZycpKTtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBtYXJrZXJzLm1hcChtID0+IG0uY2xhc3NMaXN0LnJlbW92ZSgnd3JvbmcnKSk7XG4gICAgfSwgMTAwKTtcbiAgfVxuICBpZihob2xlcy5ldmVyeShoID0+IGhbMl0pKSB7XG4gICAgLy8gbW92ZSBvbiB0byBuZXh0IHBoYXNlID09IGRvbmVcbiAgICBjb25zdCBzcGFuID0gZ2V0UGFyZW50VGFnUmVjdXJzaXZlKGRpdiwgJ3NwYW4nKTtcbiAgICBpZiAoc3Bhbikge1xuICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcXVpei1zdGF0ZScsICdkb25lJyk7XG4gICAgICAvLyBleHBhbmQgZmlyc3QgY2hpbGRcbiAgICAgIG5hdmlnYXRlRE9NKFtzcGFuXSwgJy4uL3VsLy5jaGlsZC0xJykubWFwKGMgPT5cbiAgICAgICAgYy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywgJ2ZhbHNlJykpO1xuXG4gICAgICAvLyBhZGp1c3QgY29ubmVjdG9ycyBmb3Igd2lkdGggY2hhbmdlXG4gICAgICBjb25zdCBxdWl6ID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoc3BhbiwgJ2JzbC10b29scy10cmVlJyk7XG4gICAgICBpZiAocXVpeikgYWRqdXN0Q29ubmVjdG9ycyhxdWl6KTtcbiAgICB9XG4gIH1cbn1cbiIsICJcbi8vIEdlbmVyYXRlZCBieSBwZWdneSB2LiAxLjIuMCAodHMtcGVnanMgcGx1Z2luIHYuIDEuMi4yIClcbi8vXG4vLyBodHRwczovL3BlZ2d5anMub3JnLyAgIGh0dHBzOi8vZ2l0aHViLmNvbS9tZXRhZGV2cHJvL3RzLXBlZ2pzXG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZpbGVQb3NpdGlvbiB7XG4gIG9mZnNldDogbnVtYmVyO1xuICBsaW5lOiBudW1iZXI7XG4gIGNvbHVtbjogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlUmFuZ2Uge1xuICBzdGFydDogSUZpbGVQb3NpdGlvbjtcbiAgZW5kOiBJRmlsZVBvc2l0aW9uO1xuICBzb3VyY2U6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTGl0ZXJhbEV4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJsaXRlcmFsXCI7XG4gIHRleHQ6IHN0cmluZztcbiAgaWdub3JlQ2FzZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ2xhc3NQYXJ0cyBleHRlbmRzIEFycmF5PHN0cmluZyB8IElDbGFzc1BhcnRzPiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIElDbGFzc0V4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJjbGFzc1wiO1xuICBwYXJ0czogSUNsYXNzUGFydHM7XG4gIGludmVydGVkOiBib29sZWFuO1xuICBpZ25vcmVDYXNlOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElBbnlFeHBlY3RhdGlvbiB7XG4gIHR5cGU6IFwiYW55XCI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUVuZEV4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJlbmRcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJT3RoZXJFeHBlY3RhdGlvbiB7XG4gIHR5cGU6IFwib3RoZXJcIjtcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgRXhwZWN0YXRpb24gPSBJTGl0ZXJhbEV4cGVjdGF0aW9uIHwgSUNsYXNzRXhwZWN0YXRpb24gfCBJQW55RXhwZWN0YXRpb24gfCBJRW5kRXhwZWN0YXRpb24gfCBJT3RoZXJFeHBlY3RhdGlvbjtcblxuZnVuY3Rpb24gcGVnJHBhZEVuZChzdHI6IHN0cmluZywgdGFyZ2V0TGVuZ3RoOiBudW1iZXIsIHBhZFN0cmluZzogc3RyaW5nKSB7XG4gIHBhZFN0cmluZyA9IHBhZFN0cmluZyB8fCAnICc7XG4gIGlmIChzdHIubGVuZ3RoID4gdGFyZ2V0TGVuZ3RoKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICB0YXJnZXRMZW5ndGggLT0gc3RyLmxlbmd0aDtcbiAgcGFkU3RyaW5nICs9IHBhZFN0cmluZy5yZXBlYXQodGFyZ2V0TGVuZ3RoKTtcbiAgcmV0dXJuIHN0ciArIHBhZFN0cmluZy5zbGljZSgwLCB0YXJnZXRMZW5ndGgpO1xufVxuXG5leHBvcnQgY2xhc3MgU3ludGF4RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHB1YmxpYyBzdGF0aWMgYnVpbGRNZXNzYWdlKGV4cGVjdGVkOiBFeHBlY3RhdGlvbltdLCBmb3VuZDogc3RyaW5nIHwgbnVsbCkge1xuICAgIGZ1bmN0aW9uIGhleChjaDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBjaC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpdGVyYWxFc2NhcGUoczogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBzXG4gICAgICAgIC5yZXBsYWNlKC9cXFxcL2csIFwiXFxcXFxcXFxcIilcbiAgICAgICAgLnJlcGxhY2UoL1wiL2csICBcIlxcXFxcXFwiXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXDAvZywgXCJcXFxcMFwiKVxuICAgICAgICAucmVwbGFjZSgvXFx0L2csIFwiXFxcXHRcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXHIvZywgXCJcXFxcclwiKVxuICAgICAgICAucmVwbGFjZSgvW1xceDAwLVxceDBGXS9nLCAgICAgICAgICAgIChjaCkgPT4gXCJcXFxceDBcIiArIGhleChjaCkgKVxuICAgICAgICAucmVwbGFjZSgvW1xceDEwLVxceDFGXFx4N0YtXFx4OUZdL2csIChjaCkgPT4gXCJcXFxceFwiICArIGhleChjaCkgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGFzc0VzY2FwZShzOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIHNcbiAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKVxuICAgICAgICAucmVwbGFjZSgvXFxdL2csIFwiXFxcXF1cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcXi9nLCBcIlxcXFxeXCIpXG4gICAgICAgIC5yZXBsYWNlKC8tL2csICBcIlxcXFwtXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXDAvZywgXCJcXFxcMFwiKVxuICAgICAgICAucmVwbGFjZSgvXFx0L2csIFwiXFxcXHRcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXHIvZywgXCJcXFxcclwiKVxuICAgICAgICAucmVwbGFjZSgvW1xceDAwLVxceDBGXS9nLCAgICAgICAgICAgIChjaCkgPT4gXCJcXFxceDBcIiArIGhleChjaCkgKVxuICAgICAgICAucmVwbGFjZSgvW1xceDEwLVxceDFGXFx4N0YtXFx4OUZdL2csIChjaCkgPT4gXCJcXFxceFwiICArIGhleChjaCkgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXNjcmliZUV4cGVjdGF0aW9uKGV4cGVjdGF0aW9uOiBFeHBlY3RhdGlvbikge1xuICAgICAgc3dpdGNoIChleHBlY3RhdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJsaXRlcmFsXCI6XG4gICAgICAgICAgcmV0dXJuIFwiXFxcIlwiICsgbGl0ZXJhbEVzY2FwZShleHBlY3RhdGlvbi50ZXh0KSArIFwiXFxcIlwiO1xuICAgICAgICBjYXNlIFwiY2xhc3NcIjpcbiAgICAgICAgICBjb25zdCBlc2NhcGVkUGFydHMgPSBleHBlY3RhdGlvbi5wYXJ0cy5tYXAoKHBhcnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBhcnQpXG4gICAgICAgICAgICAgID8gY2xhc3NFc2NhcGUocGFydFswXSBhcyBzdHJpbmcpICsgXCItXCIgKyBjbGFzc0VzY2FwZShwYXJ0WzFdIGFzIHN0cmluZylcbiAgICAgICAgICAgICAgOiBjbGFzc0VzY2FwZShwYXJ0KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBcIltcIiArIChleHBlY3RhdGlvbi5pbnZlcnRlZCA/IFwiXlwiIDogXCJcIikgKyBlc2NhcGVkUGFydHMgKyBcIl1cIjtcbiAgICAgICAgY2FzZSBcImFueVwiOlxuICAgICAgICAgIHJldHVybiBcImFueSBjaGFyYWN0ZXJcIjtcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBcImVuZCBvZiBpbnB1dFwiO1xuICAgICAgICBjYXNlIFwib3RoZXJcIjpcbiAgICAgICAgICByZXR1cm4gZXhwZWN0YXRpb24uZGVzY3JpcHRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVzY3JpYmVFeHBlY3RlZChleHBlY3RlZDE6IEV4cGVjdGF0aW9uW10pIHtcbiAgICAgIGNvbnN0IGRlc2NyaXB0aW9ucyA9IGV4cGVjdGVkMS5tYXAoZGVzY3JpYmVFeHBlY3RhdGlvbik7XG4gICAgICBsZXQgaTogbnVtYmVyO1xuICAgICAgbGV0IGo6IG51bWJlcjtcblxuICAgICAgZGVzY3JpcHRpb25zLnNvcnQoKTtcblxuICAgICAgaWYgKGRlc2NyaXB0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoaSA9IDEsIGogPSAxOyBpIDwgZGVzY3JpcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGRlc2NyaXB0aW9uc1tpIC0gMV0gIT09IGRlc2NyaXB0aW9uc1tpXSkge1xuICAgICAgICAgICAgZGVzY3JpcHRpb25zW2pdID0gZGVzY3JpcHRpb25zW2ldO1xuICAgICAgICAgICAgaisrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZXNjcmlwdGlvbnMubGVuZ3RoID0gajtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChkZXNjcmlwdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zWzBdO1xuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zWzBdICsgXCIgb3IgXCIgKyBkZXNjcmlwdGlvbnNbMV07XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zLnNsaWNlKDAsIC0xKS5qb2luKFwiLCBcIilcbiAgICAgICAgICAgICsgXCIsIG9yIFwiXG4gICAgICAgICAgICArIGRlc2NyaXB0aW9uc1tkZXNjcmlwdGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVzY3JpYmVGb3VuZChmb3VuZDE6IHN0cmluZyB8IG51bGwpIHtcbiAgICAgIHJldHVybiBmb3VuZDEgPyBcIlxcXCJcIiArIGxpdGVyYWxFc2NhcGUoZm91bmQxKSArIFwiXFxcIlwiIDogXCJlbmQgb2YgaW5wdXRcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJFeHBlY3RlZCBcIiArIGRlc2NyaWJlRXhwZWN0ZWQoZXhwZWN0ZWQpICsgXCIgYnV0IFwiICsgZGVzY3JpYmVGb3VuZChmb3VuZCkgKyBcIiBmb3VuZC5cIjtcbiAgfVxuXG4gIHB1YmxpYyBtZXNzYWdlOiBzdHJpbmc7XG4gIHB1YmxpYyBleHBlY3RlZDogRXhwZWN0YXRpb25bXTtcbiAgcHVibGljIGZvdW5kOiBzdHJpbmcgfCBudWxsO1xuICBwdWJsaWMgbG9jYXRpb246IElGaWxlUmFuZ2U7XG4gIHB1YmxpYyBuYW1lOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBleHBlY3RlZDogRXhwZWN0YXRpb25bXSwgZm91bmQ6IHN0cmluZyB8IG51bGwsIGxvY2F0aW9uOiBJRmlsZVJhbmdlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMuZXhwZWN0ZWQgPSBleHBlY3RlZDtcbiAgICB0aGlzLmZvdW5kID0gZm91bmQ7XG4gICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgIHRoaXMubmFtZSA9IFwiU3ludGF4RXJyb3JcIjtcblxuICAgIGlmICh0eXBlb2YgKE9iamVjdCBhcyBhbnkpLnNldFByb3RvdHlwZU9mID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIChPYmplY3QgYXMgYW55KS5zZXRQcm90b3R5cGVPZih0aGlzLCBTeW50YXhFcnJvci5wcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAodGhpcyBhcyBhbnkpLl9fcHJvdG9fXyA9IFN5bnRheEVycm9yLnByb3RvdHlwZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiAoRXJyb3IgYXMgYW55KS5jYXB0dXJlU3RhY2tUcmFjZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAoRXJyb3IgYXMgYW55KS5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBTeW50YXhFcnJvcik7XG4gICAgfVxuICB9XG5cbiAgZm9ybWF0KHNvdXJjZXM6IHsgc291cmNlOiBzdHJpbmc7IHRleHQ6IHN0cmluZyB9W10pOiBzdHJpbmcge1xuICAgIGxldCBzdHIgPSAnRXJyb3I6ICcgKyB0aGlzLm1lc3NhZ2U7XG4gICAgaWYgKHRoaXMubG9jYXRpb24pIHtcbiAgICAgIGxldCBzcmM6IHN0cmluZ1tdIHwgbnVsbCA9IG51bGw7XG4gICAgICBsZXQgaztcbiAgICAgIGZvciAoayA9IDA7IGsgPCBzb3VyY2VzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIGlmIChzb3VyY2VzW2tdLnNvdXJjZSA9PT0gdGhpcy5sb2NhdGlvbi5zb3VyY2UpIHtcbiAgICAgICAgICBzcmMgPSBzb3VyY2VzW2tdLnRleHQuc3BsaXQoL1xcclxcbnxcXG58XFxyL2cpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgcyA9IHRoaXMubG9jYXRpb24uc3RhcnQ7XG4gICAgICBsZXQgbG9jID0gdGhpcy5sb2NhdGlvbi5zb3VyY2UgKyAnOicgKyBzLmxpbmUgKyAnOicgKyBzLmNvbHVtbjtcbiAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgbGV0IGUgPSB0aGlzLmxvY2F0aW9uLmVuZDtcbiAgICAgICAgbGV0IGZpbGxlciA9IHBlZyRwYWRFbmQoJycsIHMubGluZS50b1N0cmluZygpLmxlbmd0aCwgJyAnKTtcbiAgICAgICAgbGV0IGxpbmUgPSBzcmNbcy5saW5lIC0gMV07XG4gICAgICAgIGxldCBsYXN0ID0gcy5saW5lID09PSBlLmxpbmUgPyBlLmNvbHVtbiA6IGxpbmUubGVuZ3RoICsgMTtcbiAgICAgICAgc3RyICs9ICdcXG4gLS0+ICcgKyBsb2MgKyAnXFxuJyArIGZpbGxlciArICcgfFxcbicgKyBzLmxpbmUgKyAnIHwgJyArIGxpbmUgKyAnXFxuJyArIGZpbGxlciArICcgfCAnICtcbiAgICAgICAgICBwZWckcGFkRW5kKCcnLCBzLmNvbHVtbiAtIDEsICcgJykgK1xuICAgICAgICAgIHBlZyRwYWRFbmQoJycsIGxhc3QgLSBzLmNvbHVtbiwgJ14nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciArPSAnXFxuIGF0ICcgKyBsb2M7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGVnJHBhcnNlKGlucHV0OiBzdHJpbmcsIG9wdGlvbnM/OiBJUGFyc2VPcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zICE9PSB1bmRlZmluZWQgPyBvcHRpb25zIDoge307XG5cbiAgY29uc3QgcGVnJEZBSUxFRDogUmVhZG9ubHk8YW55PiA9IHt9O1xuICBjb25zdCBwZWckc291cmNlID0gb3B0aW9ucy5ncmFtbWFyU291cmNlO1xuXG4gIGNvbnN0IHBlZyRzdGFydFJ1bGVGdW5jdGlvbnM6IHtbaWQ6IHN0cmluZ106IGFueX0gPSB7IFByb2dyYW06IHBlZyRwYXJzZVByb2dyYW0gfTtcbiAgbGV0IHBlZyRzdGFydFJ1bGVGdW5jdGlvbjogKCkgPT4gYW55ID0gcGVnJHBhcnNlUHJvZ3JhbTtcblxuICBjb25zdCBwZWckYzAgPSBmdW5jdGlvbihhbGw6IGFueSk6IGFueSB7IHJldHVybiBhbGwgfTtcbiAgY29uc3QgcGVnJGMxID0gL15bXFx0IFxcbiBcXHJdLztcbiAgY29uc3QgcGVnJGMyID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1wiXFx0XCIsIFwiIFwiLCBcIlxcblwiLCBcIiBcIiwgXCJcXHJcIl0sIGZhbHNlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMyA9IGZ1bmN0aW9uKGRlZjogYW55KTogYW55IHsgcmV0dXJuIGRlZiB9O1xuICBjb25zdCBwZWckYzQgPSBcIihkZWZpbmUtc3RydWN0XCI7XG4gIGNvbnN0IHBlZyRjNSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIoZGVmaW5lLXN0cnVjdFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNiA9IFwiKFwiO1xuICBjb25zdCBwZWckYzcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjOCA9IFwiKVwiO1xuICBjb25zdCBwZWckYzkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTAgPSBmdW5jdGlvbihiaW5kaW5nOiBhbnksIHByb3BlcnRpZXM6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFwidHlwZVwiOiBcIlN0cnVjdCBEZWZpbml0aW9uXCIsXG4gICAgXHRcImJpbmRpbmdcIjogYmluZGluZyxcbiAgICAgIFwicHJvcGVydGllc1wiOiBwcm9wZXJ0aWVzXG4gICAgICB9XG4gICAgfTtcbiAgY29uc3QgcGVnJGMxMSA9IFwiKGRlZmluZVwiO1xuICBjb25zdCBwZWckYzEyID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIihkZWZpbmVcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzEzID0gZnVuY3Rpb24obmFtZTogYW55LCBhcmdzOiBhbnksIGJvZHk6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFwidHlwZVwiOiBcIkZ1bmN0aW9uIERlZmluaXRpb25cIixcbiAgICBcdFwibmFtZVwiOiBuYW1lLFxuICAgICAgXCJhcmdzXCI6IGFyZ3MsXG4gICAgICBcImJvZHlcIjogYm9keVxuICAgICAgfVxuICAgIH07XG4gIGNvbnN0IHBlZyRjMTQgPSBmdW5jdGlvbihuYW1lOiBhbnksIHZhbHVlOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBcInR5cGVcIjogXCJDb25zdGFudCBEZWZpbml0aW9uXCIsXG4gICAgXHRcIm5hbWVcIjogbmFtZSxcbiAgICAgIFwidmFsdWVcIjogdmFsdWVcbiAgICAgIH1cbiAgICB9O1xuICBjb25zdCBwZWckYzE1ID0gZnVuY3Rpb24oZXhwcjogYW55KTogYW55IHsgcmV0dXJuIGV4cHIgfTtcbiAgY29uc3QgcGVnJGMxNiA9IFwiKGNvbmRcIjtcbiAgY29uc3QgcGVnJGMxNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIoY29uZFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTggPSBmdW5jdGlvbihvcHRpb25zOiBhbnkpOiBhbnkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiQ29uZC1FeHByZXNzaW9uXCIsXG4gICAgICAgIFwib3B0aW9uc1wiOiBvcHRpb25zXG4gICAgICB9XG4gICAgfTtcbiAgY29uc3QgcGVnJGMxOSA9IFwiW1wiO1xuICBjb25zdCBwZWckYzIwID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIltcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIxID0gXCJdXCI7XG4gIGNvbnN0IHBlZyRjMjIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiXVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjMgPSBmdW5jdGlvbihjb25kaXRpb246IGFueSwgcmVzdWx0OiBhbnkpOiBhbnkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiQ29uZC1PcHRpb25cIixcbiAgICAgICAgXCJjb25kaXRpb25cIjogY29uZGl0aW9uLFxuICAgICAgICBcInJlc3VsdFwiOnJlc3VsdFxuICAgICAgfVxuICAgIH07XG4gIGNvbnN0IHBlZyRjMjQgPSBmdW5jdGlvbihuYW1lOiBhbnksIGFyZ3M6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFwidHlwZVwiOiBcIkZ1bmN0aW9uIENhbGxcIixcbiAgICAgIFwibmFtZVwiOiBuYW1lLFxuICAgICAgXCJhcmdzXCI6IGFyZ3NcbiAgICAgIH1cbiAgICB9O1xuICBjb25zdCBwZWckYzI1ID0gXCJkZWZpbmVcIjtcbiAgY29uc3QgcGVnJGMyNiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJkZWZpbmVcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI3ID0gL15bXlwiLCdgKClbXFxde318I1xcblxcdFxccjAtOSBdLztcbiAgY29uc3QgcGVnJGMyOCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIlxcXCJcIiwgXCIsXCIsIFwiJ1wiLCBcImBcIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgXCJ8XCIsIFwiI1wiLCBcIlxcblwiLCBcIlxcdFwiLCBcIlxcclwiLCBbXCIwXCIsIFwiOVwiXSwgXCIgXCJdLCB0cnVlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjkgPSBmdW5jdGlvbihzeW1ib2w6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFwidHlwZVwiOiBcIlN5bWJvbFwiLFxuICAgIFx0XCJzeW1ib2xcIjpzeW1ib2wuam9pbihcIlwiKVxuICAgICAgfVxuICAgIH07XG4gIGNvbnN0IHBlZyRjMzAgPSBmdW5jdGlvbih2YWw6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFwidHlwZVwiOiBcIkxpdGVyYWwgVmFsdWVcIixcbiAgICAgIFwidmFsdWVcIjogdmFsXG4gICAgICB9XG4gICAgfTtcbiAgY29uc3QgcGVnJGMzMSA9IC9eWzAtOV0vO1xuICBjb25zdCBwZWckYzMyID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIjBcIiwgXCI5XCJdXSwgZmFsc2UsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzMyA9IGZ1bmN0aW9uKCk6IGFueSB7cmV0dXJuIHBhcnNlSW50KHRleHQoKSwgMTApfTtcbiAgY29uc3QgcGVnJGMzNCA9IFwiI3RydWVcIjtcbiAgY29uc3QgcGVnJGMzNSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIjdHJ1ZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzYgPSBcIiNmYWxzZVwiO1xuICBjb25zdCBwZWckYzM3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIiNmYWxzZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzggPSBcIiN0XCI7XG4gIGNvbnN0IHBlZyRjMzkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiI3RcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQwID0gXCIjZlwiO1xuICBjb25zdCBwZWckYzQxID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIiNmXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MiA9IGZ1bmN0aW9uKGJvb2w6IGFueSk6IGFueSB7IHJldHVybiAoYm9vbCA9PT0gXCIjdHJ1ZVwiIHx8IGJvb2wgPT09IFwiI3RcIikgfTtcbiAgY29uc3QgcGVnJGM0MyA9IFwiJygpXCI7XG4gIGNvbnN0IHBlZyRjNDQgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJygpXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0NSA9IGZ1bmN0aW9uKCk6IGFueSB7IHJldHVybiBcIicoKVwiIH07XG4gIGNvbnN0IHBlZyRjNDYgPSBcIlxcXCJcIjtcbiAgY29uc3QgcGVnJGM0NyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXFwiXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0OCA9IC9eW15cIl0vO1xuICBjb25zdCBwZWckYzQ5ID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1wiXFxcIlwiXSwgdHJ1ZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzUwID0gZnVuY3Rpb24oc3RyOiBhbnkpOiBhbnkgeyByZXR1cm4gc3RyLmpvaW4oXCJcIikgfTtcbiAgY29uc3QgcGVnJGM1MSA9IHBlZyRvdGhlckV4cGVjdGF0aW9uKFwid2hpdGVzcGFjZVwiKTtcbiAgY29uc3QgcGVnJGM1MiA9IGZ1bmN0aW9uKCk6IGFueSB7cmV0dXJuIHVuZGVmaW5lZH07XG5cbiAgbGV0IHBlZyRjdXJyUG9zID0gMDtcbiAgbGV0IHBlZyRzYXZlZFBvcyA9IDA7XG4gIGNvbnN0IHBlZyRwb3NEZXRhaWxzQ2FjaGUgPSBbeyBsaW5lOiAxLCBjb2x1bW46IDEgfV07XG4gIGxldCBwZWckbWF4RmFpbFBvcyA9IDA7XG4gIGxldCBwZWckbWF4RmFpbEV4cGVjdGVkOiBFeHBlY3RhdGlvbltdID0gW107XG4gIGxldCBwZWckc2lsZW50RmFpbHMgPSAwO1xuXG4gIGxldCBwZWckcmVzdWx0O1xuXG4gIGlmIChvcHRpb25zLnN0YXJ0UnVsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKCEob3B0aW9ucy5zdGFydFJ1bGUgaW4gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9ucykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHN0YXJ0IHBhcnNpbmcgZnJvbSBydWxlIFxcXCJcIiArIG9wdGlvbnMuc3RhcnRSdWxlICsgXCJcXFwiLlwiKTtcbiAgICB9XG5cbiAgICBwZWckc3RhcnRSdWxlRnVuY3Rpb24gPSBwZWckc3RhcnRSdWxlRnVuY3Rpb25zW29wdGlvbnMuc3RhcnRSdWxlXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRleHQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gaW5wdXQuc3Vic3RyaW5nKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9jYXRpb24oKTogSUZpbGVSYW5nZSB7XG4gICAgcmV0dXJuIHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG4gIH1cblxuICBmdW5jdGlvbiBleHBlY3RlZChkZXNjcmlwdGlvbjogc3RyaW5nLCBsb2NhdGlvbjE/OiBJRmlsZVJhbmdlKSB7XG4gICAgbG9jYXRpb24xID0gbG9jYXRpb24xICE9PSB1bmRlZmluZWRcbiAgICAgID8gbG9jYXRpb24xXG4gICAgICA6IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG5cbiAgICB0aHJvdyBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IoXG4gICAgICBbcGVnJG90aGVyRXhwZWN0YXRpb24oZGVzY3JpcHRpb24pXSxcbiAgICAgIGlucHV0LnN1YnN0cmluZyhwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKSxcbiAgICAgIGxvY2F0aW9uMVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBlcnJvcihtZXNzYWdlOiBzdHJpbmcsIGxvY2F0aW9uMT86IElGaWxlUmFuZ2UpIHtcbiAgICBsb2NhdGlvbjEgPSBsb2NhdGlvbjEgIT09IHVuZGVmaW5lZFxuICAgICAgPyBsb2NhdGlvbjFcbiAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcblxuICAgIHRocm93IHBlZyRidWlsZFNpbXBsZUVycm9yKG1lc3NhZ2UsIGxvY2F0aW9uMSk7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKHRleHQxOiBzdHJpbmcsIGlnbm9yZUNhc2U6IGJvb2xlYW4pOiBJTGl0ZXJhbEV4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImxpdGVyYWxcIiwgdGV4dDogdGV4dDEsIGlnbm9yZUNhc2U6IGlnbm9yZUNhc2UgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRjbGFzc0V4cGVjdGF0aW9uKHBhcnRzOiBJQ2xhc3NQYXJ0cywgaW52ZXJ0ZWQ6IGJvb2xlYW4sIGlnbm9yZUNhc2U6IGJvb2xlYW4pOiBJQ2xhc3NFeHBlY3RhdGlvbiB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJjbGFzc1wiLCBwYXJ0czogcGFydHMsIGludmVydGVkOiBpbnZlcnRlZCwgaWdub3JlQ2FzZTogaWdub3JlQ2FzZSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGFueUV4cGVjdGF0aW9uKCk6IElBbnlFeHBlY3RhdGlvbiB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJhbnlcIiB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGVuZEV4cGVjdGF0aW9uKCk6IElFbmRFeHBlY3RhdGlvbiB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJlbmRcIiB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJG90aGVyRXhwZWN0YXRpb24oZGVzY3JpcHRpb246IHN0cmluZyk6IElPdGhlckV4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcIm90aGVyXCIsIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHBvczogbnVtYmVyKSB7XG4gICAgbGV0IGRldGFpbHMgPSBwZWckcG9zRGV0YWlsc0NhY2hlW3Bvc107XG4gICAgbGV0IHA7XG5cbiAgICBpZiAoZGV0YWlscykge1xuICAgICAgcmV0dXJuIGRldGFpbHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHAgPSBwb3MgLSAxO1xuICAgICAgd2hpbGUgKCFwZWckcG9zRGV0YWlsc0NhY2hlW3BdKSB7XG4gICAgICAgIHAtLTtcbiAgICAgIH1cblxuICAgICAgZGV0YWlscyA9IHBlZyRwb3NEZXRhaWxzQ2FjaGVbcF07XG4gICAgICBkZXRhaWxzID0ge1xuICAgICAgICBsaW5lOiBkZXRhaWxzLmxpbmUsXG4gICAgICAgIGNvbHVtbjogZGV0YWlscy5jb2x1bW5cbiAgICAgIH07XG5cbiAgICAgIHdoaWxlIChwIDwgcG9zKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHApID09PSAxMCkge1xuICAgICAgICAgIGRldGFpbHMubGluZSsrO1xuICAgICAgICAgIGRldGFpbHMuY29sdW1uID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZXRhaWxzLmNvbHVtbisrO1xuICAgICAgICB9XG5cbiAgICAgICAgcCsrO1xuICAgICAgfVxuXG4gICAgICBwZWckcG9zRGV0YWlsc0NhY2hlW3Bvc10gPSBkZXRhaWxzO1xuXG4gICAgICByZXR1cm4gZGV0YWlscztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwZWckY29tcHV0ZUxvY2F0aW9uKHN0YXJ0UG9zOiBudW1iZXIsIGVuZFBvczogbnVtYmVyKTogSUZpbGVSYW5nZSB7XG4gICAgY29uc3Qgc3RhcnRQb3NEZXRhaWxzID0gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHN0YXJ0UG9zKTtcbiAgICBjb25zdCBlbmRQb3NEZXRhaWxzID0gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKGVuZFBvcyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc291cmNlOiBwZWckc291cmNlLFxuICAgICAgc3RhcnQ6IHtcbiAgICAgICAgb2Zmc2V0OiBzdGFydFBvcyxcbiAgICAgICAgbGluZTogc3RhcnRQb3NEZXRhaWxzLmxpbmUsXG4gICAgICAgIGNvbHVtbjogc3RhcnRQb3NEZXRhaWxzLmNvbHVtblxuICAgICAgfSxcbiAgICAgIGVuZDoge1xuICAgICAgICBvZmZzZXQ6IGVuZFBvcyxcbiAgICAgICAgbGluZTogZW5kUG9zRGV0YWlscy5saW5lLFxuICAgICAgICBjb2x1bW46IGVuZFBvc0RldGFpbHMuY29sdW1uXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRmYWlsKGV4cGVjdGVkMTogRXhwZWN0YXRpb24pIHtcbiAgICBpZiAocGVnJGN1cnJQb3MgPCBwZWckbWF4RmFpbFBvcykgeyByZXR1cm47IH1cblxuICAgIGlmIChwZWckY3VyclBvcyA+IHBlZyRtYXhGYWlsUG9zKSB7XG4gICAgICBwZWckbWF4RmFpbFBvcyA9IHBlZyRjdXJyUG9zO1xuICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCA9IFtdO1xuICAgIH1cblxuICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQucHVzaChleHBlY3RlZDEpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGJ1aWxkU2ltcGxlRXJyb3IobWVzc2FnZTogc3RyaW5nLCBsb2NhdGlvbjE6IElGaWxlUmFuZ2UpIHtcbiAgICByZXR1cm4gbmV3IFN5bnRheEVycm9yKG1lc3NhZ2UsIFtdLCBcIlwiLCBsb2NhdGlvbjEpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKGV4cGVjdGVkMTogRXhwZWN0YXRpb25bXSwgZm91bmQ6IHN0cmluZyB8IG51bGwsIGxvY2F0aW9uMTogSUZpbGVSYW5nZSkge1xuICAgIHJldHVybiBuZXcgU3ludGF4RXJyb3IoXG4gICAgICBTeW50YXhFcnJvci5idWlsZE1lc3NhZ2UoZXhwZWN0ZWQxLCBmb3VuZCksXG4gICAgICBleHBlY3RlZDEsXG4gICAgICBmb3VuZCxcbiAgICAgIGxvY2F0aW9uMVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VQcm9ncmFtKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczI7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gW107XG4gICAgczIgPSBwZWckcGFyc2VEZWZPckV4cHIoKTtcbiAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICB3aGlsZSAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMxLnB1c2goczIpO1xuICAgICAgICBzMiA9IHBlZyRwYXJzZURlZk9yRXhwcigpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzAoczEpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlRGVmT3JFeHByKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZURlZmluaXRpb24oKTtcbiAgICBpZiAoczEgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IHBlZyRwYXJzZUV4cHJlc3Npb24oKTtcbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIGlmIChwZWckYzEudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICB3aGlsZSAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgICAgaWYgKHBlZyRjMS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMik7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMwKHMxKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VEZWZpbml0aW9uKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczI7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlU3RydWN0RGVmKCk7XG4gICAgICBpZiAoczIgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNlRnVuRGVmKCk7XG4gICAgICAgIGlmIChzMiBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRwYXJzZUNvbnN0RGVmKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMzKHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VTdHJ1Y3REZWYoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzODtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMTQpID09PSBwZWckYzQpIHtcbiAgICAgIHMxID0gcGVnJGM0O1xuICAgICAgcGVnJGN1cnJQb3MgKz0gMTQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1KTsgfVxuICAgIH1cbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZU5hbWUoKTtcbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRjNjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IFtdO1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICAgICAgICBpZiAoczYgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHdoaWxlIChzNiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNS5wdXNoKHM2KTtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZU5hbWUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckYzg7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzkpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM2IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICAgIGlmIChzNyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgczggPSBwZWckYzg7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5KTsgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHM4IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzEwKHMyLCBzNSk7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlRnVuRGVmKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczgsIHM5O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA3KSA9PT0gcGVnJGMxMSkge1xuICAgICAgczEgPSBwZWckYzExO1xuICAgICAgcGVnJGN1cnJQb3MgKz0gNztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEyKTsgfVxuICAgIH1cbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICAgIHMzID0gcGVnJGM2O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZU5hbWUoKTtcbiAgICAgICAgICBpZiAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgIGlmIChzNSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBbXTtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICAgICAgICAgIGlmIChzNyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoczcgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzNi5wdXNoKHM3KTtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM2IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJGM4O1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzkpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzNyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM4IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckYzg7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzkpOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHM5IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMxMyhzNCwgczYsIHM4KTtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlQ29uc3REZWYoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA3KSA9PT0gcGVnJGMxMSkge1xuICAgICAgczEgPSBwZWckYzExO1xuICAgICAgcGVnJGN1cnJQb3MgKz0gNztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEyKTsgfVxuICAgIH1cbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZU5hbWUoKTtcbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRjODtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMxNChzMiwgczMpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VFeHByZXNzaW9uKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczI7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlQ29uZCgpO1xuICAgICAgaWYgKHMyIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZUNhbGwoKTtcbiAgICAgICAgaWYgKHMyIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgICAgIGlmIChzMiBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMyID0gcGVnJHBhcnNlVmFsdWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMxNShzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlQ29uZCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQ7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDUpID09PSBwZWckYzE2KSB7XG4gICAgICBzMSA9IHBlZyRjMTY7XG4gICAgICBwZWckY3VyclBvcyArPSA1O1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTcpOyB9XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRwYXJzZU9wdGlvbigpO1xuICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICB3aGlsZSAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2VPcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJGM4O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzkpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzE4KHMyKTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlT3B0aW9uKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5MSkge1xuICAgICAgICBzMiA9IHBlZyRjMTk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMCk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZUV4cHJlc3Npb24oKTtcbiAgICAgICAgICBpZiAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgIGlmIChzNSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICAgIGlmIChzNiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDkzKSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRjMjE7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjIpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzNyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzIzKHM0LCBzNik7XG4gICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUNhbGwoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICBzMSA9IHBlZyRjNjtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3KTsgfVxuICAgIH1cbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZU5hbWUoKTtcbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBbXTtcbiAgICAgICAgczQgPSBwZWckcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgIHdoaWxlIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMy5wdXNoKHM0KTtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZUV4cHJlc3Npb24oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgczQgPSBwZWckYzg7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMjQoczIsIHMzKTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlTmFtZSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQ7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzI1KSB7XG4gICAgICAgIHMzID0gcGVnJGMyNTtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2KTsgfVxuICAgICAgfVxuICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICBpZiAoczMgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IFtdO1xuICAgICAgICBpZiAocGVnJGMyNy50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgczQgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyOCk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgd2hpbGUgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczMucHVzaChzNCk7XG4gICAgICAgICAgICBpZiAocGVnJGMyNy50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICAgIHM0ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI4KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGMyOShzMyk7XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZVZhbHVlKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VOdW1iZXIoKTtcbiAgICBpZiAoczEgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IHBlZyRwYXJzZUJvb2xlYW4oKTtcbiAgICAgIGlmIChzMSBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczEgPSBwZWckcGFyc2VFbXB0eSgpO1xuICAgICAgICBpZiAoczEgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczEgPSBwZWckcGFyc2VTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGMzMChzMSk7XG4gICAgfVxuICAgIHMwID0gczE7XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VOdW1iZXIoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBpZiAocGVnJGMzMS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMyKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICB3aGlsZSAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgICAgaWYgKHBlZyRjMzEudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMyKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzMzKCk7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlQm9vbGVhbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA1KSA9PT0gcGVnJGMzNCkge1xuICAgICAgICBzMiA9IHBlZyRjMzQ7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMzYpIHtcbiAgICAgICAgICBzMiA9IHBlZyRjMzY7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM3KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMiBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMzOCkge1xuICAgICAgICAgICAgczIgPSBwZWckYzM4O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM5KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczIgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM0MCkge1xuICAgICAgICAgICAgICBzMiA9IHBlZyRjNDA7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGM0MihzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlRW1wdHkoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMykgPT09IHBlZyRjNDMpIHtcbiAgICAgICAgczIgPSBwZWckYzQzO1xuICAgICAgICBwZWckY3VyclBvcyArPSAzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDQpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNDUoKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VTdHJpbmcoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM0KSB7XG4gICAgICAgIHMyID0gcGVnJGM0NjtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ3KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IFtdO1xuICAgICAgICBpZiAocGVnJGM0OC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgczQgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0OSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgd2hpbGUgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczMucHVzaChzNCk7XG4gICAgICAgICAgICBpZiAocGVnJGM0OC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICAgIHM0ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ5KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJGM0NjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0Nyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjNTAoczMpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VfKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczI7XG5cbiAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gW107XG4gICAgaWYgKHBlZyRjMS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMik7IH1cbiAgICB9XG4gICAgd2hpbGUgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEucHVzaChzMik7XG4gICAgICBpZiAocGVnJGMxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMik7IH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjNTIoKTtcbiAgICB9XG4gICAgczAgPSBzMTtcbiAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICBpZiAoczAgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTEpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgcGVnJHJlc3VsdCA9IHBlZyRzdGFydFJ1bGVGdW5jdGlvbigpO1xuXG4gIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zID09PSBpbnB1dC5sZW5ndGgpIHtcbiAgICByZXR1cm4gcGVnJHJlc3VsdDtcbiAgfSBlbHNlIHtcbiAgICBpZiAocGVnJHJlc3VsdCAhPT0gcGVnJEZBSUxFRCAmJiBwZWckY3VyclBvcyA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgcGVnJGZhaWwocGVnJGVuZEV4cGVjdGF0aW9uKCkpO1xuICAgIH1cblxuICAgIHRocm93IHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihcbiAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQsXG4gICAgICBwZWckbWF4RmFpbFBvcyA8IGlucHV0Lmxlbmd0aCA/IGlucHV0LmNoYXJBdChwZWckbWF4RmFpbFBvcykgOiBudWxsLFxuICAgICAgcGVnJG1heEZhaWxQb3MgPCBpbnB1dC5sZW5ndGhcbiAgICAgICAgPyBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRtYXhGYWlsUG9zLCBwZWckbWF4RmFpbFBvcyArIDEpXG4gICAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckbWF4RmFpbFBvcywgcGVnJG1heEZhaWxQb3MpXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElQYXJzZU9wdGlvbnMge1xuICBmaWxlbmFtZT86IHN0cmluZztcbiAgc3RhcnRSdWxlPzogc3RyaW5nO1xuICB0cmFjZXI/OiBhbnk7XG4gIFtrZXk6IHN0cmluZ106IGFueTtcbn1cbmV4cG9ydCB0eXBlIFBhcnNlRnVuY3Rpb24gPSAoaW5wdXQ6IHN0cmluZywgb3B0aW9ucz86IElQYXJzZU9wdGlvbnMpID0+IGFueTtcbmV4cG9ydCBjb25zdCBwYXJzZTogUGFyc2VGdW5jdGlvbiA9IHBlZyRwYXJzZTtcbiIsICIvLyAjIyMjIyMjIyMgTEFZT1VUIEFTVCBBUyBUUkVFIERJQUdSQU0gIyMjIyMjIyNcbmltcG9ydCAqIGFzIEJTTF9BU1QgZnJvbSBcIi4vQlNMX0FTVFwiO1xuaW1wb3J0ICogYXMgQlNMX1ByaW50IGZyb20gXCIuL0JTTF9QcmludFwiO1xuaW1wb3J0IHtub2RlLCBwcm9kdWN0aW9uVHJlZX0gZnJvbSBcIi4vUHJvZHVjdGlvbl9UcmVlXCI7XG5pbXBvcnQge3BhcnNlfSBmcm9tIFwiLi9CU0xfUGFyc2VyXCI7XG5pbXBvcnQge2RlZmF1bHQgYXMgZXJyb3JfY3NzfSBmcm9tICcuL3Jlc3NvdXJjZXMvZXJyb3IuY3NzJztcblxuLy8gIyMjIG1haW4gYXBpXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc0JzbFRyZWVzKCkge1xuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdic2x0cmVlJykpLm1hcChlbCA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHByb2dyYW0gOiBCU0xfQVNULnByb2dyYW0gPSBwYXJzZShCU0xfUHJpbnQuZGlydGlmeShlbC5pbm5lckhUTUwpKTtcbiAgICAgIGNvbnN0IHJvb3QgPSBwcm9ncmFtVG9Ob2RlKHByb2dyYW0pO1xuICAgICAgY29uc3QgcXVpeiA9IGVsLmdldEF0dHJpYnV0ZSgncXVpeicpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XG4gICAgICBjb25zdCBsYW5nID0gKGVsLmdldEF0dHJpYnV0ZSgnbGFuZycpID8gZWwuZ2V0QXR0cmlidXRlKCdsYW5nJykgOiB1bmRlZmluZWQpIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgIHByb2R1Y3Rpb25UcmVlKHJvb3QsIGVsIGFzIEhUTUxFbGVtZW50LCBwcm9kdWN0aW9ucywgcXVpeiwgbGFuZyk7XG4gICAgfSBjYXRjaChlOmFueSkge1xuICAgICAgcmVuZGVyRXJyb3IoZWwgYXMgSFRNTEVsZW1lbnQsIGAke2UubG9jYXRpb24uc3RhcnQubGluZX06JHtlLmxvY2F0aW9uLnN0YXJ0LmNvbHVtbn0gJHtlfWApO1xuICAgIH1cbiAgfSk7XG59XG4vLyAjIyMgZXJyb3IgUmVuZGVyIEZ1bmN0aW9uXG5mdW5jdGlvbiByZW5kZXJFcnJvcihlbDogSFRNTEVsZW1lbnQsIGVycm9yOnN0cmluZyl7XG4gIC8vIGFkZCBjc3MgaWYgbmVjZXNzYXJ5XG4gIGlmKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnNsLXRvb2xzLWVycm9yLXN0eWxlJykpIHtcbiAgICBjb25zdCBzdHlsZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlTm9kZS5pbm5lckhUTUwgPSBlcnJvcl9jc3M7XG4gICAgc3R5bGVOb2RlLmlkID0gJ2JzbC10b29scy1lcnJvci1zdHlsZSc7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChzdHlsZU5vZGUpO1xuICB9XG5cbiAgY29uc3Qgb3JpZ2luID0gZWwuaW5uZXJIVE1MO1xuICBlbC5pbm5lckhUTUwgPVwiXCI7XG4gIC8vY3JlYXRlIGVycm9yLXdyYXBwZXJcbiAgY29uc3QgZXJyb3JXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGVycm9yV3JhcHBlci5jbGFzc0xpc3QuYWRkKCdlcnJvci13cmFwcGVyJyk7XG4gIGVsLmFwcGVuZENoaWxkKGVycm9yV3JhcHBlcik7XG4gIC8vY3JlYXRlIG9yaWdpbkRpdlxuICBjb25zdCBtZXNzYWdlID1gPHA+IEJTTC1UcmVlIGNvdWxkIG5vdCBiZSBwYXJzZWQhIDwvcD5cbiAgICAgICAgICAgICAgICAgIDxwPiBJbnB1dDogPGIgc3R5bGU9XCJmb250LXNpemU6MC45ZW07XCI+JHtvcmlnaW59PC9iPiA8L3A+YDtcbiAgY29uc3Qgb3JpZ2luRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG9yaWdpbkRpdi5jbGFzc0xpc3QuYWRkKCdvcmlnaW4nKTtcbiAgb3JpZ2luRGl2LmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gIGVycm9yV3JhcHBlci5hcHBlbmRDaGlsZChvcmlnaW5EaXYpO1xuICAvL0NyZWF0ZSBlcnJQcmVcbiAgY29uc3QgZXJyUHJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncHJlJyk7XG4gIGVyclByZS5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuICBjb25zdCBlcnJDb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY29kZScpO1xuICBlcnJDb2RlLnRleHRDb250ZW50ID0gZXJyb3I7XG4gIGVycm9yV3JhcHBlci5hcHBlbmRDaGlsZChlcnJQcmUpO1xuICBlcnJQcmUuYXBwZW5kQ2hpbGQoZXJyQ29kZSk7XG59XG5cbi8vICMjIyBrbm93biBsaXN0IG9mIHByb2R1Y3Rpb25zXG5jb25zdCBwcm9kdWN0aW9ucyA9IHtcbiAgJzxwcm9ncmFtPic6ICAgICAgWyc8ZGVmLW9yLWV4cHI+KiddLFxuICAnPGRlZi1vci1leHByPionOiBbXSwgLy8gWyc8ZGVmLW9yLWV4cHI+IDxkZWYtb3ItZXhwcj4qJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICcnXSxcbiAgJzxkZWYtb3ItZXhwcj4nOiAgWyc8ZGVmaW5pdGlvbj4nLFxuICAgICAgICAgICAgICAgICAgICAgJzxlPiddLFxuICAnPGRlZmluaXRpb24+JzogICBbJyhkZWZpbmUgKDxuYW1lPiA8bmFtZT4rKSA8ZT4pJyxcbiAgICAgICAgICAgICAgICAgICAgICcoZGVmaW5lIDxuYW1lPiA8ZT4pJyxcbiAgICAgICAgICAgICAgICAgICAgICcoZGVmaW5lLXN0cnVjdCA8bmFtZT4gKDxuYW1lPiopKSddLFxuICAnPGU+JzogICAgICAgICAgICBbJyhuYW1lIDxlPiopJyxcbiAgICAgICAgICAgICAgICAgICAgICcoY29uZCB7WzxlPiw8ZT5dfSspJyxcbiAgICAgICAgICAgICAgICAgICAgICc8bmFtZT4nLFxuICAgICAgICAgICAgICAgICAgICAgJzx2PiddLFxuICAnPGU+Kic6ICAgICAgICAgICBbXSwgLy9bJzxlPiA8ZT4qJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICcnXSxcbiAgJ3tbIDxlPiA8ZT4gXX0rJzogW10sIC8vWydbPGU+IDxlPl0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJ1s8ZT4gPGU+XSB7WzxlPiw8ZT5dfSsnXSxcbiAgJ1sgPGU+IDxlPiBdJzogICAgW10sIC8vWydbPGU+IDxlPl0nXSxcbiAgJzxuYW1lPionOiAgICAgICAgW10sIC8vWycnLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzxuYW1lPiA8bmFtZT4qJ10sXG4gICc8bmFtZT4rJzogICAgICAgIFtdLCAvL1snPG5hbWU+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICc8bmFtZT4gPG5hbWU+KyddLFxuICAnPG5hbWU+JzogICAgICAgICBbXSxcbiAgJzx2Pic6ICAgICAgICAgICAgW11cbn07XG5cbi8vICMjIyB0cmFuc2Zvcm0gQVNUIGludG8gbm9kZSBoZWxwZXIgc3RydWN0dXJlXG5mdW5jdGlvbiBwcm9ncmFtVG9Ob2RlKHA6IEJTTF9BU1QucHJvZ3JhbSk6IG5vZGUge1xuICBjb25zdCBleHByZXNzaW9ucyA9IHAubWFwKEJTTF9QcmludC5wcmludERlZk9yRXhwcik7XG4gIGNvbnN0IGluZGljZXMgPSBbXTtcbiAgbGV0IHByb2dyYW0gPSAnJztcbiAgZm9yKGxldCBpID0gMDsgaSA8IGV4cHJlc3Npb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGkgPiAwKSBwcm9ncmFtID0gYCR7cHJvZ3JhbX1cXG5gO1xuICAgIGNvbnN0IHN0YXJ0ID0gcHJvZ3JhbS5sZW5ndGg7XG4gICAgcHJvZ3JhbSA9IGAke3Byb2dyYW19JHtleHByZXNzaW9uc1tpXX1gO1xuICAgIGNvbnN0IGVuZCA9IHByb2dyYW0ubGVuZ3RoO1xuICAgIGluZGljZXMucHVzaCh7c3RhcnQ6c3RhcnQsZW5kOmVuZH0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJzxwcm9ncmFtPicsXG4gICAgY29kZTogcHJvZ3JhbSxcbiAgICBob2xlczogW1xuICAgICAge1xuICAgICAgICBzdGFydDogMCxcbiAgICAgICAgZW5kOiBwcm9ncmFtLmxlbmd0aCxcbiAgICAgICAgY29udGVudDoge1xuICAgICAgICAgIHByb2R1Y3Rpb246ICc8ZGVmLW9yLWV4cHI+KicsXG4gICAgICAgICAgY29kZTogcHJvZ3JhbSxcbiAgICAgICAgICBob2xlczogaW5kaWNlcy5tYXAoKGgsaWR4KSA9PiB7IHJldHVybiB7XG4gICAgICAgICAgICBzdGFydDogaC5zdGFydCxcbiAgICAgICAgICAgIGVuZDogaC5lbmQsXG4gICAgICAgICAgICBjb250ZW50OiBkZWZPckV4cHJUb05vZGUocFtpZHhdKVxuICAgICAgICAgIH19KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgXVxuICB9O1xufVxuXG5mdW5jdGlvbiBkZWZPckV4cHJUb05vZGUoZGU6IEJTTF9BU1QuZGVmT3JFeHByKTpub2RlIHtcbiAgY29uc3QgY29kZSA9IEJTTF9QcmludC5wcmludERlZk9yRXhwcihkZSkgYXMgc3RyaW5nO1xuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICc8ZGVmLW9yLWV4cHI+JyxcbiAgICBjb2RlOiBjb2RlLFxuICAgIGhvbGVzOiBbe1xuICAgICAgc3RhcnQ6IDAsXG4gICAgICBlbmQ6IGNvZGUubGVuZ3RoLFxuICAgICAgY29udGVudDogQlNMX0FTVC5pc0RlZmluaXRpb24oZGUpID8gZGVmVG9Ob2RlKGRlKSA6IGV4cFRvTm9kZShkZSlcbiAgICB9XVxuICB9XG59XG5cbmZ1bmN0aW9uIGRlZlRvTm9kZShkOiBCU0xfQVNULmRlZmluaXRpb24pOm5vZGUge1xuICBsZXQgY29kZSA9ICcnO1xuICBjb25zdCBob2xlcyA9IFtdO1xuICBpZiAoQlNMX0FTVC5pc0Z1bkRlZihkKSkge1xuICAgIGNvZGUgPSAnKGRlZmluZSAoJztcbiAgICBsZXQgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludE5hbWUoZC5uYW1lKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bmFtZVRvTm9kZShkLm5hbWUpfSk7XG5cbiAgICBjb2RlID0gYCR7Y29kZX0gYDtcbiAgICBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7ZC5hcmdzLm1hcChCU0xfUHJpbnQucHJpbnROYW1lKS5qb2luKCcgJyl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVQbHVzVG9Ob2RlKGQuYXJncyl9KTtcblxuICAgIGNvZGUgPSBgJHtjb2RlfSkgYDtcbiAgICBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50RShkLmJvZHkpfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpleHBUb05vZGUoZC5ib2R5KX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9KWA7XG4gIH0gZWxzZSBpZiAoQlNMX0FTVC5pc0NvbnN0RGVmKGQpKSB7XG4gICAgY29kZSA9ICcoZGVmaW5lICc7XG4gICAgbGV0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnROYW1lKGQubmFtZSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVUb05vZGUoZC5uYW1lKX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9IGA7XG4gICAgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludEUoZC52YWx1ZSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50OmV4cFRvTm9kZShkLnZhbHVlKX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9KWA7XG4gIH0gZWxzZSB7XG4gICAgY29kZSA9ICcoZGVmaW5lLXN0cnVjdCAnO1xuICAgIGxldCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50TmFtZShkLmJpbmRpbmcpfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpuYW1lVG9Ob2RlKGQuYmluZGluZyl9KTtcblxuICAgIGNvZGUgPSBgJHtjb2RlfSAoYDtcbiAgICBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7ZC5wcm9wZXJ0aWVzLm1hcChCU0xfUHJpbnQucHJpbnROYW1lKS5qb2luKCcgJyl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVTdGFyVG9Ob2RlKGQucHJvcGVydGllcyl9KTtcblxuICAgIGNvZGUgPSBgJHtjb2RlfSkpYDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246IGA8ZGVmaW5pdGlvbj5gLFxuICAgIGNvZGU6IGNvZGUsXG4gICAgaG9sZXM6IGhvbGVzXG4gIH07XG59XG5cbmZ1bmN0aW9uIGV4cFRvTm9kZShlOiBCU0xfQVNULmV4cHIpOm5vZGUge1xuICBsZXQgY29kZSA9ICcnO1xuICBjb25zdCBob2xlcyA9IFtdO1xuICBpZihCU0xfQVNULmlzQ2FsbChlKSkge1xuICAgIGNvZGUgPSAnKCc7XG4gICAgbGV0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnROYW1lKGUubmFtZSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVUb05vZGUoZS5uYW1lKX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9IGA7XG4gICAgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke2UuYXJncy5tYXAoQlNMX1ByaW50LnByaW50RSkuam9pbignICcpfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDplU3RhclRvTm9kZShlLmFyZ3MpfSk7XG5cbiAgICBjb2RlID0gYCR7Y29kZX0pYDtcbiAgfSBlbHNlIGlmIChCU0xfQVNULmlzQ29uZChlKSkge1xuICAgIGNvZGUgPSAnKGNvbmQgJztcbiAgICBsZXQgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke2Uub3B0aW9ucy5tYXAoQlNMX1ByaW50LnByaW50T3B0aW9uKS5qb2luKCcgJyl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om9wdGlvbnNUb05vZGUoZS5vcHRpb25zKX0pO1xuICAgIGNvZGUgPSBgJHtjb2RlfSlgO1xuICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNOYW1lKGUpKSB7XG4gICAgY29kZSA9IEJTTF9QcmludC5wcmludE5hbWUoZSk7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6MCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVUb05vZGUoZSl9KTtcbiAgfSBlbHNlIHtcbiAgICBjb2RlID0gQlNMX1ByaW50LnByaW50RShlKTtcbiAgICBob2xlcy5wdXNoKHtzdGFydDowLCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bGl0ZXJhbFRvTm9kZShlKX0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJzxlPicsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfTtcbn1cblxuZnVuY3Rpb24gbmFtZVRvTm9kZShuOiBCU0xfQVNULk5hbWUpOm5vZGUge1xuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICc8bmFtZT4nLFxuICAgIGNvZGU6IEJTTF9QcmludC5wcmludE5hbWUobiksXG4gICAgaG9sZXM6IFtdXG4gIH07XG59XG5cbmZ1bmN0aW9uIG5hbWVQbHVzVG9Ob2RlKG5zOiBCU0xfQVNULk5hbWVbXSk6bm9kZSB7XG4gIGlmIChucy5sZW5ndGggPCAxKSBjb25zb2xlLmVycm9yKCc8bmFtZT4rIGJ1dCB1c2VkIGJ1dCBuYW1lcyBhcmUgZW1wdHknKTtcbiAgbGV0IGNvZGUgPSAnJztcbiAgY29uc3QgaG9sZXMgPSBbXTtcbiAgZm9yKGxldCBpID0gMDsgaSA8IG5zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludE5hbWUobnNbaV0pfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpuYW1lVG9Ob2RlKG5zW2ldKX0pO1xuXG4gICAgaWYoaSA8IG5zLmxlbmd0aCAtIDEpIGNvZGUgPSBgJHtjb2RlfSBgO1xuICB9XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJzxuYW1lPisnLFxuICAgIGNvZGU6IGNvZGUsXG4gICAgaG9sZXM6IGhvbGVzXG4gIH1cbn1cblxuZnVuY3Rpb24gbmFtZVN0YXJUb05vZGUobnM6IEJTTF9BU1QuTmFtZVtdKTpub2RlIHtcbiAgbGV0IGNvZGUgPSAnJztcbiAgY29uc3QgaG9sZXMgPSBbXTtcbiAgZm9yKGxldCBpID0gMDsgaSA8IG5zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludE5hbWUobnNbaV0pfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpuYW1lVG9Ob2RlKG5zW2ldKX0pO1xuXG4gICAgaWYoaSA8IG5zLmxlbmd0aCAtIDEpIGNvZGUgPSBgJHtjb2RlfSBgO1xuICB9XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJzxuYW1lPionLFxuICAgIGNvZGU6IGNvZGUsXG4gICAgaG9sZXM6IGhvbGVzXG4gIH1cbn1cblxuZnVuY3Rpb24gZVN0YXJUb05vZGUoZXM6IEJTTF9BU1QuZXhwcltdKTpub2RlIHtcbiAgbGV0IGNvZGUgPSAnJztcbiAgY29uc3QgaG9sZXMgPSBbXTtcbiAgZm9yKGxldCBpID0gMDsgaSA8IGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludEUoZXNbaV0pfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpleHBUb05vZGUoZXNbaV0pfSk7XG5cbiAgICBpZihpIDwgZXMubGVuZ3RoIC0gMSkgY29kZSA9IGAke2NvZGV9IGA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAnPGU+KicsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfVxufVxuXG5mdW5jdGlvbiBvcHRpb25zVG9Ob2RlKG9zOiBCU0xfQVNULkNsYXVzZVtdKTpub2RlIHtcbiAgbGV0IGNvZGUgPSAnJztcbiAgY29uc3QgaG9sZXMgPSBbXTtcbiAgZm9yKGxldCBpID0gMDsgaSA8IG9zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludE9wdGlvbihvc1tpXSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om9wdGlvblRvTm9kZShvc1tpXSl9KTtcblxuICAgIGlmKGkgPCBvcy5sZW5ndGggLSAxKSBjb2RlID0gYCR7Y29kZX0gYDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICd7WyA8ZT4gPGU+IF19KycsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfVxufVxuXG5mdW5jdGlvbiBvcHRpb25Ub05vZGUobzogQlNMX0FTVC5DbGF1c2UpOm5vZGUge1xuICBsZXQgY29kZSA9ICcnO1xuICBjb25zdCBob2xlcyA9IFtdO1xuICBjb2RlID0gYCR7Y29kZX1bYDtcbiAgbGV0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50RShvLmNvbmRpdGlvbil9YDtcbiAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpleHBUb05vZGUoby5jb25kaXRpb24pfSk7XG5cbiAgY29kZSA9IGAke2NvZGV9IGA7XG4gIHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50RShvLnJlc3VsdCl9YDtcbiAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpleHBUb05vZGUoby5yZXN1bHQpfSk7XG5cbiAgY29kZSA9IGAke2NvZGV9XWA7XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAnWyA8ZT4gPGU+IF0nLFxuICAgIGNvZGU6IGNvZGUsXG4gICAgaG9sZXM6IGhvbGVzXG4gIH07XG5cbn1cblxuZnVuY3Rpb24gbGl0ZXJhbFRvTm9kZSh2OiBCU0xfQVNULkxpdGVyYWwpOm5vZGUge1xuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICc8dj4nLFxuICAgIGNvZGU6IEJTTF9QcmludC5wcmludEUodiksXG4gICAgaG9sZXM6IFtdXG4gIH1cbn1cbiIsICJpbXBvcnQge25vZGUsIHByb2R1Y3Rpb25UcmVlLCBncmFtbWFyfSBmcm9tIFwiLi9Qcm9kdWN0aW9uX1RyZWVcIjtcbmltcG9ydCB7ZGlydGlmeX0gZnJvbSAnLi9CU0xfUHJpbnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc0pzb25UcmVlcygpIHtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnanNvbnRyZWUnKSkubWFwKGVsID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmV0ID0gcGFyc2VKc29uVHJlZShkaXJ0aWZ5KGVsLmlubmVySFRNTCkpO1xuICAgICAgY29uc3Qgcm9vdCA9IHJldC5yb290O1xuICAgICAgY29uc3QgZ3JhbW1hciA9IHJldC5ncmFtbWFyO1xuICAgICAgY29uc3QgcXVpeiA9IGVsLmdldEF0dHJpYnV0ZSgncXVpeicpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XG4gICAgICBjb25zdCBsYW5nID0gKGVsLmdldEF0dHJpYnV0ZSgnbGFuZycpID8gZWwuZ2V0QXR0cmlidXRlKCdsYW5nJykgOiB1bmRlZmluZWQpIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgIHByb2R1Y3Rpb25UcmVlKHJvb3QsIGVsIGFzIEhUTUxFbGVtZW50LCBncmFtbWFyLCBxdWl6LCBsYW5nKTtcbiAgICB9IGNhdGNoKGU6YW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgZWwuaW5uZXJIVE1MID0gYCR7ZX1gO1xuICAgICAgKGVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICBwYWRkaW5nOiAyZW07XG4gICAgICAgIGNvbG9yOiBkYXJrcmVkO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGA7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcGFyc2VKc29uVHJlZShqczogc3RyaW5nKToge3Jvb3Q6IG5vZGUsIGdyYW1tYXI6IGdyYW1tYXIgfCB1bmRlZmluZWR9IHtcbiAgY29uc3QganNvbiA9IEpTT04ucGFyc2UoanMudHJpbSgpKTtcbiAgY29uc3QgZ3JhbW1hciA9IGpzb25bJ2dyYW1tYXInXTtcbiAgY29uc3Qgcm9vdCA9IHByb2Nlc3NIb2xlc1JlY3Vyc2l2ZShqc29uKTtcbiAgcmV0dXJuIHtcbiAgICByb290OiByb290LFxuICAgIGdyYW1tYXI6IGdyYW1tYXJcbiAgfTtcbn1cblxuLy8gIyMjIHJ1bnRpbWUgdHlwZSBjaGVja2luZywgZXh0cmFjdGluZyBob2xlIHBvc2l0aW9ucyBhbmQgcmVtb3Zpbmdcbi8vICAgICBkaXZpZGVycyAofCkgZnJvbSBjb2RlXG5mdW5jdGlvbiBwcm9jZXNzSG9sZXNSZWN1cnNpdmUobjogbm9kZSk6IG5vZGUge1xuICAvLyBydW50aW1lIHR5cGUgY2hlY2tpbmdcbiAgY29uc3QgcCA9IG4ucHJvZHVjdGlvbjtcbiAgaWYoIXAgfHwgdHlwZW9mKHApICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IGAke3JlbmRlckVycm9ub3VzSlNPTihuKX08YnI+IGhhcyB3cm9uZyBzdHJ1Y3R1cmUsIHByb2R1Y3Rpb24gbmVlZHMgdG8gYmUgYSBzdHJpbmdgO1xuICB9XG4gIGNvbnN0IGMgPSBuLmNvZGU7XG4gIGlmKCFjIHx8IHR5cGVvZihjKSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBgJHtyZW5kZXJFcnJvbm91c0pTT04obil9PGJyPiAgaGFzIHdyb25nIHN0cnVjdHVyZSwgY29kZSBuZWVkcyB0byBiZSBhIHN0cmluZ2A7XG4gIH1cbiAgaWYgKCFuLmhvbGVzKSBuLmhvbGVzID0gW107XG5cbiAgLy8gZXh0cmFjdGluZyBob2xlIHBvc2l0aW9ucyBhbmQgcmVtb3ZpbmcgZGl2aWRlcnMgfHwgZnJvbSBjb2RlXG4gIGNvbnN0IGNvZGVQYXJ0cyA9IGMuc3BsaXQoJ3wnKTtcbiAgbGV0IGNvZGUgPSAnJztcbiAgbGV0IGhvbGVzID0gW107XG4gIGZvcihsZXQgaSA9IDA7IGkgPCBjb2RlUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBzdGFydDogbm90IGVuY2xvc2VkIGluIHx8XG4gICAgY29kZSA9IGAke2NvZGV9JHtjb2RlUGFydHNbaV19YDtcblxuICAgIC8vIG5leHQgcGFydDogZW50ZXIgfHxcbiAgICBpKys7XG4gICAgaWYoaSA8IGNvZGVQYXJ0cy5sZW5ndGggJiYgY29kZVBhcnRzW2ldKSB7XG4gICAgICBjb25zdCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgICAgY29kZSA9IGAke2NvZGV9JHtjb2RlUGFydHNbaV19YDtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBuLmhvbGVzW2hvbGVzLmxlbmd0aF0gYXMgYW55O1xuICAgICAgaWYoIWNvbnRlbnQpIHtcbiAgICAgICAgdGhyb3cgYCR7cmVuZGVyRXJyb25vdXNKU09OKG4pfTxicj4gaGFzIHdyb25nIHN0cnVjdHVyZTogbGVzcyBob2xlcyB0aGFuIG1hcmtlZCB3aXRoIHx8IGluIHRoZSBjb2RlYDtcbiAgICAgIH1cbiAgICAgIGhvbGVzLnB1c2goe3N0YXJ0OiBzdGFydCwgZW5kOiBjb2RlLmxlbmd0aCwgY29udGVudDogcHJvY2Vzc0hvbGVzUmVjdXJzaXZlKGNvbnRlbnQpfSk7XG4gICAgfVxuICB9XG4gIC8vIHJldHVybiBwcm9jZXNzZWQgbm9kZVxuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246IHAsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfTtcblxufVxuXG5mdW5jdGlvbiByZW5kZXJFcnJvbm91c0pTT04objogbm9kZSk6IHN0cmluZyB7XG4gIGNvbnN0IGNvZGUgPSBKU09OLnN0cmluZ2lmeShuLCB1bmRlZmluZWQsIDIpO1xuICByZXR1cm4gYFxuICAgIDx0ZXh0YXJlYSByb3dzPVwiJHtjb2RlLnNwbGl0KCdcXG4nKS5sZW5ndGh9XCJcbiAgICAgICAgICAgICAgY29scz1cIiR7Y29kZS5zcGxpdCgnXFxuJykubWFwKGwgPT4gbC5sZW5ndGgpLnJlZHVjZSgoeCx5KSA9PiB4ID4geSA/IHggOiB5KX1cIlxuICAgICAgICAgICAgICByZWFkT25seT1cInRydWVcIlxuICAgICAgICAgICAgICByZXNpemFibGU9XCJmYWxzZVwiPiR7Y29kZX08L3RleHRhcmVhPlxuICBgO1xufVxuIiwgImltcG9ydCAqIGFzIEJTTF9BU1QgZnJvbSBcIi4vQlNMX0FTVFwiO1xuXG5leHBvcnQgZW51bSBQcm9kdWN0aW9uIHtcbiAgU3RlcHBlciA9IFwiU3RlcHBlclwiLFxuICBFeHByU3RlcCA9IFwiRXhwclN0ZXBcIixcbiAgRGVmaW5pdGlvblN0ZXAgPSBcIkRlZmluaXRpb25TdGVwXCIsXG4gIEV2YWxTdGVwID0gXCJFdmFsU3RlcFwiLFxuICBTcGxpdCA9IFwiU3BsaXRcIixcbiAgQ2FsbFJlZGV4ID0gXCJDYWxsUmVkZXhcIixcbiAgQ29uZFJlZGV4ID0gXCJDb25kUmVkZXhcIixcbiAgTmFtZVJlZGV4ID0gXCJOYW1lUmVkZXhcIixcbiAgQ29uZE9wdGlvbiA9IFwiQ29uZE9wdGlvblwiLFxuICBBcHBDb250ZXh0ID0gXCJBcHBDb250ZXh0XCIsXG4gIENvbmRDb250ZXh0ID0gXCJDb25kQ29udGV4dFwiLFxuICBIb2xlID0gXCJIb2xlXCIsXG4gIEZ1bkRlZiA9IFwiRnVuRW52XCIsXG4gIFN0cnVjdERlZiA9IFwiU3RydWN0RGVmXCIsXG4gIE1ha2VGdW4gPSBcIk1ha2VGdW5cIixcbiAgUHJlZEZ1biA9IFwiUHJlZEZ1blwiLFxuICBTZWxlY3RGdW4gPSBcIlNlbGVjdEZ1blwiLFxuICBJZCA9IFwiSWRlbnRpZmllclwiLFxufVxuXG5leHBvcnQgZW51bSBEZWNvbXBvc2l0aW9uIHtcbiAgU3RlcHBlciA9IFwiU3RlcHBlclwiLFxuICBFeHByU3RlcCA9IFwiRXhwclN0ZXBcIixcbiAgRGVmaW5pdGlvblN0ZXAgPSBcIkRlZmluaXRpb25TdGVwXCIsXG4gIEV2YWxTdGVwID0gXCJFdmFsU3RlcFwiLFxuICBTcGxpdCA9IFwiU3BsaXRcIixcbiAgQ2FsbFJlZGV4ID0gXCJDYWxsUmVkZXhcIixcbiAgQ29uZFJlZGV4ID0gXCJDb25kUmVkZXhcIixcbiAgTmFtZVJlZGV4ID0gXCJOYW1lUmVkZXhcIixcbiAgQ29uZE9wdGlvbiA9IFwiQ29uZE9wdGlvblwiLFxuICBBcHBDb250ZXh0ID0gXCJBcHBDb250ZXh0XCIsXG4gIENvbmRDb250ZXh0ID0gXCJDb25kQ29udGV4dFwiLFxuICBIb2xlID0gXCJIb2xlXCIsXG4gIElkID0gXCJJZGVudGlmaWVyXCIsXG59XG5leHBvcnQgZW51bSBFbnZpcm9ubWVudFZhbHVlIHtcbiAgRnVuRGVmID0gXCJGdW5FbnZcIixcbiAgU3RydWN0RGVmID0gXCJTdHJ1Y3REZWZcIixcbiAgTWFrZUZ1biA9IFwiTWFrZUZ1blwiLFxuICBQcmVkRnVuID0gXCJQcmVkRnVuXCIsXG4gIFNlbGVjdEZ1biA9IFwiU2VsZWN0RnVuXCIsXG59XG5leHBvcnQgZW51bSBSdWxlIHtcbiAgS29uZyA9IFwiS29uZ1wiLFxuICBQcmltID0gXCJQcmltXCIsXG4gIFByaW1FcnJvciA9IFwiUHJpbUVycm9yXCIsXG4gIENvbmRUcnVlID0gXCJDb25kVHJ1ZVwiLFxuICBDb25kRmFsc2UgPSBcIkNvbmRGYWxzZVwiLFxuICBDb25kRXJyb3IgPSBcIkNvbmRFcnJvclwiLFxuICBQcm9nID0gXCJQcm9nXCIsXG4gIFByb2dFcnJvciA9IFwiUHJvZ0Vycm9yXCIsXG4gIENvbnN0ID0gXCJDb25zdFwiLFxuICBDb25zdEVycm9yID0gXCJDb25zdEVycm9yXCIsXG4gIEZ1biA9IFwiRnVuXCIsXG4gIEZ1bkVycm9yID0gXCJGdW5FcnJvclwiLFxuICBTdHJ1Y3RNYWtlID0gXCJTdHJ1Y3RNYWtlXCIsXG4gIFN0cnVjdE1ha2VFcnJvciA9IFwiU3RydWN0TWFrZUVycm9yXCIsXG4gIFN0cnVjdFByZWRUcnVlID0gXCJTdHJ1Y3RQcmVkVHJ1ZVwiLFxuICBTdHJ1Y3RQcmVkRmFsc2UgPSBcIlN0cnVjdFByZWRGYWxzZVwiLFxuICBTdHJ1Y3RQcmVkRXJyb3IgPSBcIlN0cnVjdFByZWRFcnJvclwiLFxuICBTdHJ1Y3RTZWxlY3QgPSBcIlN0cnVjdFNlbGVjdFwiLFxuICBTdHJ1Y3RTZWxlY3RFcnJvciA9IFwiU3RydWN0U2VsZWN0RXJyb3JcIixcbn1cbmV4cG9ydCBlbnVtIFByaW1OYW1lcyB7XG4gIEFkZCA9IFwiK1wiLFxuICBTdWIgPSBcIi1cIixcbiAgTXVsID0gXCIqXCIsXG4gIERpdiA9IFwiL1wiLFxuICBBbmQgPSBcImFuZFwiLFxuICBPciA9IFwib3JcIixcbiAgTm90ID0gXCJub3RcIixcbiAgTGVxID0gXCI8PVwiLFxuICBHZXEgPSBcIj49XCIsXG4gIEx0ID0gXCI8XCIsXG4gIEd0ID0gXCI+XCIsXG59XG5leHBvcnQgaW50ZXJmYWNlIFN0ZXBwZXIge1xuICB0eXBlOiBQcm9kdWN0aW9uLlN0ZXBwZXI7XG4gIG9yaWdpblByb2dyYW06IEJTTF9BU1QucHJvZ3JhbTtcbiAgcHJvZ1N0ZXBzOiBQcm9nU3RlcFtdO1xufVxuZXhwb3J0IHR5cGUgUHJvZ1N0ZXAgPSBFeHByU3RlcCB8IERlZmluaXRpb25TdGVwO1xuLy8gRGVmaW5pdGlvblN0ZXAgaGFzIFByb2dSdWxlXG5leHBvcnQgaW50ZXJmYWNlIERlZmluaXRpb25TdGVwIHtcbiAgdHlwZTogUHJvZHVjdGlvbi5EZWZpbml0aW9uU3RlcDtcbiAgZW52OiBFbnZpcm9ubWVudDtcbiAgZXZhbFN0ZXBzOiBFdmFsU3RlcFtdO1xuICBvcmlnaW5hbERlZk9yRXhwcjogQlNMX0FTVC5kZWZpbml0aW9uO1xuICByZXN1bHQ6IEJTTF9BU1QuZGVmaW5pdGlvbjsgLy9ldmFsdWF0ZWQgZGVmaW5pdGlvbiwgd2hpY2ggaXMgZ2l2ZW4gdG8gZW52XG59XG5leHBvcnQgaW50ZXJmYWNlIEV4cHJTdGVwIHtcbiAgdHlwZTogUHJvZHVjdGlvbi5FeHByU3RlcDtcbiAgZW52OiBFbnZpcm9ubWVudDtcbiAgZXZhbFN0ZXBzOiBFdmFsU3RlcFtdO1xuICBvcmlnaW5hbERlZk9yRXhwcjogQlNMX0FTVC5leHByO1xuICByZXN1bHQ6IFZhbHVlIHwgRXJyb3I7XG59XG5leHBvcnQgaW50ZXJmYWNlIEV2YWxTdGVwIHtcbiAgdHlwZTogUHJvZHVjdGlvbi5FdmFsU3RlcDtcbiAgZW52OiBFbnZpcm9ubWVudDtcbiAgcnVsZTogS29uZyB8IE9uZVJ1bGU7XG4gIHJlc3VsdDogQlNMX0FTVC5leHByIHwgVmFsdWUgfCBFcnJvcjtcbn1cbmV4cG9ydCB0eXBlIFNwbGl0UmVzdWx0ID0gU3BsaXQgfCBWYWx1ZTtcbmV4cG9ydCBpbnRlcmZhY2UgU3BsaXQge1xuICB0eXBlOiBQcm9kdWN0aW9uLlNwbGl0O1xuICByZWRleDogUmVkZXg7XG4gIGNvbnRleHQ6IENvbnRleHQ7XG59XG5cbi8vIFJlZGV4IGlzdCBTdW1tZW50eXA6IENhbGxSZWRleCB8IENvbmRSZWRleCwgZXRjLlxuLy8gIyMjIyMjIyBSRURFWCAjIyMjIyMjXG5leHBvcnQgdHlwZSBSZWRleCA9IENhbGxSZWRleCB8IENvbmRSZWRleCB8IE5hbWVSZWRleDtcblxuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVkZXgge1xuICB0eXBlOiBQcm9kdWN0aW9uLkNhbGxSZWRleDtcbiAgbmFtZTogQlNMX0FTVC5OYW1lO1xuICBhcmdzOiAoVmFsdWUgfCBJZClbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb25kUmVkZXgge1xuICB0eXBlOiBQcm9kdWN0aW9uLkNvbmRSZWRleDtcbiAgb3B0aW9uczogQlNMX0FTVC5DbGF1c2VbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOYW1lUmVkZXgge1xuICB0eXBlOiBQcm9kdWN0aW9uLk5hbWVSZWRleDtcbiAgc3ltYm9sOiBzdHJpbmc7XG59XG4vLyAjIyMjIyMjIENvbnRleHQgIyMjIyMjI1xuZXhwb3J0IHR5cGUgQ29udGV4dCA9IEFwcENvbnRleHQgfCBDb25kQ29udGV4dCB8IEhvbGU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXBwQ29udGV4dCB7XG4gIHR5cGU6IFByb2R1Y3Rpb24uQXBwQ29udGV4dDtcbiAgb3A6IEJTTF9BU1QuTmFtZTtcbiAgdmFsdWVzOiAoVmFsdWUgfCBJZClbXTtcbiAgY3R4OiBDb250ZXh0O1xuICBhcmdzOiBCU0xfQVNULmV4cHJbXTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZENvbnRleHQge1xuICB0eXBlOiBQcm9kdWN0aW9uLkNvbmRDb250ZXh0O1xuICBvcHRpb25zOiBCU0xfQVNULkNsYXVzZVtdO1xuICBjdHg6IENvbnRleHQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIEhvbGUge1xuICB0eXBlOiBQcm9kdWN0aW9uLkhvbGU7XG59XG5leHBvcnQgdHlwZSBWYWx1ZSA9XG4gIHwgbnVtYmVyXG4gIHwgc3RyaW5nXG4gIHwgYm9vbGVhblxuICB8IGAnKClgXG4gIHwgQlNMX0FTVC5TdHJ1Y3RWYWx1ZSAvKnwgRnVuVmFsdWUvKnwgQ2xvc3VyZSAqLztcblxuZXhwb3J0IHR5cGUgRW52VmFsdWUgPSBWYWx1ZSB8IEZ1bkRlZiB8IFN0cnVjdERlZiB8IFN0cnVjdEZ1bjtcbmV4cG9ydCBpbnRlcmZhY2UgSWQge1xuICB0eXBlOiBQcm9kdWN0aW9uLklkO1xuICBzeW1ib2w6IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRnVuRGVmIHtcbiAgdHlwZTogUHJvZHVjdGlvbi5GdW5EZWY7XG4gIHBhcmFtczogQlNMX0FTVC5OYW1lW107XG4gIGJvZHk6IEJTTF9BU1QuZXhwcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3RydWN0RGVmIHtcbiAgdHlwZTogUHJvZHVjdGlvbi5TdHJ1Y3REZWY7XG4gIHByb3BlcnRpZXM6IEJTTF9BU1QuTmFtZVtdO1xufVxuZXhwb3J0IHR5cGUgU3RydWN0RnVuID0gTWFrZUZ1biB8IFByZWRGdW4gfCBTZWxlY3RGdW47XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFrZUZ1biB7XG4gIHR5cGU6IFByb2R1Y3Rpb24uTWFrZUZ1bjtcbiAgc3RydWN0RGVmOiBTdHJ1Y3REZWY7XG59XG5leHBvcnQgaW50ZXJmYWNlIFByZWRGdW4ge1xuICB0eXBlOiBQcm9kdWN0aW9uLlByZWRGdW47XG4gIHN0cnVjdERlZjogU3RydWN0RGVmO1xufVxuZXhwb3J0IGludGVyZmFjZSBTZWxlY3RGdW4ge1xuICB0eXBlOiBQcm9kdWN0aW9uLlNlbGVjdEZ1bjtcbiAgc3RydWN0RGVmOiBTdHJ1Y3REZWY7XG59XG5cbi8vIyMjIyMjIyMgT25lUnVsZShzKSAjIyMjIyMjI1xuZXhwb3J0IHR5cGUgUHJpbVJ1bGUgPSBQcmltIHwgUHJpbUVycm9yO1xuZXhwb3J0IGludGVyZmFjZSBQcmltIHtcbiAgdHlwZTogUnVsZS5QcmltO1xuICByZWRleDogQ2FsbFJlZGV4O1xuICByZXN1bHQ6IFZhbHVlO1xufVxuZXhwb3J0IGludGVyZmFjZSBQcmltRXJyb3Ige1xuICB0eXBlOiBSdWxlLlByaW1FcnJvcjtcbiAgcmVkZXg6IENhbGxSZWRleDtcbiAgcmVzdWx0OiBFcnJvcjtcbn1cbmV4cG9ydCB0eXBlIENvbmRSdWxlID0gQ29uZFRydWUgfCBDb25kRmFsc2UgfCBDb25kRXJyb3I7XG5leHBvcnQgaW50ZXJmYWNlIENvbmRUcnVlIHtcbiAgdHlwZTogUnVsZS5Db25kVHJ1ZTtcbiAgcmVkZXg6IENvbmRSZWRleDtcbiAgcmVzdWx0OiBCU0xfQVNULmV4cHIgfCBWYWx1ZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZEZhbHNlIHtcbiAgdHlwZTogUnVsZS5Db25kRmFsc2U7XG4gIHJlZGV4OiBDb25kUmVkZXg7XG4gIHJlc3VsdDogQlNMX0FTVC5Db25kO1xufVxuZXhwb3J0IGludGVyZmFjZSBDb25kRXJyb3Ige1xuICB0eXBlOiBSdWxlLkNvbmRFcnJvcjtcbiAgcmVkZXg6IENvbmRSZWRleDtcbiAgcmVzdWx0OiBFcnJvcjtcbn1cbmV4cG9ydCB0eXBlIFByb2dSdWxlID0gUHJvZyB8IFByb2dFcnJvcjtcbmV4cG9ydCBpbnRlcmZhY2UgUHJvZyB7XG4gIHR5cGU6IFJ1bGUuUHJvZztcbiAgZGVmaW5pdGlvbjogQlNMX0FTVC5kZWZpbml0aW9uO1xufVxuZXhwb3J0IGludGVyZmFjZSBQcm9nRXJyb3Ige1xuICB0eXBlOiBSdWxlLlByb2dFcnJvcjtcbiAgZGVmaW5pdGlvbjogRXJyb3I7XG59XG5leHBvcnQgdHlwZSBDb25zdFJ1bGUgPSBDb25zdCB8IENvbnN0RXJyb3I7XG5leHBvcnQgaW50ZXJmYWNlIENvbnN0IHtcbiAgdHlwZTogUnVsZS5Db25zdDtcbiAgcmVkZXg6IFJlZGV4O1xuICByZXN1bHQ6IEJTTF9BU1QuZXhwciB8IFZhbHVlO1xufVxuZXhwb3J0IGludGVyZmFjZSBDb25zdEVycm9yIHtcbiAgdHlwZTogUnVsZS5Db25zdEVycm9yO1xuICByZWRleDogUmVkZXg7XG4gIHJlc3VsdDogRXJyb3I7XG59XG5leHBvcnQgdHlwZSBGdW5SdWxlID0gRnVuIHwgRnVuRXJyb3I7XG5leHBvcnQgaW50ZXJmYWNlIEZ1biB7XG4gIHR5cGU6IFJ1bGUuRnVuO1xuICByZWRleDogQ2FsbFJlZGV4O1xuICByZXN1bHQ6IEJTTF9BU1QuZXhwcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRnVuRXJyb3Ige1xuICB0eXBlOiBSdWxlLkZ1bkVycm9yO1xuICByZWRleDogQ2FsbFJlZGV4O1xuICByZXN1bHQ6IEVycm9yO1xufVxudHlwZSBTdHJ1Y3RSdWxlID1cbiAgfCBTdHJ1Y3RNYWtlXG4gIHwgU3RydWN0TWFrZUVycm9yXG4gIHwgU3RydWN0UHJlZFRydWVcbiAgfCBTdHJ1Y3RQcmVkRmFsc2VcbiAgfCBTdHJ1Y3RQcmVkRXJyb3JcbiAgfCBTdHJ1Y3RTZWxlY3RcbiAgfCBTdHJ1Y3RTZWxlY3RFcnJvcjtcbmV4cG9ydCBpbnRlcmZhY2UgU3RydWN0TWFrZSB7XG4gIHR5cGU6IFJ1bGUuU3RydWN0TWFrZTtcbiAgcmVkZXg6IENhbGxSZWRleDtcbiAgcmVzdWx0OiBWYWx1ZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3RydWN0TWFrZUVycm9yIHtcbiAgdHlwZTogUnVsZS5TdHJ1Y3RNYWtlRXJyb3I7XG4gIHJlZGV4OiBDYWxsUmVkZXg7XG4gIHJlc3VsdDogRXJyb3I7XG59XG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdFByZWRUcnVlIHtcbiAgdHlwZTogUnVsZS5TdHJ1Y3RQcmVkVHJ1ZTtcbiAgcmVkZXg6IENhbGxSZWRleDtcbiAgcmVzdWx0OiB0cnVlO1xufVxuZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3RQcmVkRmFsc2Uge1xuICB0eXBlOiBSdWxlLlN0cnVjdFByZWRGYWxzZTtcbiAgcmVkZXg6IENhbGxSZWRleDtcbiAgcmVzdWx0OiBmYWxzZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3RydWN0UHJlZEVycm9yIHtcbiAgdHlwZTogUnVsZS5TdHJ1Y3RQcmVkRXJyb3I7XG4gIHJlZGV4OiBDYWxsUmVkZXg7XG4gIHJlc3VsdDogRXJyb3I7XG59XG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdFNlbGVjdCB7XG4gIHR5cGU6IFJ1bGUuU3RydWN0U2VsZWN0O1xuICByZWRleDogQ2FsbFJlZGV4O1xuICByZXN1bHQ6IEJTTF9BU1QuZXhwciB8IFZhbHVlO1xufVxuZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3RTZWxlY3RFcnJvciB7XG4gIHR5cGU6IFJ1bGUuU3RydWN0U2VsZWN0RXJyb3I7XG4gIHJlZGV4OiBDYWxsUmVkZXg7XG4gIHJlc3VsdDogRXJyb3I7XG59XG5cbmV4cG9ydCB0eXBlIE9uZVJ1bGUgPSBQcmltUnVsZSB8IENvbmRSdWxlIHwgQ29uc3RSdWxlIHwgRnVuUnVsZSB8IFN0cnVjdFJ1bGU7XG5cbi8vICMjIyMjIyMgUHJvZ1N0ZXBSdWxlKHMpICMjIyMjIyMjXG5leHBvcnQgaW50ZXJmYWNlIEtvbmcge1xuICB0eXBlOiBSdWxlLktvbmc7XG4gIGNvbnRleHQ6IENvbnRleHQ7XG4gIHJlZGV4UnVsZTogT25lUnVsZTtcbn1cbi8vICMjIyMjIyMjIyBERUZJTklUSU9OUyAjIyMjIyMjI1xuXG4vLyBkZWZpbml0aW9uIGlzIGVpdGhlciBzdHJ1Y3REZWYsIGZ1bkRlZiBvciBjb25zdERlZlxuLy8gRGVmUnVsZXMgUFJPRywgU1RSVUNULCBGVU4sIENPTlNUXG5cbi8vIEVOVklST05NRU5UXG5cbmV4cG9ydCB0eXBlIEVudmlyb25tZW50ID0geyBba2V5OiBzdHJpbmddOiBFbnZWYWx1ZSB9O1xuLy8gQlNMX0FTVC5leHByIHp1ZXJzdCBhdXN3ZXJ0ZW4gKGNhbGwgYnkgdmFsdWUpXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4vLyBydW50aW1lIHR5cGUgY2hlY2tpbmdcbi8vIFN0ZXBwZXIgYW5kIFN0ZXBzXG5leHBvcnQgZnVuY3Rpb24gaXNTdGVwcGVyKG9iajogYW55KTogb2JqIGlzIFN0ZXBwZXIge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uU3RlcHBlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0V4cHJTdGVwKG9iajogYW55KTogb2JqIGlzIEV4cHJTdGVwIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkV4cHJTdGVwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRGVmaW5pdGlvblN0ZXAob2JqOiBhbnkpOiBvYmogaXMgRGVmaW5pdGlvblN0ZXAge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uRGVmaW5pdGlvblN0ZXA7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFdmFsU3RlcChvYmo6IGFueSk6IG9iaiBpcyBFdmFsU3RlcCB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5FdmFsU3RlcDtcbn1cbi8vUmVkZXhcbmV4cG9ydCBmdW5jdGlvbiBpc0NhbGxSZWRleChvYmo6IGFueSk6IG9iaiBpcyBDYWxsUmVkZXgge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ2FsbFJlZGV4O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uZFJlZGV4KG9iajogYW55KTogb2JqIGlzIENvbmRSZWRleCB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25kUmVkZXg7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOYW1lUmVkZXgob2JqOiBhbnkpOiBvYmogaXMgTmFtZVJlZGV4IHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLk5hbWVSZWRleDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSG9sZShvYmo6IGFueSk6IG9iaiBpcyBIb2xlIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkhvbGU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb250ZXh0KG9iajogYW55KTogb2JqIGlzIENvbnRleHQge1xuICByZXR1cm4gKFxuICAgIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkFwcENvbnRleHQgfHwgb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ29uZENvbnRleHRcbiAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FwcENvbnRleHQob2JqOiBhbnkpOiBvYmogaXMgQXBwQ29udGV4dCB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5BcHBDb250ZXh0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uZENvbnRleHQob2JqOiBhbnkpOiBvYmogaXMgQ29uZENvbnRleHQge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ29uZENvbnRleHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTcGxpdChvYmo6IGFueSk6IG9iaiBpcyBTcGxpdCB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5TcGxpdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc09uZVJ1bGUob2JqOiBhbnkpOiBvYmogaXMgT25lUnVsZSB7XG4gIHJldHVybiAoXG4gICAgb2JqLnR5cGUgPT09IFJ1bGUuUHJpbSB8fFxuICAgIG9iai50eXBlID09PSBSdWxlLlByaW1FcnJvciB8fFxuICAgIG9iai50eXBlID09PSBSdWxlLkNvbmRUcnVlIHx8XG4gICAgb2JqLnR5cGUgPT09IFJ1bGUuQ29uZEZhbHNlIHx8XG4gICAgb2JqLnR5cGUgPT09IFJ1bGUuQ29uZEVycm9yIHx8XG4gICAgb2JqLnR5cGUgPT09IFJ1bGUuQ29uc3QgfHxcbiAgICBvYmoudHlwZSA9PT0gUnVsZS5Db25zdEVycm9yIHx8XG4gICAgb2JqLnR5cGUgPT09IFJ1bGUuRnVuIHx8XG4gICAgb2JqLnR5cGUgPT09IFJ1bGUuRnVuRXJyb3IgfHxcbiAgICBvYmoudHlwZSA9PT0gUnVsZS5TdHJ1Y3RNYWtlIHx8XG4gICAgb2JqLnR5cGUgPT09IFJ1bGUuU3RydWN0TWFrZUVycm9yIHx8XG4gICAgb2JqLnR5cGUgPT09IFJ1bGUuU3RydWN0UHJlZFRydWUgfHxcbiAgICBvYmoudHlwZSA9PT0gUnVsZS5TdHJ1Y3RQcmVkRmFsc2UgfHxcbiAgICBvYmoudHlwZSA9PT0gUnVsZS5TdHJ1Y3RQcmVkRXJyb3IgfHxcbiAgICBvYmoudHlwZSA9PT0gUnVsZS5TdHJ1Y3RTZWxlY3QgfHxcbiAgICBvYmoudHlwZSA9PT0gUnVsZS5TdHJ1Y3RTZWxlY3RFcnJvclxuICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzS29uZyhvYmo6IGFueSk6IG9iaiBpcyBLb25nIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBSdWxlLktvbmc7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNWYWx1ZShvYmo6IGFueSk6IG9iaiBpcyBWYWx1ZSB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIG9iaiA9PT0gXCJudW1iZXJcIiB8fFxuICAgIHR5cGVvZiBvYmogPT09IFwic3RyaW5nXCIgfHxcbiAgICB0eXBlb2Ygb2JqID09PSBcImJvb2xlYW5cIiB8fFxuICAgIG9iaiA9PT0gYCcoKWAgfHxcbiAgICBCU0xfQVNULmlzU3RydWN0VmFsdWUob2JqKVxuICApOyAvL3x8IGlzQ2xvc3VyZShvYmopO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuRGVmKG9iajogYW55KTogb2JqIGlzIEZ1bkRlZiB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5GdW5EZWY7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTdHJ1Y3REZWYob2JqOiBhbnkpOiBvYmogaXMgU3RydWN0RGVmIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlN0cnVjdERlZjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0lkKG9iajogYW55KTogb2JqIGlzIElkIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLklkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RydWN0RnVuKG9iajogYW55KTogb2JqIGlzIFN0cnVjdEZ1biB7XG4gIHJldHVybiAoXG4gICAgb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uTWFrZUZ1biB8fFxuICAgIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlByZWRGdW4gfHxcbiAgICBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5TZWxlY3RGdW5cbiAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc01ha2VGdW4ob2JqOiBhbnkpOiBvYmogaXMgTWFrZUZ1biB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5NYWtlRnVuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJlZEZ1bihvYmo6IGFueSk6IG9iaiBpcyBQcmVkRnVuIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlByZWRGdW47XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTZWxlY3RGdW4ob2JqOiBhbnkpOiBvYmogaXMgU2VsZWN0RnVuIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlNlbGVjdEZ1bjtcbn1cbiIsICJpbXBvcnQgKiBhcyBCU0xfQVNUIGZyb20gXCIuL0JTTF9BU1RcIjtcbmltcG9ydCAqIGFzIFNJX1NUUlVDVCBmcm9tIFwiLi9TSV9TVFJVQ1RcIjtcblxuLy8gY2FsY3VsYXRlQWxsU3RlcHMgKGZvciB0aGUgd2hvbGUgcHJvZ3JhbSlcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVQcm9ncmFtKFxuICBwcm9ncmFtOiBCU0xfQVNULnByb2dyYW1cbik6IFNJX1NUUlVDVC5TdGVwcGVyIHwgRXJyb3Ige1xuICBsZXQgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnQgPSB7fTtcbiAgbGV0IHByb2dTdGVwczogU0lfU1RSVUNULlByb2dTdGVwW10gPSBbXTtcbiAgcHJvZ3JhbS5tYXAoKGRlZk9yRXhwcikgPT4ge1xuICAgIGNvbnN0IG5ld1N0ZXAgPSBjYWxjdWxhdGVQcm9nU3RlcChkZWZPckV4cHIsIGVudik7XG4gICAgaWYgKG5ld1N0ZXAgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIG5ld1N0ZXA7XG4gICAgZW52ID0gbmV3U3RlcC5lbnY7XG4gICAgcHJvZ1N0ZXBzLnB1c2gobmV3U3RlcCk7XG4gICAgY29uc29sZS5sb2coXCJwcm9nU3RlcDogXCIsIG5ld1N0ZXApO1xuICAgIGNvbnNvbGUubG9nKFwiZW52OlwiLCBlbnYpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5TdGVwcGVyLFxuICAgIG9yaWdpblByb2dyYW06IHByb2dyYW0sXG4gICAgcHJvZ1N0ZXBzOiBwcm9nU3RlcHMsXG4gIH07XG59XG4vLyBjYWxjdWxhdGUgUHJvZ1N0ZXBcbi8vIE9uZSBQcm9nU3RlcCByZXByZXNlbnRzIGEgbGluZSBvZiBwcm9ncmFtIGNvZGUgLT4gUHJvZ1N0ZXAgfCBFcnJvclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVByb2dTdGVwKFxuICBkZWZPckV4cHI6IEJTTF9BU1QuZXhwciB8IEJTTF9BU1QuZGVmaW5pdGlvbixcbiAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IFNJX1NUUlVDVC5Qcm9nU3RlcCB8IEVycm9yIHtcbiAgaWYgKEJTTF9BU1QuaXNFeHByKGRlZk9yRXhwcikpIHtcbiAgICBjb25zdCBldmFsU3RlcCA9IGNhbGN1bGF0ZUV2YWxTdGVwcyhkZWZPckV4cHIsIGVudik7XG4gICAgY29uc29sZS5sb2coXCJldmFsU3RlcDpcIiwgZXZhbFN0ZXApO1xuICAgIGlmIChldmFsU3RlcCBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gZXZhbFN0ZXA7XG4gICAgaWYgKGV2YWxTdGVwLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uRXhwclN0ZXAsXG4gICAgICAgIGVudjogZW52LFxuICAgICAgICBldmFsU3RlcHM6IFtdLFxuICAgICAgICBvcmlnaW5hbERlZk9yRXhwcjogZGVmT3JFeHByLFxuICAgICAgICByZXN1bHQ6IGV2YWx1YXRlRXhwcmVzc2lvbihkZWZPckV4cHIsIGVudikgYXMgU0lfU1RSVUNULlZhbHVlLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVzdWx0ID0gZXZhbFN0ZXBbZXZhbFN0ZXAubGVuZ3RoIC0gMV0ucmVzdWx0O1xuICAgICAgaWYgKEJTTF9BU1QuaXNFeHByKHJlc3VsdCkpIHJldHVybiBuZXcgRXJyb3IoXCJSZXN1bHQgaXMgbm90IGEgdmFsdWVcIik7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uRXhwclN0ZXAsXG4gICAgICAgICAgZW52OiBldmFsU3RlcFtldmFsU3RlcC5sZW5ndGggLSAxXS5lbnYsXG4gICAgICAgICAgZXZhbFN0ZXBzOiBldmFsU3RlcCxcbiAgICAgICAgICBvcmlnaW5hbERlZk9yRXhwcjogZGVmT3JFeHByLFxuICAgICAgICAgIHJlc3VsdDogcmVzdWx0LFxuICAgICAgICB9O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhcImRlZmluaXRpb25cIiwgZGVmT3JFeHByKTtcbiAgICBjb25zdCBkZWZTdGVwID0gY2FsY3VsYXRlRGVmU3RlcHMoZGVmT3JFeHByLCBlbnYpO1xuICAgIGlmIChkZWZTdGVwIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBkZWZTdGVwO1xuICAgIGNvbnNvbGUubG9nKFwiZGVmU3RlcFwiLCBkZWZTdGVwKTtcbiAgICByZXR1cm4gZGVmU3RlcDtcbiAgfVxufVxuLy9jYWxjdWxhdGVEZWZTdGVwc1xuLy9kZWZpbml0aW9uLCBFbnZpcm9ubWVudCA9PiBTSV9TVFJVQ1QuRGVmU3RlcFxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZURlZlN0ZXBzKFxuICBkZWY6IEJTTF9BU1QuZGVmaW5pdGlvbixcbiAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IFNJX1NUUlVDVC5EZWZpbml0aW9uU3RlcCB8IEVycm9yIHtcbiAgaWYgKEJTTF9BU1QuaXNDb25zdERlZihkZWYpKSB7XG4gICAgY29uc3QgbmFtZSA9IGRlZi5uYW1lO1xuICAgIGNvbnN0IGV4cHIgPSBkZWYudmFsdWU7XG4gICAgY29uc29sZS5sb2coXCJuYW1lXCIsIG5hbWUgKyBcImV4cHJcIiwgZXhwcik7XG4gICAgaWYgKEJTTF9BU1QuaXNMaXRlcmFsKGV4cHIpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGV4cHIudmFsdWU7XG4gICAgICBjb25zdCBuZXdFbnYgPSBhZGRUb0VudihlbnYsIG5hbWUuc3ltYm9sLCB2YWx1ZSk7XG4gICAgICBpZiAobmV3RW52IGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBuZXdFbnY7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5EZWZpbml0aW9uU3RlcCxcbiAgICAgICAgZW52OiBuZXdFbnYsXG4gICAgICAgIGV2YWxTdGVwczogW10sXG4gICAgICAgIG9yaWdpbmFsRGVmT3JFeHByOiBkZWYsXG4gICAgICAgIHJlc3VsdDogZGVmLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHN0ZXBMaXN0ID0gY2FsY3VsYXRlRXZhbFN0ZXBzKGV4cHIsIGVudik7XG4gICAgICBpZiAoc3RlcExpc3QgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHN0ZXBMaXN0O1xuICAgICAgY29uc3QgdmFsdWUgPSBzdGVwTGlzdFtzdGVwTGlzdC5sZW5ndGggLSAxXS5yZXN1bHQ7XG4gICAgICBpZiAoU0lfU1RSVUNULmlzVmFsdWUodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IG5ld0VudiA9IGFkZFRvRW52KGVudiwgbmFtZS5zeW1ib2wsIHZhbHVlKTtcbiAgICAgICAgaWYgKG5ld0VudiBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gbmV3RW52O1xuICAgICAgICBjb25zdCBuZXdEZWY6IEJTTF9BU1QuQ29uc3REZWYgPSB7XG4gICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkNvbnN0YW50RGVmaW5pdGlvbixcbiAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIHZhbHVlOiB7IHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLCB2YWx1ZTogdmFsdWUgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5EZWZpbml0aW9uU3RlcCxcbiAgICAgICAgICBlbnY6IG5ld0VudixcbiAgICAgICAgICBldmFsU3RlcHM6IHN0ZXBMaXN0LFxuICAgICAgICAgIG9yaWdpbmFsRGVmT3JFeHByOiBkZWYsXG4gICAgICAgICAgcmVzdWx0OiBuZXdEZWYsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gRXJyb3IoXG4gICAgICAgICAgXCJjYWxjdWxhdGVEZWZTdGVwczogTGFzdCBFeHByU3RlcCBpcyBhbiBFeHByLCBub3QgYSBWYWx1ZVwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNGdW5EZWYoZGVmKSkge1xuICAgIGNvbnN0IG5hbWUgPSBkZWYubmFtZTtcbiAgICBpZiAobmFtZS5zeW1ib2wgaW4gZW52KSB7XG4gICAgICByZXR1cm4gRXJyb3IoXCJjYWxjdWxhdGVEZWZTdGVwczogbmFtZSBhbHJlYWR5IGJvdW5kXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL2FkZCBmdW5jdGlvbiBkZWZpbml0aW9uIHRvIGVudmlyb25tZW50XG4gICAgICBjb25zdCBmdW5EZWY6IFNJX1NUUlVDVC5GdW5EZWYgPSB7XG4gICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkZ1bkRlZixcbiAgICAgICAgcGFyYW1zOiBkZWYuYXJncyxcbiAgICAgICAgYm9keTogZGVmLmJvZHksXG4gICAgICB9O1xuICAgICAgY29uc3QgbmV3RW52ID0gYWRkVG9FbnYoZW52LCBuYW1lLnN5bWJvbCwgZnVuRGVmKTtcbiAgICAgIGlmIChuZXdFbnYgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIG5ld0VudjtcbiAgICAgIGNvbnN0IGRlZlN0ZXA6IFNJX1NUUlVDVC5EZWZpbml0aW9uU3RlcCA9IHtcbiAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uRGVmaW5pdGlvblN0ZXAsXG4gICAgICAgIGVudjogbmV3RW52LFxuICAgICAgICBldmFsU3RlcHM6IFtdLFxuICAgICAgICBvcmlnaW5hbERlZk9yRXhwcjogZGVmLFxuICAgICAgICByZXN1bHQ6IGRlZixcbiAgICAgIH07XG4gICAgICByZXR1cm4gZGVmU3RlcDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgYmluZGluZyA9IGRlZi5iaW5kaW5nO1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBkZWYucHJvcGVydGllcztcbiAgICAvLyBhZGQgU3RydWN0RGVmIHRvIGVudmlyb25tZW50XG4gICAgY29uc3Qgc3RydWN0RGVmOiBTSV9TVFJVQ1QuU3RydWN0RGVmID0ge1xuICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uU3RydWN0RGVmLFxuICAgICAgcHJvcGVydGllczogcHJvcGVydGllcyxcbiAgICB9O1xuICAgIGxldCBuZXdFbnYgPSBhZGRUb0VudihlbnYsIGJpbmRpbmcuc3ltYm9sLCBzdHJ1Y3REZWYpO1xuICAgIC8vY2hlY2sgaWYgbmV3RW52IGlzIGFuIEVycm9yIGJlZm9yZSBkZWZpbmluZyBzdHJ1Y3RGdW5zXG4gICAgaWYgKG5ld0VudiBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gbmV3RW52O1xuICAgIGNvbnN0IG1ha2VGdW5OYW1lID0gYG1ha2UtJHtiaW5kaW5nLnN5bWJvbH1gO1xuICAgIGNvbnN0IG1ha2VGdW5EZWY6IFNJX1NUUlVDVC5NYWtlRnVuID0ge1xuICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uTWFrZUZ1bixcbiAgICAgIHN0cnVjdERlZjogc3RydWN0RGVmLFxuICAgIH07XG4gICAgY29uc3QgcHJlZEZ1bk5hbWUgPSBgJHtiaW5kaW5nLnN5bWJvbH0/YDtcbiAgICBjb25zdCBwcmVkRnVuRGVmOiBTSV9TVFJVQ1QuUHJlZEZ1biA9IHtcbiAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLlByZWRGdW4sXG4gICAgICBzdHJ1Y3REZWY6IHN0cnVjdERlZixcbiAgICB9O1xuICAgIC8vIHJlc2VydmUgYWxsIHBvc3NpYmxlIHN0cnVjdC1wcm9wZXJ0eSBuYW1lc1xuICAgIGNvbnN0IHNlbGVjdEZ1bk5hbWVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIHByb3BlcnRpZXMubWFwKChwcm9wZXJ0eSkgPT4ge1xuICAgICAgc2VsZWN0RnVuTmFtZXMucHVzaChgJHtiaW5kaW5nLnN5bWJvbH0tJHtwcm9wZXJ0eS5zeW1ib2x9YCk7XG4gICAgfSk7XG4gICAgY29uc3Qgc2VsZWN0RnVuRGVmOiBTSV9TVFJVQ1QuU2VsZWN0RnVuID0ge1xuICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uU2VsZWN0RnVuLFxuICAgICAgc3RydWN0RGVmOiBzdHJ1Y3REZWYsXG4gICAgfTtcbiAgICBjb25zdCBhZGRMaXN0OiBbc3RyaW5nLCBTSV9TVFJVQ1QuU3RydWN0RnVuXVtdID0gW1xuICAgICAgW21ha2VGdW5OYW1lLCBtYWtlRnVuRGVmXSxcbiAgICAgIFtwcmVkRnVuTmFtZSwgcHJlZEZ1bkRlZl0sXG4gICAgXTtcbiAgICBzZWxlY3RGdW5OYW1lcy5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICBhZGRMaXN0LnB1c2goW25hbWUsIHNlbGVjdEZ1bkRlZl0pO1xuICAgIH0pO1xuICAgIC8vIGFkZCBhbGwgc3RydWN0RnVucyB0byBlbnZpcm9ubWVudFxuICAgIGFkZExpc3QuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgIGlmIChuZXdFbnYgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIG5ld0VudjtcbiAgICAgIG5ld0VudiA9IGFkZFRvRW52KG5ld0VudiwgZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICB9KTtcbiAgICBpZiAobmV3RW52IGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBuZXdFbnY7XG4gICAgY29uc3QgZGVmU3RlcDogU0lfU1RSVUNULkRlZmluaXRpb25TdGVwID0ge1xuICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uRGVmaW5pdGlvblN0ZXAsXG4gICAgICBlbnY6IG5ld0VudixcbiAgICAgIGV2YWxTdGVwczogW10sXG4gICAgICBvcmlnaW5hbERlZk9yRXhwcjogZGVmLFxuICAgICAgcmVzdWx0OiBkZWYsXG4gICAgfTtcbiAgICByZXR1cm4gZGVmU3RlcDtcbiAgfVxufVxuLy8gZXhwciwgc3RlcHBSZXN1bHRbXSA9PiBleHByU3RlcFtdIHwgRXJyb3JcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVFdmFsU3RlcHMoXG4gIGV4cHI6IEJTTF9BU1QuZXhwcixcbiAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IFNJX1NUUlVDVC5FdmFsU3RlcFtdIHwgRXJyb3Ige1xuICBsZXQgc3RlcExpc3Q6IFNJX1NUUlVDVC5FdmFsU3RlcFtdID0gW107XG4gIGxldCBjdXJyZW50RXhwcjogQlNMX0FTVC5leHByIHwgU0lfU1RSVUNULlZhbHVlID0gZXhwcjtcbiAgd2hpbGUgKCFTSV9TVFJVQ1QuaXNWYWx1ZShjdXJyZW50RXhwcikpIHtcbiAgICBjb25zdCBzdGVwID0gZXZhbHVhdGVFeHByZXNzaW9uKGN1cnJlbnRFeHByLCBlbnYpO1xuICAgIGlmIChTSV9TVFJVQ1QuaXNWYWx1ZShzdGVwKSkge1xuICAgICAgY3VycmVudEV4cHIgPSBzdGVwO1xuICAgIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzRXZhbFN0ZXAoc3RlcCkpIHtcbiAgICAgIGlmIChzdGVwLnJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHN0ZXBMaXN0LnB1c2goc3RlcCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudEV4cHIgPSBzdGVwLnJlc3VsdDtcbiAgICAgICAgc3RlcExpc3QucHVzaChzdGVwKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdGVwTGlzdDtcbn1cblxuLy9ldmFsdWF0ZUV4cHJlc3Npb25cbmV4cG9ydCBmdW5jdGlvbiBldmFsdWF0ZUV4cHJlc3Npb24oXG4gIGV4cHI6IEJTTF9BU1QuZXhwcixcbiAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IFNJX1NUUlVDVC5FdmFsU3RlcCB8IFNJX1NUUlVDVC5WYWx1ZSB8IEVycm9yIHtcbiAgaWYgKEJTTF9BU1QuaXNMaXRlcmFsKGV4cHIpKSB7XG4gICAgY29uc29sZS5sb2coXCJldmFsdWF0ZUV4cHJlc3Npb246IExpdGVyYWxcIiwgZXhwcik7XG4gICAgcmV0dXJuIGV4cHIudmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgc3BsaXRFeHByID0gc3BsaXQoZXhwcik7XG4gICAgLy9jb25zb2xlLmxvZyhcInNwbGl0RXhwclwiLCBzcGxpdEV4cHIpO1xuICAgIGlmIChTSV9TVFJVQ1QuaXNTcGxpdChzcGxpdEV4cHIpKSB7XG4gICAgICBjb25zdCBzdGVwRXhwciA9IHN0ZXAoc3BsaXRFeHByLnJlZGV4LCBlbnYpO1xuICAgICAgLy9jb25zb2xlLmxvZyhcInN0ZXBFeHByXCIsIHN0ZXBFeHByKTtcbiAgICAgIGlmIChTSV9TVFJVQ1QuaXNPbmVSdWxlKHN0ZXBFeHByKSkge1xuICAgICAgICBjb25zdCBleHByU3RlcCA9IHBsdWcoc3RlcEV4cHIsIHNwbGl0RXhwci5jb250ZXh0LCBlbnYpO1xuICAgICAgICBjb25zb2xlLmxvZyhcImV4cHJTdGVwXCIsIGV4cHJTdGVwKTtcbiAgICAgICAgaWYgKFNJX1NUUlVDVC5pc0V2YWxTdGVwKGV4cHJTdGVwKSkge1xuICAgICAgICAgIHJldHVybiBleHByU3RlcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZXhwclN0ZXA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzdGVwRXhwcjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNwbGl0RXhwcjtcbiAgICB9XG4gIH1cbn1cblxuLy9zcGxpdFxuLy8gRXhwcmVzc2lvbiA9ID4gU3BsaXRSZXN1bHQgfCBFcnJvclxuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0KGV4cHI6IEJTTF9BU1QuZXhwcik6IFNJX1NUUlVDVC5TcGxpdFJlc3VsdCB8IEVycm9yIHtcbiAgY29uc3QgaG9sZTogU0lfU1RSVUNULkhvbGUgPSB7IHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkhvbGUgfTtcbiAgaWYgKEJTTF9BU1QuaXNDYWxsKGV4cHIpKSB7XG4gICAgY29uc3QgbmFtZSA9IGV4cHIubmFtZTtcbiAgICBjb25zdCBhcmdzID0gZXhwci5hcmdzO1xuICAgIGNvbnNvbGUud2FybihcIiMjIyBzcGxpdHRpbmcgY2FsbCB3aXRoIGFyZ3M6IFwiLCBleHByLmFyZ3MpO1xuXG4gICAgaWYgKGFyZ3MuZXZlcnkoKHgpID0+IEJTTF9BU1QuaXNMaXRlcmFsKHgpKSkge1xuICAgICAgY29uc29sZS53YXJuKFwiIyMjIGFsIGFyZ3VtZW50cyBhcmUgdmFsdWVzXCIpO1xuICAgICAgLy8gYWxsIGFyZ3VtZW50cyBhcmUgdmFsdWVzLCBubyBuZWVkIHRvIHJlY3Vyc2U6IGZvdW5kIHJlZGV4XG4gICAgICBjb25zdCByZWRleDogU0lfU1RSVUNULkNhbGxSZWRleCA9IHtcbiAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uQ2FsbFJlZGV4LFxuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBhcmdzOiBhcmdzLm1hcCgoYSkgPT4gKGEgYXMgQlNMX0FTVC5MaXRlcmFsKS52YWx1ZSksXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uU3BsaXQsXG4gICAgICAgIHJlZGV4OiByZWRleCxcbiAgICAgICAgY29udGV4dDogaG9sZSxcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIHNvbWUgYXJndW1lbnRzIHN0aWxsIG5lZWQgZXZhbHVhdGlvbiwgcmVjdXJzZSBmdXJ0aGVyXG4gICAgY29uc29sZS53YXJuKFwiIyMjIyByZWN1cnNpbmdcIik7XG4gICAgY29uc3QgZmlyc3RSZWRleEluZGV4ID0gYXJncy5maW5kSW5kZXgoKHgpID0+ICFCU0xfQVNULmlzTGl0ZXJhbCh4KSk7XG4gICAgY29uc3QgdmFsdWVMc3QgPSBhcmdzLnNsaWNlKDAsIGZpcnN0UmVkZXhJbmRleCkgYXMgQlNMX0FTVC5MaXRlcmFsW107XG4gICAgY29uc3QgcmVjRXhwciA9IGFyZ3NbZmlyc3RSZWRleEluZGV4XTtcbiAgICBjb25zdCBleHByTHN0ID0gYXJncy5zbGljZShmaXJzdFJlZGV4SW5kZXggKyAxKTtcbiAgICBjb25zb2xlLndhcm4oZmlyc3RSZWRleEluZGV4LCB2YWx1ZUxzdCwgcmVjRXhwciwgZXhwckxzdCk7XG5cbiAgICBjb25zdCBzcGxpdFJlc3VsdCA9IHNwbGl0KHJlY0V4cHIpO1xuICAgIGlmIChTSV9TVFJVQ1QuaXNTcGxpdChzcGxpdFJlc3VsdCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLlNwbGl0LFxuICAgICAgICByZWRleDogc3BsaXRSZXN1bHQucmVkZXgsXG4gICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5BcHBDb250ZXh0LFxuICAgICAgICAgIG9wOiBuYW1lLFxuICAgICAgICAgIHZhbHVlczogdmFsdWVMc3QubWFwKCh4KSA9PiB4LnZhbHVlKSxcbiAgICAgICAgICBjdHg6IHNwbGl0UmVzdWx0LmNvbnRleHQsXG4gICAgICAgICAgYXJnczogZXhwckxzdCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzcGxpdFJlc3VsdDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoQlNMX0FTVC5pc0NvbmQoZXhwcikpIHtcbiAgICBjb25zdCBjbGF1c2UgPSBleHByLm9wdGlvbnNbMF07XG4gICAgLy8gaWYgY29uZGl0aW9uIGlzIGFscmVhZHkgcmVkdWNlZCwgYnVpbGQgQ29uZFJlZGV4XG4gICAgaWYgKEJTTF9BU1QuaXNMaXRlcmFsKGNsYXVzZS5jb25kaXRpb24pKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5TcGxpdCxcbiAgICAgICAgcmVkZXg6IHtcbiAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5Db25kUmVkZXgsXG4gICAgICAgICAgb3B0aW9uczogZXhwci5vcHRpb25zLFxuICAgICAgICB9LFxuICAgICAgICBjb250ZXh0OiBob2xlLFxuICAgICAgfTtcbiAgICB9XG4gICAgLy8gZWxzZSBzcGxpdCBjb25kaXRpb25cbiAgICBlbHNlIHtcbiAgICAgIGNvbnN0IHNwbGl0UmVzdWx0ID0gc3BsaXQoY2xhdXNlLmNvbmRpdGlvbik7XG4gICAgICBpZiAoU0lfU1RSVUNULmlzU3BsaXQoc3BsaXRSZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uU3BsaXQsXG4gICAgICAgICAgcmVkZXg6IHNwbGl0UmVzdWx0LnJlZGV4LFxuICAgICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkNvbmRDb250ZXh0LFxuICAgICAgICAgICAgb3B0aW9uczogZXhwci5vcHRpb25zLFxuICAgICAgICAgICAgY3R4OiBzcGxpdFJlc3VsdC5jb250ZXh0LFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3BsaXRSZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNOYW1lKGV4cHIpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLlNwbGl0LFxuICAgICAgY29udGV4dDogaG9sZSxcbiAgICAgIHJlZGV4OiB7XG4gICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLk5hbWVSZWRleCxcbiAgICAgICAgc3ltYm9sOiBleHByLnN5bWJvbCxcbiAgICAgIH0sXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gRXJyb3IoXCJzcGxpdDogbmVpdGhlciBhIGNhbGwgbm9yIGEgY29uZCBub3IgbmFtZVwiKTtcbiAgfVxufVxuXG4vLyBzdGVwXG4vLyBSZWRleCA9PiBPbmVSdWxlIHwgRXJyb3JcbmV4cG9ydCBmdW5jdGlvbiBzdGVwKFxuICByOiBTSV9TVFJVQ1QuUmVkZXgsXG4gIGVudjogU0lfU1RSVUNULkVudmlyb25tZW50XG4pOiBTSV9TVFJVQ1QuT25lUnVsZSB8IEVycm9yIHtcbiAgLy8gYmVmb3JlIHN0ZXBwaW5nIGNoZWNrIGlmIHRoZSByZWRleCBoYXMgbm8gbmFtZXMgaW4gaXRcbiAgLy8gaWYgaXQgaGFzLCBsb29rdXAgaW4gZW52aXJvbm1lbnQgYW5kIGNvbnN0cnVjdCBSdWxlIChDb25zdCwgRnVuLCBvciBTdHJ1Y3QpXG4gIGlmIChTSV9TVFJVQ1QuaXNDYWxsUmVkZXgocikpIHtcbiAgICAvL2NoZWNrIGlmIGFsbCBhcmdzIGRvIG5vdCBjb250YWluIG5hbWVzXG4gICAgY29uc3QgYWxsQXJnc0FyZVZhbHVlcyA9IHIuYXJncy5ldmVyeShTSV9TVFJVQ1QuaXNWYWx1ZSk7XG4gICAgaWYgKGFsbEFyZ3NBcmVWYWx1ZXMpIHtcbiAgICAgIGNvbnN0IGFyZ3M6IFNJX1NUUlVDVC5WYWx1ZVtdID0gci5hcmdzIGFzIFNJX1NUUlVDVC5WYWx1ZVtdO1xuICAgICAgLy9jaGVjayBpZiByLm5hbWUgaXMgcHJpbWl0aXZlIG9yIGluIGVudlxuICAgICAgY29uc3QgZnVuRGVmID0gbG9va3VwRW52KGVudiwgci5uYW1lLnN5bWJvbCk7XG4gICAgICAvL2NoZWNrIGlmIG5hbWUgaXMgaW4gcHJpbWl0aXZlIGZ1bmN0aW9ucyBsaXN0XG4gICAgICBpZiAoT2JqZWN0LnZhbHVlczxzdHJpbmc+KFNJX1NUUlVDVC5QcmltTmFtZXMpLmluY2x1ZGVzKHIubmFtZS5zeW1ib2wpKSB7XG4gICAgICAgIGNvbnN0IHByaW1SZXN1bHQgPSBwcmltKHIubmFtZSwgYXJncyk7XG4gICAgICAgIGlmIChwcmltUmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5SdWxlLlByaW1FcnJvcixcbiAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgcmVzdWx0OiBwcmltUmVzdWx0LFxuICAgICAgICAgIH07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlJ1bGUuUHJpbSxcbiAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgcmVzdWx0OiBwcmltUmVzdWx0LFxuICAgICAgICAgIH07XG4gICAgICAgIC8vaWYgbmFtZSA9PiBmdW5jdGlvblxuICAgICAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNGdW5EZWYoZnVuRGVmKSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcInN0ZXA6IGVudjogXCIgKyBKU09OLnN0cmluZ2lmeShmdW5EZWYpICsgXCIgYXJnczogXCIgKyBhcmdzKTtcbiAgICAgICAgLy9jaGVjayBpZiBmdW5EZWYgaXMgYSBkZWZpbmVkIGZ1bmN0aW9uIG9yIGEgc3RydWN0LXByZWRlZmluZWQgZnVuY3Rpb25cbiAgICAgICAgLy9zdWJzdGl0dXRlIG5hbWVzIGluIGJvZHkgd2l0aCBhcmdzXG4gICAgICAgIGNvbnN0IG5ld0V4cHIgPSBzdWJzdEZ1bihyLCBlbnYpO1xuICAgICAgICBpZiAobmV3RXhwciBpbnN0YW5jZW9mIEVycm9yKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5GdW5FcnJvcixcbiAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgcmVzdWx0OiBuZXdFeHByLFxuICAgICAgICAgIH07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlJ1bGUuRnVuLFxuICAgICAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgICAgICByZXN1bHQ6IG5ld0V4cHIsXG4gICAgICAgICAgfTtcbiAgICAgICAgLy9pZiBuYW1lID0+IHN0cnVjdEZ1bmN0aW9uXG4gICAgICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc1N0cnVjdEZ1bihmdW5EZWYpKSB7XG4gICAgICAgIC8vZGVjaWRlIHdoaWNoIHN0cnVjdCBSdWxlIHRvIHVzZVxuICAgICAgICBpZiAoU0lfU1RSVUNULmlzTWFrZUZ1bihmdW5EZWYpKSB7XG4gICAgICAgICAgY29uc3Qgc3RydWN0VmFsID0gbWFrZVN0cnVjdChyLm5hbWUsIGZ1bkRlZiwgYXJncywgZW52KTtcbiAgICAgICAgICBpZiAoc3RydWN0VmFsIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5TdHJ1Y3RNYWtlRXJyb3IsXG4gICAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgICByZXN1bHQ6IHN0cnVjdFZhbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgbWFrZVJ1bGU6IFNJX1NUUlVDVC5TdHJ1Y3RNYWtlID0ge1xuICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlJ1bGUuU3RydWN0TWFrZSxcbiAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgcmVzdWx0OiBzdHJ1Y3RWYWwsXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gbWFrZVJ1bGU7XG4gICAgICAgIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzUHJlZEZ1bihmdW5EZWYpKSB7XG4gICAgICAgICAgY29uc3QgcHJlZFZhbCA9IHByZWRTdHJ1Y3Qoci5uYW1lLCBmdW5EZWYsIGFyZ3MpO1xuICAgICAgICAgIGlmIChwcmVkVmFsIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5TdHJ1Y3RQcmVkRXJyb3IsXG4gICAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgICByZXN1bHQ6IHByZWRWYWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIC8vIGlmIGNoZWNrIHdoaWNoIFN0cnVjdFByZWRSdWxlIHRvIHVzZVxuICAgICAgICAgIGlmIChwcmVkVmFsKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVkUnVsZTogU0lfU1RSVUNULlN0cnVjdFByZWRUcnVlID0ge1xuICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5TdHJ1Y3RQcmVkVHJ1ZSxcbiAgICAgICAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgICAgICAgIHJlc3VsdDogcHJlZFZhbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcHJlZFJ1bGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByZWRSdWxlOiBTSV9TVFJVQ1QuU3RydWN0UHJlZEZhbHNlID0ge1xuICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5TdHJ1Y3RQcmVkRmFsc2UsXG4gICAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgICByZXN1bHQ6IHByZWRWYWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHByZWRSdWxlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBzZWxlY3RWYWwgPSBzZWxlY3RTdHJ1Y3Qoci5uYW1lLCBmdW5EZWYsIGFyZ3MpO1xuICAgICAgICAgIGlmIChzZWxlY3RWYWwgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5SdWxlLlN0cnVjdFNlbGVjdEVycm9yLFxuICAgICAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICAgICAgcmVzdWx0OiBzZWxlY3RWYWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHNlbGVjdFJ1bGU6IFNJX1NUUlVDVC5TdHJ1Y3RTZWxlY3QgPSB7XG4gICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5TdHJ1Y3RTZWxlY3QsXG4gICAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICAgIHJlc3VsdDogc2VsZWN0VmFsLFxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHNlbGVjdFJ1bGU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5SdWxlLkZ1bkVycm9yLFxuICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgIHJlc3VsdDogRXJyb3IoYGZ1bmN0aW9uICcke3IubmFtZS5zeW1ib2x9JyBpcyBub3QgaW4gZW52YCksXG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwic3RlcDogZW52OlwiICsgSlNPTi5zdHJpbmdpZnkoZW52KSk7XG4gICAgICBjb25zdCBzdWJzdFJlZDogQlNMX0FTVC5leHByIHwgU0lfU1RSVUNULlZhbHVlIHwgRXJyb3IgPSBzdWJzdENvbnN0KFxuICAgICAgICByLFxuICAgICAgICBlbnZcbiAgICAgICk7XG4gICAgICBpZiAoc3Vic3RSZWQgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5Db25zdEVycm9yLFxuICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgIHJlc3VsdDogc3Vic3RSZWQsXG4gICAgICAgIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5Db25zdCxcbiAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgIHJlc3VsdDogc3Vic3RSZWQsXG4gICAgICB9O1xuICAgIH1cbiAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNDb25kUmVkZXgocikpIHtcbiAgICAvL2NoZWNrIGlmIGNvbmRpdGlvbiBpcyBhIG5hbWVcbiAgICBpZiAoQlNMX0FTVC5pc0xpdGVyYWwoci5vcHRpb25zWzBdLmNvbmRpdGlvbikpIHtcbiAgICAgIGNvbnN0IGNvbmRSZXN1bHQgPSBjb25kKHIpO1xuICAgICAgaWYgKGNvbmRSZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBuZXdPcHRpb25zID0gci5vcHRpb25zLnNsaWNlKDEpO1xuICAgICAgICBpZiAobmV3T3B0aW9ucy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5SdWxlLkNvbmRFcnJvcixcbiAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgcmVzdWx0OiBFcnJvcihcIidjb25kJzogYWxsIHF1ZXN0aW9uIHJlc3VsdHMgd2VyZSBmYWxzZVwiKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0V4cHI6IEJTTF9BU1QuQ29uZCA9IHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZEV4cHJlc3Npb24sXG4gICAgICAgICAgb3B0aW9uczogbmV3T3B0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5Db25kRmFsc2UsXG4gICAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgICAgcmVzdWx0OiBuZXdFeHByLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChCU0xfQVNULmlzRXhwcihjb25kUmVzdWx0KSB8fCBTSV9TVFJVQ1QuaXNWYWx1ZShjb25kUmVzdWx0KSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5SdWxlLkNvbmRUcnVlLFxuICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgIHJlc3VsdDogY29uZFJlc3VsdCxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogU0lfU1RSVUNULlJ1bGUuQ29uZEVycm9yLFxuICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgIHJlc3VsdDogY29uZFJlc3VsdCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3Vic3RSZWQ6IEJTTF9BU1QuZXhwciB8IFNJX1NUUlVDVC5WYWx1ZSB8IEVycm9yID0gc3Vic3RDb25zdChcbiAgICAgICAgcixcbiAgICAgICAgZW52XG4gICAgICApO1xuICAgICAgaWYgKHN1YnN0UmVkIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogU0lfU1RSVUNULlJ1bGUuQ29uc3RFcnJvcixcbiAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICByZXN1bHQ6IHN1YnN0UmVkLFxuICAgICAgICB9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU0lfU1RSVUNULlJ1bGUuQ29uc3QsXG4gICAgICAgIHJlZGV4OiByLFxuICAgICAgICByZXN1bHQ6IHN1YnN0UmVkLFxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzTmFtZVJlZGV4KHIpKSB7XG4gICAgY29uc3Qgc3Vic3RSZWQ6IEJTTF9BU1QuZXhwciB8IFNJX1NUUlVDVC5WYWx1ZSB8IEVycm9yID0gc3Vic3RDb25zdChyLCBlbnYpO1xuICAgIGlmIChzdWJzdFJlZCBpbnN0YW5jZW9mIEVycm9yKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU0lfU1RSVUNULlJ1bGUuQ29uc3RFcnJvcixcbiAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgIHJlc3VsdDogc3Vic3RSZWQsXG4gICAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5Db25zdCxcbiAgICAgIHJlZGV4OiByLFxuICAgICAgcmVzdWx0OiBzdWJzdFJlZCxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBFcnJvcihcInN0ZXA6IHJlZGV4IGlzIG5laXRoZXIgYSBjYWxsIG5vciBjb25kIG5vciBuYW1lXCIpO1xuICB9XG59XG5cbi8vIHBsdWcob25lUnVsZSwgYzogQ29udGV4dCk6IEV4cHJTdGVwIHwgRXJyb3JcbmV4cG9ydCBmdW5jdGlvbiBwbHVnKFxuICBvbmVSdWxlOiBTSV9TVFJVQ1QuT25lUnVsZSxcbiAgYzogU0lfU1RSVUNULkNvbnRleHQsXG4gIGVudjogU0lfU1RSVUNULkVudmlyb25tZW50XG4pOiBTSV9TVFJVQ1QuRXZhbFN0ZXAgfCBFcnJvciB7XG4gIC8vY2hlY2sgaWYgY29udGV4dCBpcyBhIEhvbGVcbiAgY29uc29sZS5sb2coXCJwbHVnOiBvbmVSdWxlOiBcIiArIEpTT04uc3RyaW5naWZ5KG9uZVJ1bGUpKTtcbiAgaWYgKFNJX1NUUlVDVC5pc0hvbGUoYykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uRXZhbFN0ZXAsXG4gICAgICBlbnY6IGVudixcbiAgICAgIHJ1bGU6IG9uZVJ1bGUsXG4gICAgICByZXN1bHQ6IG9uZVJ1bGUucmVzdWx0LFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgLy9BcHBseSBPbmVSdWxlIHdpdGggS09ORyBSVUxFXG4gICAgY29uc3QgZXhwclN0ZXAgPSBwbHVnKG9uZVJ1bGUsIGMuY3R4LCBlbnYpO1xuICAgIGlmIChTSV9TVFJVQ1QuaXNFdmFsU3RlcChleHByU3RlcCkpIHtcbiAgICAgIC8vIFJlc3VsdCBpcyBSdWxlRXJyb3JcbiAgICAgIGlmIChleHByU3RlcC5yZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIGV4cHJTdGVwO1xuICAgICAgLy9BcHBDb250ZXh0XG4gICAgICBpZiAoU0lfU1RSVUNULmlzQXBwQ29udGV4dChjKSkge1xuICAgICAgICBjb25zdCBhcmdzID0gW2MudmFsdWVzLCBleHByU3RlcC5yZXN1bHQsIGMuYXJnc10uZmxhdCgpO1xuICAgICAgICBjb25zdCBuZXdBcmdzID0gYXJncy5tYXAoKGFyZykgPT4ge1xuICAgICAgICAgIGlmIChTSV9TVFJVQ1QuaXNWYWx1ZShhcmcpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdBcmc6IEJTTF9BU1QuTGl0ZXJhbCA9IHtcbiAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgICAgICAgICAgIHZhbHVlOiBhcmcsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIG5ld0FyZztcbiAgICAgICAgICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0lkKGFyZykpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0FyZzogQlNMX0FTVC5OYW1lID0ge1xuICAgICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgICAgICAgICBzeW1ib2w6IGFyZy5zeW1ib2wsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIG5ld0FyZztcbiAgICAgICAgICB9IGVsc2UgcmV0dXJuIGFyZztcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGZpbmFsRXhwcjogQlNMX0FTVC5DYWxsID0ge1xuICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5GdW5jdGlvbkNhbGwsXG4gICAgICAgICAgbmFtZTogYy5vcCxcbiAgICAgICAgICBhcmdzOiBuZXdBcmdzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zb2xlLmxvZyhcInBsdWc6IGVudjogXCIgKyBKU09OLnN0cmluZ2lmeShlbnYpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5FdmFsU3RlcCxcbiAgICAgICAgICBlbnY6IGVudixcbiAgICAgICAgICBydWxlOiB7XG4gICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5Lb25nLFxuICAgICAgICAgICAgY29udGV4dDogYyxcbiAgICAgICAgICAgIHJlZGV4UnVsZTogb25lUnVsZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlc3VsdDogZmluYWxFeHByLFxuICAgICAgICB9O1xuICAgICAgICAvL0NvbmRDb250ZXh0XG4gICAgICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0NvbmRDb250ZXh0KGMpKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGV4cHI6IEJTTF9BU1QuZXhwciA9IFNJX1NUUlVDVC5pc1ZhbHVlKGV4cHJTdGVwLnJlc3VsdClcbiAgICAgICAgICA/IHsgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsIHZhbHVlOiBleHByU3RlcC5yZXN1bHQgfVxuICAgICAgICAgIDogZXhwclN0ZXAucmVzdWx0O1xuICAgICAgICBjb25zdCBmaXJzdENsYXVzZTogQlNMX0FTVC5DbGF1c2UgPSB7XG4gICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkNvbmRPcHRpb24sXG4gICAgICAgICAgY29uZGl0aW9uOiBleHByLFxuICAgICAgICAgIHJlc3VsdDogb3B0aW9uc1swXS5yZXN1bHQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG5ld09wdGlvbnMgPSBbZmlyc3RDbGF1c2UsIC4uLm9wdGlvbnMuc2xpY2UoMSldO1xuICAgICAgICBjb25zdCBmaW5hbEV4cHI6IEJTTF9BU1QuQ29uZCA9IHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZEV4cHJlc3Npb24sXG4gICAgICAgICAgb3B0aW9uczogbmV3T3B0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5FdmFsU3RlcCxcbiAgICAgICAgICBlbnY6IGVudixcbiAgICAgICAgICBydWxlOiB7XG4gICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUnVsZS5Lb25nLFxuICAgICAgICAgICAgY29udGV4dDogYyxcbiAgICAgICAgICAgIHJlZGV4UnVsZTogb25lUnVsZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlc3VsdDogZmluYWxFeHByLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEVycm9yKFwicGx1ZzogY29udGV4dCBpcyBub3QgYW4gQXBwQ29udGV4dCBvciBDb25kQ29udGV4dFwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGV4cHJTdGVwO1xuICAgIH1cbiAgfVxufVxuXG4vLyAjIyMjIyMjIE9ORSBSVUxFIEZVTkNUSU9OUyAjIyMjIyMjXG5leHBvcnQgZnVuY3Rpb24gcHJpbShcbiAgbmFtZTogQlNMX0FTVC5OYW1lLFxuICBhcmdzOiBTSV9TVFJVQ1QuVmFsdWVbXVxuKTogU0lfU1RSVUNULlZhbHVlIHwgRXJyb3Ige1xuICAvLyArIC0gKiAvXG4gIGlmIChcbiAgICBbXCIrXCIsIFwiKlwiLCBcIi1cIiwgXCIvXCJdLmluY2x1ZGVzKG5hbWUuc3ltYm9sKSAmJlxuICAgICFhcmdzLmV2ZXJ5KChhKSA9PiB0eXBlb2YgYSA9PT0gXCJudW1iZXJcIilcbiAgKSB7XG4gICAgY29uc3QgZmlyc3RPZmZlbmRlciA9IGFyZ3MuZmluZCgoYSkgPT4gdHlwZW9mIGEgIT0gXCJudW1iZXJcIik7XG4gICAgcmV0dXJuIEVycm9yKFxuICAgICAgYGFyZ3VtZW50ICcke2ZpcnN0T2ZmZW5kZXJ9JyBpcyBub3QgYSBudW1iZXIgaW4gZnVuY3Rpb24gJyR7bmFtZS5zeW1ib2x9J2BcbiAgICApO1xuICB9XG4gIHN3aXRjaCAobmFtZS5zeW1ib2wpIHtcbiAgICBjYXNlIFwiK1wiOlxuICAgICAgcmV0dXJuIGFyZ3MucmVkdWNlKCh4LCB5KSA9PiAoeCBhcyBudW1iZXIpICsgKHkgYXMgbnVtYmVyKSk7XG4gICAgY2FzZSBcIipcIjpcbiAgICAgIHJldHVybiBhcmdzLnJlZHVjZSgoeCwgeSkgPT4gKHggYXMgbnVtYmVyKSAqICh5IGFzIG51bWJlcikpO1xuICAgIGNhc2UgXCItXCI6XG4gICAgICByZXR1cm4gYXJncy5yZWR1Y2UoKHgsIHkpID0+ICh4IGFzIG51bWJlcikgLSAoeSBhcyBudW1iZXIpKTtcbiAgICBjYXNlIFwiL1wiOlxuICAgICAgaWYgKCFhcmdzLnNsaWNlKDEpLmV2ZXJ5KChhKSA9PiBhICE9IDApKVxuICAgICAgICByZXR1cm4gRXJyb3IoYGRpdmlzaW9uIGJ5IHplcm8gaW4gZnVuY3Rpb24gJyR7bmFtZS5zeW1ib2x9J2ApO1xuICAgICAgcmV0dXJuIGFyZ3MucmVkdWNlKCh4LCB5KSA9PiAoeCBhcyBudW1iZXIpIC8gKHkgYXMgbnVtYmVyKSk7XG4gICAgZGVmYXVsdDpcbiAgfVxuICAvLyBhbmQsIG9yLCBub3RcbiAgaWYgKFxuICAgIFtcImFuZFwiLCBcIm9yXCIsIFwibm90XCJdLmluY2x1ZGVzKG5hbWUuc3ltYm9sKSAmJlxuICAgICFhcmdzLmV2ZXJ5KChhKSA9PiB0eXBlb2YgYSA9PT0gXCJib29sZWFuXCIpXG4gICkge1xuICAgIGNvbnN0IGZpcnN0T2ZmZW5kZXIgPSBhcmdzLmZpbmQoKGEpID0+IHR5cGVvZiBhICE9IFwiYm9vbGVhblwiKTtcbiAgICByZXR1cm4gRXJyb3IoXG4gICAgICBgYXJndW1lbnQgJyR7Zmlyc3RPZmZlbmRlcn0nIGlzIG5vdCBhIGJvb2xlYW4gaW4gZnVuY3Rpb24gJyR7bmFtZS5zeW1ib2x9J2BcbiAgICApO1xuICB9XG4gIHN3aXRjaCAobmFtZS5zeW1ib2wpIHtcbiAgICBjYXNlIFwiYW5kXCI6XG4gICAgICBpZiAoYXJncy5sZW5ndGggPCAyKVxuICAgICAgICByZXR1cm4gRXJyb3IoYGZ1bmN0aW9uICcke25hbWUuc3ltYm9sfScgbmVlZHMgYXQgbGVhc3QgdHdvIGFyZ3VtZW50c2ApO1xuICAgICAgcmV0dXJuIGFyZ3MuZXZlcnkoKHgpID0+IHgpO1xuICAgIGNhc2UgXCJvclwiOlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoIDwgMilcbiAgICAgICAgcmV0dXJuIEVycm9yKGBmdW5jdGlvbiAnJHtuYW1lLnN5bWJvbH0nIG5lZWRzIGF0IGxlYXN0IHR3byBhcmd1bWVudHNgKTtcbiAgICAgIHJldHVybiBhcmdzLnNvbWUoKHgpID0+IHgpO1xuICAgIGNhc2UgXCJub3RcIjpcbiAgICAgIGlmIChhcmdzLmxlbmd0aCAhPT0gMSlcbiAgICAgICAgcmV0dXJuIEVycm9yKGBmdW5jdGlvbiAnJHtuYW1lLnN5bWJvbH0nIG5lZWRzIGV4YWN0bHkgb25lIGFyZ3VtZW50YCk7XG4gICAgICByZXR1cm4gIWFyZ3NbMF07XG4gICAgZGVmYXVsdDpcbiAgfVxuICAvLyBsZXNzIHRoYW4gYW5kIGdyZWF0ZXIgdGhhbiwgdG8gdGVzdCBIVE1MIGVzY2FwaW5nXG4gIGlmIChbXCI8XCIsIFwiPlwiLCBcIjw9XCIsIFwiPj1cIl0uaW5jbHVkZXMobmFtZS5zeW1ib2wpKSB7XG4gICAgaWYgKGFyZ3MubGVuZ3RoICE9PSAyKSB7XG4gICAgICByZXR1cm4gRXJyb3IoYGZ1bmN0aW9uICcke25hbWUuc3ltYm9sfScgbmVlZHMgZXhhY3RseSB0d28gYXJndW1lbnRzYCk7XG4gICAgfVxuICAgIGNvbnN0IGxlZnQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHJpZ2h0ID0gYXJnc1sxXTtcbiAgICBpZiAodHlwZW9mIGxlZnQgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHJpZ2h0ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gRXJyb3IoXG4gICAgICAgIGBmdW5jdGlvbiAnJHtuYW1lLnN5bWJvbH0nIG5lZWRzIHR3byBudW1iZXJzLCBidXQgcmVjZWl2ZWQgJyR7bGVmdH0nIGFuZCAnJHtyaWdodH0nYFxuICAgICAgKTtcbiAgICB9XG4gICAgc3dpdGNoIChuYW1lLnN5bWJvbCkge1xuICAgICAgY2FzZSBcIjxcIjpcbiAgICAgICAgcmV0dXJuIGxlZnQgPCByaWdodDtcbiAgICAgIGNhc2UgXCI8PVwiOlxuICAgICAgICByZXR1cm4gbGVmdCA8PSByaWdodDtcbiAgICAgIGNhc2UgXCI+PVwiOlxuICAgICAgICByZXR1cm4gbGVmdCA+PSByaWdodDtcbiAgICAgIGNhc2UgXCI+XCI6XG4gICAgICAgIHJldHVybiBsZWZ0ID4gcmlnaHQ7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gbmV2ZXIgcmVhY2hlZCBidXQgbmVlZGVkIGZvciBjb21waWxlclxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyB3aWxsIG5ldmVyIGJlIHJlYWNoZWQgYnV0IG5lZWRlZCBmb3IgY29tcGlsZXJcbiAgICByZXR1cm4gRXJyb3IoXG4gICAgICBgZnVuY3Rpb24gJyR7bmFtZS5zeW1ib2x9JyBpcyBubyBpbXBsZW1lbnRlZCBwcmltaXRpdmUgZnVuY3Rpb25gXG4gICAgKTtcbiAgfVxufVxuXG4vLyBjb25kXG4vLyBjb25kIFJlZGV4ID0+ICBCU0xfQVNULmV4cHIgfCBmYWxzZVxuZnVuY3Rpb24gY29uZChcbiAgcjogU0lfU1RSVUNULkNvbmRSZWRleFxuKTogQlNMX0FTVC5leHByIHwgU0lfU1RSVUNULlZhbHVlIHwgdW5kZWZpbmVkIHwgRXJyb3Ige1xuICBjb25zdCBjbGF1c2UgPSByLm9wdGlvbnNbMF07XG4gIGlmIChCU0xfQVNULmlzTGl0ZXJhbChjbGF1c2UuY29uZGl0aW9uKSAmJiBjbGF1c2UuY29uZGl0aW9uLnZhbHVlID09IHRydWUpIHtcbiAgICBjb25zdCByZXN1bHQgPSBCU0xfQVNULmlzTGl0ZXJhbChjbGF1c2UucmVzdWx0KVxuICAgICAgPyBjbGF1c2UucmVzdWx0LnZhbHVlXG4gICAgICA6IGNsYXVzZS5yZXN1bHQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBlbHNlIGlmIChcbiAgICBCU0xfQVNULmlzTGl0ZXJhbChjbGF1c2UuY29uZGl0aW9uKSAmJlxuICAgIGNsYXVzZS5jb25kaXRpb24udmFsdWUgPT0gZmFsc2VcbiAgKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gRXJyb3IoXCInY29uZCc6IGNvbmRpdGlvbiBpcyBub3QgYSBib29sZWFuXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN1YnN0Q29uc3QoXG4gIHI6IFNJX1NUUlVDVC5SZWRleCxcbiAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IEJTTF9BU1QuZXhwciB8IFNJX1NUUlVDVC5WYWx1ZSB8IEVycm9yIHtcbiAgaWYgKFNJX1NUUlVDVC5pc0NhbGxSZWRleChyKSkge1xuICAgIC8vIGdldCB0aGUgaWRlbnRpZmllciBhcmd1bWVudFxuICAgIGNvbnN0IGlkID0gci5hcmdzLmZpbmQoU0lfU1RSVUNULmlzSWQpO1xuICAgIGlmICghaWQpIHJldHVybiBFcnJvcihcImlkOiBjb3VsZCBub3QgZmluZCBhbiBpZGVudGlmaWVyIGluIGFyZ3VtZW50IGxpc3RcIik7XG4gICAgY29uc3QgdmFsdWUgPSBsb29rdXBDb25zdChlbnYsIGlkLnN5bWJvbCk7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiB2YWx1ZTtcbiAgICBjb25zdCBuZXdBcmdzOiBCU0xfQVNULmV4cHJbXSA9IHIuYXJncy5tYXAoKGVsKSA9PiB7XG4gICAgICBpZiAoU0lfU1RSVUNULmlzSWQoZWwpICYmIGVsLnN5bWJvbCA9PT0gaWQuc3ltYm9sKSB7XG4gICAgICAgIGxldCBuZXdMaXQ6IEJTTF9BU1QuTGl0ZXJhbCA9IHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXdMaXQ7XG4gICAgICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0lkKGVsKSkge1xuICAgICAgICBsZXQgbmV3TmFtZTogQlNMX0FTVC5OYW1lID0ge1xuICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgICAgc3ltYm9sOiBlbC5zeW1ib2wsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXdOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IG5ld0xpdDogQlNMX0FTVC5MaXRlcmFsID0ge1xuICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgIHZhbHVlOiBlbCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ld0xpdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkZ1bmN0aW9uQ2FsbCxcbiAgICAgIG5hbWU6IHIubmFtZSxcbiAgICAgIGFyZ3M6IG5ld0FyZ3MsXG4gICAgfTtcbiAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNDb25kUmVkZXgocikpIHtcbiAgICBjb25zdCBuYW1lID0gci5vcHRpb25zWzBdLmNvbmRpdGlvbjtcbiAgICBpZiAoIUJTTF9BU1QuaXNOYW1lKG5hbWUpKVxuICAgICAgcmV0dXJuIEVycm9yKFwic3Vic3RDb25zdDogY29uZGl0aW9uIGlzIG5vdCBhIG5hbWVcIik7XG5cbiAgICBjb25zdCB2YWx1ZSA9IGxvb2t1cENvbnN0KGVudiwgbmFtZS5zeW1ib2wpO1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsdWU7XG5cbiAgICBjb25zdCBuZXdMaXQ6IEJTTF9BU1QuTGl0ZXJhbCA9IHtcbiAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgIH07XG4gICAgY29uc3QgbmV3T3B0OiBCU0xfQVNULkNsYXVzZSA9IHtcbiAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kT3B0aW9uLFxuICAgICAgY29uZGl0aW9uOiBuZXdMaXQsXG4gICAgICByZXN1bHQ6IHIub3B0aW9uc1swXS5yZXN1bHQsXG4gICAgfTtcbiAgICBjb25zdCBuZXdDb25kOiBCU0xfQVNULkNvbmQgPSB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZEV4cHJlc3Npb24sXG4gICAgICBvcHRpb25zOiBbbmV3T3B0XSxcbiAgICB9O1xuICAgIHJldHVybiBuZXdDb25kO1xuICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc05hbWVSZWRleChyKSkge1xuICAgIHJldHVybiBsb29rdXBDb25zdChlbnYsIHIuc3ltYm9sKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gRXJyb3IoXCJzdWJzdENvbnN0OiByZWRleCBpcyBub3QgYSBjYWxsIG9yIGNvbmQgb3IgbmFtZVwiKTtcbiAgfVxufVxuXG4vL2Z1blxuZnVuY3Rpb24gc3Vic3RGdW4oXG4gIHI6IFNJX1NUUlVDVC5DYWxsUmVkZXgsXG4gIGVudjogU0lfU1RSVUNULkVudmlyb25tZW50XG4pOiBCU0xfQVNULmV4cHIgfCBFcnJvciB7XG4gIGNvbnN0IGZ1bkRlZiA9IGxvb2t1cEZ1bihlbnYsIHIubmFtZS5zeW1ib2wpO1xuICBpZiAoZnVuRGVmIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBmdW5EZWY7XG4gIGNvbnN0IHBhcmFtcyA9IGZ1bkRlZi5wYXJhbXM7XG4gIGlmIChyLmFyZ3MubGVuZ3RoICE9IHBhcmFtcy5sZW5ndGgpXG4gICAgcmV0dXJuIEVycm9yKFxuICAgICAgYEFyaXR5IG1pc21hdGNoIGluICcke3IubmFtZS5zeW1ib2x9JzogbnVtYmVyIG9mIGFyZ3VtZW50cyBhcmUgbm90IGVxdWFsIHRvIG51bWJlciBvZiBwYXJhbWV0ZXJzYFxuICAgICk7XG4gIGxldCBuZXdFbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudCA9IHt9O1xuICBwYXJhbXMuZm9yRWFjaCgocGFyYW0sIGkpID0+IHtcbiAgICBsZXQgdGVtcEVudiA9IGFkZFRvRW52KG5ld0VudiwgcGFyYW0uc3ltYm9sLCByLmFyZ3NbaV0gYXMgU0lfU1RSVUNULlZhbHVlKTtcbiAgICBpZiAodGVtcEVudiBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdGVtcEVudjtcbiAgICBuZXdFbnYgPSB0ZW1wRW52O1xuICB9KTtcbiAgY29uc3QgYm9keSA9IGZ1bkRlZi5ib2R5O1xuICBjb25zdCBuZXdFeHByID0gc3Vic3RFeHByKGJvZHksIG5ld0Vudik7XG4gIHJldHVybiBuZXdFeHByO1xufVxuXG4vL3N0cnVjdFJ1bGVzXG5mdW5jdGlvbiBtYWtlU3RydWN0KFxuICBuYW1lOiBCU0xfQVNULk5hbWUsXG4gIGZ1bkRlZjogU0lfU1RSVUNULk1ha2VGdW4sXG4gIGFyZ3M6IFNJX1NUUlVDVC5WYWx1ZVtdLFxuICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudFxuKTogQlNMX0FTVC5TdHJ1Y3RWYWx1ZSB8IEVycm9yIHtcbiAgY29uc3QgcGFyYW1zID0gZnVuRGVmLnN0cnVjdERlZi5wcm9wZXJ0aWVzO1xuICAvLyBzbGljZSBuYW1lIHRvIGdldCBzdHJ1Y3QgbmFtZVxuICBjb25zdCBzdHJ1Y3ROYW1lID0gbmFtZS5zeW1ib2wuc2xpY2UoNSk7XG4gIGNvbnN0IGluRW52ID0gbG9va3VwU3RydWN0KGVudiwgc3RydWN0TmFtZSk7XG4gIGlmIChpbkVudiBpbnN0YW5jZW9mIEVycm9yKVxuICAgIHJldHVybiBFcnJvcihgJyR7c3RydWN0TmFtZX0nIG5vdCBmb3VuZCBpbiBlbnZpcm9ubWVudGApO1xuICAvLyBjaGVjayBhcml0eVxuICBpZiAocGFyYW1zLmxlbmd0aCA9PSBhcmdzLmxlbmd0aCkge1xuICAgIGNvbnN0IHN0cnVjdFZhbDogQlNMX0FTVC5TdHJ1Y3RWYWx1ZSA9IHtcbiAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TdHJ1Y3RWYWx1ZSxcbiAgICAgIHN0cnVjdERlZjogbmFtZSxcbiAgICAgIHByb3BlcnRpZXM6IGFyZ3MubWFwKChhcmcpID0+IHtcbiAgICAgICAgY29uc3QgbGl0OiBCU0xfQVNULkxpdGVyYWwgPSB7XG4gICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgICAgICAgdmFsdWU6IGFyZyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGxpdDtcbiAgICAgIH0pLFxuICAgIH07XG4gICAgcmV0dXJuIHN0cnVjdFZhbDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gRXJyb3IoXG4gICAgICBgQXJpdHkgbWlzbWF0Y2ggaW4gJyR7bmFtZS5zeW1ib2x9OiBudW1iZXIgb2YgYXJndW1lbnRzIGRvZXMgbm90IG1hdGNoIG51bWJlciBvZiBwcm9wZXJ0aWVzYFxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlZFN0cnVjdChcbiAgbmFtZTogQlNMX0FTVC5OYW1lLFxuICBmdW5EZWY6IFNJX1NUUlVDVC5QcmVkRnVuLFxuICBhcmdzOiBTSV9TVFJVQ1QuVmFsdWVbXVxuKTogYm9vbGVhbiB8IEVycm9yIHtcbiAgY29uc3QgcGFyYW1zID0gZnVuRGVmLnN0cnVjdERlZi5wcm9wZXJ0aWVzO1xuICBpZiAoYXJncy5sZW5ndGggIT0gMSkge1xuICAgIHJldHVybiBFcnJvcihgJyR7bmFtZS5zeW1ib2x9JyB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudGApO1xuICB9IGVsc2Uge1xuICAgIGlmICghQlNMX0FTVC5pc1N0cnVjdFZhbHVlKGFyZ3NbMF0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN0cnVjdFZhbCA9IGFyZ3NbMF07XG4gICAgICAvL2V4dHJhY3Qgc3RydWN0IGluIG1ha2Utc3RydWN0XG4gICAgICBjb25zdCBzdHJ1Y3ROYW1lID0gc3RydWN0VmFsLnN0cnVjdERlZi5zeW1ib2wuc3BsaXQoXCItXCIpWzFdO1xuICAgICAgLy9leHRyYWN0IHN0cnVjdCBpbiBzdHJ1Y3Q/XG4gICAgICBjb25zdCBwcmVkTmFtZSA9IG5hbWUuc3ltYm9sLnNwbGl0KFwiP1wiKVswXTtcbiAgICAgIGlmIChzdHJ1Y3ROYW1lID09PSBwcmVkTmFtZSkge1xuICAgICAgICBpZiAocGFyYW1zLmxlbmd0aCA9PSBzdHJ1Y3RWYWwucHJvcGVydGllcy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2VsZWN0U3RydWN0KFxuICBuYW1lOiBCU0xfQVNULk5hbWUsXG4gIGZ1bkRlZjogU0lfU1RSVUNULlNlbGVjdEZ1bixcbiAgYXJnczogU0lfU1RSVUNULlZhbHVlW11cbik6IEJTTF9BU1QuZXhwciB8IFNJX1NUUlVDVC5WYWx1ZSB8IEVycm9yIHtcbiAgLy9jaGVjayBpZiB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBpcyAxXG4gIGlmIChhcmdzLmxlbmd0aCAhPSAxKSB7XG4gICAgcmV0dXJuIEVycm9yKFwic2VsZWN0U3RydWN0OiBudW1iZXIgb2YgYXJndW1lbnRzIGRvZXNuJ3QgbWF0Y2hcIik7XG4gIH0gZWxzZSB7XG4gICAgLy9jaGVjayBpZiB0aGUgYXJndW1lbnQgaXMgYSBzdHJ1Y3QgdmFsdWVcbiAgICBpZiAoIUJTTF9BU1QuaXNTdHJ1Y3RWYWx1ZShhcmdzWzBdKSkge1xuICAgICAgcmV0dXJuIEVycm9yKFwic2VsZWN0U3RydWN0OiBhcmd1bWVudCBpcyBub3QgYSBzdHJ1Y3QgdmFsdWVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN0cnVjdFZhbDogQlNMX0FTVC5TdHJ1Y3RWYWx1ZSA9IGFyZ3NbMF07XG4gICAgICAvL2V4dHJhY3Qgc3RydWN0IGluIG1ha2Utc3RydWN0XG4gICAgICBjb25zdCBzdHJ1Y3ROYW1lID0gc3RydWN0VmFsLnN0cnVjdERlZi5zeW1ib2wuc3BsaXQoXCItXCIpWzFdO1xuICAgICAgLy9leHRyYWN0IHN0cnVjdCBpbiBzdHJ1Y3QtcHJvcGVydHlcbiAgICAgIGNvbnN0IHNlbGVjdE5hbWUgPSBuYW1lLnN5bWJvbC5zcGxpdChcIi1cIilbMF07XG4gICAgICBjb25zdCBwcm9wZXJ0eTogc3RyaW5nID0gbmFtZS5zeW1ib2wuc3BsaXQoXCItXCIpWzFdO1xuICAgICAgLy9jaGVjayBpZiB0aGUgc3RydWN0IG5hbWUgaXMgdGhlIHNhbWVcbiAgICAgIGlmIChzdHJ1Y3ROYW1lICE9PSBzZWxlY3ROYW1lKSB7XG4gICAgICAgIHJldHVybiBFcnJvcihcInNlbGVjdFN0cnVjdDogc3RydWN0IG5hbWUgZG9lc24ndCBtYXRjaFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHBhcmFtczogc3RyaW5nW10gPSBmdW5EZWYuc3RydWN0RGVmLnByb3BlcnRpZXMubWFwKFxuICAgICAgICAgIChwYXJhbSkgPT4gcGFyYW0uc3ltYm9sXG4gICAgICAgICk7XG4gICAgICAgIC8vY2hlY2sgaWYgdGhlIHByb3BlcnR5IGlzIGluIHRoZSBzdHJ1Y3RcbiAgICAgICAgaWYgKHBhcmFtcy5pbmNsdWRlcyhwcm9wZXJ0eSkpIHtcbiAgICAgICAgICBjb25zdCBpbmRleCA9IHBhcmFtcy5pbmRleE9mKHByb3BlcnR5KTtcbiAgICAgICAgICBjb25zdCByZXM6IEJTTF9BU1QuZXhwciA9IHN0cnVjdFZhbC5wcm9wZXJ0aWVzW2luZGV4XTtcbiAgICAgICAgICAvL2NoZWNrIGlmIHRoZSBwcm9wZXJ0eSBpcyBhIGxpdGVyYWxcbiAgICAgICAgICAvL3JlZHVjZSB0byB2YWx1ZVxuICAgICAgICAgIGlmIChCU0xfQVNULmlzTGl0ZXJhbChyZXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnZhbHVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3RydWN0VmFsLnByb3BlcnRpZXNbaW5kZXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gRXJyb3IoXCJzZWxlY3RTdHJ1Y3Q6IHByb3BlcnR5IGRvZXNuJ3QgZXhpc3RcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbi8vc3Vic3RFeHByXG4vL3N1YnN0aXR1dGUgYWxsIG5hbWVzIGluIGFuIGV4cHJlc3Npb24gd2l0aCB0aGUgdmFsdWVzIG9mIGEgZ2l2ZW4gZW52aXJvbm1lbnRcbmZ1bmN0aW9uIHN1YnN0RXhwcihcbiAgZXhwcjogQlNMX0FTVC5leHByLFxuICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudFxuKTogQlNMX0FTVC5leHByIHwgRXJyb3Ige1xuICBpZiAoQlNMX0FTVC5pc0xpdGVyYWwoZXhwcikpIHtcbiAgICByZXR1cm4gZXhwcjtcbiAgfSBlbHNlIGlmIChCU0xfQVNULmlzTmFtZShleHByKSkge1xuICAgIGNvbnN0IHZhbHVlID0gbG9va3VwQ29uc3QoZW52LCBleHByLnN5bWJvbCk7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiB2YWx1ZTtcbiAgICBsZXQgbmV3TGl0OiBCU0xfQVNULkxpdGVyYWwgPSB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICB9O1xuICAgIHJldHVybiBuZXdMaXQ7XG4gIH0gZWxzZSBpZiAoQlNMX0FTVC5pc0NhbGwoZXhwcikpIHtcbiAgICBsZXQgYXJncyA9IGV4cHIuYXJncy5tYXAoKGFyZykgPT4ge1xuICAgICAgbGV0IG5ld0V4cHIgPSBzdWJzdEV4cHIoYXJnLCBlbnYpO1xuICAgICAgaWYgKG5ld0V4cHIgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIGFyZztcbiAgICAgIGVsc2UgcmV0dXJuIG5ld0V4cHI7XG4gICAgfSk7XG4gICAgLy9uZWVkIGNhc2UgZm9yIG5hbWVzLCB3aGljaCBhcmUgaW4gdGhlIG90aGVyIGRpY3Rpb25hcnkgYXMgd2VsbFxuICAgIGlmIChhcmdzLnNvbWUoKGFyZykgPT4gYXJnIGluc3RhbmNlb2YgRXJyb3IpKSB7XG4gICAgICByZXR1cm4gRXJyb3IoXCJzdWJzdEV4cHI6IGVycm9yIGluIGFyZ3NcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBuZXdDYWxsOiBCU0xfQVNULkNhbGwgPSB7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5GdW5jdGlvbkNhbGwsXG4gICAgICAgIG5hbWU6IGV4cHIubmFtZSxcbiAgICAgICAgYXJnczogYXJncyxcbiAgICAgIH07XG4gICAgICByZXR1cm4gbmV3Q2FsbDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IG9wdGlvbnMgPSBleHByLm9wdGlvbnMubWFwKChjbGF1c2UpID0+IHtcbiAgICAgIGxldCBuZXdDb25kaXRpb24gPSBzdWJzdEV4cHIoY2xhdXNlLmNvbmRpdGlvbiwgZW52KTtcbiAgICAgIGxldCBuZXdSZXN1bHQgPSBzdWJzdEV4cHIoY2xhdXNlLnJlc3VsdCwgZW52KTtcbiAgICAgIGlmIChuZXdDb25kaXRpb24gaW5zdGFuY2VvZiBFcnJvciB8fCBuZXdSZXN1bHQgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgcmV0dXJuIEVycm9yKFwic3Vic3RFeHByOiBlcnJvciBpbiBjb25kXCIpO1xuICAgICAgbGV0IG5ld0NsYXVzZTogQlNMX0FTVC5DbGF1c2UgPSB7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kT3B0aW9uLFxuICAgICAgICBjb25kaXRpb246IG5ld0NvbmRpdGlvbixcbiAgICAgICAgcmVzdWx0OiBuZXdSZXN1bHQsXG4gICAgICB9O1xuICAgICAgcmV0dXJuIG5ld0NsYXVzZTtcbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5zb21lKChjbGF1c2UpID0+IGNsYXVzZSBpbnN0YW5jZW9mIEVycm9yKSlcbiAgICAgIHJldHVybiBFcnJvcihcInN1YnN0RXhwcjogZXJyb3IgaW4gY29uZFwiKTtcbiAgICBsZXQgbmV3Q29uZDogQlNMX0FTVC5Db25kID0ge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkNvbmRFeHByZXNzaW9uLFxuICAgICAgb3B0aW9uczogb3B0aW9ucyBhcyBCU0xfQVNULkNsYXVzZVtdLFxuICAgIH07XG4gICAgcmV0dXJuIG5ld0NvbmQ7XG4gIH1cbn1cblxuLy8gIyMjIyMjIyBFbnZpcm9ubWVudCBGdW5jdGlvbnMgIyMjIyMjI1xuXG4vL2FkZHMgYSBWYWx1ZSB0byBhbiBFbnZpcm9ubWVudFxuZnVuY3Rpb24gYWRkVG9FbnYoXG4gIGVudjogU0lfU1RSVUNULkVudmlyb25tZW50LFxuICBuYW1lOiBzdHJpbmcsXG4gIHZhbHVlOiBTSV9TVFJVQ1QuRW52VmFsdWVcbik6IFNJX1NUUlVDVC5FbnZpcm9ubWVudCB8IEVycm9yIHtcbiAgaWYgKGVudltuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgbmV3RW52ID0geyAuLi5lbnYgfTtcbiAgICBuZXdFbnZbbmFtZV0gPSB2YWx1ZTtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBcImFkZFRvRW52OiBcIiArIG5hbWUgKyBcIjpcIiArIHZhbHVlICsgXCIgYWRkZWQgdG8gXCIgKyBKU09OLnN0cmluZ2lmeShlbnYpXG4gICAgKTtcbiAgICBjb25zb2xlLndhcm4oXCJhZGRUb0VudjogbmV3RW52ID0gXCIgKyBKU09OLnN0cmluZ2lmeShuZXdFbnYpKTtcbiAgICByZXR1cm4gbmV3RW52O1xuICB9IGVsc2UgcmV0dXJuIEVycm9yKFwiYWRkVG9FbnY6IG5hbWUgYWxyZWFkeSBleGlzdHMgaW4gZW52aXJvbm1lbnRcIik7XG59XG5cbmZ1bmN0aW9uIGxvb2t1cEVudihcbiAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnQsXG4gIG5hbWU6IHN0cmluZ1xuKTogU0lfU1RSVUNULkVudlZhbHVlIHwgRXJyb3Ige1xuICBpZiAobmFtZSBpbiBlbnYpIHtcbiAgICBjb25zb2xlLndhcm4oXCJsb29rdXBFbnY6IFwiICsgbmFtZSArIFwiIGZvdW5kIGluIFwiICsgSlNPTi5zdHJpbmdpZnkoZW52KSk7XG4gICAgcmV0dXJuIGVudltuYW1lXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gRXJyb3IoYCcke25hbWV9JyBpcyBub3QgYm91bmQgaW4gZW52aXJvbm1lbnRgKTtcbiAgfVxufVxuXG4vL0xvb2tVcCBoZWxwZXIgZnVuY3Rpb25zXG5cbmZ1bmN0aW9uIGxvb2t1cENvbnN0KFxuICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudCxcbiAgbmFtZTogc3RyaW5nXG4pOiBTSV9TVFJVQ1QuVmFsdWUgfCBFcnJvciB7XG4gIGNvbnN0IHZhbHVlID0gbG9va3VwRW52KGVudiwgbmFtZSk7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsdWU7XG4gIGVsc2UgaWYgKFNJX1NUUlVDVC5pc1ZhbHVlKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICBlbHNlIHJldHVybiBFcnJvcihcImxvb2t1cENvbnN0OiBuYW1lIGlzIG5vdCBib3VuZCB0byBhIFZhbHVlXCIpO1xufVxuXG5mdW5jdGlvbiBsb29rdXBGdW4oXG4gIGVudjogU0lfU1RSVUNULkVudmlyb25tZW50LFxuICBuYW1lOiBzdHJpbmdcbik6IFNJX1NUUlVDVC5GdW5EZWYgfCBFcnJvciB7XG4gIGNvbnN0IHZhbHVlID0gbG9va3VwRW52KGVudiwgbmFtZSk7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsdWU7XG4gIGVsc2UgaWYgKFNJX1NUUlVDVC5pc0Z1bkRlZih2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgZWxzZSByZXR1cm4gRXJyb3IoXCJsb29rdXBGdW46IG5hbWUgaXMgbm90IGJvdW5kIHRvIGEgRnVuXCIpO1xufVxuXG5mdW5jdGlvbiBsb29rdXBTdHJ1Y3QoXG4gIGVudjogU0lfU1RSVUNULkVudmlyb25tZW50LFxuICBuYW1lOiBzdHJpbmdcbik6IFNJX1NUUlVDVC5TdHJ1Y3REZWYgfCBFcnJvciB7XG4gIGNvbnN0IHZhbHVlID0gbG9va3VwRW52KGVudiwgbmFtZSk7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsdWU7XG4gIGVsc2UgaWYgKFNJX1NUUlVDVC5pc1N0cnVjdERlZih2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgZWxzZSByZXR1cm4gRXJyb3IoXCJsb29rdXBTdHJ1Y3Q6IG5hbWUgaXMgbm90IGJvdW5kIHRvIGEgU3RydWN0XCIpO1xufVxuIiwgIi8vIHBhcnNpbmcgYW5kIHByb2Nlc3NpbmcgY29kZSBpbnB1dFxuaW1wb3J0IHsgcGFyc2UgfSBmcm9tIFwiLi9CU0xfUGFyc2VyXCI7XG5pbXBvcnQgKiBhcyBCU0xfQVNUIGZyb20gXCIuL0JTTF9BU1RcIjtcbmltcG9ydCAqIGFzIEJTTF9QcmludCBmcm9tIFwiLi9CU0xfUHJpbnRcIjtcbi8vIHNtYWxsLXN0ZXAgaW50ZXJwcmV0ZXIgYmFjay1lbmRcbmltcG9ydCAqIGFzIFNJX1NUUlVDVCBmcm9tIFwiLi9TSV9TVFJVQ1RcIjtcbmltcG9ydCB7IGNhbGN1bGF0ZVByb2dyYW0gfSBmcm9tIFwiLi9TSVwiO1xuLy8gc3R5bGVzICYgaWNvbiByZXNzb3VyY2VzXG5pbXBvcnQgeyBkZWZhdWx0IGFzIHN0ZXBwZXJfY3NzIH0gZnJvbSBcIi4vcmVzc291cmNlcy9zdGVwcGVyLmNzc1wiO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBhbmdsZV91cCB9IGZyb20gXCIuL3Jlc3NvdXJjZXMvaWNvbnMvYW5nbGUtdXAtc29saWQuc3ZnXCI7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIGFuZ2xlX2Rvd24gfSBmcm9tIFwiLi9yZXNzb3VyY2VzL2ljb25zL2FuZ2xlLWRvd24tc29saWQuc3ZnXCI7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIHBsdXNfaWNvbiB9IGZyb20gXCIuL3Jlc3NvdXJjZXMvaWNvbnMvcGx1cy1zb2xpZC5zdmdcIjtcbmltcG9ydCB7IGRlZmF1bHQgYXMgbWludXNfaWNvbiB9IGZyb20gXCIuL3Jlc3NvdXJjZXMvaWNvbnMvbWludXMtc29saWQuc3ZnXCI7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIGNpcmNsZV9pbmZvIH0gZnJvbSBcIi4vcmVzc291cmNlcy9pY29ucy9jaXJjbGUtaW5mby1zb2xpZC5zdmdcIjtcbmltcG9ydCB7IGRlZmF1bHQgYXMgY2lyY2xlX3htYXJrIH0gZnJvbSBcIi4vcmVzc291cmNlcy9pY29ucy9jaXJjbGUteG1hcmstc29saWQuc3ZnXCI7XG4vLyBodG1sIGhlbHBlcnNcbmltcG9ydCB7IGdldFBhcmVudENsYXNzUmVjdXJzaXZlLCBuYXZpZ2F0ZURPTSB9IGZyb20gXCIuL0RPTV9IZWxwZXJzXCI7XG5cbi8vICMjIyMjIyMjIyBtYWluIGZ1bmN0aW9uIHByb2Nlc3Npbmcgc3RlcHBlcnMgIyMjIyMjIyMjIyNcbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzU3RlcHBlcnMoKSB7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdGVwcGVyXCIpKS5tYXAoKGVsKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHByb2dyYW06IEJTTF9BU1QucHJvZ3JhbSA9IHBhcnNlKEJTTF9QcmludC5kaXJ0aWZ5KGVsLmlubmVySFRNTCkpO1xuICAgICAgY29uc29sZS5sb2coQlNMX1ByaW50LmluZGVudChCU0xfUHJpbnQucHByaW50KHByb2dyYW0pLCAzMCkpO1xuICAgICAgc2V0VXBTdGVwcGVyR3VpKHByb2dyYW0sIGVsIGFzIEhUTUxFbGVtZW50KTtcbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgIHJlbmRlckVycm9yKGUsIGVsIGFzIEhUTUxFbGVtZW50KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZW5kZXJFcnJvcihlcnI6IGFueSwgZWw6IEhUTUxFbGVtZW50KSB7XG4gIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgY29uc3QgZXJyb3IgPSBlcnIgPyBgJHtlcnJ9YCA6ICdVbmtub3duIEVycm9yJztcbiAgZWwuaW5uZXJIVE1MID0gYFxuICAgIDxoMz5FcnJvciB0dXJuaW5nIFByb2dyYW0gaW50byBTdGVwcGVyPC9oMz5cbiAgICA8ZGl2PiR7ZWwuaW5uZXJIVE1MfTwvZGl2PlxuICAgIDxkaXY+JHtlcnJvcn08L2Rpdj5cbiAgYDtcbiAgKGVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgIHBhZGRpbmc6IDJlbTtcbiAgICBjb2xvcjogZGFya3JlZDtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgYDtcbn1cblxuLy8gIyMjIHNldCB1cCBhIHNpbmdsZSBzdGVwcGVyICMjI1xuZXhwb3J0IGZ1bmN0aW9uIHNldFVwU3RlcHBlckd1aShcbiAgcHJvZ3JhbTogQlNMX0FTVC5wcm9ncmFtLFxuICBlbDogSFRNTEVsZW1lbnRcbik6IHZvaWQge1xuICBhZGRTdHlsZXNoZWV0KCk7XG4gIGNvbnN0IHN0ZXBwZXIgPSBjYWxjdWxhdGVQcm9ncmFtKHByb2dyYW0pO1xuICBpZiAoc3RlcHBlciBpbnN0YW5jZW9mIEVycm9yKSB0aHJvdyBzdGVwcGVyO1xuICBjb25zdCBsYW5nID0gZ2V0TGFuZ3VhZ2UoZWwpO1xuICBjb25zdCBtZWFzdXJlcyA9IGdldFBpeGVsTWVhc3VyZW1lbnRzKGVsKTsgLy8gZm9yIHN0YXRpYyBtYXh3aWR0aCBpbmRlbnRhdGlvbiAmIGNsaXBwaW5nXG4gIGVsLmlubmVySFRNTCA9IHJlbmRlclN0ZXBwZXIoc3RlcHBlciwgbGFuZywgbWVhc3VyZXMpO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZXNoZWV0KCkge1xuICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnNsLXRvb2xzLXN0ZXBwZXItc3R5bGVcIikpIHtcbiAgICBjb25zdCBzdHlsZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgc3R5bGVOb2RlLmlubmVySFRNTCA9IHN0ZXBwZXJfY3NzO1xuICAgIHN0eWxlTm9kZS5pZCA9IFwiYnNsLXRvb2xzLXN0ZXBwZXItc3R5bGVcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQoc3R5bGVOb2RlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRMYW5ndWFnZShlbDogSFRNTEVsZW1lbnQpOiBpbXBsZW1lbnRlZExhbmd1YWdlIHtcbiAgY29uc3QgbGFuZyA9IGVsLmdldEF0dHJpYnV0ZShcImxhbmdcIik7XG4gIGlmICghbGFuZykge1xuICAgIHJldHVybiBcImVuXCI7XG4gIH0gZWxzZSBpZiAoIWltcGxlbWVudGVkTGFuZ3VhZ2VzLmluY2x1ZGVzKGxhbmcpKSB7XG4gICAgY29uc29sZS5lcnJvcihgXG4gICAgICAgIExhbmd1YWdlICR7bGFuZ30gaXMgbm90IGltcGxlbWVudGVkIGZvciB0aGlzIG1vZHVsZSxcbiAgICAgICAgeW91IGNhbiBjaG9vc2UgZnJvbSAke2ltcGxlbWVudGVkTGFuZ3VhZ2VzLmpvaW4oXCIsXCIpfS5cbiAgICAgICAgRGVmYXVsdGluZyB0byAnZW4nLlxuICAgICAgYCk7XG4gICAgcmV0dXJuIFwiZW5cIjtcbiAgfVxuICByZXR1cm4gbGFuZyBhcyBpbXBsZW1lbnRlZExhbmd1YWdlO1xufVxuXG4vLyBoZWxwZXIgZm9yIGdldHRpbmcgd2lkdGggb2YgZW0gaW4gcHhcbmludGVyZmFjZSBQaXhlbE1lYXN1cmVtZW50cyB7XG4gIGNoYXJXaWR0aDogbnVtYmVyLFxuICBtYXhDaGFyczogbnVtYmVyXG59XG5mdW5jdGlvbiBnZXRQaXhlbE1lYXN1cmVtZW50cyhlbDogSFRNTEVsZW1lbnQpOiBQaXhlbE1lYXN1cmVtZW50cyB7XG4gIGNvbnN0IG1lYXN1cmVUZXh0ID0gJ0xvYWRpbmcuLi4nO1xuICBlbC5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cImJzbC10b29scy1zdGVwcGVyXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJib3hcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0ZXAgY29kZVwiXG4gICAgICAgICAgICAgZGF0YS1jdXJyZW50U3RlcD1cInRydWVcIj5cbiAgICAgICAgICA8cCBzdHlsZT1cImRpc3BsYXk6IGlubGluZS1ibG9jaztcIj4ke21lYXN1cmVUZXh0fTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcbiAgY29uc3QgcCA9IGVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicFwiKVswXTtcbiAgY29uc3Qgc3RlcHBlciA9IGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJic2wtdG9vbHMtc3RlcHBlclwiKVswXTtcbiAgaWYgKCFwIHx8ICFzdGVwcGVyKSB7XG4gICAgY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBpbmplY3QgbWVhc3VyaW5nIEhUTUwgaW50b1wiLCBlbCk7XG4gICAgcmV0dXJuIHtjaGFyV2lkdGg6IDEyLCBtYXhDaGFyczogODB9OyAvLyBhcmJpdHJhcnkgdmFsdWVcbiAgfVxuICBjb25zdCBjaGFyUHhXaWR0aCA9IHAuY2xpZW50V2lkdGggLyBtZWFzdXJlVGV4dC5sZW5ndGg7XG4gIGNvbnN0IGZhY3RvciA9IDAuOTtcbiAgY29uc3QgbWF4V2lkdGhJbkNoYXJzID0gTWF0aC5yb3VuZCgoZmFjdG9yICogc3RlcHBlci5jbGllbnRXaWR0aCkgLyBjaGFyUHhXaWR0aCk7XG4gIHJldHVybiB7Y2hhcldpZHRoOiBjaGFyUHhXaWR0aCwgbWF4Q2hhcnM6IG1heFdpZHRoSW5DaGFyc307XG59XG5cbi8vICMjIyMjIyBpbnRlcm5hdGlvbmFsaXphdGlvbiBmb3IgdGhpcyBtb2R1bGUgIyMjIyNcbnR5cGUgaW1wbGVtZW50ZWRMYW5ndWFnZSA9IFwiZW5cIiB8IFwiZGVcIjtcbmNvbnN0IGltcGxlbWVudGVkTGFuZ3VhZ2VzID0gW1wiZW5cIiwgXCJkZVwiXTtcblxuY29uc3QgZGljdGlvbmFyeSA9IHtcbiAgZW46IHtcbiAgICBcImN1cnJlbnQgZXZhbHVhdGlvblwiOiBcIkN1cnJlbnQgRXZhbHVhdGlvblwiLFxuICAgIFwibmV4dCBzdGVwXCI6IFwiTmV4dCBTdGVwXCIsXG4gICAgXCJwcmV2aW91cyBzdGVwXCI6IFwiUHJldmlvdXMgU3RlcFwiLFxuICAgIFwiZW52aXJvbm1lbnRcIjogXCJFbnZpcm9ubWVudFwiLFxuICAgIFwicmVtYWluaW5nIHByb2dyYW1cIjogXCJSZW1haW5pbmcgUHJvZ3JhbVwiLFxuICAgIFwic3RhcnQgZXZhbHVhdGlvblwiOiBcIlN0YXJ0IEV2YWx1YXRpb25cIixcbiAgICBcImV2YWx1YXRpb24gZmluaXNoZWRcIjogXCJFdmFsdWF0aW9uIEZpbmlzaGVkXCIsXG4gICAgXCJnbyBiYWNrXCI6IFwiR28gQmFja1wiLFxuICB9LFxuICBkZToge1xuICAgIFwiY3VycmVudCBldmFsdWF0aW9uXCI6IFwiQWt0dWVsbGUgQXVzd2VydHVuZ1wiLFxuICAgIFwibmV4dCBzdGVwXCI6IFwiTlx1MDBFNGNoc3RlciBTY2hyaXR0XCIsXG4gICAgXCJwcmV2aW91cyBzdGVwXCI6IFwiVm9yaGVyaWdlciBTY2hyaXR0XCIsXG4gICAgXCJlbnZpcm9ubWVudFwiOiBcIlVtZ2VidW5nXCIsXG4gICAgXCJyZW1haW5pbmcgcHJvZ3JhbVwiOiBcIlZlcmJsZWliZW5kZXMgUHJvZ3JhbW1cIixcbiAgICBcInN0YXJ0IGV2YWx1YXRpb25cIjogXCJBdXN3ZXJ0dW5nIFN0YXJ0ZW5cIixcbiAgICBcImV2YWx1YXRpb24gZmluaXNoZWRcIjogXCJBdXN3ZXJ0dW5nIEJlZW5kZXRcIixcbiAgICBcImdvIGJhY2tcIjogXCJTY2hyaXR0IHp1clx1MDBGQ2NrXCIsXG4gIH0sXG59O1xuXG4vLyAjIyMjIyMjIFJFTkRFUiBGVU5DVElPTlMgIyMjIyMjI1xuXG4vLyBtYWluIGZ1bmN0aW9uXG5mdW5jdGlvbiByZW5kZXJTdGVwcGVyKFxuICBzdGVwcGVyOiBTSV9TVFJVQ1QuU3RlcHBlcixcbiAgbGFuZzogaW1wbGVtZW50ZWRMYW5ndWFnZSxcbiAgbWVhc3VyZXM6IFBpeGVsTWVhc3VyZW1lbnRzXG4pOiBzdHJpbmcge1xuICBjb25zdCBwcm9nU3RlcHMgPSBzdGVwcGVyLnByb2dTdGVwcztcblxuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJic2wtdG9vbHMtc3RlcHBlclwiPlxuXG4gICAgICAgPGRpdiBjbGFzcz1cImJveCBlbnZpcm9ubWVudFwiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cImJveGxhYmVsXCI+JHtkaWN0aW9uYXJ5W2xhbmddW1wiZW52aXJvbm1lbnRcIl19PC9kaXY+XG4gICAgICAgICAke3Byb2dTdGVwcy5tYXAoKHMsaSkgPT4gcmVuZGVyRGVmaW5pdGlvbihzLCBpLCBtZWFzdXJlcykpLmpvaW4oXCJcIil9XG4gICAgICAgPC9kaXY+XG5cbiAgICAgICA8ZGl2IGNsYXNzPVwiYm94IGV2YWwtc3RlcHNcIlxuICAgICAgICAgICAgZGF0YS1wcm9nc3RlcD1cIi0xXCJcbiAgICAgICAgICAgIGRhdGEtdmlzaWJsZT1cInRydWVcIj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJib3hsYWJlbFwiPiR7ZGljdGlvbmFyeVtsYW5nXVtcImN1cnJlbnQgZXZhbHVhdGlvblwiXX08L2Rpdj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwXCJcbiAgICAgICAgICAgICAgZGF0YS1jdXJyZW50U3RlcD1cInRydWVcIj5cbiAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5leHQtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbmNsaWNrPVwidGFrZVByb2dTdGVwcyhldmVudCwgMSlcIj5cbiAgICAgICAgICAgICAke1xuICAgICAgICAgICAgICAgZGljdGlvbmFyeVtsYW5nXVtcInN0YXJ0IGV2YWx1YXRpb25cIl1cbiAgICAgICAgICAgICB9IDxpbWcgY2xhc3M9XCJpY29uXCIgc3JjPVwiJHthbmdsZV9kb3dufVwiPlxuICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZGl2PlxuXG4gICAgICAgJHtwcm9nU3RlcHMubWFwKChlbCwgaSkgPT4gcmVuZGVyRXZhbFN0ZXBzKGVsLCBpLCBsYW5nLCBtZWFzdXJlcykpLmpvaW4oXCJcIil9XG5cbiAgICAgICA8ZGl2IGNsYXNzPVwiYm94IGV2YWwtc3RlcHNcIlxuICAgICAgICAgICAgZGF0YS1wcm9nc3RlcD1cIiR7cHJvZ1N0ZXBzLmxlbmd0aH1cIlxuICAgICAgICAgICAgZGF0YS12aXNpYmxlPVwiZmFsc2VcIj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJib3hsYWJlbFwiPiR7ZGljdGlvbmFyeVtsYW5nXVtcImN1cnJlbnQgZXZhbHVhdGlvblwiXX08L2Rpdj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwXCJcbiAgICAgICAgICAgICAgZGF0YS1jdXJyZW50U3RlcD1cInRydWVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2RlXCI+JHtkaWN0aW9uYXJ5W2xhbmddW1wiZXZhbHVhdGlvbiBmaW5pc2hlZFwiXX08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgIG9uY2xpY2s9XCJ0YWtlUHJvZ1N0ZXBzKGV2ZW50LCAtMSlcIj5cbiAgICAgICAgICAgICAgJHtcbiAgICAgICAgICAgICAgICBkaWN0aW9uYXJ5W2xhbmddW1wiZ28gYmFja1wiXVxuICAgICAgICAgICAgICB9IDxpbWcgY2xhc3M9XCJpY29uXCIgc3JjPVwiJHthbmdsZV91cH1cIj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgPC9kaXY+XG5cbiAgICAgICA8ZGl2IGNsYXNzPVwiYm94IHByb2dyYW1cIj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJib3hsYWJlbFwiPiR7ZGljdGlvbmFyeVtsYW5nXVtcInJlbWFpbmluZyBwcm9ncmFtXCJdfTwvZGl2PlxuICAgICAgICAgJHtwcm9nU3RlcHMubWFwKChzLGkpID0+IHJlbmRlck9yaWdpbmFsRXhwcmVzc2lvbihzLGksbWVhc3VyZXMpKS5qb2luKFwiXCIpfVxuICAgICAgIDwvZGl2PlxuXG4gICAgPC9kaXY+YDtcbn1cbih3aW5kb3cgYXMgYW55KS50YWtlUHJvZ1N0ZXBzID0gKGU6IEV2ZW50LCBhOiBudW1iZXIpID0+IHtcbiAgdGFrZVByb2dTdGVwcyhlLCBhKTtcbn07XG4vLyByZW5kZXIgd2hhdCByZW1haW5zIG9mIGFuIGV4cHJlc3Npb24gYWZ0ZXIgZXZhbHVhdGlvblxuZnVuY3Rpb24gcmVuZGVyRGVmaW5pdGlvbihwcm9nU3RlcDogU0lfU1RSVUNULlByb2dTdGVwLCBpZHg6IG51bWJlciwgbWVhc3VyZXM6IFBpeGVsTWVhc3VyZW1lbnRzKTogc3RyaW5nIHtcbiAgLy8gZmlsdGVyaW5nIGF0IHRoaXMgcG9zaXRpb24gaW4gb3JkZXIgdG8ga2VlcCBjb3JyZWN0IGltcGxpY2l0IHByb2dTdGVwIGluZGV4XG4gIGlmICghU0lfU1RSVUNULmlzRGVmaW5pdGlvblN0ZXAocHJvZ1N0ZXApKSByZXR1cm4gXCJcIjtcbiAgcmV0dXJuIGBcbiAgICAgIDxkaXYgY2xhc3M9XCJzdGVwIGNvZGVcIlxuICAgICAgICAgICBkYXRhLXByb2dzdGVwPVwiJHtpZHh9XCJcbiAgICAgICAgICAgZGF0YS12aXNpYmxlPVwiZmFsc2VcIj5cbiAgICAgICAgJHtCU0xfUHJpbnQuaW5kZW50KFxuICAgICAgICAgIEJTTF9QcmludC5zYW5pdGl6ZShCU0xfUHJpbnQucHJpbnREZWZpbml0aW9uKHByb2dTdGVwLnJlc3VsdCkpLFxuICAgICAgICAgIG1lYXN1cmVzLm1heENoYXJzLFxuICAgICAgICAgIFwiaHRtbFwiXG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICBgO1xufVxuXG4vLyByZW5kZXIgdGhlIHBhcnQgb2YgdGhlIG9yaWdpbmFsIFByb2dyYW0gdGhhdCBpcyBiZWluZyByZXByZXNlbnRlZCBieSBhIHByb2dzdGVwXG5mdW5jdGlvbiByZW5kZXJPcmlnaW5hbEV4cHJlc3Npb24oXG4gIHByb2dTdGVwOiBTSV9TVFJVQ1QuUHJvZ1N0ZXAsXG4gIGlkeDogbnVtYmVyLFxuICBtZWFzdXJlczogUGl4ZWxNZWFzdXJlbWVudHNcbik6IHN0cmluZyB7XG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cInN0ZXAgY29kZVwiXG4gICAgICAgICBkYXRhLXByb2dzdGVwPVwiJHtpZHh9XCJcbiAgICAgICAgIGRhdGEtdmlzaWJsZT1cInRydWVcIj5cbiAgICAgICR7QlNMX1ByaW50LmluZGVudChcbiAgICAgICAgQlNMX1ByaW50LnNhbml0aXplKFxuICAgICAgICAgIEJTTF9QcmludC5wcmludERlZk9yRXhwcihwcm9nU3RlcC5vcmlnaW5hbERlZk9yRXhwcilcbiAgICAgICAgKSxcbiAgICAgICAgbWVhc3VyZXMubWF4Q2hhcnMsXG4gICAgICAgIFwiaHRtbFwiXG4gICAgICApfVxuICAgIDwvZGl2PlxuICBgO1xufVxuLy8gb25lIHN0ZXBwZXIgZm9yIG9uZSBleHByZXNzaW9uXG5mdW5jdGlvbiByZW5kZXJFdmFsU3RlcHMoXG4gIHByb2dTdGVwOiBTSV9TVFJVQ1QuUHJvZ1N0ZXAsXG4gIGlkeDogbnVtYmVyLFxuICBsYW5nOiBpbXBsZW1lbnRlZExhbmd1YWdlLFxuICBtZWFzdXJlczogUGl4ZWxNZWFzdXJlbWVudHNcbik6IHN0cmluZyB7XG4gIGNvbnN0IGN0eCA9XG4gICAgU0lfU1RSVUNULmlzRGVmaW5pdGlvblN0ZXAocHJvZ1N0ZXApICYmIEJTTF9BU1QuaXNDb25zdERlZihwcm9nU3RlcC5vcmlnaW5hbERlZk9yRXhwcilcbiAgICA/IHsgbGVmdDogYChkZWZpbmUgJHtwcm9nU3RlcC5vcmlnaW5hbERlZk9yRXhwci5uYW1lLnN5bWJvbH0gYCwgcmlnaHQ6IFwiKVwiIH1cbiAgICA6IHsgbGVmdDogXCJcIiwgcmlnaHQ6IFwiXCIgfTtcbiAgcmV0dXJuIGBcbiAgICA8ZGl2IGNsYXNzPVwiYm94IGV2YWwtc3RlcHNcIlxuICAgICAgICAgZGF0YS1wcm9nc3RlcD1cIiR7aWR4fVwiXG4gICAgICAgICBkYXRhLXZpc2libGU9XCJmYWxzZVwiPlxuICAgICAgPGRpdiBjbGFzcz1cImJveGxhYmVsXCI+JHtkaWN0aW9uYXJ5W2xhbmddW1wiY3VycmVudCBldmFsdWF0aW9uXCJdfTwvZGl2PlxuICAgICAgJHtcbiAgICAgICAgcHJvZ1N0ZXAuZXZhbFN0ZXBzXG4gICAgICAgICAgLm1hcCgoZWwsIGkpID0+IHJlbmRlclN0ZXAoaSwgZWwsIGxhbmcsIHsgLi4uY3R4IH0sIG1lYXN1cmVzKSlcbiAgICAgICAgICAuam9pbihcIlwiKVxuICAgICAgfVxuICAgICAgJHtyZW5kZXJMYXN0U3RlcChwcm9nU3RlcCwgbGFuZywgbWVhc3VyZXMpfVxuXG4gICAgPC9kaXY+XG4gIGA7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckxhc3RTdGVwKFxuICBwcm9nU3RlcDogU0lfU1RSVUNULlByb2dTdGVwLFxuICBsYW5nOiBpbXBsZW1lbnRlZExhbmd1YWdlLFxuICBtZWFzdXJlczogUGl4ZWxNZWFzdXJlbWVudHNcbik6IHN0cmluZyB7XG4gIHJldHVybiBgXG4gIDxkaXYgY2xhc3M9XCJzdGVwXCJcbiAgICAgICBkYXRhLXN0ZXA9XCIke3Byb2dTdGVwLmV2YWxTdGVwcy5sZW5ndGh9XCJcbiAgICAgICBkYXRhLWN1cnJlbnRTdGVwPVwiJHtcbiAgICAgICAgIHByb2dTdGVwLmV2YWxTdGVwcy5sZW5ndGggPT09IDAgPyBcInRydWVcIiA6IFwiZmFsc2VcIlxuICAgICAgIH1cIlxuICAgICAgIGRhdGEtY29sbGFwc2VkPVwiZmFsc2VcIj5cbiAgICA8ZGl2IGNsYXNzPVwicHJldi1idXR0b25cIlxuICAgICAgICAgb25jbGljaz1cInByZXZTdGVwKGV2ZW50KVwiPlxuICAgICAgJHtcbiAgICAgICAgZGljdGlvbmFyeVtsYW5nXVtcInByZXZpb3VzIHN0ZXBcIl1cbiAgICAgIH0gPGltZyBjbGFzcz1cImljb25cIiBzcmM9XCIke2FuZ2xlX3VwfVwiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJuZXh0LWJ1dHRvblwiXG4gICAgICAgICBvbmNsaWNrPVwibmV4dFN0ZXAoZXZlbnQpXCI+XG4gICAgICAke1xuICAgICAgICBkaWN0aW9uYXJ5W2xhbmddW1wibmV4dCBzdGVwXCJdXG4gICAgICB9IDxpbWcgY2xhc3M9XCJpY29uXCIgc3JjPVwiJHthbmdsZV9kb3dufVwiPlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cInBsdWctcmVzdWx0IGNvZGVcIlxuICAgICAgICAgZGF0YS1pbmZvLWNvbGxhcHNlZD1cInRydWVcIj5cbiAgICAgICR7XG4gICAgICAgIEJTTF9QcmludC5pbmRlbnQoQlNMX1ByaW50LnNhbml0aXplKFxuICAgICAgICAgIFNJX1NUUlVDVC5pc0RlZmluaXRpb25TdGVwKHByb2dTdGVwKVxuICAgICAgICAgID8gQlNMX1ByaW50LnByaW50RGVmaW5pdGlvbihwcm9nU3RlcC5yZXN1bHQpXG4gICAgICAgICAgOiBgJHtcbiAgICAgICAgICAgICAgcHJvZ1N0ZXAucmVzdWx0IGluc3RhbmNlb2YgRXJyb3JcbiAgICAgICAgICAgICAgICA/IHByb2dTdGVwLnJlc3VsdFxuICAgICAgICAgICAgICAgIDogQlNMX1ByaW50LnByaW50VmFsdWUocHJvZ1N0ZXAucmVzdWx0KVxuICAgICAgICAgICAgfWApLCBtZWFzdXJlcy5tYXhDaGFycylcbiAgICAgIH1cbiAgICAgIDxpbWcgY2xhc3M9XCJpY29uIGluZm8tdG9nZ2xlIGluZm8tZXhwYW5kXCJcbiAgICAgICAgICAgICAgc3JjPVwiJHtjaXJjbGVfaW5mb31cIlxuICAgICAgICAgICAgICBvbmNsaWNrPVwiZXhwYW5kSW5mbyhldmVudClcIj5cbiAgICAgIDxpbWcgY2xhc3M9XCJpY29uIGluZm8tdG9nZ2xlIGluZm8tY29sbGFwc2VcIlxuICAgICAgICAgICAgICBzcmM9XCIke2NpcmNsZV94bWFya31cIlxuICAgICAgICAgICAgICBvbmNsaWNrPVwiY29sbGFwc2VJbmZvKGV2ZW50KVwiPlxuICAgICAgJHtyZW5kZXJSdWxlSW5mb3JtYXRpb24oJ1Byb2cnLCBmYWxzZSl9XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICBgO1xufVxuXG4vKlxuICB1cGRhdGUgdmlzaWJpbGl0eSBvZiBleHByZXNzaW9ucyBpbiBlbnZpcm9ubWVudC9yZW1haW5pbmcgcHJvZ3JhbSBhbmQgc3RlcHBlcnNcbiAgYW1vdW50OiBudW1iZXIgb2YgUHJvZ1N0ZXBzIHRvIG1vdmUgZm9yd2FyZC9iYWNrd2FyZHNcbiovXG5mdW5jdGlvbiB0YWtlUHJvZ1N0ZXBzKGU6IEV2ZW50LCBhbW91bnQ6IG51bWJlcik6IHZvaWQge1xuICBjb25zdCBidXR0b24gPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgLy8gZWwgd2lsbCBiZSBhIGJ1dHRvblxuICBjb25zdCBvbGRCdXR0b25Qb3NpdGlvbiA9IGJ1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55O1xuICBjb25zdCBjdXJyZW50U3RlcCA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKGJ1dHRvbiwgXCJldmFsLXN0ZXBzXCIpO1xuICBpZiAoIWN1cnJlbnRTdGVwKSB7XG4gICAgY29uc29sZS5lcnJvcihcImZvdW5kIG5vIHBhcmVudCB3aXRoIGNsYXNzIC5ldmFsLXN0ZXBzXCIsIGJ1dHRvbik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGlkeFN0cmluZyA9IGN1cnJlbnRTdGVwLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvZ3N0ZXBcIik7XG4gIGlmICghaWR4U3RyaW5nKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiZGl2IHdpdGggY2xhc3MgLmV2YWwtc3RlcHMgaGFzIG5vIGRhdGEtcHJvZ3N0ZXAgYXR0cmlidXRlXCIsXG4gICAgICBjdXJyZW50U3RlcFxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGlkeCA9IHBhcnNlSW50KGlkeFN0cmluZyk7XG4gIGNvbnN0IHRhcmdldElkeCA9IGlkeCArIGFtb3VudDtcbiAgaWYgKHRhcmdldElkeCA8IC0xKSB7XG4gICAgY29uc29sZS5lcnJvcihgY2Fubm90IG5hdmlnYXRlIHRvIHByb2dTdGVwICR7dGFyZ2V0SWR4fTogZG9lcyBub3QgZXhpc3RgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgcm9vdCA9IGN1cnJlbnRTdGVwLnBhcmVudEVsZW1lbnQ7XG4gIGlmKCFyb290KSByZXR1cm47XG4gIHNob3dFbnZpcm9ubWVudChyb290LCB0YXJnZXRJZHgpO1xuICBzaG93UmVtYWluaW5nUHJvZ3JhbShyb290LCB0YXJnZXRJZHgpO1xuICBjb25zdCBuZXdDdXJyZW50U3RlcCA9IHNob3dQcm9nU3RlcChyb290LCB0YXJnZXRJZHgpO1xuICBtb3ZlUHJvZ1N0ZXBCdXR0b24obmV3Q3VycmVudFN0ZXAsIG9sZEJ1dHRvblBvc2l0aW9uLCBhbW91bnQgPiAwKTtcbn1cblxuZnVuY3Rpb24gc2hvd0Vudmlyb25tZW50KHJvb3Q6IEhUTUxFbGVtZW50LCBzdGVwOiBudW1iZXIpIHtcbiAgbmF2aWdhdGVET00oW3Jvb3RdLCBcIi5lbnZpcm9ubWVudC9kaXZcIikuZm9yRWFjaCgoZGVmKSA9PiB7XG4gICAgY29uc3QgaWR4U3RyaW5nID0gZGVmLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvZ3N0ZXBcIik7XG4gICAgaWYgKGlkeFN0cmluZykge1xuICAgICAgZGVmLnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgcGFyc2VJbnQoaWR4U3RyaW5nKSA8IHN0ZXAgPyAndHJ1ZSc6ICdmYWxzZScpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNob3dSZW1haW5pbmdQcm9ncmFtKHJvb3Q6IEhUTUxFbGVtZW50LCBzdGVwOiBudW1iZXIpIHtcbiAgbmF2aWdhdGVET00oW3Jvb3RdLCBcIi5wcm9ncmFtL2RpdlwiKS5mb3JFYWNoKChwcm9nKSA9PiB7XG4gICAgY29uc3QgaWR4U3RyaW5nID0gcHJvZy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2dzdGVwXCIpO1xuICAgIGlmIChpZHhTdHJpbmcpIHtcbiAgICAgIHByb2cuc2V0QXR0cmlidXRlKCdkYXRhLXZpc2libGUnLCBwYXJzZUludChpZHhTdHJpbmcpID4gc3RlcCA/ICd0cnVlJzogJ2ZhbHNlJyk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gc2hvd1Byb2dTdGVwKHJvb3Q6IEhUTUxFbGVtZW50LCBpbmRleDogbnVtYmVyKTogSFRNTEVsZW1lbnQge1xuICByZXR1cm4gbmF2aWdhdGVET00oW3Jvb3RdLCBcIi5ldmFsLXN0ZXBzXCIpLmZpbHRlcigocHJvZ1N0ZXApID0+IHtcbiAgICBjb25zdCBpZHhTdHJpbmcgPSBwcm9nU3RlcC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2dzdGVwXCIpO1xuICAgIGNvbnN0IGN1cnJlbnQgPSBpZHhTdHJpbmcgJiYgcGFyc2VJbnQoaWR4U3RyaW5nKSA9PT0gaW5kZXg7XG4gICAgcHJvZ1N0ZXAuc2V0QXR0cmlidXRlKCdkYXRhLXZpc2libGUnLCBjdXJyZW50ID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG4gIH0pWzBdO1xufVxuXG5mdW5jdGlvbiBtb3ZlUHJvZ1N0ZXBCdXR0b24ocHJvZ1N0ZXA6IEhUTUxFbGVtZW50LCBvbGRCdXR0b25Qb3NpdGlvbjogbnVtYmVyLCBmb3J3YXJkOiBib29sZWFuKSB7XG4gIC8vIG1vdmUgcHJldi9uZXh0LWJ1dHRvbiB0byBzdGF5IHVuZGVyIG1vdXNlXG4gIGNvbnN0IGN1cnJlbnRTdGVwID0gQXJyYXkuZnJvbShwcm9nU3RlcC5jaGlsZHJlbilcbiAgICAuZmlsdGVyKChjKSA9PiBjLmdldEF0dHJpYnV0ZShcImRhdGEtY3VycmVudHN0ZXBcIikgPT09IFwidHJ1ZVwiKVswXTtcbiAgaWYoIWN1cnJlbnRTdGVwKSByZXR1cm47XG4gIGNvbnN0IG5ld0J1dHRvbiA9IGN1cnJlbnRTdGVwLnF1ZXJ5U2VsZWN0b3IoXG4gICAgZm9yd2FyZCA/IFwiLm5leHQtYnV0dG9uXCIgOiBcIi5wcmV2LWJ1dHRvblwiXG4gICk7XG4gIGlmICghbmV3QnV0dG9uKSByZXR1cm47XG4gIGNvbnN0IG5ld0J1dHRvblBvc2l0aW9uID0gbmV3QnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnk7XG4gIHdpbmRvdy5zY3JvbGxCeSgwLCBuZXdCdXR0b25Qb3NpdGlvbiAtIG9sZEJ1dHRvblBvc2l0aW9uKTtcbn1cblxuLy8gb25lIGluZGl2aWR1YWwgc3RlcFxuZnVuY3Rpb24gcmVuZGVyU3RlcChcbiAgY3VycmVudFN0ZXA6IG51bWJlcixcbiAgc3RlcDogU0lfU1RSVUNULkV2YWxTdGVwLFxuICBsYW5nOiBpbXBsZW1lbnRlZExhbmd1YWdlLFxuICBjdHg6IENvbnRleHQgPSB7IGxlZnQ6IFwiXCIsIHJpZ2h0OiBcIlwiIH0sXG4gIG1lYXN1cmVzOiBQaXhlbE1lYXN1cmVtZW50c1xuKTogc3RyaW5nIHtcbiAgLy8gY29uc29sZS5sb2coYFJlbmRlcmluZyBzdGVwICR7Y3VycmVudFN0ZXB9YCk7XG4gIC8vIGFjcXVpcmUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uOlxuICAvLyBjb250ZXh0IGFuZCByZWRleFxuICBjb25zdCBjb250ZXh0OiBDb250ZXh0ID0gU0lfU1RSVUNULmlzS29uZyhzdGVwLnJ1bGUpXG4gICAgPyBwcmludENvbnRleHQoc3RlcC5ydWxlLmNvbnRleHQsIGN0eClcbiAgICA6IGN0eDtcbiAgY29uc3QgcmVkZXhSdWxlID0gU0lfU1RSVUNULmlzS29uZyhzdGVwLnJ1bGUpXG4gICAgPyBzdGVwLnJ1bGUucmVkZXhSdWxlXG4gICAgOiBzdGVwLnJ1bGU7XG4gIC8vIHJlc3VsdCBhbmQgcnVsZSBuYW1lXG4gIGNvbnN0IHJlZGV4OiBzdHJpbmcgPSBCU0xfUHJpbnQuc2FuaXRpemUocHJpbnRSZWRleChyZWRleFJ1bGUucmVkZXgpKTtcbiAgZnVuY3Rpb24gcmVuZGVyUmVzdWx0KHJlczogQlNMX0FTVC5leHByIHwgU0lfU1RSVUNULlZhbHVlIHwgRXJyb3IpOiB7aHRtbDogc3RyaW5nLCByZWRleDogc3RyaW5nfSB7XG4gICAgaWYgKFNJX1NUUlVDVC5pc1ZhbHVlKHJlcykpIHtcbiAgICAgIGNvbnN0IHJlZGV4UmVzdWx0ID0gQlNMX1ByaW50LnByaW50VmFsdWUocmVzKTtcbiAgICAgIGNvbnN0IHJlc3VsdEh0bWwgPSBgJHtcbiAgICAgICAgY29udGV4dC5sZWZ0XG4gICAgICB9PHNwYW4gY2xhc3M9XCJob2xlIGhvbGUtcmVzdWx0XCI+JHtCU0xfUHJpbnQuc2FuaXRpemUoXG4gICAgICAgIHJlZGV4UmVzdWx0XG4gICAgICApfTwvc3Bhbj4ke1xuICAgICAgICBjb250ZXh0LnJpZ2h0XG4gICAgICB9YDtcbiAgICAgIHJldHVybiB7aHRtbDogcmVzdWx0SHRtbCwgcmVkZXg6IHJlZGV4UmVzdWx0fTtcbiAgICB9IGVsc2UgaWYgKHJlcyBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBjb25zdCByZWRleFJlc3VsdCA9IGAke3Jlc31gO1xuICAgICAgY29uc3QgcmVzdWx0SHRtbCA9IGA8c3BhbiBjbGFzcz1cImhvbGUgaG9sZS1yZXN1bHQgaG9sZS1lcnJvclwiPlwiJHtyZXN9XCI8L3NwYW4+YDsgLy8gdG8gcHJldmVudCBpbmRlbnRhdGlvbiBpc3N1ZXNcbiAgICAgIHJldHVybiB7cmVkZXg6IHJlZGV4UmVzdWx0LCBodG1sOiByZXN1bHRIdG1sfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVkZXhSZXN1bHQgPSBCU0xfUHJpbnQucHJpbnRFKHJlcyk7XG4gICAgICBjb25zdCByZXN1bHRIdG1sID0gYCR7XG4gICAgICAgIGNvbnRleHQubGVmdFxuICAgICAgfTxzcGFuIGNsYXNzPVwiaG9sZSBob2xlLXJlc3VsdFwiPiR7QlNMX1ByaW50LnNhbml0aXplKFxuICAgICAgICByZWRleFJlc3VsdFxuICAgICAgKX08L3NwYW4+JHtjb250ZXh0LnJpZ2h0fWA7XG4gICAgICByZXR1cm4ge3JlZGV4OiByZWRleFJlc3VsdCwgaHRtbDogcmVzdWx0SHRtbH07XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlc3VsdCA9IHJlbmRlclJlc3VsdChyZWRleFJ1bGUucmVzdWx0KTtcbiAgY29uc3QgcnVsZU5hbWUgPSByZWRleFJ1bGUudHlwZTtcbiAgLy8gcHJlcGFyZSBpbmRlbnRlZCBjb2RlIGV4cHJlc3Npb25zXG4gIGNvbnN0IGNvZGVfYmVmb3JlID0gQlNMX1ByaW50LmluZGVudChcbiAgICBgJHtjb250ZXh0LmxlZnR9PHNwYW4gY2xhc3M9XCJob2xlXCI+JHtyZWRleH08L3NwYW4+JHtjb250ZXh0LnJpZ2h0fWAsXG4gICAgbWVhc3VyZXMubWF4Q2hhcnMsXG4gICAgXCJodG1sXCJcbiAgKTtcbiAgY29uc3QgY29kZV9hZnRlciA9IEJTTF9QcmludC5pbmRlbnQocmVzdWx0Lmh0bWwsIG1lYXN1cmVzLm1heENoYXJzLCBcImh0bWxcIik7XG5cbiAgLy8gZmluZCBvdXQgd2hlcmUgdG8gcG9zaXRpb24gdGhlIHJ1bGUgYXJyb3cgc28gdGhhdCBpdCBwb2ludHMgYXQgdGhlIGhvbGVcbiAgY29uc3QgY29kZV9iZWZvcmVfaG9sZSA9IGNvZGVfYWZ0ZXJcbiAgICAuc2xpY2UoMCwgY29kZV9hZnRlci5pbmRleE9mKCc8c3BhbiBjbGFzcz1cImhvbGUgaG9sZS1yZXN1bHQnKSlcbiAgICAuc3BsaXQoXCI8YnI+XCIpXG4gICAgLnJldmVyc2UoKVswXTtcbiAgY29uc3QgaG9sZV9wb3NpdGlvbiA9IGNvZGVfYmVmb3JlX2hvbGVcbiAgICA/IEJTTF9QcmludC5kaXJ0aWZ5KGNvZGVfYmVmb3JlX2hvbGUpLmxlbmd0aFxuICAgIDogMDtcbiAgY29uc3QgS09OR19XSURUSCA9IDQ7XG4gIGNvbnN0IGxlZnRfb2Zmc2V0X2Fycm93ID1cbiAgICBjb250ZXh0LmxlZnQubGVuZ3RoID4gMCAmJiBob2xlX3Bvc2l0aW9uIDwgS09OR19XSURUSFxuICAgICAgPyBLT05HX1dJRFRIXG4gICAgICA6IGhvbGVfcG9zaXRpb247XG4gIC8vIGZpbmQgb3V0IGlmIHdlIGhhdmUgcGxhY2UgdG8gcmVwZWF0IHRoZSBob2xlc1xuICBjb25zdCBydWxlTmFtZU9ubHlUZXh0ID0gcnVsZXNbcnVsZU5hbWVdW1wibmFtZVwiXS5yZXBsYWNlQWxsKCc8Y2FwPicsICcnKS5yZXBsYWNlQWxsKCc8L2NhcD4nLCcnKTtcbiAgY29uc3Qgc3BhY2VfbGVmdCA9IC8vIDMgZm9yIHRoZSBhcnJvdywgMiBmb3IgdGhlIGljb24gLS0tdlxuICAgIG1lYXN1cmVzLm1heENoYXJzIC0gbGVmdF9vZmZzZXRfYXJyb3cgLSBydWxlTmFtZU9ubHlUZXh0Lmxlbmd0aCAtIDU7XG4gIGNvbnN0IHJlbmRlckhvbGVzSW5SdWxlID0gcmVkZXgubGVuZ3RoICsgcmVzdWx0LnJlZGV4Lmxlbmd0aCA8PSBzcGFjZV9sZWZ0O1xuXG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cInN0ZXBcIlxuICAgICAgICAgZGF0YS1zdGVwPVwiJHtjdXJyZW50U3RlcH1cIlxuICAgICAgICAgZGF0YS1jdXJyZW50U3RlcD1cIiR7Y3VycmVudFN0ZXAgPT09IDAgPyBcInRydWVcIiA6IFwiZmFsc2VcIn1cIlxuICAgICAgICAgZGF0YS1jb2xsYXBzZWQ9XCJmYWxzZVwiPlxuICAgICAgPGRpdiBjbGFzcz1cInByZXYtYnV0dG9uXCJcbiAgICAgICAgICAgb25jbGljaz1cInByZXZTdGVwKGV2ZW50KVwiPlxuICAgICAgICAke2RpY3Rpb25hcnlbbGFuZ11bXCJwcmV2aW91cyBzdGVwXCJdfSA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cIiR7YW5nbGVfdXB9XCI+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJuZXh0LWJ1dHRvblwiXG4gICAgICAgICAgIG9uY2xpY2s9XCJuZXh0U3RlcChldmVudClcIj5cbiAgICAgICAgJHtkaWN0aW9uYXJ5W2xhbmddW1wibmV4dCBzdGVwXCJdfSA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cIiR7YW5nbGVfZG93bn1cIj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwic3BsaXQtcmVzdWx0IGNvZGVcIj4ke2NvZGVfYmVmb3JlfTxpbWcgY2xhc3M9XCJpY29uIGV4cGFuZGVyXCJcbiAgICAgICAgICAgICAgc3JjPVwiJHtwbHVzX2ljb259XCJcbiAgICAgICAgICAgICAgb25jbGljaz1cImV4cGFuZChldmVudClcIlxuICAgICAgICA+PGltZyBjbGFzcz1cImljb24gY29sbGFwc2VyXCJcbiAgICAgICAgICAgICAgc3JjPVwiJHttaW51c19pY29ufVwiXG4gICAgICAgICAgICAgIG9uY2xpY2s9XCJjb2xsYXBzZShldmVudClcIlxuICAgICAgPjwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwicGx1Zy1yZXN1bHQgY29kZVwiXG4gICAgICAgICAgIGRhdGEtaW5mby1jb2xsYXBzZWQ9XCJ0cnVlXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgJHtcbiAgICAgICAgICAgIC8vIGlmIGNvbnRleHQgaXMgbm90IGVtcHR5LCB3ZSBhcmUgYXBwbHlpbmcgS09OR1xuICAgICAgICAgICAgY29udGV4dC5sZWZ0ICE9PSBcIlwiXG4gICAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwicnVsZSBydWxlLW5hbWUgbGVmdC1hcnJvd2VkIGtvbmdcIj5cbiAgICAgICAgICAgICAgICAgJHtydWxlc1tcIktvbmdcIl1bXCJuYW1lXCJdfVxuICAgICAgICAgICAgICA8L3NwYW4+YFxuICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICB9XG5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInJ1bGUgbGVmdC1hcnJvd2VkIG9uZS1ydWxlXCJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIi0tb25lLXJ1bGUtbWFyZ2luLWxlZnQ6ICR7bGVmdF9vZmZzZXRfYXJyb3cgKiBtZWFzdXJlcy5jaGFyV2lkdGh9cHhcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJ1bGUtbmFtZVwiPiR7cnVsZXNbcnVsZU5hbWVdW1wibmFtZVwiXX08L3NwYW4+JHtcbiAgICAgICAgICAgICAgICByZW5kZXJIb2xlc0luUnVsZVxuICAgICAgICAgICAgICAgICAgPyBgOlxuICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicnVsZS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJob2xlIHJ1bGUtaG9sZVwiPiR7cmVkZXh9PC9zcGFuPiBcdTIxOTJcbiAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaG9sZSBob2xlLXJlc3VsdCBydWxlLWhvbGVcIj4ke1xuICAgICAgICAgICAgICAgICAgICAgICBCU0xfUHJpbnQuc2FuaXRpemUocmVzdWx0LnJlZGV4KVxuICAgICAgICAgICAgICAgICAgICAgfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICA8L3NwYW4+YFxuICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgIDxpbWcgc3JjPVwiJHtjaXJjbGVfaW5mb31cIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwiaWNvbiBpbmZvLXRvZ2dsZSBpbmZvLWV4cGFuZFwiXG4gICAgICAgICAgICAgICAgb25jbGljaz1cImV4cGFuZEluZm8oZXZlbnQpXCI+XG4gICAgICAgICAgIDxpbWcgc3JjPVwiJHtjaXJjbGVfeG1hcmt9XCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImljb24gaW5mby10b2dnbGUgaW5mby1jb2xsYXBzZVwiXG4gICAgICAgICAgICAgICAgb25jbGljaz1cImNvbGxhcHNlSW5mbyhldmVudClcIj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgJHtyZW5kZXJSdWxlSW5mb3JtYXRpb24ocnVsZU5hbWUsIGNvbnRleHQubGVmdCAhPT0gXCJcIil9XG4gICAgICAgIDxkaXY+JHtjb2RlX2FmdGVyfTwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICA8L2Rpdj5cbiAgYDtcbn1cbi8vIGV2ZW50IGhhbmRsZXJzXG4od2luZG93IGFzIGFueSkubmV4dFN0ZXAgPSAoZTogRXZlbnQpID0+IHtcbiAgY29uc3QgYnV0dG9uID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IG9sZEJ1dHRvblBvc2l0aW9uID0gYnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnk7XG4gIGNvbnN0IGN1cnJlbnRTdGVwID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoYnV0dG9uLCBcInN0ZXBcIik7XG4gIGlmKCFjdXJyZW50U3RlcCkgcmV0dXJuO1xuICBjb25zdCBuZXdDdXJyZW50U3RlcCA9IGN1cnJlbnRTdGVwLm5leHRFbGVtZW50U2libGluZztcbiAgaWYoIW5ld0N1cnJlbnRTdGVwKSB7XG4gICAgLy8gY29udGludWUgd2l0aCBuZXh0IGV4cHJlc3Npb25cbiAgICB0YWtlUHJvZ1N0ZXBzKGUsIDEpO1xuICAgIHJldHVybjtcbiAgfVxuICBjdXJyZW50U3RlcC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWN1cnJlbnRTdGVwXCIsIFwiZmFsc2VcIik7XG4gIGN1cnJlbnRTdGVwLnNldEF0dHJpYnV0ZShcImRhdGEtY29sbGFwc2VkXCIsIFwidHJ1ZVwiKTtcbiAgbmV3Q3VycmVudFN0ZXAuc2V0QXR0cmlidXRlKFwiZGF0YS1jdXJyZW50U3RlcFwiLCBcInRydWVcIik7XG4gIG5ld0N1cnJlbnRTdGVwLnNldEF0dHJpYnV0ZShcImRhdGEtY29sbGFwc2VkXCIsIFwiZmFsc2VcIik7XG4gIC8vIG1vdmUgXCJuZXh0XCIgYnV0dG9uIHVuZGVyIG1vdXNlXG4gIGNvbnN0IG5ld0J1dHRvbiA9IG5ld0N1cnJlbnRTdGVwLnF1ZXJ5U2VsZWN0b3IoXCIubmV4dC1idXR0b25cIik7XG4gIGlmICghbmV3QnV0dG9uKSByZXR1cm47XG4gIGNvbnN0IG5ld0J1dHRvblBvc2l0aW9uID0gbmV3QnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnk7XG4gIHdpbmRvdy5zY3JvbGxCeSgwLCBuZXdCdXR0b25Qb3NpdGlvbiAtIG9sZEJ1dHRvblBvc2l0aW9uKTtcbn07XG4od2luZG93IGFzIGFueSkucHJldlN0ZXAgPSAoZTogRXZlbnQpID0+IHtcbiAgY29uc3QgYnV0dG9uID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IG9sZEJ1dHRvblBvc2l0aW9uID0gYnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnk7XG4gIGNvbnN0IGN1cnJlbnRTdGVwID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoYnV0dG9uLCBcInN0ZXBcIik7XG4gIGlmICghY3VycmVudFN0ZXApIHtcbiAgICBjb25zb2xlLmVycm9yKFwicHJldlN0ZXAgbm90IGNhbGxlZCBmcm9tIHdpdGhpbiBhbiBlbGVtZW50IG9mIHRoZSAuc3RlcCBjbGFzc1wiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcG9zaXRpb24gPSBjdXJyZW50U3RlcC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN0ZXBcIik7XG4gIGlmIChwb3NpdGlvbiA9PT0gXCIwXCIpIHtcbiAgICB0YWtlUHJvZ1N0ZXBzKGUsIC0xKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgbmV3Q3VycmVudFN0ZXAgPSBjdXJyZW50U3RlcC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICBpZighbmV3Q3VycmVudFN0ZXApIHtcbiAgICBjb25zb2xlLmVycm9yKFwicHJldlN0ZXAgY2FsbGVkIG9uIGEgc3RlcCB3aXRoIG5vIHByZXZpb3VzIGh0bWwgZWxlbWVudFwiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY3VycmVudFN0ZXAuc2V0QXR0cmlidXRlKFwiZGF0YS1jdXJyZW50U3RlcFwiLCBcImZhbHNlXCIpO1xuICBjdXJyZW50U3RlcC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbGxhcHNlZFwiLCBcInRydWVcIik7XG4gIG5ld0N1cnJlbnRTdGVwLnNldEF0dHJpYnV0ZShcImRhdGEtY3VycmVudFN0ZXBcIixcInRydWVcIik7XG4gIG5ld0N1cnJlbnRTdGVwLnNldEF0dHJpYnV0ZShcImRhdGEtY29sbGFwc2VkXCIsXCJmYWxzZVwiKTtcbiAgLy8gbW92ZSBcInByZXZcIiBidXR0b24gdG8gYmUgdW5kZXIgbW91c2VcbiAgY29uc3QgbmV3QnV0dG9uID0gbmV3Q3VycmVudFN0ZXAucXVlcnlTZWxlY3RvcihcIi5wcmV2LWJ1dHRvblwiKTtcbiAgaWYgKCFuZXdCdXR0b24pIHJldHVybjtcbiAgY29uc3QgbmV3QnV0dG9uUG9zaXRpb24gPSBuZXdCdXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueTtcbiAgd2luZG93LnNjcm9sbEJ5KDAsIG5ld0J1dHRvblBvc2l0aW9uIC0gb2xkQnV0dG9uUG9zaXRpb24pO1xufTtcbih3aW5kb3cgYXMgYW55KS5jb2xsYXBzZSA9IChlOiBFdmVudCkgPT4ge1xuICBjb25zdCBidXR0b24gPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3Qgc3RlcCA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKGJ1dHRvbiwgXCJzdGVwXCIpO1xuICBpZiAoc3RlcCkge1xuICAgIHN0ZXAuc2V0QXR0cmlidXRlKFwiZGF0YS1jb2xsYXBzZWRcIiwgXCJ0cnVlXCIpO1xuICB9XG59O1xuKHdpbmRvdyBhcyBhbnkpLmV4cGFuZCA9IChlOiBFdmVudCkgPT4ge1xuICBjb25zdCBidXR0b24gPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3Qgc3RlcCA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKGJ1dHRvbiwgXCJzdGVwXCIpO1xuICBpZiAoc3RlcCkge1xuICAgIHN0ZXAuc2V0QXR0cmlidXRlKFwiZGF0YS1jb2xsYXBzZWRcIiwgXCJmYWxzZVwiKTtcbiAgfVxufTtcblxuLy8gcmVjdXJzaXZlIGRlZmluaXRpb24gb2YgcHJpbnRpbmcgdGhlIGNvbnRleHRcbmludGVyZmFjZSBDb250ZXh0IHtcbiAgbGVmdDogc3RyaW5nO1xuICByaWdodDogc3RyaW5nO1xufVxuZnVuY3Rpb24gcHJpbnRDb250ZXh0KFxuICBjdHg6IFNJX1NUUlVDVC5Db250ZXh0LFxuICBhY2M6IENvbnRleHQgPSB7IGxlZnQ6IFwiXCIsIHJpZ2h0OiBcIlwiIH1cbik6IENvbnRleHQge1xuICBpZiAoU0lfU1RSVUNULmlzSG9sZShjdHgpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IEJTTF9QcmludC5zYW5pdGl6ZShhY2MubGVmdCksXG4gICAgICByaWdodDogQlNMX1ByaW50LnNhbml0aXplKGFjYy5yaWdodCksXG4gICAgfTtcbiAgfVxuICBpZiAoU0lfU1RSVUNULmlzQXBwQ29udGV4dChjdHgpKSB7XG4gICAgY29uc3QgbGVmdEVscyA9IFtcbiAgICAgIEJTTF9QcmludC5wcmludE5hbWUoY3R4Lm9wKSxcbiAgICAgIC4uLmN0eC52YWx1ZXMubWFwKCh2KSA9PiBCU0xfQVNULmlzU3RydWN0VmFsdWUodikgPyBCU0xfUHJpbnQucHJpbnRWYWx1ZSh2KSA6IGAke3Z9YCksXG4gICAgXTtcbiAgICBhY2MubGVmdCA9IGAke2FjYy5sZWZ0fSgke2xlZnRFbHMuam9pbihcIiBcIil9IGA7XG4gICAgYWNjLnJpZ2h0ID1cbiAgICAgIGN0eC5hcmdzLmxlbmd0aCA+IDBcbiAgICAgICAgPyBgICR7Y3R4LmFyZ3MubWFwKEJTTF9QcmludC5wcmludEUpLmpvaW4oXCIgXCIpfSkke2FjYy5yaWdodH1gXG4gICAgICAgIDogYCkke2FjYy5yaWdodH1gO1xuICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0NvbmRDb250ZXh0KGN0eCkpIHtcbiAgICBhY2MubGVmdCA9IGAke2FjYy5sZWZ0fShjb25kIFtgO1xuICAgIGNvbnN0IHJlc3QgPSBbXG4gICAgICBgJHtCU0xfUHJpbnQucHJpbnRFKGN0eC5vcHRpb25zWzBdLnJlc3VsdCl9XWAsXG4gICAgICAuLi5jdHgub3B0aW9ucy5zbGljZSgxKS5tYXAoQlNMX1ByaW50LnByaW50T3B0aW9uKSxcbiAgICBdO1xuICAgIGFjYy5yaWdodCA9IGAgJHtyZXN0LmpvaW4oXCIgXCIpfSkke2FjYy5yaWdodH1gO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJQcmludGluZyB0aGlzIGNvbnRleHQgaXMgbm90IGltcGxlbWVudGVkIHlldFwiLCBjdHgpO1xuICAgIHRocm93IGBQcmludGluZyAke2N0eFtcInR5cGVcIl19IGNvbnRleHQgaXMgbm90IGltcGxlbWVudGVkIHlldCFgO1xuICB9XG4gIHJldHVybiBwcmludENvbnRleHQoY3R4LmN0eCwgYWNjKTtcbn1cbmZ1bmN0aW9uIHByaW50VmFsdWVPcklkKHZPcklkOiAoU0lfU1RSVUNULlZhbHVlIHwgU0lfU1RSVUNULklkKSk6IHN0cmluZyB7XG4gIGlmKFNJX1NUUlVDVC5pc1ZhbHVlKHZPcklkKSkge1xuICAgIHJldHVybiBCU0xfUHJpbnQucHJpbnRWYWx1ZSh2T3JJZCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHByaW50SWRlbnRpZmllcih2T3JJZCk7XG4gIH1cbn1cbi8vIHJlY3Vyc2l2ZSBkZWZpbml0aW9uIG9mIHByaW50aW5nIHRoZSByZWRleFxuZnVuY3Rpb24gcHJpbnRSZWRleChyZWRleDogU0lfU1RSVUNULlJlZGV4KTogc3RyaW5nIHtcbiAgaWYgKFNJX1NUUlVDVC5pc0NhbGxSZWRleChyZWRleCkpIHtcbiAgICByZXR1cm4gYCgke0JTTF9QcmludC5wcmludE5hbWUocmVkZXgubmFtZSl9ICR7cmVkZXguYXJnc1xuICAgICAgLm1hcChwcmludFZhbHVlT3JJZClcbiAgICAgIC5qb2luKFwiIFwiKX0pYDtcbiAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNDb25kUmVkZXgocmVkZXgpKSB7XG4gICAgcmV0dXJuIGAoY29uZCAke3JlZGV4Lm9wdGlvbnMubWFwKEJTTF9QcmludC5wcmludE9wdGlvbikuam9pbihcIiBcIil9KWA7XG4gIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzTmFtZVJlZGV4KHJlZGV4KSkge1xuICAgIHJldHVybiByZWRleC5zeW1ib2w7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgXCJJbnZhbGlkIElucHV0IHRvIHByaW50UmVkZXhcIjtcbiAgfVxufVxuLy8gUHJpbnQgSWRlbnRpZmllclxuZnVuY3Rpb24gcHJpbnRJZGVudGlmaWVyKGlkOiBTSV9TVFJVQ1QuSWQpOiBzdHJpbmcge1xuICByZXR1cm4gaWQuc3ltYm9sO1xufVxuXG4vLyByZW5kZXJpbmcgdGhlIHJ1bGUgdGlwXG5mdW5jdGlvbiByZW5kZXJSdWxlSW5mb3JtYXRpb24ocnVsZTogYXZhaWxhYmxlUnVsZXMsIGtvbmc6IGJvb2xlYW4pOiBzdHJpbmcge1xuICBjb25zdCBydWxlSW5mbyA9IHJ1bGVzW3J1bGVdO1xuICByZXR1cm4gYDxkaXYgY2xhc3M9XCJydWxlLWluZm9cIj4ke1xuICAgIGtvbmdcbiAgICAgID8gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby10ZXh0LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicnVsZS1pbmZvLXJ1bGUtbmFtZVwiPiR7cnVsZXNbXCJLb25nXCJdW1wibmFtZVwiXX08L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby1ydWxlLXRleHRcIj4ke3J1bGVzW1wiS29uZ1wiXVtcInRleHRcIl19PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgYFxuICAgICAgOiBcIlwiXG4gIH1cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJydWxlLWluZm8tdGV4dC1jb250YWluZXJcIj5cbiAgICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby1ydWxlLW5hbWVcIj4ke3J1bGVJbmZvW1wibmFtZVwiXX08L2Rpdj5cbiAgICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby1ydWxlLXRleHRcIj4ke3J1bGVJbmZvW1widGV4dFwiXX08L2Rpdj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgPC9kaXY+YDtcbn1cbih3aW5kb3cgYXMgYW55KS5leHBhbmRJbmZvID0gKGU6IEV2ZW50KSA9PiB7XG4gIGNvbnN0IHQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3QgcCA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKHQsIFwicGx1Zy1yZXN1bHRcIik7XG4gIGlmICghcCkgcmV0dXJuO1xuICBwLnNldEF0dHJpYnV0ZShcImRhdGEtaW5mby1jb2xsYXBzZWRcIiwgXCJmYWxzZVwiKTtcbn07XG4od2luZG93IGFzIGFueSkuY29sbGFwc2VJbmZvID0gKGU6IEV2ZW50KSA9PiB7XG4gIGNvbnN0IHQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3QgcCA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKHQsIFwicGx1Zy1yZXN1bHRcIik7XG4gIGlmIChwKSBwLnNldEF0dHJpYnV0ZShcImRhdGEtaW5mby1jb2xsYXBzZWRcIiwgXCJ0cnVlXCIpO1xufTtcbi8vICMjIyBydWxlcyAjIyNcbi8vIGFzIHRha2VuIGZyb20gb3ZlcnZpZXctcmVkdWN0aW9uLWFuZC1lcXVpdmFsZW5jZS5wZGYsIGkuZS4gdGhlIHNjcmlwdFxuLy8gdG8gYmUgZGlzcGxheWVkIGFzIHJlZmVyZW5jZVxudHlwZSBhdmFpbGFibGVSdWxlcyA9XG4gIHwgXCJLb25nXCJcbiAgfCBcIkZ1blwiXG4gIHwgXCJGdW5FcnJvclwiXG4gIHwgXCJQcmltXCJcbiAgfCBcIlByaW1FcnJvclwiXG4gIHwgXCJDb25zdFwiXG4gIHwgXCJDb25zdEVycm9yXCJcbiAgfCBcIkNvbmRUcnVlXCJcbiAgfCBcIkNvbmRGYWxzZVwiXG4gIHwgXCJDb25kRXJyb3JcIlxuICB8IFwiU3RydWN0TWFrZVwiXG4gIHwgXCJTdHJ1Y3RNYWtlRXJyb3JcIlxuICB8IFwiU3RydWN0U2VsZWN0XCJcbiAgfCBcIlN0cnVjdFNlbGVjdEVycm9yXCJcbiAgfCBcIlN0cnVjdFByZWRUcnVlXCJcbiAgfCBcIlN0cnVjdFByZWRGYWxzZVwiXG4gIHwgXCJTdHJ1Y3RQcmVkRXJyb3JcIlxuICB8IFwiUHJvZ1wiXG4gIHwgXCJQcm9nRXJyb3JcIjtcbmNvbnN0IHJ1bGVzID0ge1xuICBLb25nOiB7XG4gICAgbmFtZTogYDxjYXA+S29uZzwvY2FwPmAsXG4gICAgdGV4dDogYFxuICAgICAgPGVtPkVbZTxzbWFsbD4xPC9zbWFsbD5dIFx1MjE5MiBFW2U8c21hbGw+Mjwvc21hbGw+XSBmYWxscyBlPHNtYWxsPjE8L3NtYWxsPiBcdTIxOTIgZTxzbWFsbD4yPC9zbWFsbD48L2VtPjxicj5cbiAgICAgIDxlbT5cdTIwMzlFXHUyMDNBIDo6PSBbXTxicj5cbiAgICAgICZuYnNwOyZuYnNwOyZuYnNwO3wgKFx1MjAzOW5hbWVcdTIwM0EgXHUyMDM5dlx1MjAzQSogXHUyMDM5RVx1MjAzQSBcdTIwMzllXHUyMDNBKik8YnI+XG4gICAgICAmbmJzcDsmbmJzcDsmbmJzcDt8ICg8c3Ryb25nPmNvbmQ8L3N0cm9uZz4gW1x1MjAzOUVcdTIwM0EgXHUyMDM5ZVx1MjAzQSBde1sgXHUyMDM5ZVx1MjAzQSBcdTIwMzllXHUyMDNBXX0qKTwvZW0+XG4gICAgYCxcbiAgfSxcbiAgRnVuOiB7XG4gICAgbmFtZTogYDxjYXA+RnVuPC9jYXA+YCxcbiAgICB0ZXh0OiBgXG4gICAgICA8ZW0+KG5hbWUgdjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IHY8c21hbGw+bjwvc21hbGw+KSBcdTIxOTJcbiAgICAgIGVbbmFtZTxzbWFsbD4xPC9zbWFsbD4gOj0gdjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IG5hbWU8c21hbGw+bjwvc21hbGw+IDo9IHY8c21hbGw+bjwvc21hbGw+IF08L2VtPlxuICAgICAgZmFsbHNcbiAgICAgIDxlbT4oPC9lbT4gPHN0cm9uZz5kZWZpbmU8L3N0cm9uZz4gPGVtPihuYW1lIG5hbWU8c21hbGw+MTwvc21hbGw+IFx1MjAyNiBuYW1lPHNtYWxsPm48L3NtYWxsPikgZSk8L2VtPiBpbiBVbWdlYnVuZ1xuICAgIGAsXG4gIH0sXG4gIEZ1bkVycm9yOiB7XG4gICAgbmFtZTogYDxjYXA+RnVuRXJyb3I8L2NhcD5gLFxuICAgIHRleHQ6IGBcbiAgICAgIDxlbT4obmFtZSB2PHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgdjxzbWFsbD5uPC9zbWFsbD4pIFx1MjE5MiBFcnJvcjwvZW0+XG4gICAgICBmYWxsc1xuICAgICAgPGVtPig8L2VtPiA8c3Ryb25nPmRlZmluZTwvc3Ryb25nPiA8ZW0+KG5hbWUgbmFtZTxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IG5hbWU8c21hbGw+bjwvc21hbGw+KSBlKTwvZW0+IG5pY2h0IGluIFVtZ2VidW5nLlxuICAgIGAsXG4gIH0sXG4gIFByaW06IHtcbiAgICBuYW1lOiBgPGNhcD5QcmltPC9jYXA+YCxcbiAgICB0ZXh0OiBgXG4gICAgICA8ZW0+KG5hbWUgdjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IHY8c21hbGw+bjwvc21hbGw+KSBcdTIxOTIgdjwvZW0+IGZhbGxzXG4gICAgICA8ZW0+bmFtZTwvZW0+IGVpbmUgcHJpbWl0aXZlIEZ1bmt0aW9uIDxlbT5mPC9lbT4gaXN0IHVuZFxuICAgICAgPGVtPmYodjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IHY8c21hbGw+bjwvc21hbGw+KSA9IHY8L2VtPlxuICAgIGAsXG4gIH0sXG4gIFByaW1FcnJvcjoge1xuICAgIG5hbWU6IGA8Y2FwPlByaW08L2NhcD4tRXJyb3JgLFxuICAgIHRleHQ6IGBcbiAgICAgIDxlbT4obmFtZSB2PHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgdjxzbWFsbD5uPC9zbWFsbD4pIFx1MjE5MiBFcnJvcjwvZW0+IGZhbGxzXG4gICAgICA8ZW0+bmFtZTwvZW0+IGVpbmUgcHJpbWl0aXZlIEZ1bmt0aW9uIDxlbT5mPC9lbT4gaXN0IHVuZFxuICAgICAgPGVtPmYodjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IHY8c21hbGw+bjwvc21hbGw+KSA9IEVycm9yPC9lbT5cbiAgICBgLFxuICB9LFxuICBDb25zdDoge1xuICAgIG5hbWU6IGA8Y2FwPkNvbnN0PC9jYXA+YCxcbiAgICB0ZXh0OiBgXG4gICAgICA8ZW0+bmFtZSBcdTIxOTIgdjwvZW0+IGZhbGxzIDxlbT4oPHN0cm9uZz5kZWZpbmU8L3N0cm9uZz4gbmFtZSB2KTwvZW0+IGluIFVtZ2VidW5nLlxuICAgIGAsXG4gIH0sXG4gIENvbnN0RXJyb3I6IHtcbiAgICBuYW1lOiBgPGNhcD5Db25zdDwvY2FwPi1FcnJvcmAsXG4gICAgdGV4dDogYFxuICAgICAgPGVtPm5hbWUgXHUyMTkyIEVycm9yPC9lbT4gZmFsbHMgPGVtPig8c3Ryb25nPmRlZmluZTwvc3Ryb25nPiBuYW1lIHYpPC9lbT5cbiAgICAgIG5pY2h0IGluIFVtZ2VidW5nLlxuICAgIGAsXG4gIH0sXG4gIENvbmRUcnVlOiB7XG4gICAgbmFtZTogYDxjYXA+Q29uZDwvY2FwPi1UcnVlYCxcbiAgICB0ZXh0OiBgXG4gICAgICA8ZW0+KDxzdHJvbmc+Y29uZDwvc3Ryb25nPiBbPHN0cm9uZz4jdHJ1ZTwvc3Ryb25nPiBlXSBcdTIwMjYpIFx1MjE5MiBlPC9lbT5cbiAgICBgLFxuICB9LFxuICBDb25kRmFsc2U6IHtcbiAgICBuYW1lOiBgPGNhcD5Db25kPC9jYXA+LUZhbHNlYCxcbiAgICB0ZXh0OiBgXG4gICAgICA8ZW0+KDxzdHJvbmc+Y29uZDwvc3Ryb25nPiBbPHN0cm9uZz4jZmFsc2U8L3N0cm9uZz4gZTxzbWFsbD4xPC9zbWFsbD5dXG4gICAgICAgICBbZTxzbWFsbD4yPC9zbWFsbD4gZTxzbWFsbD4zPC9zbWFsbD5dIFx1MjAyNikgXHUyMTkyXG4gICAgICAgICAoPHN0cm9uZz5jb25kPC9zdHJvbmc+IFtlPHNtYWxsPjI8L3NtYWxsPiBlPHNtYWxsPjM8L3NtYWxsPl0gXHUyMDI2KTwvZW0+XG4gICAgYCxcbiAgfSxcbiAgQ29uZEVycm9yOiB7XG4gICAgbmFtZTogYDxjYXA+Q29uZDwvY2FwPi1FcnJvcmAsXG4gICAgdGV4dDogYFxuICAgICAgPGVtPig8c3Ryb25nPmNvbmQ8L3N0cm9uZz4gW2U8c21hbGw+MTwvc21hbGw+IGU8c21hbGw+Mjwvc21hbGw+XSBcdTIwMjYpIFx1MjE5MlxuICAgICAgICAgICg8c3Ryb25nPmVycm9yPC9zdHJvbmc+IFwiY29uZDogYWxsIGNvbmRpdGlvbnMgZmFsc2VcIik8L2VtPlxuICAgIGAsXG4gIH0sXG4gIFN0cnVjdE1ha2U6IHtcbiAgICBuYW1lOiBgPGNhcD5TdHJ1Y3Q8L2NhcD4tbWFrZWAsXG4gICAgdGV4dDogYFxuICAgICAgPGVtPig8c3Ryb25nPm1ha2U8L3N0cm9uZz4tbmFtZSB2PHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgdjxzbWFsbD5uPC9zbWFsbD4pIFx1MjE5MlxuICAgICAgJmx0OzxzdHJvbmc+bWFrZTwvc3Ryb25nPi1uYW1lIHY8c21hbGw+MTwvc21hbGw+IFx1MjAyNiB2PHNtYWxsPm48L3NtYWxsPiZndDs8L2VtPlxuICAgICAgZmFsbHMgPGVtPig8c3Ryb25nPmRlZmluZS1zdHJ1Y3Q8L3N0cm9uZz4gbmFtZSAobmFtZTxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IG5hbWU8c21hbGw+bjwvc21hbGw+KSk8L2VtPiBpbiBVbWdlYnVuZ1xuICAgIGAsXG4gIH0sXG4gIFN0cnVjdE1ha2VFcnJvcjoge1xuICAgIG5hbWU6IGA8Y2FwPlN0cnVjdDwvY2FwPi1tYWtlLUVycm9yYCxcbiAgICB0ZXh0OiBgYCxcbiAgfSxcbiAgU3RydWN0U2VsZWN0OiB7XG4gICAgbmFtZTogYDxjYXA+U3RydWN0PC9jYXA+LXNlbGVjdGAsXG4gICAgdGV4dDogYFxuICAgICAgPGVtPihuYW1lLW5hbWU8c21hbGw+aTwvc21hbGw+ICZsdDs8c3Ryb25nPm1ha2U8L3N0cm9uZz4tbmFtZVxuICAgICAgICB2PHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgdjxzbWFsbD5uPC9zbWFsbD4mZ3Q7KSBcdTIxOTIgdjxzbWFsbD5pPC9zbWFsbD48L2VtPlxuICAgICAgICBmYWxscyA8ZW0+KDxzdHJvbmc+ZGVmaW5lLXN0cnVjdDwvc3Ryb25nPiBuYW1lXG4gICAgICAgICAgKG5hbWU8c21hbGw+MTwvc21hbGw+IFx1MjAyNiBuYW1lPHNtYWxsPm48L3NtYWxsPikpPC9lbT4gaW4gVW1nZWJ1bmdcbiAgICBgLFxuICB9LFxuICBTdHJ1Y3RTZWxlY3RFcnJvcjoge1xuICAgIG5hbWU6IGA8Y2FwPlN0cnVjdDwvY2FwPi1zZWxlY3QtRXJyb3JgLFxuICAgIHRleHQ6IGBgLFxuICB9LFxuICBTdHJ1Y3RQcmVkVHJ1ZToge1xuICAgIG5hbWU6IGA8Y2FwPlN0cnVjdDwvY2FwPi1wcmVkdHJ1ZWAsXG4gICAgdGV4dDogYFxuICAgICAgPGVtPihuYW1lPyAmbHQ7PHN0cm9uZz5tYWtlPC9zdHJvbmc+LW5hbWUgXHUyMDI2Jmd0OykgXHUyMTkyIDxzdHJvbmc+I3RydWU8L3N0cm9uZz48L2VtPlxuICAgIGAsXG4gIH0sXG4gIFN0cnVjdFByZWRGYWxzZToge1xuICAgIG5hbWU6IGA8Y2FwPlN0cnVjdDwvY2FwPi1wcmVkZmFsc2VgLFxuICAgIHRleHQ6IGBcbiAgICAgIDxlbT4obmFtZT8gdikgXHUyMTkyIDxzdHJvbmc+I2ZhbHNlPC9zdHJvbmc+PC9lbT4gZmFsbHMgPGVtPnY8L2VtPiBuaWNodFxuICAgICAgPGVtPiZsdDs8c3Ryb25nPm1ha2U8L3N0cm9uZz4tbmFtZSBcdTIwMjYmZ3Q7PC9lbT4gaXN0XG4gICAgYCxcbiAgfSxcbiAgU3RydWN0UHJlZEVycm9yOiB7XG4gICAgbmFtZTogYDxjYXA+U3RydWN0PC9jYXA+LXByZWRlcnJvcmAsXG4gICAgdGV4dDogYGAsXG4gIH0sXG4gIFByb2c6IHtcbiAgICBuYW1lOiBgPGNhcD5Qcm9nPC9jYXA+YCxcbiAgICB0ZXh0OiBgXG4gICAgICBFaW4gUHJvZ3JhbW0gd2lyZCB2b24gbGlua3MgbmFjaCByZWNodHMgYXVzZ2VmXHUwMEZDaHJ0IHVuZCBzdGFydGV0IG1pdCBkZXJcbiAgICAgIGxlZXJlbiBVbWdlYnVuZy4gSXN0IGRhcyBuXHUwMEU0Y2hzdGUgUHJvZ3JhbW1lbGVtZW50IGVpbmUgRnVua3Rpb25zLSBvZGVyXG4gICAgICBTdHJ1a3R1cmRlZmluaXRpb24sIHNvIHdpcmQgZGllc2UgRGVmaW5pdGlvbiBpbiBkaWUgVW1nZWJ1bmcgYXVmZ2Vub21tZW5cbiAgICAgIHVuZCBkaWUgQXVzZlx1MDBGQ2hydW5nIG1pdCBkZW0gblx1MDBFNGNoc3RlbiBQcm9ncmFtbWVsZW1lbnQgaW4gZGVyIGVyd2VpdGVydGVuXG4gICAgICBVbWdlYnVuZyBmb3J0Z2VzZXR6dC4gSXN0IGRhcyBuXHUwMEU0Y2hzdGUgUHJvZ3JhbW1lbGVtZW50IGVpbiBBdXNkcnVjaywgc29cbiAgICAgIHdpcmQgZGllc2VyIGdlbVx1MDBFNFx1MDBERiBkZXIgdW50ZW4gc3RlaGVuZGVuIFJlZ2VsbiBpbiBkZXIgYWt0dWVsbGVuIFVtZ2VidW5nIHp1XG4gICAgICBlaW5lbSBXZXJ0IGF1c2dld2VydC4gSXN0IGRhcyBuXHUwMEU0Y2hzdGUgUHJvZ3JhbW1lbGVtZW50IGVpbmVcbiAgICAgIEtvbnN0YW50ZW5kZWZpbml0aW9uIDxlbT4oPHN0cm9uZz5kZWZpbmU8L3N0cm9uZz4geCBlKTwvZW0+LCBzbyB3aXJkIGluXG4gICAgICBkZXIgYWt0dWVsbGVuIFVtZ2VidW5nIHp1blx1MDBFNGNoc3QgPGVtPmU8L2VtPiB6dSBlaW5lbSBXZXJ0IDxlbT52PC9lbT5cbiAgICAgIGF1c2dld2VydGV0IHVuZCBkYW5uIDxlbT4oPHN0cm9uZz5kZWZpbmU8L3N0cm9uZz4geCB2KTwvZW0+IHp1ciBha3R1ZWxsZW5cbiAgICAgIFVtZ2VidW5nIGhpbnp1Z2VmXHUwMEZDZ3QuXG4gICAgYCxcbiAgfSxcbiAgUHJvZ0Vycm9yOiB7XG4gICAgbmFtZTogYDxjYXA+UHJvZzwvY2FwPi1FcnJvcmAsXG4gICAgdGV4dDogYFxuICAgIEVpbiBQcm9ncmFtbSB3aXJkIHZvbiBsaW5rcyBuYWNoIHJlY2h0cyBhdXNnZWZcdTAwRkNocnQgdW5kIHN0YXJ0ZXQgbWl0IGRlclxuICAgIGxlZXJlbiBVbWdlYnVuZy4gSXN0IGRhcyBuXHUwMEU0Y2hzdGUgUHJvZ3JhbW1lbGVtZW50IGVpbmUgRnVua3Rpb25zLSBvZGVyXG4gICAgU3RydWt0dXJkZWZpbml0aW9uLCBzbyB3aXJkIGRpZXNlIERlZmluaXRpb24gaW4gZGllIFVtZ2VidW5nIGF1Zmdlbm9tbWVuXG4gICAgdW5kIGRpZSBBdXNmXHUwMEZDaHJ1bmcgbWl0IGRlbSBuXHUwMEU0Y2hzdGVuIFByb2dyYW1tZWxlbWVudCBpbiBkZXIgZXJ3ZWl0ZXJ0ZW5cbiAgICBVbWdlYnVuZyBmb3J0Z2VzZXR6dC4gU29mZXJuIGRpZSBEZWZpbml0aW9uIGFsbGVyZGluZ3Mgc2Nob24gaW4gZGVyIFVtZ2VidW5nXG4gICAgdm9yaGFuZGVuIGlzdCwgd2lyZCBlaW4gRmVobGVyIGF1c2dlZ2ViZW4uXG4gICAgYCxcbiAgfSxcbn07XG4vLyBleGVjdXRlIHRoZSBjb25zdCBydWxlID0gLi4uLWRlZmluaXRpb24gaW4gYSBqcyBjb25zb2xlIChlLmcuIERldiBUb29scylcbi8vIGFuZCB0aGVuIHJ1biB0aGUgZm9sbG93aW5nIHNuaXBwZXQgdG9cbi8vIHZlcmlmeSBpdCBjb250YWlucyBubyBpbnZhbGlkIEhUTUwgd2l0aCBvcGVuIHRhZ3Ncbi8vIE9iamVjdC5rZXlzKHJ1bGVzKS5mb3JFYWNoKG5hbWUgPT4ge1xuLy8gICBjb25zdCBydWxlID0gcnVsZXNbbmFtZV07XG4vLyAgIGNvbnN0IHRleHQgPSBgJHtydWxlLm5hbWV9JHtydWxlLnRleHR9YDtcbi8vICAgY29uc3QgdGFncyA9IHRleHRcbi8vICAgICAuc3BsaXQoJzwnKVxuLy8gICAgIC5zbGljZSgxKVxuLy8gICAgIC5tYXAocyA9PiBzLnNwbGl0KCc+JylbMF0pXG4vLyAgICAgLmZpbHRlcihzID0+IHMgIT0gJ2JyJyk7XG4vLyAgIGxldCB0YWdTdGFjayA9IFtdO1xuLy8gICB0YWdzLmZvckVhY2godCA9PiB7XG4vLyAgICAgaWYoIXQuc3RhcnRzV2l0aCgnLycpKSByZXR1cm4gdGFnU3RhY2sucHVzaCh0KTtcbi8vICAgICBjb25zdCB0YWcgPSB0LnNsaWNlKDEpO1xuLy8gICAgIGlmKHRhZ1N0YWNrLnBvcCgpICE9IHRhZykgdGhyb3cgRXJyb3IoXG4vLyAgICAgICBgUnVsZSAke25hbWV9IGNvbnRhaW5zIGludmFsaWQgSFRNTDogJHt0fSBoYXMgbm8gY29ycmVzcG9uZGluZyBvcGVuIHRhZ2ApO1xuLy8gICB9KTtcbi8vICAgaWYgKHRhZ1N0YWNrLmxlbmd0aCA+IDApXG4vLyAgICAgdGhyb3cgRXJyb3IoYFJ1bGUgJHtuYW1lfSBjb250YWlucyBpbnZhbGlkIEhUTUw6ICR7dGFnU3RhY2suam9pbignLCcpfSBhcmUgb3BlbmVkIGJ1dCBub3QgY2xvc2VkYCk7XG4vLyB9KTtcbiIsICJpbXBvcnQge3Byb2Nlc3NCc2xUcmVlc30gZnJvbSAnLi9CU0xfVHJlZSc7XG5pbXBvcnQge3Byb2Nlc3NKc29uVHJlZXN9IGZyb20gJy4vSlNPTl9UcmVlJztcbmltcG9ydCB7cHJvY2Vzc1N0ZXBwZXJzfSBmcm9tICcuL1NJX1JlbmRlcmVyJztcblxuLy8gc2V0dXAgY2FsbGJhY2tzXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICBwcm9jZXNzQnNsVHJlZXMoKTtcbiAgcHJvY2Vzc0pzb25UcmVlcygpO1xuICBwcm9jZXNzU3RlcHBlcnMoKTtcbn1cbiJdLAogICJtYXBwaW5ncyI6ICJvY0FrRU8sWUFBc0IsRUFBNkIsQ0FDeEQsTUFBTyxHQUFTLENBQUcsR0FBSyxFQUFXLENBQUcsR0FBSyxHQUFZLENBQUcsQ0FDNUQsQ0FDTyxXQUFrQixFQUF5QixDQUNoRCxNQUFPLEdBQUksT0FBUyxxQkFDdEIsQ0FDTyxXQUFvQixFQUEyQixDQUNwRCxNQUFPLEdBQUksT0FBUyxxQkFDdEIsQ0FDTyxZQUFxQixFQUE0QixDQUN0RCxNQUFPLEdBQUksT0FBUyxtQkFDdEIsQ0FFTyxZQUFnQixFQUF1QixDQUM1QyxNQUFPLEdBQU8sQ0FBRyxHQUFLLEVBQU8sQ0FBRyxHQUFLLEVBQU8sQ0FBRyxHQUFLLEVBQVUsQ0FBRyxDQUNuRSxDQUNPLFdBQWdCLEVBQXVCLENBQzVDLE1BQU8sR0FBSSxPQUFTLGVBQ3RCLENBQ08sV0FBZ0IsRUFBdUIsQ0FDNUMsTUFBTyxHQUFJLE9BQVMsaUJBQ3RCLENBQ08sV0FBZ0IsRUFBdUIsQ0FDNUMsTUFBTyxHQUFJLE9BQVMsUUFDdEIsQ0FDTyxXQUFtQixFQUEwQixDQUNsRCxNQUFPLEdBQUksT0FBUyxlQUN0QixDQUlPLFdBQXVCLEVBQThCLENBQzFELE1BQU8sR0FBSSxPQUFTLGNBQ3RCLENDakdPLFlBQWdCLEVBQTRCLENBQ2pELE1BQU8sR0FBRSxJQUFJLEVBQWMsRUFBRSxLQUFLO0FBQUEsQ0FBSSxDQUN4QyxDQUNPLFlBQXdCLEVBQXdCLENBQ3JELE1BQUksQUFBUSxJQUFhLENBQUcsRUFDbkIsR0FBZ0IsQ0FBRyxFQUVuQixFQUFPLENBQUcsQ0FFckIsQ0FDTyxZQUF5QixFQUErQixDQUM3RCxNQUFJLEFBQVEsR0FBUyxD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
