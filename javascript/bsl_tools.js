(()=>{var $n=Object.defineProperty,An=Object.defineProperties;var Pn=Object.getOwnPropertyDescriptors;var pt=Object.getOwnPropertySymbols;var Rn=Object.prototype.hasOwnProperty,Bn=Object.prototype.propertyIsEnumerable;var ut=(e,n,t)=>n in e?$n(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,V=(e,n)=>{for(var t in n||(n={}))Rn.call(n,t)&&ut(e,t,n[t]);if(pt)for(var t of pt(n))Bn.call(n,t)&&ut(e,t,n[t]);return e},dt=(e,n)=>An(e,Pn(n));function ge(e){return W(e)||z(e)||Ue(e)}function W(e){return e.type==="Function Definition"}function z(e){return e.type==="Constant Definition"}function Ue(e){return e.type==="Struct Definition"}function Se(e){return G(e)||Q(e)||q(e)||I(e)}function G(e){return e.type==="Function Call"}function Q(e){return e.type==="Cond-Expression"}function q(e){return e.type==="Symbol"}function I(e){return e.type==="Literal Value"}function mt(e){return e.map(ne).join(`
`)}function ne(e){return ge(e)?xe(e):L(e)}function xe(e){return W(e)?`(define (${C(e.name)} ${e.args.map(C).join(" ")}) ${L(e.body)})`:z(e)?`(define ${C(e.name)} ${L(e.value)})`:Ue(e)?`(define-struct ${C(e.binding)} (${e.properties.map(C).join(" ")}))`:(console.error("Invalid input to printDefinition"),"")}function L(e){return G(e)?`(${C(e.name)} ${e.args.map(L).join(" ")})`:Q(e)?`(cond ${e.options.map(X).join(" ")})`:q(e)?C(e):I(e)?he(e.value):(console.error("Invalid input to printE"),`<${e}>`)}function he(e){return typeof e=="string"&&e!=="'()"?`"${e}"`:typeof e=="boolean"?e?"#true":"#false":`${e}`}function X(e){return`[${L(e.condition)} ${L(e.result)}]`}function C(e){return e.symbol}var $r=[{type:"Function Definition",name:{type:"Symbol",symbol:"f"},args:[{type:"Symbol",symbol:"x"},{type:"Symbol",symbol:"y"}],body:{type:"Function Call",name:{type:"Symbol",symbol:"+"},args:[{type:"Symbol",symbol:"x"},{type:"Symbol",symbol:"y"}]}},{type:"Cond-Expression",options:[{type:"Cond-Option",condition:{type:"Function Call",name:{type:"Symbol",symbol:"="},args:[{type:"Symbol",symbol:"x"},{type:"Literal Value",value:3}]},result:{type:"Literal Value",value:"isThree"}},{type:"Cond-Option",condition:{type:"Literal Value",value:!1},result:{type:"Literal Value",value:"'()"}}]},{type:"Constant Definition",name:{type:"Symbol",symbol:"x"},value:{type:"Literal Value",value:42}},{type:"Struct Definition",binding:{type:"Symbol",symbol:"name"},properties:[{type:"Symbol",symbol:"firstName"},{type:"Symbol",symbol:"lastName"}]}];function re(e,n,t="text"){let r=[],i=0,c=0,p=0,u="",f=!1,h=!1;e.split("").forEach(d=>{if(f&&d!=='"'){u+=d;return}if(h&&d!==">"){u+=d;return}switch(d){case"(":case"[":c++;break;case")":case"]":c--;break;case'"':f=!f;break;case"<":h=t==="html";break;case">":t==="html"&&(h=!1);break;case" ":case`
`:case"	":if(!u)return;r.push({term:u,level:i}),i>p&&(p=i),u="",i=c;return}u+=d}),u!==""&&(r.push({term:u,level:i}),i>p&&(p=i));let g=t==="html"?"<br>":`
`;for(let d=p;d>0;d--){let b=[];r.forEach(T=>{T.level<d?b.push(dt(V({},T),{subterms:[]})):b[b.length-1].subterms.push(T.term)}),r=b.map(T=>{let A=T.subterms.some(N=>N.includes(g)),P=`${T.term}${T.subterms.length>0?" ":""}${T.subterms.join(" ")}`,ie=t==="html"?In(P):P.length;if(A||ie+T.level>n){let N=T.subterms.map(we=>`${ft(t==="html"?"&nbsp;":" ",d)}${we}`);N.unshift(T.term);let M=t==="html"?"<br>":`
`;return{term:`${N.join(M)}`,level:T.level}}else return{term:P,level:T.level}})}return r.map(d=>d.term).join(g)}function ft(e,n){let t="";for(let r=0;r<n;r++)t+=e;return t}function In(e){let n=document.createElement("div");return n.innerHTML=e,n.textContent?n.textContent.length:0}function F(e){return e.replaceAll("<","&lt;").replaceAll(">","&gt;")}function Y(e){return e.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&nbsp;"," ")}function B(e,n,t=!1){if(e.length===0)return[];let r=n.split("/"),i=r.shift();if(i=="")return e;let c=r.join("/"),p=[];if(i=="..")p=e.map(u=>u.parentElement).filter(u=>u);else if(i=="+")p=e.map(u=>u.nextElementSibling).filter(u=>u);else if(i.startsWith(".")){let u=i.slice(1);p=e.flatMap(f=>Array.from(f.children).filter(h=>h.classList.contains(u)))}else p=e.flatMap(u=>Array.from(u.children).filter(f=>f.tagName==i.toUpperCase()));return p.length===0&&t&&console.error(`Error traversing ${n}: No element found`),B(p,c)}function Z(e,n){if(e.tagName==n.toUpperCase())return e;{let t=e.parentElement;return t?Z(t,n):(console.error("Could not find parent element with requested tag ",n),null)}}function w(e,n){if(e.classList.contains(n))return e;{let t=e.parentElement;return t?w(t,n):(console.error("Could not find parent element with requested class ",n),null)}}var St=`/* ######## color variables ###### */
.tree {
  --branch-color: #666;
  --node-background: #ebf0f4; /* racket azure */
  --text-grey: #444; /* like in scribble */
  --hole-yellow: #fdf68d; /* pale yellow */
  --highlight-border-connectors: lime;
  --wrong-background: red;
  --correct-background: lime;
  --hole-selection-background: white;
}
/*
CSS for tree by Ross Angus
https://www.cssscript.com/clean-tree-diagram/
(Edited and extended)
*/
/* ###### parent ###### */
.tree-container {
  text-align: center;
  overflow-y: scroll;
}

/* ###### node layout ######## */
.tree,
.tree ul,
.tree li {
    list-style: none;
    margin: 0;
    padding: 0;
    position: relative;
    white-space: nowrap;
}

.tree {
    margin: 0 0 1em;
    text-align: center;
    margin-left: auto;
    margin-right: auto;
}

.tree,
.tree ul {
    display: table;
}

.tree ul {
    width: 100%;
}

.tree li {
    display: table-cell;
    padding: 0;
    padding-top: 1.5em;
    vertical-align: top;
}

.tree code,
.tree span {
    border: solid .1em var(--branch-color);
    border-radius: .2em;
    display: inline-block;
    margin-left: 1em;
    margin-right: 1em;
    margin-top: 1.5em;
    padding: .2em .5em;
    position: relative;
    box-sizing: border-box;
}

/* ########### custom AST node  styles ######## */
/* node */
.tree span {
  font-family: 'Fira-Mono', monospace;
  background-color: var(--node-background);
  transition: 1s background-color ease-out;
}
.tree .terminal-symbol {
  border-width: .2em;
  border-style: double;
}
/* node label */
.tree .name {
  color: var(--text-grey);
  font-style: italic;
  font-size: 0.85em;
  text-align: right;

  position: absolute;
  top: calc(-0.85em - 1.5em);
  right: var(--edgetext-right, 50%); /* to be set dynamically */
  margin-right: -1.5em;
  background-color: rgba(255,255,255,0.7);
}
/* tooltip */
.tree .name .tooltip {
  display: none;
}
.tree .name:hover .tooltip {
  display: block;
  position: absolute;
  left: 100%;
  bottom: calc(-0.5em - 1px);
  background-color: var(--node-background);
  border: 1px solid var(--branch-color);
  text-align: left;
  padding: 0.5em;
  z-index: 1000;
}

/* ###### connectors ########### */
/* part above box */
.tree span:before {
    outline: solid 1px var(--branch-color);
    content: "";
    width: var(--connector-width, 0px); /* to be set dynamically */
    left: var(--connector-left, 50%); /* to be set dynamically */
    position: absolute;
    top: -1.5em;
    transform: var(--connector-transform); /* to be set dynamically */
}
.tree span.terminal-symbol:before {
  top: calc(-1.5em - .2em);
}

/* ####### highlight way back up from a node ###### */
/* .tree li:hover > span {
  border-color: var(--highlight-border-connectors);
}
.tree li:hover::before {
  border-color: var(--highlight-border-connectors);
  z-index: 1000;
}
.tree li:hover > span::before {
  outline-color: var(--highlight-border-connectors);
} */

/* ######## hide connectors over root ######## */
.tree>li:before,
.tree>li:after,
.tree>li>code:before,
.tree>li>span:before {
    outline: none !important;
    border: none !important;
}
.tree>li {
    margin-top: 0;
}

/* ####### collapse nodes ######## */
/* click on span to hide/show */
.tree .hole:hover {
  cursor: pointer;
}

.tree [data-collapsed="true"] {
  display: none;
}

/* ######### holes ########## */
.tree .char {
  display: inline;
  margin: 0;
  border: none;
  padding: 0;
  border-radius: 0;
  background-color: transparent;
  transition: background-color 1s ease-out;
}
.tree .char::before {
  display: none;
}

.tree .hole {
  display: inline-block;
  background-color: var(--hole-yellow);
  border: 1px solid var(--text-grey);
  color: var(--text-grey);
  padding-left: 0.25em;
  padding-right: 0.25em;
  position: relative;
}

/* ########### quiz ########## */

/* quiz stages */
.tree span[data-quiz-state="production"] .name,
.tree span[data-quiz-state="production"] .code,
.tree span[data-quiz-state="production"] .hole-marking {
  display: none;
}

.tree span[data-quiz-state="hole-marking"] .code,
.tree span[data-quiz-state="hole-marking"] .production {
  display: none;
}

.tree span[data-quiz-state="done"] .production,
.tree span[data-quiz-state="done"] .hole-marking {
  display: none;
}

/* highlighting text by putting a div behind a textarea */
.tree textarea,
.tree .marker-container {
  font-family: inherit;
  resize: none;
  font-size: calc(1em);
  padding: 2px;
  margin: .2em;
  border: none;
  box-sizing: border-box;
}

.tree .textarea-container {
  position: relative;
  display: inline-block;
}
.tree textarea {
  position: relative;
  background-color: transparent;
  z-index: 2;
}
.tree .marker-container {
  text-align: left;
  background-color: var(--hole-selection-background);
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
}
.tree .marker {
  color: transparent;
  background-color: transparent;
  transition: 1s background-color ease-out;
}

/* feedback for wrong answer */
.tree .wrong {
  background-color: var(--wrong-background);
  transition: none;
}
.tree .correct {
  background-color: var(--correct-background);
  transition: none;
}
`;function be(e,n,t,r=!1,i="en"){if(t||(t=Un(e)),!document.getElementById("bsl-tools-tree-style")){let c=document.createElement("style");c.innerHTML=St,c.id="bsl-tools-tree-style",document.getElementsByTagName("head")[0].appendChild(c)}yt.includes(i)||(console.error(`
      Selected language "${i}" is not implemented, defaulting to "en".
      Available language codes: ${yt.join(", ")}
    `),i="en"),n.innerHTML=`
  <div class="tree-container">
    <ul class="tree ast">
      ${r?Ct(e,i,t):bt(e,t)}
    </ul>
  </div>`,r&&B([n],"ul/li/ul/li").map(c=>c.setAttribute("data-collapsed","false")),Te(n)}function Un(e){let n={};return xt(e,n),n}function xt(e,n){n[e.production]=[],e.holes.map(t=>xt(t.content,n))}var yt=["en","de"],ht={en:{"select production":"Select production","mark selected text as hole":"Mark selected text as hole"},de:{"select production":"Produktion ausw\xE4hlen","mark selected text as hole":"Auswahl als Loch markieren"}};function Te(e){let n=parseFloat(getComputedStyle(e).fontSize)*3;for(let t=1;;t++){let r=Array.from(e.getElementsByClassName(`hole-${t}`));if(r.length<1)return;r.map(i=>{let c=i,p=.5*(c.getBoundingClientRect().x+c.getBoundingClientRect().right);if(p==0)return;let u=Z(c,"li");!u||B([u],`ul/.child-${t}/span`).map(f=>{let h=f,g=.5*(h.getBoundingClientRect().x+h.getBoundingClientRect().right),d=p-g,b=-Math.atan2(n,d),T=Math.sqrt(d*d+n*n),A=d/2-T/2;h.style.cssText=`
          --connector-width: ${T}px;
          --connector-left: calc(50% + ${A}px);
          --edgetext-right: calc(50% - ${d/2}px);
          --connector-transform: rotate(${b}rad);
        `})})}}function bt(e,n,t=-1){return`
    <li class="${t>=0?`child-${t+1}`:""}"
        data-collapsed="${t>=0?"true":"false"}">
      <span class="${e.holes.length>0?"":"terminal-symbol"}">

        ${vt(e,n)}

        ${Tt(e)}

      </span>
      ${e.holes.length>0?`<ul>${e.holes.map((r,i)=>bt(r.content,n,i)).join("")}</ul>`:""}
    </li>
  `}function Tt(e){return`
  <div class="code">${Nn(e).map(t=>`<span class="char ${t.pos?`hole hole-${t.pos}`:""}"
             ${t.pos?`onclick="toggleChild(event,${t.pos})"`:""}
             >${e.code.slice(t.start,t.end)}</span>`).join("")}
  </div>
  `}window.toggleChild=(e,n)=>{let t=e.target,r=Z(t,"li"),i=w(t,"tree");if(!r||!i){console.error("toggleChild called from .hole not in .tree");return}B([r],`ul/.child-${n}`).map(c=>{c.setAttribute("data-collapsed",c.getAttribute("data-collapsed")==="true"?"false":"true")}),Te(i)};function Nn(e){let n=[],t=0;for(let r=0;r<e.holes.length;r++)e.holes[r].start>t&&n.push({pos:!1,start:t,end:e.holes[r].start}),n.push(V({pos:r+1},e.holes[r])),t=e.holes[r].end;return t<e.code.length&&n.push({pos:!1,start:t,end:e.code.length}),n}function vt(e,n){return`
    <div class="name">${F(e.production)}${n[e.production]&&n[e.production].length>0?`<div class="tooltip">::= ${n[e.production].map(F).join("<br>&nbsp;|&nbsp;&nbsp;")}</div>`:""}</div>
  `}function Ct(e,n,t,r=-1){return`
    <li class="${r>=0?`child-${r+1}`:""}"
        data-collapsed="${r>=0?"true":"false"}">
      <span class="${e.holes.length>0?"":"terminal-symbol"}"
            data-quiz-state="${r>=0?"production":"done"}"
            data-is-terminal="${e.holes.length<=0}"
            data-is-trivial-hole="${e.holes.length===1&&e.holes[0].start===0&&e.holes[0].end===e.code.length}">

        ${Dn(e,n,t)}

        ${Fn(e,n)}

        ${vt(e,t)}
        ${Tt(e)}
      </span>
      ${e.holes.length>0?`<ul>${e.holes.map((i,c)=>Ct(i.content,n,t,c)).join("")}</ul>`:""}
    </li>
  `}function Dn(e,n,t){return`
  <div class="production">
    <select onchange="checkProduction(event, '${e.production}')">
      <option selected="true">${ht[n]["select production"]}</option>
      ${Object.keys(t).map(r=>`
          <option value="${r}">${F(r)}</option>
        `).join("")}
    </select>
  </div>
  `}window.checkProduction=(e,n)=>{let t=e.target;if(t.value===n){let r=Z(t,"span");if(r){r.getAttribute("data-is-terminal")==="true"?r.setAttribute("data-quiz-state","done"):r.getAttribute("data-is-trivial-hole")==="true"?(r.setAttribute("data-quiz-state","done"),B([r],"+/li",!0).map(c=>c.setAttribute("data-collapsed","false"))):r.setAttribute("data-quiz-state","hole-marking"),B([r],"../+").map(c=>c.setAttribute("data-collapsed","false"));let i=w(r,"tree");i&&Te(i)}}else{Array.from(t.selectedOptions).map(i=>i.remove());let r=Z(t,"span");r&&(r.classList.add("wrong"),window.setTimeout(()=>{r.classList.remove("wrong")},100))}};function Fn(e,n){return`
  <div class="hole-marking"
       data-holes="${btoa(JSON.stringify(e.holes.map(t=>[t.start,t.end,!1])))}">
    <div class="textarea-container">
      <div class="marker-container">
        ${e.code.split(`
`).map(t=>t.split("").map(r=>`<span class="char marker">${r}</span>`).join("")).join('<span class="char marker"></span><br>')}
      </div>
      <textarea autocorrect="off"
                spellcheck="false"
                cols="${e.code.split(`
`).map(t=>t.length).reduce((t,r)=>t>r?t:r)}"
                rows="${e.code.split(`
`).length}"
                oninput="stopInput(event, '${btoa(e.code)}')">${e.code}</textarea>
    </div><br>
    <button onclick="checkSelection(event)">
      ${ht[n]["mark selected text as hole"]}
    </button>
  </div>
  `}window.stopInput=(e,n)=>{e.target.value=atob(n)};window.checkSelection=e=>{let n=e.target,t=w(n,"hole-marking");if(!t){console.error("checkProduction called from el. not wrapped in div.hole-marking");return}let r=JSON.parse(atob(t.getAttribute("data-holes"))),i=t.getElementsByTagName("textarea")[0],c=i.selectionStart,p=i.selectionEnd,u=c<p?c:p,f=c<p?p:c,h=-1;if(r.map((g,d)=>{g[0]===u&&g[1]===f&&(g[2]=!0,h=d)}),h>=0)t.setAttribute("data-holes",btoa(JSON.stringify(r))),B([t],".textarea-container/.marker-container/.marker",!0).slice(u,f).map(g=>g.classList.add("correct"));else{let g=B([t],".textarea-container/.marker-container/.marker",!0).slice(u,f);g.map(d=>d.classList.add("wrong")),window.setTimeout(()=>{g.map(d=>d.classList.remove("wrong"))},100)}if(r.every(g=>g[2])){let g=Z(t,"span");if(g){g.setAttribute("data-quiz-state","done"),B([g],"../ul/.child-1").map(b=>b.setAttribute("data-collapsed","false"));let d=w(g,"tree");d&&Te(d)}}};function Ne(e,n,t){return t=t||" ",e.length>n?e:(n-=e.length,t+=t.repeat(n),e+t.slice(0,n))}var j=class extends Error{constructor(t,r,i,c){super();this.message=t,this.expected=r,this.found=i,this.location=c,this.name="SyntaxError",typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(this,j.prototype):this.__proto__=j.prototype,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,j)}static buildMessage(t,r){function i(g){return g.charCodeAt(0).toString(16).toUpperCase()}function c(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,d=>"\\x0"+i(d)).replace(/[\x10-\x1F\x7F-\x9F]/g,d=>"\\x"+i(d))}function p(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,d=>"\\x0"+i(d)).replace(/[\x10-\x1F\x7F-\x9F]/g,d=>"\\x"+i(d))}function u(g){switch(g.type){case"literal":return'"'+c(g.text)+'"';case"class":let d=g.parts.map(b=>Array.isArray(b)?p(b[0])+"-"+p(b[1]):p(b));return"["+(g.inverted?"^":"")+d+"]";case"any":return"any character";case"end":return"end of input";case"other":return g.description}}function f(g){let d=g.map(u),b,T;if(d.sort(),d.length>0){for(b=1,T=1;b<d.length;b++)d[b-1]!==d[b]&&(d[T]=d[b],T++);d.length=T}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function h(g){return g?'"'+c(g)+'"':"end of input"}return"Expected "+f(t)+" but "+h(r)+" found."}format(t){let r="Error: "+this.message;if(this.location){let i=null,c;for(c=0;c<t.length;c++)if(t[c].source===this.location.source){i=t[c].text.split(/\r\n|\n|\r/g);break}let p=this.location.start,u=this.location.source+":"+p.line+":"+p.column;if(i){let f=this.location.end,h=Ne("",p.line.toString().length," "),g=i[p.line-1],d=p.line===f.line?f.column:g.length+1;r+=`
 --> `+u+`
`+h+` |
`+p.line+" | "+g+`
`+h+" | "+Ne("",p.column-1," ")+Ne("",d-p.column,"^")}else r+=`
 at `+u}return r}};function Mn(e,n){n=n!==void 0?n:{};let t={},r=n.grammarSource,i={Program:at},c=at,p=function(o){return o},u=/^[\t \n \r]/,f=me(["	"," ",`
`," ","\r"],!1,!1),h=function(o){return o},g="(define-struct",d=R("(define-struct",!1),b="(",T=R("(",!1),A=")",P=R(")",!1),ie=function(o,a){return{type:"Struct Definition",binding:o,properties:a}},N="(define",M=R("(define",!1),ze=function(o,a,l){return{type:"Function Definition",name:o,args:a,body:l}},we=function(o,a){return{type:"Constant Definition",name:o,value:a}},jt=function(o){return o},je="(cond",Vt=R("(cond",!1),qt=function(o){return{type:"Cond-Expression",options:o}},Kt="[",Jt=R("[",!1),Wt="]",Gt=R("]",!1),Qt=function(o,a){return{type:"Cond-Option",condition:o,result:a}},Xt=function(o,a){return{type:"Function Call",name:o,args:a}},Ve="define",Yt=R("define",!1),qe=/^[^",'`()[\]{}|#\n\t\r0-9 ]/,Ke=me(['"',",","'","`","(",")","[","]","{","}","|","#",`
`,"	","\r",["0","9"]," "],!0,!1),Zt=function(o){return{type:"Symbol",symbol:o.join("")}},en=function(o){return{type:"Literal Value",value:o}},Je=/^[0-9]/,We=me([["0","9"]],!1,!1),tn=function(){return parseInt(fn(),10)},Ge="#true",nn=R("#true",!1),Qe="#false",rn=R("#false",!1),Xe="#t",on=R("#t",!1),Ye="#f",sn=R("#f",!1),an=function(o){return o==="#true"||o==="#t"},Ze="'()",ln=R("'()",!1),cn=function(){return"'()"},et='"',tt=R('"',!1),nt=/^[^"]/,rt=me(['"'],!0,!1),pn=function(o){return o.join("")},un=ot("whitespace"),dn=function(){},s=0,v=0,de=[{line:1,column:1}],O=0,Ie=[],y=0,fe;if(n.startRule!==void 0){if(!(n.startRule in i))throw new Error(`Can't start parsing from rule "`+n.startRule+'".');c=i[n.startRule]}function fn(){return e.substring(v,s)}function vr(){return ae(v,s)}function Cr(o,a){throw a=a!==void 0?a:ae(v,s),it([ot(o)],e.substring(v,s),a)}function Lr(o,a){throw a=a!==void 0?a:ae(v,s),gn(o,a)}function R(o,a){return{type:"literal",text:o,ignoreCase:a}}function me(o,a,l){return{type:"class",parts:o,inverted:a,ignoreCase:l}}function _r(){return{type:"any"}}function mn(){return{type:"end"}}function ot(o){return{type:"other",description:o}}function st(o){let a=de[o],l;if(a)return a;for(l=o-1;!de[l];)l--;for(a=de[l],a={line:a.line,column:a.column};l<o;)e.charCodeAt(l)===10?(a.line++,a.column=1):a.column++,l++;return de[o]=a,a}function ae(o,a){let l=st(o),m=st(a);return{source:r,start:{offset:o,line:l.line,column:l.column},end:{offset:a,line:m.line,column:m.column}}}function x(o){s<O||(s>O&&(O=s,Ie=[]),Ie.push(o))}function gn(o,a){return new j(o,[],"",a)}function it(o,a,l){return new j(j.buildMessage(o,a),o,a,l)}function at(){let o,a,l;if(o=s,a=[],l=lt(),l!==t)for(;l!==t;)a.push(l),l=lt();else a=t;return a!==t&&(v=o,a=p(a)),o=a,o}function lt(){let o,a,l,m;if(o=s,a=Sn(),a===t&&(a=K()),a!==t){if(l=[],u.test(e.charAt(s))?(m=e.charAt(s),s++):(m=t,y===0&&x(f)),m!==t)for(;m!==t;)l.push(m),u.test(e.charAt(s))?(m=e.charAt(s),s++):(m=t,y===0&&x(f));else l=t;l!==t?(v=o,a=p(a),o=a):(s=o,o=t)}else s=o,o=t;return o}function Sn(){let o,a,l;return o=s,a=E(),a!==t?(l=yn(),l===t&&(l=xn(),l===t&&(l=hn())),l!==t?(v=o,a=h(l),o=a):(s=o,o=t)):(s=o,o=t),o}function yn(){let o,a,l,m,S,D,_,$,J;if(o=s,e.substr(s,14)===g?(a=g,s+=14):(a=t,y===0&&x(d)),a!==t)if(l=H(),l!==t)if(m=E(),m!==t)if(e.charCodeAt(s)===40?(S=b,s++):(S=t,y===0&&x(T)),S!==t){if(D=[],_=H(),_!==t)for(;_!==t;)D.push(_),_=H();else D=t;D!==t?(e.charCodeAt(s)===41?(_=A,s++):(_=t,y===0&&x(P)),_!==t?($=E(),$!==t?(e.charCodeAt(s)===41?(J=A,s++):(J=t,y===0&&x(P)),J!==t?(v=o,a=ie(l,D),o=a):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)}else s=o,o=t;else s=o,o=t;else s=o,o=t;else s=o,o=t;return o}function xn(){let o,a,l,m,S,D,_,$,J,ke;if(o=s,e.substr(s,7)===N?(a=N,s+=7):(a=t,y===0&&x(M)),a!==t)if(l=E(),l!==t)if(e.charCodeAt(s)===40?(m=b,s++):(m=t,y===0&&x(T)),m!==t)if(S=H(),S!==t)if(D=E(),D!==t){if(_=[],$=H(),$!==t)for(;$!==t;)_.push($),$=H();else _=t;_!==t?(e.charCodeAt(s)===41?($=A,s++):($=t,y===0&&x(P)),$!==t?(J=K(),J!==t?(e.charCodeAt(s)===41?(ke=A,s++):(ke=t,y===0&&x(P)),ke!==t?(v=o,a=ze(S,_,J),o=a):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)}else s=o,o=t;else s=o,o=t;else s=o,o=t;else s=o,o=t;else s=o,o=t;return o}function hn(){let o,a,l,m,S;return o=s,e.substr(s,7)===N?(a=N,s+=7):(a=t,y===0&&x(M)),a!==t?(l=H(),l!==t?(m=K(),m!==t?(e.charCodeAt(s)===41?(S=A,s++):(S=t,y===0&&x(P)),S!==t?(v=o,a=we(l,m),o=a):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)):(s=o,o=t),o}function K(){let o,a,l;return o=s,a=E(),a!==t?(l=bn(),l===t&&(l=Tn(),l===t&&(l=H(),l===t&&(l=vn()))),l!==t?(v=o,a=jt(l),o=a):(s=o,o=t)):(s=o,o=t),o}function bn(){let o,a,l,m,S;if(o=s,e.substr(s,5)===je?(a=je,s+=5):(a=t,y===0&&x(Vt)),a!==t){if(l=[],m=ct(),m!==t)for(;m!==t;)l.push(m),m=ct();else l=t;l!==t?(m=E(),m!==t?(e.charCodeAt(s)===41?(S=A,s++):(S=t,y===0&&x(P)),S!==t?(v=o,a=qt(l),o=a):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)}else s=o,o=t;return o}function ct(){let o,a,l,m,S,D,_,$;return o=s,a=E(),a!==t?(e.charCodeAt(s)===91?(l=Kt,s++):(l=t,y===0&&x(Jt)),l!==t?(m=E(),m!==t?(S=K(),S!==t?(D=E(),D!==t?(_=K(),_!==t?(e.charCodeAt(s)===93?($=Wt,s++):($=t,y===0&&x(Gt)),$!==t?(v=o,a=Qt(S,_),o=a):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)):(s=o,o=t)):(s=o,o=t),o}function Tn(){let o,a,l,m,S;if(o=s,e.charCodeAt(s)===40?(a=b,s++):(a=t,y===0&&x(T)),a!==t)if(l=H(),l!==t){for(m=[],S=K();S!==t;)m.push(S),S=K();m!==t?(e.charCodeAt(s)===41?(S=A,s++):(S=t,y===0&&x(P)),S!==t?(v=o,a=Xt(l,m),o=a):(s=o,o=t)):(s=o,o=t)}else s=o,o=t;else s=o,o=t;return o}function H(){let o,a,l,m,S;if(o=s,a=E(),a!==t)if(l=s,y++,e.substr(s,6)===Ve?(m=Ve,s+=6):(m=t,y===0&&x(Yt)),y--,m===t?l=void 0:(s=l,l=t),l!==t){if(m=[],qe.test(e.charAt(s))?(S=e.charAt(s),s++):(S=t,y===0&&x(Ke)),S!==t)for(;S!==t;)m.push(S),qe.test(e.charAt(s))?(S=e.charAt(s),s++):(S=t,y===0&&x(Ke));else m=t;m!==t?(v=o,a=Zt(m),o=a):(s=o,o=t)}else s=o,o=t;else s=o,o=t;return o}function vn(){let o,a;return o=s,a=Cn(),a===t&&(a=Ln(),a===t&&(a=_n(),a===t&&(a=En()))),a!==t&&(v=o,a=en(a)),o=a,o}function Cn(){let o,a,l,m;if(o=s,a=E(),a!==t){if(l=[],Je.test(e.charAt(s))?(m=e.charAt(s),s++):(m=t,y===0&&x(We)),m!==t)for(;m!==t;)l.push(m),Je.test(e.charAt(s))?(m=e.charAt(s),s++):(m=t,y===0&&x(We));else l=t;l!==t?(v=o,a=tn(),o=a):(s=o,o=t)}else s=o,o=t;return o}function Ln(){let o,a,l;return o=s,a=E(),a!==t?(e.substr(s,5)===Ge?(l=Ge,s+=5):(l=t,y===0&&x(nn)),l===t&&(e.substr(s,6)===Qe?(l=Qe,s+=6):(l=t,y===0&&x(rn)),l===t&&(e.substr(s,2)===Xe?(l=Xe,s+=2):(l=t,y===0&&x(on)),l===t&&(e.substr(s,2)===Ye?(l=Ye,s+=2):(l=t,y===0&&x(sn))))),l!==t?(v=o,a=an(l),o=a):(s=o,o=t)):(s=o,o=t),o}function _n(){let o,a,l;return o=s,a=E(),a!==t?(e.substr(s,3)===Ze?(l=Ze,s+=3):(l=t,y===0&&x(ln)),l!==t?(v=o,a=cn(),o=a):(s=o,o=t)):(s=o,o=t),o}function En(){let o,a,l,m,S;if(o=s,a=E(),a!==t)if(e.charCodeAt(s)===34?(l=et,s++):(l=t,y===0&&x(tt)),l!==t){if(m=[],nt.test(e.charAt(s))?(S=e.charAt(s),s++):(S=t,y===0&&x(rt)),S!==t)for(;S!==t;)m.push(S),nt.test(e.charAt(s))?(S=e.charAt(s),s++):(S=t,y===0&&x(rt));else m=t;m!==t?(e.charCodeAt(s)===34?(S=et,s++):(S=t,y===0&&x(tt)),S!==t?(v=o,a=pn(m),o=a):(s=o,o=t)):(s=o,o=t)}else s=o,o=t;else s=o,o=t;return o}function E(){let o,a,l;for(y++,o=s,a=[],u.test(e.charAt(s))?(l=e.charAt(s),s++):(l=t,y===0&&x(f));l!==t;)a.push(l),u.test(e.charAt(s))?(l=e.charAt(s),s++):(l=t,y===0&&x(f));return a!==t&&(v=o,a=dn()),o=a,y--,o===t&&(a=t,y===0&&x(un)),o}if(fe=c(),fe!==t&&s===e.length)return fe;throw fe!==t&&s<e.length&&x(mn()),it(Ie,O<e.length?e.charAt(O):null,O<e.length?ae(O,O+1):ae(O,O))}var ve=Mn;var Lt=`/* css for errors */
.error-wrapper{
    display:flex;
    flex-direction:column;
    margin:2vw;
    font-size:inherit;
}

.error{
    font-size:1.2em;
}
`;function _t(){Array.from(document.getElementsByTagName("bsltree")).map(e=>{try{let n=ve(Y(e.innerHTML)),t=jn(n),r=e.getAttribute("quiz")==="true",i=e.getAttribute("lang")?e.getAttribute("lang"):void 0;be(t,e,zn,r,i)}catch(n){Hn(e,`${n.location.start.line}:${n.location.start.column} ${n}`)}})}function Hn(e,n){if(!document.getElementById("bsl-tools-error-style")){let f=document.createElement("style");f.innerHTML=Lt,f.id="bsl-tools-error-style",document.getElementsByTagName("head")[0].appendChild(f)}let t=e.innerHTML;e.innerHTML="";let r=document.createElement("div");r.classList.add("error-wrapper"),e.appendChild(r);let i=`<p> BSL-Tree could not be parsed! </p>
                  <p> Input: <b style="font-size:0.9em;">${t}</b> </p>`,c=document.createElement("div");c.classList.add("origin"),c.innerHTML=i,r.appendChild(c);let p=document.createElement("pre");p.classList.add("error");let u=document.createElement("code");u.textContent=n,r.appendChild(p),p.appendChild(u)}var zn={"<program>":["<def-or-expr>*"],"<def-or-expr>*":[],"<def-or-expr>":["<definition>","<e>"],"<definition>":["(define (<name> <name>+) <e>)","(define <name> <e>)","(define-struct <name> (<name>*))"],"<e>":["(name <e>*)","(cond {[<e>,<e>]}+)","<name>","<v>"],"<e>*":[],"{[ <e> <e> ]}+":[],"[ <e> <e> ]":[],"<name>*":[],"<name>+":[],"<name>":[],"<v>":[]};function jn(e){let n=e.map(ne),t=[],r="";for(let i=0;i<n.length;i++){i>0&&(r=`${r}
`);let c=r.length;r=`${r}${n[i]}`;let p=r.length;t.push({start:c,end:p})}return{production:"<program>",code:r,holes:[{start:0,end:r.length,content:{production:"<def-or-expr>*",code:r,holes:t.map((i,c)=>({start:i.start,end:i.end,content:Vn(e[c])}))}}]}}function Vn(e){let n=ne(e);return{production:"<def-or-expr>",code:n,holes:[{start:0,end:n.length,content:ge(e)?qn(e):oe(e)}]}}function qn(e){let n="",t=[];if(W(e)){n="(define (";let r=n.length;n=`${n}${C(e.name)}`,t.push({start:r,end:n.length,content:ee(e.name)}),n=`${n} `,r=n.length,n=`${n}${e.args.map(C).join(" ")}`,t.push({start:r,end:n.length,content:Kn(e.args)}),n=`${n}) `,r=n.length,n=`${n}${L(e.body)}`,t.push({start:r,end:n.length,content:oe(e.body)}),n=`${n})`}else if(z(e)){n="(define ";let r=n.length;n=`${n}${C(e.name)}`,t.push({start:r,end:n.length,content:ee(e.name)}),n=`${n} `,r=n.length,n=`${n}${L(e.value)}`,t.push({start:r,end:n.length,content:oe(e.value)}),n=`${n})`}else{n="(define-struct ";let r=n.length;n=`${n}${C(e.binding)}`,t.push({start:r,end:n.length,content:ee(e.binding)}),n=`${n} (`,r=n.length,n=`${n}${e.properties.map(C).join(" ")}`,t.push({start:r,end:n.length,content:Jn(e.properties)}),n=`${n}))`}return{production:"<definition>",code:n,holes:t}}function oe(e){let n="",t=[];if(G(e)){n="(";let r=n.length;n=`${n}${C(e.name)}`,t.push({start:r,end:n.length,content:ee(e.name)}),n=`${n} `,r=n.length,n=`${n}${e.args.map(L).join(" ")}`,t.push({start:r,end:n.length,content:Wn(e.args)}),n=`${n})`}else if(Q(e)){n="(cond ";let r=n.length;n=`${n}${e.options.map(X).join(" ")}`,t.push({start:r,end:n.length,content:Gn(e.options)}),n=`${n})`}else q(e)?(n=C(e),t.push({start:0,end:n.length,content:ee(e)})):(n=L(e),t.push({start:0,end:n.length,content:Xn(e)}));return{production:"<e>",code:n,holes:t}}function ee(e){return{production:"<name>",code:C(e),holes:[]}}function Kn(e){e.length<1&&console.error("<name>+ but used but names are empty");let n="",t=[];for(let r=0;r<e.length;r++){let i=n.length;n=`${n}${C(e[r])}`,t.push({start:i,end:n.length,content:ee(e[r])}),r<e.length-1&&(n=`${n} `)}return{production:"<name>+",code:n,holes:t}}function Jn(e){let n="",t=[];for(let r=0;r<e.length;r++){let i=n.length;n=`${n}${C(e[r])}`,t.push({start:i,end:n.length,content:ee(e[r])}),r<e.length-1&&(n=`${n} `)}return{production:"<name>*",code:n,holes:t}}function Wn(e){let n="",t=[];for(let r=0;r<e.length;r++){let i=n.length;n=`${n}${L(e[r])}`,t.push({start:i,end:n.length,content:oe(e[r])}),r<e.length-1&&(n=`${n} `)}return{production:"<e>*",code:n,holes:t}}function Gn(e){let n="",t=[];for(let r=0;r<e.length;r++){let i=n.length;n=`${n}${X(e[r])}`,t.push({start:i,end:n.length,content:Qn(e[r])}),r<e.length-1&&(n=`${n} `)}return{production:"{[ <e> <e> ]}+",code:n,holes:t}}function Qn(e){let n="",t=[];n=`${n}[`;let r=n.length;return n=`${n}${L(e.condition)}`,t.push({start:r,end:n.length,content:oe(e.condition)}),n=`${n} `,r=n.length,n=`${n}${L(e.result)}`,t.push({start:r,end:n.length,content:oe(e.result)}),n=`${n}]`,{production:"[ <e> <e> ]",code:n,holes:t}}function Xn(e){return{production:"<v>",code:L(e),holes:[]}}function Et(){Array.from(document.getElementsByTagName("jsontree")).map(e=>{try{let n=Yn(Y(e.innerHTML)),t=n.root,r=n.grammar,i=e.getAttribute("quiz")==="true",c=e.getAttribute("lang")?e.getAttribute("lang"):void 0;be(t,e,r,i,c)}catch(n){console.error(n),e.innerHTML=`${n}`,e.style.cssText=`
        padding: 2em;
        color: darkred;
        display: block;
      `}})}function Yn(e){let n=JSON.parse(e.trim()),t=n.grammar;return{root:$t(n),grammar:t}}function $t(e){let n=e.production;if(!n||typeof n!="string")throw`${JSON.stringify(e,void 0,2).replaceAll(`
`,"<br>")} has wrong structure, production needs to be a string`;let t=e.code;if(!t||typeof t!="string")throw`${JSON.stringify(e,void 0,2).replaceAll(`
`,"<br>")} has wrong structure, code needs to be a string`;e.holes||(e.holes=[]);let r=t.split("|"),i="",c=[];for(let p=0;p<r.length;p++)if(i=`${i}${r[p]}`,p++,p<r.length&&r[p]){let u=i.length;i=`${i}${r[p]}`;let f=e.holes[c.length];if(!f)throw`${JSON.stringify(e,void 0,2).replaceAll(`
`,"<br>")} has wrong structure: less holes than marked with || in the code`;c.push({start:u,end:i.length,content:$t(f)})}return{production:n,code:i,holes:c}}function Ce(e){return e.type==="DefinitionStep"}function Le(e){return e.type==="EvalStep"}function le(e){return e.type==="CallRedex"}function ce(e){return e.type==="CondRedex"}function pe(e){return e.type==="NameRedex"}function _e(e){return e.type==="Hole"}function Ee(e){return e.type==="AppContext"}function $e(e){return e.type==="CondContext"}function Ae(e){return e.type==="Split"}function At(e){return e.type==="Prim"||e.type==="CondTrue"||e.type==="CondFalse"||e.type==="CondError"||e.type==="Const"}function De(e){return e.type==="Kong"}function k(e){return typeof e=="number"||typeof e=="string"||typeof e=="boolean"||e==="'()"}function ue(e){return e.type==="Identifier"}function Bt(e,n){let t=JSON.parse(JSON.stringify(e)),r={};for(;t.length>0;){let c=n.stepperTree,p=t.shift(),u=er(p,r);if(u instanceof Error)return u;r=u.env,c.push(u),console.log("progStep",u),console.log("env",r),n.stepperTree=c}return{type:"Stepper",root:n.root,originProgram:n.originProgram,stepperTree:n.stepperTree}}function er(e,n){if(Se(e)){let t=wt(e,n);if(console.log("exprStep:",t),t instanceof Error)return t;if(t.length===0)return{type:"ExprStep",env:n,evalSteps:[],originalDefOrExpr:e,result:It(e,n)};{let r=t[t.length-1].result;return Se(r)?new Error("Result is not a value"):{type:"ExprStep",env:t[t.length-1].env,evalSteps:t,originalDefOrExpr:e,result:r}}}else{console.log("definition",e);let t=tr(e,n);return t instanceof Error||console.log("defStep",t),t}}function tr(e,n){if(z(e)){let t=e.name,r=e.value;if(console.log("name",t+"expr",r),I(r)){let i=r.value,c=Rt(n,t.symbol,i);return c instanceof Error?c:{type:"DefinitionStep",env:c,evalSteps:[],originalDefOrExpr:e,result:e}}else{let i=wt(r,n);if(i instanceof Error)return i;{let c=i[i.length-1].result;if(k(c)){let p=Rt(n,t.symbol,c);if(p instanceof Error)return p;{let u={type:"Constant Definition",name:t,value:{type:"Literal Value",value:c}};return{type:"DefinitionStep",env:p,evalSteps:i,originalDefOrExpr:e,result:u}}}else return Error("calculateDefSteps: Last ExprStep is an Expr, not a Value")}}}else return W(e)?e.name.symbol in n?Error("calculateDefSteps: name already bound"):Error("calculateDefSteps: function definition not defined"):Error("calculateDefSteps: struct definition not defined")}function wt(e,n){let t=[],r=e;for(;!k(r);){let i=It(r,n);if(k(i))r=i;else if(Le(i))if(i.result instanceof Error){t.push(i);break}else r=i.result,t.push(i);else return i}return t}function It(e,n){if(I(e))return console.log("evaluateExpression: Literal",e),e.value;{let t=Oe(e);if(Ae(t)){let r=nr(t.redex,n);if(At(r)){let i=kt(r,t.context,n);return console.log("exprStep",i),Le(i),i}else return r}else return t}}function Oe(e){let n={type:"Hole"};if(G(e)){let t=e.name,r=e.args,i=[],c={},p=[],u=!1;if(r.map(f=>{!u&&I(f)?i.push(f.value):u?p.push(f):(u=!0,c=f)}),u==!1){let f={type:"CallRedex",name:t,args:i};return{type:"Split",redex:f,context:n}}else{let f=Oe(c);return Ae(f)?{type:"Split",redex:f.redex,context:{type:"AppContext",op:t,values:i,ctx:f.context,args:p}}:f}}else if(Q(e)){let t=e.options[0];if(I(t.condition))return{type:"Split",redex:{type:"CondRedex",options:e.options},context:n};{let r=Oe(t.condition);return Ae(r)?{type:"Split",redex:r.redex,context:{type:"CondContext",options:e.options,ctx:r.context}}:r}}else return q(e)?{type:"Split",context:n,redex:{type:"NameRedex",symbol:e.symbol}}:Error("split: neither a call nor a cond nor name")}function nr(e,n){if(le(e))if(e.args.every(r=>k(r))){let r=e.args;console.log("step: CallRedex has no names");let i=rr(e.name,r);return k(i)?{type:"Prim",redex:e,result:i}:Error("step: prim is not applicable")}else{console.log("step: env:"+JSON.stringify(n));let r=Fe(e,n);return r instanceof Error?r:{type:"Const",redex:e,result:r}}else if(ce(e))if(I(e.options[0].condition)){let t=or(e);if(t==null){let r=e.options.slice(1);if(r.length<1)return{type:"CondError",redex:e,result:Error("cond: all question results were false")};let i={type:"Cond-Expression",options:r};return{type:"CondFalse",redex:e,result:i}}else return Se(t)||k(t)?{type:"CondTrue",redex:e,result:t}:Error("step: cond is not applicable")}else{let t=Fe(e,n);return t instanceof Error?t:{type:"Const",redex:e,result:t}}else if(pe(e)){let t=Fe(e,n);return t instanceof Error?t:{type:"Const",redex:e,result:t}}else return Error("step: redex is neither a call nor cond nor name")}function kt(e,n,t){if(console.log("plug: oneRule: "+JSON.stringify(e)),_e(n))return{type:"EvalStep",env:t,rule:e,result:e.result};{let r=kt(e,n.ctx,t);if(Le(r)){if(r.result instanceof Error)return r;if(Ee(n)){let c=[n.values,r.result,n.args].flat().map(u=>k(u)?{type:"Literal Value",value:u}:ue(u)?{type:"Symbol",symbol:u.symbol}:u),p={type:"Function Call",name:n.op,args:c};return console.log("plug: env: "+JSON.stringify(t)),{type:"EvalStep",env:t,rule:{type:"Kong",context:n,redexRule:e},result:p}}else if($e(n)){let i=n.options,c=k(r.result)?{type:"Literal Value",value:r.result}:r.result,u=[{type:"Cond-Option",condition:c,result:i[0].result},...i.slice(1)],f={type:"Cond-Expression",options:u};return{type:"EvalStep",env:t,rule:{type:"Kong",context:n,redexRule:e},result:f}}else return Error("plug: context is not an AppContext or CondContext")}else return r}}function rr(e,n){if(e.symbol==="+"){let t=0;return n.forEach(r=>{if(typeof r=="number")t+=r;else return Error("error: argument is not a number: "+r)}),t}else if(e.symbol==="*"){let t=1;return n.forEach(r=>{if(typeof r=="number")t*=r;else return Error("error: argument is not a number: "+r)}),t}else if(e.symbol==="-"){let t=n[0];for(let r=1;r<n.length;r++){let i=n[r];if(typeof i=="number"&&typeof t=="number")t-=i;else return Error("error: argument is not a number: "+n[r])}return t}else if(e.symbol==="/"){let t=n[0];for(let r=1;r<n.length;r++){let i=n[r];if(typeof t=="number"&&typeof i=="number"&&i!=0)t/=i;else return i==0?Error("error: division by zero"):Error("error: argument is not a number: "+i)}return t}else{if(e.symbol==="and")return n.every(t=>typeof t=="boolean")?n.length>=2?!!n.every(t=>t):Error(`prim: ${e.symbol} needs at least two arguments`):Error("prim: 'and' needs boolean arguments");if(e.symbol==="or")return n.every(t=>typeof t=="boolean")?n.length>=2?!!n.some(t=>t):Error("prim: 'or' needs at least two arguments"):Error("prim: 'or' needs boolean arguments");if(e.symbol==="not")return typeof n[0]=="boolean"?n.length==1?!n[0]:Error("prim: 'not' needs exactly one argument"):Error("prim: 'not' needs boolean argument");if(["<",">","<=",">="].includes(e.symbol)){if(n.length!==2)return Error(`prim: ${e.symbol} needs exactly two arguments`);let t=n[0],r=n[1];if(typeof t!="number"||typeof r!="number")return Error(`prim: ${e.symbol} needs two numbers, but received ${t} and ${r}`);switch(e.symbol){case"<":return t<r;case"<=":return t<=r;case">=":return t>=r;case">":return t>r;default:return!0}}else return Error("prim: this function is not implemented")}}function or(e){let n=e.options[0];return I(n.condition)&&n.condition.value==!0?I(n.result)?n.result.value:n.result:I(n.condition)&&n.condition.value==!1?void 0:Error("error: condition is not a boolean")}function Fe(e,n){if(le(e)){let r=e.args.filter(c=>ue(c))[0],i=Me(n,r.symbol);if(i instanceof Error)return i;{let c=e.args.map(p=>ue(p)&&p.symbol===r.symbol?{type:"Literal Value",value:i}:ue(p)?{type:"Symbol",symbol:p.symbol}:{type:"Literal Value",value:p});return{type:"Function Call",name:e.name,args:c}}}else if(ce(e)){let t=e.options[0].condition;if(q(t)){let r=Me(n,t.symbol);if(r instanceof Error)return r;{let i={type:"Literal Value",value:r},c={type:"Cond-Option",condition:i,result:e.options[0].result};return{type:"Cond-Expression",options:[c]}}}else return Error("substConst: condition is not a name")}else if(pe(e)){let t=Me(n,e.symbol);return t instanceof Error?t:{type:"Literal Value",value:t}}else return Error("substConst: redex is not a call or cond or name")}function Rt(e,n,t){if(e[n]===void 0){let r=V({},e);return r[n]=t,console.warn("addToEnv: "+n+":"+t+" added to "+JSON.stringify(e)),console.warn("addToEnv: newEnv = "+JSON.stringify(r)),r}else return Error("addToEnv: name already exists in environment")}function Me(e,n){return n in e?(console.warn("lookupEnv: "+n+" found in "+JSON.stringify(e)),e[n]):Error("lookupEnv: name is not bound in environment")}var Ut=`/* ######### colors ####### */
.stepper {
  /* --branch-color: #666; */
  --box-background: #ebf0f4; /* racket azure */
  --box-border: #0d3657;
  --button-border: #0d3657;
  --text-grey: #444; /* like in scribble */
  --hole-yellow: #fdf68d; /* pale yellow */
  --hole-green: lightgreen;
  --hole-red: lightpink;
  /* --highlight-border-connectors: lime;
  --wrong-background: red;
  --correct-background: lime;
  --hole-selection-background: white; */
}
/* ####### general layout ####### */
div.stepper {
  text-align: center;
  font-size: 1.2em;
  box-sizing: border-box;
  font-family: sans-serif;
}
/* ##### boxes ###### */
.stepper .box {
  text-align: left;
  background-color: var(--box-background);
  padding: 0.5em;
  padding-top: 1em;
  border: 1px solid var(--box-border);
  border-radius: 0.5em;
  position: relative;
  margin-bottom: 1.5em;
}
.stepper .boxlabel {
  position: absolute;
  top: -1em;
  left: 0.5em;
  padding: 0.25em;
  border: 0px solid transparent;
  border-radius: 0.25em;
  background-color: var(--box-background);
  color: var(--box-border);

}
/* single step */
.stepper .step {
  margin-bottom: 0.5em;
  position: relative;
  background-color: white;
  padding: 0.5em;
}

/* ####### buttons ###### */
.stepper .step[data-currentStep="true"] {
  padding-top: 1.5em;
  margin-top: 1.5em;
  padding-bottom: 1em;
  margin-bottom: 1.5em;

}
.stepper .prev-button, .stepper .next-button {
  display: none;
}
.stepper [data-currentStep="true"] .prev-button, .stepper [data-currentStep="true"] .next-button {
  position: absolute;
  display: inline-block;
  right: 2em;
  padding: 0.5em;
  font-size: small;
  border: 1px solid var(--button-border);
  background-color: white;
  border-radius: 0.25em;
}
.stepper .prev-button:hover, .stepper .next-button:hover {
  cursor: pointer;
}
.stepper .prev-button {
  top: -1em;
}
/* second child because of box label */
.stepper .step:nth-child(2) .prev-button {
  top: -5em;
}
.stepper .step:nth-child(2) .prev-button::after {
  content: ' (PROG)';
}
.stepper .next-button {
  bottom: -1em;
}
.stepper .step:last-child .next-button {
  bottom: -4em;
}
.stepper .step:last-child .next-button::after {
  content: ' (PROG)';
}
.stepper .icon {
  display: inline-block;
  height: 1em;
}
.stepper .split-result .icon {
  opacity: 70%;
}
.stepper [data-visible="false"] {
  display: none;
}

/* ######### code and rules ####### */
.stepper .code {
  font-family: 'Fira Sans', monospace;
  color: var(--text-grey);
}
.stepper .plug-result {
  position: relative;
  z-index: 2;
}
.stepper .hole {
  display: inline-block;
  background-color: var(--hole-yellow);
  /* border: 1px solid var(--text-grey); */
  color: var(--text-grey);
  padding-left: 0.25em;
  padding-right: 0.25em;
  position: relative;
}
.stepper .hole-result {
  background-color: var(--hole-green);
}
.stepper .hole-error {
  background-color: var(--hole-red);
}
.stepper .rule {
  display: inline-block;
  position: relative;
  padding-left: .5em;
  width: fit-content;
  white-space: nowrap;
  margin-top: 1em;
  margin-bottom: 1.5em;
}
.stepper .kong {
  position: absolute;
  left: 0;
  top: 0;
  padding-left: 0;
  background-color: rgba(255,255,255,0.5);
}
.stepper .one-rule {
  margin-left: var(--one-rule-margin-left, 4em);
}
.stepper .rule-description {
  font-family: 'Fira Mono', monospace;
}

/* arrow body */
.stepper .left-arrowed::before {
  position: absolute;
  content: '';
  left: 0;
  top: -0.5em;
  height: 2.5em;
  border-left: 2px solid var(--text-grey);
  z-index: -1;
}
.stepper .kong::before {
  left: 0.35em;
  border-left: 2px dotted var(--text-grey);
}

/* arrow head */
.stepper .left-arrowed::after {
  position: absolute;
  content: '';
  left: calc(2px - 0.35em); /*-0.35em; /* ca. sqrt(2)/2 * 0.5em */
  top: 1.5em;
  width: 0.5em;
  height: 0.5em;
  border-right: 2px solid var(--text-grey);
  border-bottom: 2px solid var(--text-grey);
  transform: rotate(45deg);
}
.stepper .kong::after {
  left: 2px;
}
/* rule info */
.stepper .info-toggle {
  margin-top: 1em;
  margin-bottom: 1.5em;
  margin-left: 0.5em;
  float: right;
}
.stepper .info-toggle:hover {
  cursor: pointer;
}
.stepper .rule-info {
  padding: 0.5em;
}
.stepper .rule-info-rule-text {
  font-family: Palatino,Georgia,"Times New Roman",serif;
}
.stepper .rule-info-rule-text small {
  vertical-align: sub;
}
.stepper cap {
  font-variant-caps: small-caps;
}
.stepper .rule-info-rule-name {
  position: absolute;
  left: -6em;
  top: 0;
}
.stepper .rule-info-text-container {
  position: relative;
  margin-left: 6em;
  margin-bottom: 1em;
}
/* .stepper .rule-info strong {
  font-family: sans-serif;
  font-style: normal;
} */

/* ##### showing and hiding stuff #### */
/* hide steps that are not yet reached */
.stepper .step[data-currentStep="true"] ~ .step {
  display: none;
}
/* collapsing and expanding steps */
.stepper .step[data-collapsed="true"] .plug-result {
  display: none;
}
.stepper .expander, .stepper .collapser {
  padding-left: 0.25em;
  padding-right: 0.25em;
  float: right;
}
.stepper .expander:hover, .stepper .collapser:hover {
  cursor: pointer;
}
.stepper .step[data-collapsed="true"] .collapser {
  display: none;
}
.stepper .step[data-collapsed="false"] .expander {
  display: none;
}
/* collapsing and expanding info about the rules */
.stepper .plug-result[data-info-collapsed="true"] .rule-info,
.stepper .plug-result[data-info-collapsed="true"] .info-collapse {
  display: none;
}
.stepper .plug-result[data-info-collapsed="false"] .info-expand {
  display: none;
}
`;var Pe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODQgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMzUyIDM1MmMtOC4xODggMC0xNi4zOC0zLjEyNS0yMi42Mi05LjM3NUwxOTIgMjA1LjNsLTEzNy40IDEzNy40Yy0xMi41IDEyLjUtMzIuNzUgMTIuNS00NS4yNSAwcy0xMi41LTMyLjc1IDAtNDUuMjVsMTYwLTE2MGMxMi41LTEyLjUgMzIuNzUtMTIuNSA0NS4yNSAwbDE2MCAxNjBjMTIuNSAxMi41IDEyLjUgMzIuNzUgMCA0NS4yNUMzNjguNCAzNDguOSAzNjAuMiAzNTIgMzUyIDM1MnoiLz48L3N2Zz4=";var Re="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODQgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMTkyIDM4NGMtOC4xODggMC0xNi4zOC0zLjEyNS0yMi42Mi05LjM3NWwtMTYwLTE2MGMtMTIuNS0xMi41LTEyLjUtMzIuNzUgMC00NS4yNXMzMi43NS0xMi41IDQ1LjI1IDBMMTkyIDMwNi44bDEzNy40LTEzNy40YzEyLjUtMTIuNSAzMi43NS0xMi41IDQ1LjI1IDBzMTIuNSAzMi43NSAwIDQ1LjI1bC0xNjAgMTYwQzIwOC40IDM4MC45IDIwMC4yIDM4NCAxOTIgMzg0eiIvPjwvc3ZnPg==";var Nt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNNDMyIDI1NmMwIDE3LjY5LTE0LjMzIDMyLjAxLTMyIDMyLjAxSDI1NnYxNDRjMCAxNy42OS0xNC4zMyAzMS45OS0zMiAzMS45OXMtMzItMTQuMy0zMi0zMS45OXYtMTQ0SDQ4Yy0xNy42NyAwLTMyLTE0LjMyLTMyLTMyLjAxczE0LjMzLTMxLjk5IDMyLTMxLjk5SDE5MnYtMTQ0YzAtMTcuNjkgMTQuMzMtMzIuMDEgMzItMzIuMDFzMzIgMTQuMzIgMzIgMzIuMDF2MTQ0aDE0NEM0MTcuNyAyMjQgNDMyIDIzOC4zIDQzMiAyNTZ6Ii8+PC9zdmc+";var Dt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNNDAwIDI4OGgtMzUyYy0xNy42OSAwLTMyLTE0LjMyLTMyLTMyLjAxczE0LjMxLTMxLjk5IDMyLTMxLjk5aDM1MmMxNy42OSAwIDMyIDE0LjMgMzIgMzEuOTlTNDE3LjcgMjg4IDQwMCAyODh6Ii8+PC9zdmc+";var Ft="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMjU2IDBDMTE0LjYgMCAwIDExNC42IDAgMjU2czExNC42IDI1NiAyNTYgMjU2czI1Ni0xMTQuNiAyNTYtMjU2UzM5Ny40IDAgMjU2IDB6TTI1NiAxMjhjMTcuNjcgMCAzMiAxNC4zMyAzMiAzMmMwIDE3LjY3LTE0LjMzIDMyLTMyIDMyUzIyNCAxNzcuNyAyMjQgMTYwQzIyNCAxNDIuMyAyMzguMyAxMjggMjU2IDEyOHpNMjk2IDM4NGgtODBDMjAyLjggMzg0IDE5MiAzNzMuMyAxOTIgMzYwczEwLjc1LTI0IDI0LTI0aDE2di02NEgyMjRjLTEzLjI1IDAtMjQtMTAuNzUtMjQtMjRTMjEwLjggMjI0IDIyNCAyMjRoMzJjMTMuMjUgMCAyNCAxMC43NSAyNCAyNHY4OGgxNmMxMy4yNSAwIDI0IDEwLjc1IDI0IDI0UzMwOS4zIDM4NCAyOTYgMzg0eiIvPjwvc3ZnPg==";var Mt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMCAyNTZDMCAxMTQuNiAxMTQuNiAwIDI1NiAwQzM5Ny40IDAgNTEyIDExNC42IDUxMiAyNTZDNTEyIDM5Ny40IDM5Ny40IDUxMiAyNTYgNTEyQzExNC42IDUxMiAwIDM5Ny40IDAgMjU2ek0xNzUgMjA4LjFMMjIyLjEgMjU1LjFMMTc1IDMwM0MxNjUuNyAzMTIuNCAxNjUuNyAzMjcuNiAxNzUgMzM2LjFDMTg0LjQgMzQ2LjMgMTk5LjYgMzQ2LjMgMjA4LjEgMzM2LjFMMjU1LjEgMjg5LjlMMzAzIDMzNi4xQzMxMi40IDM0Ni4zIDMyNy42IDM0Ni4zIDMzNi4xIDMzNi4xQzM0Ni4zIDMyNy42IDM0Ni4zIDMxMi40IDMzNi4xIDMwM0wyODkuOSAyNTUuMUwzMzYuMSAyMDguMUMzNDYuMyAxOTkuNiAzNDYuMyAxODQuNCAzMzYuMSAxNzVDMzI3LjYgMTY1LjcgMzEyLjQgMTY1LjcgMzAzIDE3NUwyNTUuMSAyMjIuMUwyMDguMSAxNzVDMTk5LjYgMTY1LjcgMTg0LjQgMTY1LjcgMTc1IDE3NUMxNjUuNyAxODQuNCAxNjUuNyAxOTkuNiAxNzUgMjA4LjFWMjA4LjF6Ii8+PC9zdmc+";function Ht(){Array.from(document.getElementsByTagName("stepper")).map(e=>{try{let n=ve(Y(e.innerHTML));console.log(re(mt(n),30)),dr(n,e)}catch(n){let t;n?(console.error(n),t=`${n}`):(console.log("Unknown error"),t="Unknown Error"),e.innerHTML=`
        <h3>Error turning Program into Stepper</h3>
        <div>${e.innerHTML}</div>
        <div>${t}</div>
      `,e.style.cssText=`
        padding: 2em;
        color: darkred;
        display: block;
      `}})}function dr(e,n){if(!document.getElementById("bsl-tools-stepper-style")){let p=document.createElement("style");p.innerHTML=Ut,p.id="bsl-tools-stepper-style",document.getElementsByTagName("head")[0].appendChild(p)}let t=e[0];console.log("expression",t);let r={type:"Stepper",root:n,originProgram:e,stepperTree:[]},i=Bt(e,r);if(i instanceof Error)throw i;console.log("stepper",i);let c=n.getAttribute("lang");c?Ot.includes(c)||(console.error(`
        Language ${c} is not implemented for this module,
        you can choose from ${Ot.join(",")}.
        Defaulting to 'en'.
      `),c="en"):c="en",fr(n),n.innerHTML=mr(i,c)}var Ot=["en","de"],U={en:{"current evaluation":"Current Evaluation","next step":"Next Step","previous step":"Previous Step",environment:"Environment","remaining program":"Remaining Program","start evaluation":"Start Evaluation","evaluation finished":"Evaluation Finished","go back":"Go Back"},de:{"current evaluation":"Aktuelle Auswertung","next step":"N\xE4chster Schritt","previous step":"Vorheriger Schritt",environment:"Umgebung","remaining program":"\xDCbriges Programm","start evaluation":"Auswertung Starten","evaluation finished":"Auswertung Beendet","go back":"Schritt zur\xFCck"}},Be=12,te=80;function fr(e){e.innerHTML=`
    <div class="stepper" style="width: 100%;">
      <div class="box">
        <div class="step code"
             data-currentStep="true">
          <p style="display: inline-block;">Loading...</p>
        </div>
      </div>
    </div>
  `;let n=e.getElementsByTagName("p")[0],t=e.getElementsByClassName("stepper")[0];if(!n||!t){console.error("failed to inject measuring HTML into",e);return}Be=n.clientWidth/10,console.log(`Found that 1em is ${Be} wide`);let r=.9;te=Math.round(r*t.clientWidth/Be),console.log(`
    That means to fill ${r} of the available width,
    we may print at most ${te} characters.
  `)}function mr(e,n){let t=e.stepperTree;return`<div class="stepper">

       <div class="box environment">
         <div class="boxlabel">${U[n].environment}</div>
         ${t.map(gr).join("")}
       </div>

       <div class="box expression-steps"
            data-progstep="-1"
            data-visible="true">
         <div class="boxlabel">${U[n]["current evaluation"]}</div>
         <div class="step"
              data-currentStep="true">
           <div class="next-button"
                onclick="gotoExpression(event, 1)">
             ${U[n]["start evaluation"]} <img class="icon" src="${Re}">
           </div>
         </div>
       </div>

       ${t.map((i,c)=>yr(i,c,n)).join("")}

       <div class="box expression-steps"
            data-progstep="${t.length}"
            data-visible="false">
         <div class="boxlabel">${U[n]["current evaluation"]}</div>
         <div class="step"
              data-currentStep="true">
            <div class="code">${U[n]["evaluation finished"]}</div>
            <div class="prev-button"
                 onclick="gotoExpression(event, -1)">
              ${U[n]["go back"]} <img class="icon" src="${Pe}">
            </div>
         </div>
       </div>

       <div class="box program">
         <div class="boxlabel">${U[n]["remaining program"]}</div>
         ${t.map(Sr).join("")}
       </div>

    </div>`}window.gotoExpression=(e,n)=>{He(e,n)};function gr(e,n){return Ce(e)?`
      <div class="step code"
           data-progstep="${n}"
           data-visible="false">
        ${re(F(xe(e.result)),te,"html")}
      </div>
    `:""}function Sr(e,n){return`
    <div class="step code"
         data-progstep="${n}"
         data-visible="true">
      ${re(F(ne(e.originalDefOrExpr)),te,"html")}
    </div>
  `}function yr(e,n,t){function r(c){return z(c)?{left:`(define ${c.name.symbol} `,right:")"}:{left:"",right:""}}let i=Ce(e)?r(e.originalDefOrExpr):{left:"",right:""};return`
    <div class="box expression-steps"
         data-progstep="${n}"
         data-visible="false">
      <div class="boxlabel">${U[t]["current evaluation"]}</div>
      ${e.evalSteps.map((c,p)=>xr(p,c,t,V({},i))).join("")}
      <div class="step"
           data-step="${e.evalSteps.length}"
           data-currentStep="${e.evalSteps.length===0?"true":"false"}"
           data-collapsed="false">
        <div class="prev-button"
             onclick="prevStep(event)">
          ${U[t]["previous step"]} <img class="icon" src="${Pe}">
        </div>
        <div class="next-button"
             onclick="nextStep(event)">
          ${U[t]["next step"]} <img class="icon" src="${Re}">
        </div>

        <div class="split-result code">
          ${Ce(e)?xe(e.result):`${e.result instanceof Error?e.result:he(e.result)}`}
        </div>
      </div>
    </div>
  `}function He(e,n){let t=e.target,r=t.getBoundingClientRect().y,i=w(t,"expression-steps");if(!i){console.error("found no parent with class .expression-steps",t);return}let c=i.getAttribute("data-progstep");if(!c){console.error("div with class .expression-steps has no data-progstep attribute",i);return}let u=parseInt(c)+n;if(u<-1){console.error(`cannot navigate to progStep ${u}: does not exist`);return}B([i],"../.environment/div").map(f=>{let h=f.getAttribute("data-progstep");h&&(parseInt(h)<u?f.setAttribute("data-visible","true"):f.setAttribute("data-visible","false"))}),B([i],"../.program/div").map(f=>{let h=f.getAttribute("data-progstep");h&&(parseInt(h)<=u?f.setAttribute("data-visible","false"):f.setAttribute("data-visible","true"))}),B([i],"../.expression-steps").map(f=>{let h=f.getAttribute("data-progstep");h&&(parseInt(h)===u?(f.setAttribute("data-visible","true"),Array.from(f.children).filter(g=>g.getAttribute("data-currentstep")==="true").map(g=>{let d=g.querySelector(n>0?".next-button":".prev-button");if(!d)return;let b=d.getBoundingClientRect().y;window.scrollBy(0,b-r)})):f.setAttribute("data-visible","false"))})}function xr(e,n,t,r={left:"",right:""}){let i=De(n.rule)?zt(n.rule.context,r):r,c=De(n.rule)?n.rule.redexRule:n.rule,p=F(hr(c.redex));function u(M){return k(M)?`${i.left}<span class="hole hole-result">${he(M)}</span>${i.right}`:M instanceof Error?`<span class="hole hole-result hole-error">"${M}"</span>`:`${i.left}<span class="hole hole-result">${F(L(M))}</span>${i.right}`}let f=u(c.result),h=c.type,g=re(`${i.left}<span class="hole">${p}</span>${i.right}`,te,"html"),d=re(f,te,"html"),b=d.slice(0,d.indexOf('<span class="hole hole-result')).split("<br>").reverse()[0],T=b?Y(b).length:0,A=4,P=i.left.length>0&&T<A?A:T,ie=te-P-se[h].name.length-5,N=p.length+f.length<=ie;return`
    <div class="step"
         data-step="${e}"
         data-currentStep="${e===0?"true":"false"}"
         data-collapsed="false">
      <div class="prev-button"
           onclick="prevStep(event)">
        ${U[t]["previous step"]} <img class="icon" src="${Pe}">
      </div>
      <div class="next-button"
           onclick="nextStep(event)">
        ${U[t]["next step"]} <img class="icon" src="${Re}">
      </div>

      <div class="split-result code">${g}<img class="icon expander"
              src="${Nt}"
              onclick="expand(event)"
        ><img class="icon collapser"
              src="${Dt}"
              onclick="collapse(event)"
      ></div>

      <div class="plug-result code"
           data-info-collapsed="true">
        <div>
          ${i.left!==""?`<span class="rule rule-name left-arrowed kong">
                 ${se.Kong.name}
              </span>`:""}

          <span class="rule left-arrowed one-rule"
                style="--one-rule-margin-left: ${P*Be}px">
             <span class="rule-name">${se[h].name}</span>${N?`:
               <span class="rule-description">
                 <span class="hole rule-hole">${p}</span> \u2192
                 <span class="hole hole-result rule-hole">${f}</span>
               </span>`:""}
           </span>

           <img src="${Ft}"
                class="icon info-toggle info-expand"
                onclick="expandInfo(event)">
           <img src="${Mt}"
                class="icon info-toggle info-collapse"
                onclick="collapseInfo(event)">

        </div>
        ${Tr(h,i.left!=="")}
        <div>${d}</div>
      </div>

    </div>
  `}window.nextStep=e=>{let n=e.target,t=n.getBoundingClientRect().y,r=w(n,"step");if(r&&r.nextElementSibling){r.setAttribute("data-currentStep","false"),r.setAttribute("data-collapsed","true"),r.nextElementSibling.setAttribute("data-currentStep","true"),r.nextElementSibling.setAttribute("data-collapsed","false");let i=r.nextElementSibling.querySelector(".next-button");if(!i)return;let c=i.getBoundingClientRect().y;window.scrollBy(0,c-t)}else r&&!r.nextElementSibling&&He(e,1)};window.prevStep=e=>{let n=e.target,t=n.getBoundingClientRect().y,r=w(n,"step");if(r)if(r.getAttribute("data-step")==="0"){He(e,-1);return}else if(r.previousElementSibling){r.setAttribute("data-currentStep","false"),r.setAttribute("data-collapsed","true"),r.previousElementSibling.setAttribute("data-currentStep","true"),r.previousElementSibling.setAttribute("data-collapsed","false");let c=r.previousElementSibling.querySelector(".prev-button");if(!c)return;let p=c.getBoundingClientRect().y;window.scrollBy(0,p-t)}else{console.error("prevStep called on a step with no previous html element");return}else{console.error("prevStep not called from within an element of the .step class");return}};window.collapse=e=>{let n=e.target,t=w(n,"step");t&&t.setAttribute("data-collapsed","true")};window.expand=e=>{let n=e.target,t=w(n,"step");t&&t.setAttribute("data-collapsed","false")};function zt(e,n={left:"",right:""}){if(_e(e))return{left:F(n.left),right:F(n.right)};if(Ee(e)){let t=[C(e.op),...e.values.map(r=>`${r}`)];n.left=`${n.left}(${t.join(" ")} `,n.right=e.args.length>0?` ${e.args.map(L).join(" ")})${n.right}`:`)${n.right}`}else if($e(e)){n.left=`${n.left}(cond [`;let t=[`${L(e.options[0].result)}]`,...e.options.slice(1).map(X)];n.right=` ${t.join(" ")})${n.right}`}else throw console.error("Printing this context is not implemented yet",e),`Printing ${e.type} context is not implemented yet!`;return zt(e.ctx,n)}function hr(e){if(le(e))return`(${C(e.name)} ${e.args.map(n=>k(n)?`${n}`:br(n)).join(" ")})`;if(ce(e))return`(cond ${e.options.map(X).join(" ")})`;if(pe(e))return e.symbol;throw"Invalid Input to printRedex"}function br(e){return e.symbol}function Tr(e,n){let t=se[e];return`<div class="rule-info">${n?`
            <div class="rule-info-text-container">
              <div class="rule-info-rule-name">${se.Kong.name}</div>
              <div class="rule-info-rule-text">${se.Kong.text}</div>
            </div>
           `:""}
         <div class="rule-info-text-container">
           <div class="rule-info-rule-name">${t.name}</div>
           <div class="rule-info-rule-text">${t.text}</div>
         </div>
         </div>`}window.expandInfo=e=>{let n=e.target,t=w(n,"plug-result");!t||t.setAttribute("data-info-collapsed","false")};window.collapseInfo=e=>{let n=e.target,t=w(n,"plug-result");t&&t.setAttribute("data-info-collapsed","true")};var se={Kong:{name:"<cap>Kong</cap>",text:`
      <em>E[e<small>1</small>] \u2192 E[e<small>2</small>] falls e<small>1</small> \u2192 e<small>2</small></em><br>
      <em>\u2039E\u203A ::= []<br>
      &nbsp;&nbsp;&nbsp;| (\u2039name\u203A \u2039v\u203A* \u2039E\u203A \u2039e\u203A*)<br>
      &nbsp;&nbsp;&nbsp;| (<strong>cond</strong> [\u2039E\u203A \u2039e\u203A ]{[ \u2039e\u203A \u2039e\u203A]}*)</em>
    `},Fun:{name:"<cap>Fun</cap>",text:`
      <em>(name v<small>1</small> \u2026 v<small>n</small>) \u2192
      e[name<small>1</small> := v<small>1</small> \u2026 name<small>n</small> := v<small>n</small> ]</em>
      falls
      <em>(</em> <strong>define</strong> <em>(name name<small>1</small> \u2026 name<small>n</small>) e)</em> in Umgebung
    `},Prim:{name:"<cap>Prim</cap>",text:`
      <em>(name v<small>1</small> \u2026 v<small>n</small>) \u2192 v</em> falls
      <em>name</em> eine primitive Funktion <em>f</em> ist und
      <em>f(v<small>1</small> \u2026 v<small>n</small>) = v</em>
    `},Const:{name:"<cap>Const</cap>",text:`
      <em>name \u2192 v</em> falls <em>(<strong>define</strong> name v)</em> in Umgebung.
    `},CondTrue:{name:"<cap>Cond</cap>-True",text:`
      <em>(<strong>cond</strong> [<strong>#true</strong> e] \u2026) \u2192 e</em>
    `},CondFalse:{name:"<cap>Cond</cap>-False",text:`
      <em>(<strong>cond</strong> [<strong>#false</strong> e<small>1</small>]
         [e<small>2</small> e<small>3</small>] \u2026) \u2192
         (<strong>cond</strong> [e<small>2</small> e<small>3</small>] \u2026)</em>
    `},CondError:{name:"<cap>Cond</cap>-Error",text:`
      <em>(<strong>cond</strong> [e<small>1</small> e<small>2</small>] \u2026) \u2192
          (<strong>error</strong> "cond: all conditions false")</em>
    `},StructMake:{name:"<cap>Struct</cap>-make",text:`
      <em>(<strong>make</strong>-name v<small>1</small> \u2026 v<small>n</small>) \u2192
      &lt;<strong>make</strong>-name v<small>1</small> \u2026 v<small>n</small>&gt;</em>
      falls <em>(<strong>define-struct</strong> name (name<small>1</small> \u2026 name<small>n</small>))</em> in Umgebung
    `},StructSelect:{name:"<cap>Struct</cap>-select",text:`
      <em>(name-name<small>i</small> &lt;<strong>make</strong>-name
        v<small>1</small> \u2026 v<small>n</small>&gt;) \u2192 v<small>i</small></em>
        falls <em>(<strong>define-struct</strong> name
          (name<small>1</small> \u2026 name<small>n</small>))</em> in Umgebung
    `},StructPredTrue:{name:"<cap>Struct</cap>-predtrue",text:`
      <em>(name? &lt;<strong>make</strong>-name \u2026&gt;) \u2192 <strong>#true</strong></em>
    `},StructPredFalse:{name:"<cap>Struct</cap>-predfalse",text:`
      <em>(name? v) \u2192 <strong>#false</strong></em> falls <em>v</em> nicht
      <em>&lt;<strong>make</strong>-name \u2026&gt;</em> ist
    `},ProgRule:{name:"<cap>Prog</cap>",text:`
      Ein Programm wird von links nach rechts ausgef\xFChrt und startet mit der
      leeren Umgebung. Ist das n\xE4chste Programmelement eine Funktions- oder
      Strukturdefinition, so wird diese Definition in die Umgebung aufgenommen
      und die Ausf\xFChrung mit dem n\xE4chsten Programmelement in der erweiterten
      Umgebung fortgesetzt. Ist das n\xE4chste Programmelement ein Ausdruck, so
      wird dieser gem\xE4\xDF der unten stehenden Regeln in der aktuellen Umgebung zu
      einem Wert ausgewert. Ist das n\xE4chste Programmelement eine
      Konstantendefinition <em>(<strong>define</strong> x e)</em>, so wird in
      der aktuellen Umgebung zun\xE4chst <em>e</em> zu einem Wert <em>v</em>
      ausgewertet und dann <em>(<strong>define</strong> x v)</em> zur aktuellen
      Umgebung hinzugef\xFCgt.
    `}};window.onload=()=>{_t(),Et(),Ht()};})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL0JTTF9BU1QudHMiLCAiLi4vc3JjL0JTTF9QcmludC50cyIsICIuLi9zcmMvRE9NX0hlbHBlcnMudHMiLCAiLi4vc3JjL1Byb2R1Y3Rpb25fVHJlZS50cyIsICIuLi9zcmMvQlNMX1BhcnNlci50cyIsICIuLi9zcmMvQlNMX1RyZWUudHMiLCAiLi4vc3JjL0pTT05fVHJlZS50cyIsICIuLi9zcmMvU0lfU1RSVUNULnRzIiwgIi4uL3NyYy9TSS50cyIsICIuLi9zcmMvU0lfUmVuZGVyZXIudHMiLCAiLi4vc3JjL2JzbF90b29scy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiZXhwb3J0IGVudW0gUHJvZHVjdGlvbiB7XG4gIEZ1bmN0aW9uRGVmaW5pdGlvbiA9ICdGdW5jdGlvbiBEZWZpbml0aW9uJyxcbiAgQ29uc3RhbnREZWZpbml0aW9uID0gJ0NvbnN0YW50IERlZmluaXRpb24nLFxuICBTdHJ1Y3REZWZpbml0aW9uID0gJ1N0cnVjdCBEZWZpbml0aW9uJyxcbiAgRnVuY3Rpb25DYWxsID0gJ0Z1bmN0aW9uIENhbGwnLFxuICBDb25kRXhwcmVzc2lvbiA9ICdDb25kLUV4cHJlc3Npb24nLFxuICBDb25kT3B0aW9uID0gJ0NvbmQtT3B0aW9uJyxcbiAgU3ltYm9sID0gJ1N5bWJvbCcsXG4gIExpdGVyYWwgPSAnTGl0ZXJhbCBWYWx1ZScsXG4gIE51bWJlciA9ICdOdW1iZXInXG59XG5cbmV4cG9ydCB0eXBlIHByb2dyYW0gPSBkZWZPckV4cHJbXTtcblxuZXhwb3J0IHR5cGUgZGVmT3JFeHByID0gZGVmaW5pdGlvbiB8IGV4cHI7XG5leHBvcnQgdHlwZSBkZWZpbml0aW9uID0gRnVuRGVmIHwgQ29uc3REZWYgfCBTdHJ1Y3REZWY7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRnVuRGVme1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uRnVuY3Rpb25EZWZpbml0aW9uO1xuICAgIG5hbWU6IE5hbWU7XG4gICAgYXJnczogTmFtZVtdO1xuICAgIGJvZHk6IGV4cHI7XG59XG5leHBvcnQgaW50ZXJmYWNlIENvbnN0RGVme1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uQ29uc3RhbnREZWZpbml0aW9uO1xuICAgIG5hbWU6IE5hbWU7XG4gICAgdmFsdWU6IGV4cHI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdERlZntcbiAgICB0eXBlOiBQcm9kdWN0aW9uLlN0cnVjdERlZmluaXRpb247XG4gICAgYmluZGluZzogTmFtZTtcbiAgICBwcm9wZXJ0aWVzOiBOYW1lW107XG59O1xuZXhwb3J0IHR5cGUgZXhwciA9IENhbGwgfCBDb25kIHwgTmFtZSB8IExpdGVyYWw7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkZ1bmN0aW9uQ2FsbDtcbiAgICBuYW1lOiBOYW1lO1xuICAgIGFyZ3M6IGV4cHJbXTtcbn07XG5leHBvcnQgaW50ZXJmYWNlIENsYXVzZXtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkNvbmRPcHRpb24sXG4gICAgY29uZGl0aW9uOiBleHByO1xuICAgIHJlc3VsdDogZXhwcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkNvbmRFeHByZXNzaW9uO1xuICAgIG9wdGlvbnM6IENsYXVzZVtdXG59XG5leHBvcnQgaW50ZXJmYWNlIE5hbWV7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5TeW1ib2w7XG4gICAgc3ltYm9sOnN0cmluZztcbn07XG5leHBvcnQgaW50ZXJmYWNlIExpdGVyYWwge1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICB2YWx1ZTogYm9vbGVhbiB8IHN0cmluZyB8IG51bWJlciB8IGAnKClgO1xufVxuXG4vLyBydW50aW1lIHR5cGUgY2hlY2tpbmdcbmV4cG9ydCBmdW5jdGlvbiBpc0RlZmluaXRpb24ob2JqOiBhbnkpOiBvYmogaXMgZGVmaW5pdGlvbiB7XG4gIHJldHVybiBpc0Z1bkRlZihvYmopIHx8IGlzQ29uc3REZWYob2JqKSB8fCBpc1N0cnVjdERlZihvYmopO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuRGVmKG9iajogYW55KTogb2JqIGlzIEZ1bkRlZiB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5GdW5jdGlvbkRlZmluaXRpb247XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25zdERlZihvYmo6IGFueSk6IG9iaiBpcyBDb25zdERlZiB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25zdGFudERlZmluaXRpb247XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTdHJ1Y3REZWYob2JqOiBhbnkpOiBvYmogaXMgU3RydWN0RGVmIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlN0cnVjdERlZmluaXRpb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0V4cHIob2JqOiBhbnkpOiBvYmogaXMgZXhwciB7XG4gIHJldHVybiBpc0NhbGwob2JqKSB8fCBpc0NvbmQob2JqKSB8fCBpc05hbWUob2JqKSB8fCBpc0xpdGVyYWwob2JqKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NhbGwob2JqOiBhbnkpOiBvYmogaXMgQ2FsbCB7XG4gIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5GdW5jdGlvbkNhbGw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25kKG9iajogYW55KTogb2JqIGlzIENvbmQge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ29uZEV4cHJlc3Npb247XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOYW1lKG9iajogYW55KTogb2JqIGlzIE5hbWUge1xuICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uU3ltYm9sO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTGl0ZXJhbChvYmo6IGFueSk6IG9iaiBpcyBMaXRlcmFsIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkxpdGVyYWw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIob2JqOiBhbnkpOiBvYmogaXMgbnVtYmVyIHtcbiAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLk51bWJlcjtcbn0iLCAiaW1wb3J0ICogYXMgQlNMX0FTVCBmcm9tIFwiLi9CU0xfQVNUXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcHJpbnQocDogQlNMX0FTVC5wcm9ncmFtKTogc3RyaW5nIHtcbiAgcmV0dXJuIHAubWFwKHByaW50RGVmT3JFeHByKS5qb2luKCdcXG4nKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwcmludERlZk9yRXhwcihlb2Q6IEJTTF9BU1QuZGVmT3JFeHByKSB7XG4gIGlmKEJTTF9BU1QuaXNEZWZpbml0aW9uKGVvZCkpIHtcbiAgICByZXR1cm4gcHJpbnREZWZpbml0aW9uKGVvZCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHByaW50RShlb2QpO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcHJpbnREZWZpbml0aW9uKGQ6IEJTTF9BU1QuZGVmaW5pdGlvbik6IHN0cmluZyB7XG4gIGlmKEJTTF9BU1QuaXNGdW5EZWYoZCkpIHtcbiAgICByZXR1cm4gYChkZWZpbmUgKCR7cHJpbnROYW1lKGQubmFtZSl9ICR7ZC5hcmdzLm1hcChwcmludE5hbWUpLmpvaW4oJyAnKX0pICR7cHJpbnRFKGQuYm9keSl9KWA7XG4gIH0gZWxzZSBpZihCU0xfQVNULmlzQ29uc3REZWYoZCkpIHtcbiAgICByZXR1cm4gYChkZWZpbmUgJHtwcmludE5hbWUoZC5uYW1lKX0gJHtwcmludEUoZC52YWx1ZSl9KWA7XG4gIH0gZWxzZSBpZihCU0xfQVNULmlzU3RydWN0RGVmKGQpKSB7XG4gICAgcmV0dXJuIGAoZGVmaW5lLXN0cnVjdCAke3ByaW50TmFtZShkLmJpbmRpbmcpfSAoJHtkLnByb3BlcnRpZXMubWFwKHByaW50TmFtZSkuam9pbignICcpfSkpYFxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgaW5wdXQgdG8gcHJpbnREZWZpbml0aW9uJyk7XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcHJpbnRFKGU6IEJTTF9BU1QuZXhwcik6IHN0cmluZyB7XG4gIGlmKEJTTF9BU1QuaXNDYWxsKGUpKSB7XG4gICAgcmV0dXJuIGAoJHtwcmludE5hbWUoZS5uYW1lKX0gJHtlLmFyZ3MubWFwKHByaW50RSkuam9pbignICcpfSlgO1xuICB9IGVsc2UgaWYoQlNMX0FTVC5pc0NvbmQoZSkpIHtcbiAgICByZXR1cm4gYChjb25kICR7ZS5vcHRpb25zLm1hcChwcmludE9wdGlvbikuam9pbignICcpfSlgO1xuICB9IGVsc2UgaWYoQlNMX0FTVC5pc05hbWUoZSkpIHtcbiAgICByZXR1cm4gcHJpbnROYW1lKGUpO1xuICB9IGVsc2UgaWYoQlNMX0FTVC5pc0xpdGVyYWwoZSkpIHtcbiAgICByZXR1cm4gcHJpbnRWYWx1ZShlLnZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIGlucHV0IHRvIHByaW50RScpO1xuICAgIHJldHVybiBgPCR7ZX0+YDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJpbnRWYWx1ZSh2YWw6IGJvb2xlYW4gfCBzdHJpbmcgfCBudW1iZXIpIHtcbiAgaWYodHlwZW9mKHZhbCkgPT09ICdzdHJpbmcnICYmIHZhbCAhPT0gYCcoKWApIHtcbiAgICByZXR1cm4gYFwiJHt2YWx9XCJgO1xuICB9IGVsc2UgaWYodHlwZW9mKHZhbCkgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiB2YWwgPyAnI3RydWUnIDogJyNmYWxzZSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGAke3ZhbH1gO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmludE9wdGlvbihvOiBCU0xfQVNULkNsYXVzZSkge1xuICByZXR1cm4gYFske3ByaW50RShvLmNvbmRpdGlvbil9ICR7cHJpbnRFKG8ucmVzdWx0KX1dYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByaW50TmFtZShzOiBCU0xfQVNULk5hbWUpOiBzdHJpbmcge1xuICByZXR1cm4gcy5zeW1ib2w7XG59XG5cbmV4cG9ydCBjb25zdCB0ZXN0cHJvZ3JhbTogQlNMX0FTVC5wcm9ncmFtID0gW1xuICB7XG4gICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkZ1bmN0aW9uRGVmaW5pdGlvbixcbiAgICBuYW1lOiB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgc3ltYm9sOiAnZidcbiAgICB9LFxuICAgIGFyZ3M6IFt7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgc3ltYm9sOiAneCdcbiAgICB9LCB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgc3ltYm9sOiAneSdcbiAgICB9XSxcbiAgICBib2R5OiB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uRnVuY3Rpb25DYWxsLFxuICAgICAgbmFtZToge1xuICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgICBzeW1ib2w6ICcrJ1xuICAgICAgfSxcbiAgICAgIGFyZ3M6IFt7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgIHN5bWJvbDogJ3gnXG4gICAgICB9LCB7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgIHN5bWJvbDogJ3knXG4gICAgICB9XX1cbiAgfSxcbiAge1xuICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kRXhwcmVzc2lvbixcbiAgICBvcHRpb25zOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kT3B0aW9uLFxuICAgICAgICBjb25kaXRpb246IHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uRnVuY3Rpb25DYWxsLFxuICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgICAgICBzeW1ib2w6ICc9J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5TeW1ib2wsXG4gICAgICAgICAgICBzeW1ib2w6ICd4J1xuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgICAgICAgICB2YWx1ZTogM1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIHJlc3VsdDoge1xuICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgIHZhbHVlOiAnaXNUaHJlZSdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkNvbmRPcHRpb24sXG4gICAgICAgIGNvbmRpdGlvbjoge1xuICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICByZXN1bHQ6IHtcbiAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICAgICAgICB2YWx1ZTogYCcoKWBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfSxcbiAge1xuICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25zdGFudERlZmluaXRpb24sXG4gICAgbmFtZToge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgIHN5bWJvbDogJ3gnXG4gICAgfSxcbiAgICB2YWx1ZToge1xuICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgICB2YWx1ZTogNDJcbiAgICB9XG4gIH0sXG4gIHtcbiAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3RydWN0RGVmaW5pdGlvbixcbiAgICBiaW5kaW5nOiB7XG4gICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgc3ltYm9sOiAnbmFtZSdcbiAgICB9LFxuICAgIHByb3BlcnRpZXM6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgICAgc3ltYm9sOiAnZmlyc3ROYW1lJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgICAgc3ltYm9sOiAnbGFzdE5hbWUnXG4gICAgICB9XG4gICAgXVxuICB9XG5dO1xuXG4vLyBpbmRlbnQgY29kZSB0aGF0IGlzIHdpZGVyIHRoYW4gbWF4TGVuZ3RoIGNoYXJhY3RlcnNcbmV4cG9ydCBmdW5jdGlvbiBpbmRlbnQoY29kZTogc3RyaW5nLCBtYXhXaWR0aDogbnVtYmVyLCBtb2RlOiAnaHRtbCcgfCAndGV4dCcgPSAndGV4dCcpOiBzdHJpbmcge1xuICAvLyBjb25zb2xlLmxvZygnQ29kZSBiZWZvcmUgaW5kZW50YXRpb24nLCBjb2RlKTtcbiAgLy8gZXh0cmFjdCB0ZXJtcyBhbmQgdGhlaXIgdGhlb3JldGljYWwgaW5kZW50YXRpb24gbGV2ZWxcbiAgbGV0IHRlcm1zOiB7dGVybTogc3RyaW5nLCBsZXZlbDogbnVtYmVyfVtdID0gW107XG4gIGxldCBsZXZlbCA9IDA7XG4gIGxldCBuZXh0TGV2ZWwgPSAwO1xuICBsZXQgbWF4TGV2ZWwgPSAwO1xuICBsZXQgYWNjID0gJyc7XG4gIGxldCBpblN0cmluZyA9IGZhbHNlO1xuICBsZXQgaW5UYWcgPSBmYWxzZTtcbiAgY29kZS5zcGxpdCgnJykuZm9yRWFjaChjaGFyID0+IHtcbiAgICBpZihpblN0cmluZyAmJiBjaGFyICE9PSAnXCInKSB7XG4gICAgICBhY2MgKz0gY2hhcjtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYoaW5UYWcgJiYgY2hhciAhPT0gJz4nKSB7XG4gICAgICBhY2MgKz0gY2hhcjtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3dpdGNoKGNoYXIpIHtcbiAgICAgIGNhc2UgJygnOlxuICAgICAgY2FzZSAnWyc6XG4gICAgICAgIG5leHRMZXZlbCsrO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJyknOlxuICAgICAgY2FzZSAnXSc6XG4gICAgICAgIG5leHRMZXZlbC0tO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgaW5TdHJpbmcgPSAhaW5TdHJpbmc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnPCc6XG4gICAgICAgIGluVGFnID0gbW9kZSA9PT0gJ2h0bWwnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJz4nOlxuICAgICAgICBpZihtb2RlID09PSAnaHRtbCcpIGluVGFnID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnICc6XG4gICAgICBjYXNlICdcXG4nOlxuICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgaWYoIWFjYykgcmV0dXJuO1xuICAgICAgICB0ZXJtcy5wdXNoKHt0ZXJtOiBhY2MsIGxldmVsOiBsZXZlbH0pO1xuICAgICAgICBpZiAobGV2ZWwgPiBtYXhMZXZlbCkgbWF4TGV2ZWwgPSBsZXZlbDtcbiAgICAgICAgYWNjID0gJyc7XG4gICAgICAgIGxldmVsID0gbmV4dExldmVsO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGFjYyArPSBjaGFyO1xuICAgIHJldHVybjtcbiAgfSk7XG4gIGlmKGFjYyAhPT0gJycpIHtcbiAgICB0ZXJtcy5wdXNoKHt0ZXJtOiBhY2MsIGxldmVsOiBsZXZlbH0pO1xuICAgIGlmIChsZXZlbCA+IG1heExldmVsKSBtYXhMZXZlbCA9IGxldmVsO1xuICB9XG4gIC8vIGNvbnNvbGUubG9nKHRlcm1zKTtcbiAgLy8gYXBwZW5kIHRlcm1zIHN0YXJ0aW5nIGZyb20gdGhlIGluc2lkZVxuICBjb25zdCBqb2luZXIgPSBtb2RlID09PSAnaHRtbCcgPyAnPGJyPicgOiBgXG5gO1xuICBmb3IobGV0IGxldmVsID0gbWF4TGV2ZWw7IGxldmVsID4gMDsgbGV2ZWwtLSkge1xuICAgIC8vIGdyb3VwIHRlcm1zXG4gICAgY29uc3QgbmV3VGVybXM6IHt0ZXJtOnN0cmluZywgbGV2ZWw6bnVtYmVyLCBzdWJ0ZXJtczpzdHJpbmdbXX1bXSA9IFtdO1xuICAgIHRlcm1zLmZvckVhY2godCA9PiB7XG4gICAgICBpZiAodC5sZXZlbCA8IGxldmVsKSB7XG4gICAgICAgIG5ld1Rlcm1zLnB1c2goey4uLnQsIHN1YnRlcm1zOiBbXX0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3VGVybXNbbmV3VGVybXMubGVuZ3RoIC0gMV0uc3VidGVybXMucHVzaCh0LnRlcm0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIGFwcGVuZCBhbmQgY2hlY2sgaWYgd2UgbmVlZCB0byBzdGFydCBpbmRlbnRpbmdcbiAgICB0ZXJtcyA9IG5ld1Rlcm1zLm1hcCh0ID0+IHtcbiAgICAgIGNvbnN0IGFscmVhZHlJbmRlbnRpbmcgPSB0LnN1YnRlcm1zLnNvbWUocyA9PiBzLmluY2x1ZGVzKGpvaW5lcikpO1xuICAgICAgY29uc3QgdW5pbmRlbnRlZCA9XG4gICAgICAgIGAke3QudGVybX0ke3Quc3VidGVybXMubGVuZ3RoID4gMCA/ICcgJzogJyd9JHt0LnN1YnRlcm1zLmpvaW4oJyAnKX1gO1xuICAgICAgY29uc3QgdW5pbmRlbnRlZExlbmd0aCA9XG4gICAgICAgIG1vZGUgPT09ICdodG1sJyA/IGh0bWxJZ25vcmluZ0xlbmd0aCh1bmluZGVudGVkKSA6IHVuaW5kZW50ZWQubGVuZ3RoO1xuICAgICAgaWYoYWxyZWFkeUluZGVudGluZyB8fFxuICAgICAgICAgdW5pbmRlbnRlZExlbmd0aCArIHQubGV2ZWwgPiBtYXhXaWR0aCkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHQuc3VidGVybXMubWFwKHMgPT5cbiAgICAgICAgICBgJHttb2RlID09PSAnaHRtbCcgPyByZXBlYXQoJyZuYnNwOycsIGxldmVsKSA6IHJlcGVhdCgnICcsIGxldmVsKX0ke3N9YCk7XG4gICAgICAgIHBhcnRzLnVuc2hpZnQodC50ZXJtKTtcbiAgICAgICAgY29uc3Qgam9pbmVyID0gbW9kZSA9PT0gJ2h0bWwnID8gJzxicj4nIDogYFxuYDsgLy8gbGl0ZXJhbCBuZXdsaW5lIHRvIGJlIHNhZmVcbiAgICAgICAgY29uc3QgYWxsID0gYCR7cGFydHMuam9pbihqb2luZXIpfWA7XG4gICAgICAgIHJldHVybiB7dGVybTogYWxsLCBsZXZlbDogdC5sZXZlbH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge3Rlcm06IHVuaW5kZW50ZWQsIGxldmVsOiB0LmxldmVsfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBjb25zb2xlLmxvZyh0ZXJtcyk7XG4gIH1cbiAgLy8gbm93IHRoZXJlIHNob3VsZCBiZSBvbmx5IHRvcCBsZXZlbCB0ZXJtcyBsZWZ0XG4gIHJldHVybiB0ZXJtcy5tYXAodCA9PiB0LnRlcm0pLmpvaW4oam9pbmVyKTtcbn1cblxuLy8gcmVwZWF0IGEgc3RyaW5nIHMgbiB0aW1lc1xuZnVuY3Rpb24gcmVwZWF0KHM6IHN0cmluZywgbjogbnVtYmVyKTpzdHJpbmcge1xuICBsZXQgYWNjID0gJyc7XG4gIGZvcihsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICBhY2MgKz0gcztcbiAgfVxuICByZXR1cm4gYWNjO1xufVxuLy8gbWVhc3VyZSB0aGUgbGVuZ3RoIG9mIGEgc3RyaW5nIHdoaWxlIGlnbm9yaW5nIGh0bWxcbmZ1bmN0aW9uIGh0bWxJZ25vcmluZ0xlbmd0aChzOiBzdHJpbmcpOiBudW1iZXIge1xuICBjb25zdCB0ZXN0RGl2OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0ZXN0RGl2LmlubmVySFRNTCA9IHM7XG4gIHJldHVybiB0ZXN0RGl2LnRleHRDb250ZW50ID8gdGVzdERpdi50ZXh0Q29udGVudC5sZW5ndGggOiAwO1xufVxuXG4vLyAjIyMjIHByZXZlbnRpbmcgcHJvYmxlbXMgd2l0aCBicmFja2V0c1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplKHM6IHN0cmluZyk6c3RyaW5nIHtcbiAgcmV0dXJuIHMucmVwbGFjZUFsbCgnPCcsJyZsdDsnKS5yZXBsYWNlQWxsKCc+JywnJmd0OycpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRpcnRpZnkoczogc3RyaW5nKTpzdHJpbmcge1xuICByZXR1cm4gcy5yZXBsYWNlQWxsKCcmbHQ7JywgJzwnKS5yZXBsYWNlQWxsKCcmZ3Q7JywnPicpLnJlcGxhY2VBbGwoJyZuYnNwOycsICcgJyk7XG59XG4iLCAiLy8gbmF2aWdhdGUgdGhlIERPTSB1c2luZyBwYXRoIG5vdGF0aW9uXG4vLyAuLiAtPiBwYXJlbnRcbi8vICsgIC0+IG5leHQgc2libGluZ1xuLy8gLmNsYXNzIC0+IGFsbCBjaGlsZHJlbiB3aXRoIGEgY2xhc3Ncbi8vIHRhZyAtPiBhbGwgY2hpbGRyZW4gb2YgYSBjZXJ0YWluIHRhZ1xuLy8gZGl2aWRlZCBieSAvXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVET00ocG9zaXRpb25zOiBIVE1MRWxlbWVudFtdLCBwYXRoOiBzdHJpbmcsIHN0cmljdDogYm9vbGVhbiA9IGZhbHNlKTogSFRNTEVsZW1lbnRbXSB7XG4gIGlmIChwb3NpdGlvbnMubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG4gIGNvbnN0IHN0ZXBzID0gcGF0aC5zcGxpdCgnLycpO1xuICBjb25zdCBjdXJyU3RlcCA9IHN0ZXBzLnNoaWZ0KCkgYXMgc3RyaW5nO1xuICBpZiAoY3VyclN0ZXAgPT0gJycpIHJldHVybiBwb3NpdGlvbnM7XG4gIGNvbnN0IHJlc3RTdGVwcyA9IHN0ZXBzLmpvaW4oJy8nKTtcblxuICBsZXQgbmV3UG9zaXRpb25zID0gW107XG4gIGlmIChjdXJyU3RlcCA9PSAnLi4nKSB7XG4gICAgLy8gbmF2aWdhdGUgdXBcbiAgICBuZXdQb3NpdGlvbnMgPSBwb3NpdGlvbnMubWFwKHAgPT4gcC5wYXJlbnRFbGVtZW50KS5maWx0ZXIocCA9PiBwKTtcbiAgfSBlbHNlIGlmIChjdXJyU3RlcCA9PSAnKycpIHtcbiAgICAvLyBuYXZpZ2F0ZSBzaWRld2F5c1xuICAgIG5ld1Bvc2l0aW9ucyA9IHBvc2l0aW9ucy5tYXAocCA9PiBwLm5leHRFbGVtZW50U2libGluZykuZmlsdGVyKHAgPT4gcCk7XG4gIH0gZWxzZSBpZiAoY3VyclN0ZXAuc3RhcnRzV2l0aCgnLicpKSB7XG4gICAgLy8gbmF2aWdhdGUgZG93biArIGZpbHRlciBmb3IgY2xhc3NcbiAgICBjb25zdCBjbGFzc05hbWUgPSBjdXJyU3RlcC5zbGljZSgxKTtcbiAgICBuZXdQb3NpdGlvbnMgPSBwb3NpdGlvbnMuZmxhdE1hcChwID0+IEFycmF5LmZyb20ocC5jaGlsZHJlbikuZmlsdGVyKGMgPT4gYy5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkpO1xuICB9IGVsc2Uge1xuICAgIC8vIG5hdmlnYXRlIGRvd24gKyBmaWx0ZXIgZm9yIHRhZ1xuICAgIG5ld1Bvc2l0aW9ucyA9IHBvc2l0aW9ucy5mbGF0TWFwKHAgPT4gQXJyYXkuZnJvbShwLmNoaWxkcmVuKS5maWx0ZXIoYyA9PiBjLnRhZ05hbWUgPT0gY3VyclN0ZXAudG9VcHBlckNhc2UoKSkpO1xuICB9XG4gIGlmIChuZXdQb3NpdGlvbnMubGVuZ3RoID09PSAwICYmIHN0cmljdCkge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHRyYXZlcnNpbmcgJHtwYXRofTogTm8gZWxlbWVudCBmb3VuZGApO1xuICB9XG4gIHJldHVybiBuYXZpZ2F0ZURPTShuZXdQb3NpdGlvbnMgYXMgSFRNTEVsZW1lbnRbXSwgcmVzdFN0ZXBzKTtcbn1cblxuLy8gZ2V0UGFyZW50VGFnUmVjdXJzaXZlIGZyb20gYSBjaGlsZCBlbGVtZW50XG4vLyBpZiBlbGVtZW50IGhhcyBUYWdOYW1lXG4vLyByZXR1cm47XG4vLyBlbHNlOiByZXRyeSB3aXRoIHBhcmVudEVsZW1lbnRcbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnRUYWdSZWN1cnNpdmUoZWw6IEhUTUxFbGVtZW50LCB0YWc6IHN0cmluZyk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gIGlmIChlbC50YWdOYW1lID09IHRhZy50b1VwcGVyQ2FzZSgpKSB7XG4gICAgcmV0dXJuIGVsO1xuICB9XG4gIGVsc2Uge1xuICAgIGxldCBwYXJlbnQgPSBlbC5wYXJlbnRFbGVtZW50O1xuICAgIGlmICghcGFyZW50KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgZmluZCBwYXJlbnQgZWxlbWVudCB3aXRoIHJlcXVlc3RlZCB0YWcgJywgdGFnKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0UGFyZW50VGFnUmVjdXJzaXZlKHBhcmVudCwgdGFnKSBhcyBIVE1MRWxlbWVudDtcbiAgfVxufVxuXG4vLyBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZSBmcm9tIGEgY2hpbGQgZWxlbWVudFxuLy8gaWYgZWxlbWVudCBoYXMgY2xhc3Ncbi8vIHJldHVybjtcbi8vIGVsc2U6IHJldHJ5IHdpdGggcGFyZW50RWxlbWVudFxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudENsYXNzUmVjdXJzaXZlKGVsOiBIVE1MRWxlbWVudCwgYzogc3RyaW5nKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcbiAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucyhjKSkge1xuICAgIHJldHVybiBlbDtcbiAgfVxuICBlbHNlIHtcbiAgICBsZXQgcGFyZW50ID0gZWwucGFyZW50RWxlbWVudDtcbiAgICBpZiAoIXBhcmVudCkge1xuICAgICAgY29uc29sZS5lcnJvcignQ291bGQgbm90IGZpbmQgcGFyZW50IGVsZW1lbnQgd2l0aCByZXF1ZXN0ZWQgY2xhc3MgJywgYyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGdldFBhcmVudENsYXNzUmVjdXJzaXZlKHBhcmVudCwgYyk7XG4gIH1cbn1cbiIsICJpbXBvcnQge25hdmlnYXRlRE9NLCBnZXRQYXJlbnRUYWdSZWN1cnNpdmUsIGdldFBhcmVudENsYXNzUmVjdXJzaXZlfSBmcm9tIFwiLi9ET01fSGVscGVyc1wiO1xuaW1wb3J0IHtkZWZhdWx0IGFzIHRyZWVfY3NzfSBmcm9tICcuL3Jlc3NvdXJjZXMvdHJlZS5jc3MnO1xuaW1wb3J0IHtzYW5pdGl6ZX0gZnJvbSAnLi9CU0xfUHJpbnQnO1xuXG4vLyAjIyMjIG1haW4gYXBpICMjIyMjXG4vLyBzaW1wbGUgaGVscGVyIHN0cnVjdHVyZSByZXByZXNlbnRpbmcgYSBwcmludGVkIHRyZWVcbmV4cG9ydCBpbnRlcmZhY2Ugbm9kZSB7XG4gIHByb2R1Y3Rpb246IHN0cmluZztcbiAgY29kZTogc3RyaW5nO1xuICBob2xlczoge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlciwgY29udGVudDpub2RlfVtdO1xufVxuLy8gb2JqZWN0IHJlcHJlc2VudGluZyBhIGdyYW1tYXJcbmV4cG9ydCB0eXBlIGdyYW1tYXIgPSB7W2tleTogc3RyaW5nXTogc3RyaW5nW119O1xuXG4vLyBhZGQgcHJvZHVjdGlvbiB0cmVlIHRvIGh0bWwgZWxlbWVudFxuZXhwb3J0IGZ1bmN0aW9uIHByb2R1Y3Rpb25UcmVlKFxuICByb290OiBub2RlLFxuICB0YXJnZXQ6IEhUTUxFbGVtZW50LFxuICBncmFtbWFyOiBncmFtbWFyIHwgdW5kZWZpbmVkLFxuICBxdWl6PWZhbHNlLFxuICBsYW5nPSdlbicpe1xuICAvLyBpbmZlciBncmFtbWFyIGlmIG5lY2Vzc2FyeVxuICBpZighZ3JhbW1hcikgZ3JhbW1hciA9IGV4dHJhY3RQcm9kdWN0aW9ucyhyb290KTtcbiAgLy8gYWRkIGNzcyBpZiBuZWNlc3NhcnlcbiAgaWYoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdic2wtdG9vbHMtdHJlZS1zdHlsZScpKSB7XG4gICAgY29uc3Qgc3R5bGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZU5vZGUuaW5uZXJIVE1MID0gdHJlZV9jc3M7XG4gICAgc3R5bGVOb2RlLmlkID0gJ2JzbC10b29scy10cmVlLXN0eWxlJztcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHN0eWxlTm9kZSk7XG4gIH1cbiAgLy8gY2hlY2sgbGFuZ3VhZ2UgYXZhaWxhYmlsaXR5XG4gIGlmICghaW1wbGVtZW50ZWRMYW5ndWFnZXMuaW5jbHVkZXMobGFuZykpIHtcbiAgICBjb25zb2xlLmVycm9yKGBcbiAgICAgIFNlbGVjdGVkIGxhbmd1YWdlIFwiJHtsYW5nfVwiIGlzIG5vdCBpbXBsZW1lbnRlZCwgZGVmYXVsdGluZyB0byBcImVuXCIuXG4gICAgICBBdmFpbGFibGUgbGFuZ3VhZ2UgY29kZXM6ICR7aW1wbGVtZW50ZWRMYW5ndWFnZXMuam9pbignLCAnKX1cbiAgICBgKTtcbiAgICBsYW5nID0gJ2VuJztcbiAgfVxuICAvLyByZW5kZXIgSFRNTFxuICB0YXJnZXQuaW5uZXJIVE1MID0gYFxuICA8ZGl2IGNsYXNzPVwidHJlZS1jb250YWluZXJcIj5cbiAgICA8dWwgY2xhc3M9XCJ0cmVlIGFzdFwiPlxuICAgICAgJHtxdWl6XG4gICAgICAgID8gcmVuZGVyUXVpek5vZGUocm9vdCwgbGFuZyBhcyBpbXBsZW1lbnRlZExhbmd1YWdlLCBncmFtbWFyIGFzIGdyYW1tYXIpXG4gICAgICAgIDogcmVuZGVyTm9kZShyb290LCBncmFtbWFyIGFzIGdyYW1tYXIpfVxuICAgIDwvdWw+XG4gIDwvZGl2PmA7XG4gIGlmIChxdWl6KSB7XG4gICAgLy8gc2hvdyBmaXJzdCBxdWl6IG5vZGVcbiAgICBuYXZpZ2F0ZURPTShbdGFyZ2V0XSwndWwvbGkvdWwvbGknKS5tYXAoYyA9PlxuICAgICAgYy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywnZmFsc2UnKSk7XG4gIH1cbiAgLy8gYWxpZ24gY29ubmVjdG9ycyBob3Jpem9udGFsbHlcbiAgYWRqdXN0Q29ubmVjdG9ycyh0YXJnZXQpO1xufVxuXG4vLyAjIyMgdHJhdmVyc2UgdHJlZSB0byBnZXQgYWxsIG9jY3VycmluZyBwcm9kdWN0aW9uc1xuZnVuY3Rpb24gZXh0cmFjdFByb2R1Y3Rpb25zKG46IG5vZGUpOiBncmFtbWFyIHtcbiAgY29uc3QgcHJvZHVjdGlvbnMgPSB7fTtcbiAgZXh0cmFjdFByb2R1Y3Rpb25zUmVjdXJzaXZlKG4sIHByb2R1Y3Rpb25zKTtcbiAgcmV0dXJuIHByb2R1Y3Rpb25zO1xufVxuZnVuY3Rpb24gZXh0cmFjdFByb2R1Y3Rpb25zUmVjdXJzaXZlKG46IG5vZGUsIHA6IGdyYW1tYXIpIHtcbiAgcFtuLnByb2R1Y3Rpb25dID0gW107XG4gIG4uaG9sZXMubWFwKGggPT4gZXh0cmFjdFByb2R1Y3Rpb25zUmVjdXJzaXZlKGguY29udGVudCwgcCkpO1xufVxuXG4vLyAjIyMjIyMgaW50ZXJuYXRpb25hbGl6YXRpb24gZm9yIHRoaXMgbW9kdWxlICMjIyMjXG4vLyBtYWlubHkgZm9yIHF1aXosIGN1cnJlbnRseVxudHlwZSBpbXBsZW1lbnRlZExhbmd1YWdlID0gJ2VuJyB8ICdkZSc7XG5jb25zdCBpbXBsZW1lbnRlZExhbmd1YWdlcyA9IFsnZW4nLCAnZGUnXTtcblxuY29uc3QgZGljdGlvbmFyeSA9IHtcbiAgJ2VuJzoge1xuICAgICdzZWxlY3QgcHJvZHVjdGlvbic6ICdTZWxlY3QgcHJvZHVjdGlvbicsXG4gICAgJ21hcmsgc2VsZWN0ZWQgdGV4dCBhcyBob2xlJzogJ01hcmsgc2VsZWN0ZWQgdGV4dCBhcyBob2xlJyxcbiAgfSxcbiAgJ2RlJzoge1xuICAgICdzZWxlY3QgcHJvZHVjdGlvbic6ICdQcm9kdWt0aW9uIGF1c3dcdTAwRTRobGVuJyxcbiAgICAnbWFyayBzZWxlY3RlZCB0ZXh0IGFzIGhvbGUnOiAnQXVzd2FobCBhbHMgTG9jaCBtYXJraWVyZW4nLFxuICB9LFxufTtcblxuLy8gIyMjIyMjIGxheW91dCBoZWxwZXIgIyMjIyMjIyNcbi8vIGR5bmFtaWNhbGx5IGNvbXB1dGUgZGltZW5zaW9ucyBvZiBjb25uZWN0b3JzIGJldHdlZW4gbm9kZXNcbi8vIHN1Y2ggdGhhdCB0aGV5IHBvaW50IHRvIHRoZSBjb3JyZWN0IFwiaG9sZVwiXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ1NTX09iamVjdF9Nb2RlbC9EZXRlcm1pbmluZ190aGVfZGltZW5zaW9uc19vZl9lbGVtZW50c1xuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L29mZnNldExlZnRcbmZ1bmN0aW9uIGFkanVzdENvbm5lY3RvcnModHJlZTogSFRNTEVsZW1lbnQpIHtcbiAgY29uc3QgeWRpZmYgPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUodHJlZSkuZm9udFNpemUpICogMzsgLy8gM2VtXG4gIGZvcihsZXQgaSA9IDE7IDtpKyspIHtcbiAgICBjb25zdCBob2xlcyA9IEFycmF5LmZyb20odHJlZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGBob2xlLSR7aX1gKSk7XG4gICAgaWYgKGhvbGVzLmxlbmd0aCA8IDEpIHJldHVybjtcbiAgICBob2xlcy5tYXAoaCA9PiB7XG4gICAgICBjb25zdCBlbDogSFRNTEVsZW1lbnQgPSBoIGFzIEhUTUxFbGVtZW50O1xuICAgICAgY29uc3QgeHBvcyA9IDAuNSAqIChlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54ICsgZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQpO1xuICAgICAgLy8gbm8gbGF5b3V0IGVmZmVjdCBpZiBob2xlIGlzIGludmlzaWJsZVxuICAgICAgaWYgKHhwb3MgPT0gMCkgcmV0dXJuO1xuXG4gICAgICAvLyBuYXZpZ2F0ZSB0aGUgRE9NXG4gICAgICBjb25zdCBsaSA9IGdldFBhcmVudFRhZ1JlY3Vyc2l2ZShlbCwgJ2xpJyk7XG4gICAgICAvLyBub3QgaW5zaWRlIGEgbGlzdCBub2RlPyBwcm9iYWJseSB3cm9uZyB0YWcsIHJldHVyblxuICAgICAgaWYoIWxpKSByZXR1cm47XG5cbiAgICAgIC8vIHByb2Nlc3MgY2hpbGRyZW5cbiAgICAgIG5hdmlnYXRlRE9NKFtsaV0sIGB1bC8uY2hpbGQtJHtpfS9zcGFuYCkubWFwKGMgPT4ge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGMgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHhwb3NDaGlsZCA9IDAuNSAqIChjaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54ICsgY2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQpO1xuICAgICAgICBjb25zdCB4ZGlmZiA9IHhwb3MgLSB4cG9zQ2hpbGQ7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gLSBNYXRoLmF0YW4yKHlkaWZmLCB4ZGlmZik7XG4gICAgICAgIGNvbnN0IGFtb3VudCA9IE1hdGguc3FydCh4ZGlmZip4ZGlmZiArIHlkaWZmKnlkaWZmKTtcbiAgICAgICAgY29uc3QgbGVmdCA9ICh4ZGlmZi8yKSAtIChhbW91bnQvMik7XG4gICAgICAgIC8vIHNldCBjc3MgdmFyaWFibGVzICh1c2FnZSBzZWUgdHJlZS5jc3MpXG4gICAgICAgIGNoaWxkLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgLS1jb25uZWN0b3Itd2lkdGg6ICR7YW1vdW50fXB4O1xuICAgICAgICAgIC0tY29ubmVjdG9yLWxlZnQ6IGNhbGMoNTAlICsgJHtsZWZ0fXB4KTtcbiAgICAgICAgICAtLWVkZ2V0ZXh0LXJpZ2h0OiBjYWxjKDUwJSAtICR7eGRpZmYvMn1weCk7XG4gICAgICAgICAgLS1jb25uZWN0b3ItdHJhbnNmb3JtOiByb3RhdGUoJHthbmdsZX1yYWQpO1xuICAgICAgICBgO1xuICAgICAgfSk7XG5cbiAgICB9KTtcbiAgfVxufVxuXG4vLyAjIyMjIyBnZW5lcmF0ZSBIVE1MICMjIyMjI1xuXG4vLyAjIyMgcmVndWxhciBub2RlL3RyZWVcbmZ1bmN0aW9uIHJlbmRlck5vZGUobjogbm9kZSwgcDogZ3JhbW1hciwgaTpudW1iZXI9LTEpOnN0cmluZyB7XG4gIHJldHVybiBgXG4gICAgPGxpIGNsYXNzPVwiJHtpID49IDAgPyBgY2hpbGQtJHtpKzF9YCA6ICcnfVwiXG4gICAgICAgIGRhdGEtY29sbGFwc2VkPVwiJHtpID49IDAgPyAndHJ1ZScgOiAnZmFsc2UnfVwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCIke24uaG9sZXMubGVuZ3RoID4gMCA/ICcnIDogJ3Rlcm1pbmFsLXN5bWJvbCd9XCI+XG5cbiAgICAgICAgJHtyZW5kZXJQcm9kdWN0aW9uKG4sIHApfVxuXG4gICAgICAgICR7cmVuZGVyQ29kZShuKX1cblxuICAgICAgPC9zcGFuPlxuICAgICAgJHtuLmhvbGVzLmxlbmd0aCA+IDAgP1xuICAgICAgICBgPHVsPiR7XG4gICAgICAgICAgbi5ob2xlcy5tYXAoKGgsIGlkeCkgPT5cbiAgICAgICAgICAgIHJlbmRlck5vZGUoaC5jb250ZW50LCBwLCBpZHgpKVxuICAgICAgICAgIC5qb2luKCcnKVxuICAgICAgICB9PC91bD5gXG4gICAgICAgIDogJydcbiAgICAgIH1cbiAgICA8L2xpPlxuICBgO1xufVxuXG4vLyAjIyMgYmxvY2sgb2YgY29kZSBpbiBub2RlXG5mdW5jdGlvbiByZW5kZXJDb2RlKG46IG5vZGUpOnN0cmluZyB7XG4gIGNvbnN0IHNwYW5zID0gZ2V0U3BhbnMobik7XG4gIHJldHVybiBgXG4gIDxkaXYgY2xhc3M9XCJjb2RlXCI+JHtcbiAgICBzcGFucy5tYXAocyA9PlxuICAgICAgYDxzcGFuIGNsYXNzPVwiY2hhciAke3MucG9zID8gYGhvbGUgaG9sZS0ke3MucG9zfWAgOiAnJ31cIlxuICAgICAgICAgICAgICR7cy5wb3MgPyBgb25jbGljaz1cInRvZ2dsZUNoaWxkKGV2ZW50LCR7cy5wb3N9KVwiYCA6ICcnfVxuICAgICAgICAgICAgID4ke24uY29kZS5zbGljZShzLnN0YXJ0LCBzLmVuZCl9PC9zcGFuPmApXG4gICAgLmpvaW4oJycpfVxuICA8L2Rpdj5cbiAgYDtcbn1cbih3aW5kb3cgYXMgYW55KS50b2dnbGVDaGlsZCA9IChlOiBFdmVudCxpOm51bWJlcikgPT4ge1xuICBjb25zdCBob2xlID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IGxpID0gZ2V0UGFyZW50VGFnUmVjdXJzaXZlKGhvbGUsICdsaScpO1xuICBjb25zdCB0cmVlID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoaG9sZSwgJ3RyZWUnKTtcbiAgaWYoIWxpIHx8ICF0cmVlKSB7XG4gICAgY29uc29sZS5lcnJvcigndG9nZ2xlQ2hpbGQgY2FsbGVkIGZyb20gLmhvbGUgbm90IGluIC50cmVlJyk7XG4gICAgcmV0dXJuO1xuICB9O1xuXG4gIG5hdmlnYXRlRE9NKFtsaV0sYHVsLy5jaGlsZC0ke2l9YCkubWFwKGMgPT4ge1xuICAgIGMuc2V0QXR0cmlidXRlKCdkYXRhLWNvbGxhcHNlZCcsIGMuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxhcHNlZCcpID09PSAndHJ1ZScgPyAnZmFsc2UnIDogJ3RydWUnKTtcbiAgfSk7XG4gIGFkanVzdENvbm5lY3RvcnModHJlZSk7XG59XG5pbnRlcmZhY2Ugc3BhbiB7XG4gIHBvczogYm9vbGVhbiB8IG51bWJlcjtcbiAgc3RhcnQ6IG51bWJlcjtcbiAgZW5kOiBudW1iZXI7XG59XG5mdW5jdGlvbiBnZXRTcGFucyhuOiBub2RlKTpzcGFuW10ge1xuICAvLyBzbGljZSB0ZXh0IGludG8gaG9sZXNcbiAgY29uc3Qgc3BhbnMgPSBbXTtcbiAgbGV0IHBvc2l0aW9uID0gMDtcbiAgZm9yKGxldCBpID0gMDsgaSA8IG4uaG9sZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobi5ob2xlc1tpXS5zdGFydCA+IHBvc2l0aW9uKSB7XG4gICAgICBzcGFucy5wdXNoKHtwb3M6IGZhbHNlLCBzdGFydDpwb3NpdGlvbiwgZW5kOm4uaG9sZXNbaV0uc3RhcnR9KTtcbiAgICB9XG4gICAgc3BhbnMucHVzaCh7cG9zOiBpKzEsIC4uLm4uaG9sZXNbaV19KTtcbiAgICBwb3NpdGlvbiA9IG4uaG9sZXNbaV0uZW5kO1xuICB9XG4gIGlmIChwb3NpdGlvbiA8IG4uY29kZS5sZW5ndGgpIHtcbiAgICBzcGFucy5wdXNoKHtwb3M6IGZhbHNlLCBzdGFydDpwb3NpdGlvbiwgZW5kOm4uY29kZS5sZW5ndGh9KTtcbiAgfVxuICByZXR1cm4gc3BhbnM7XG59XG4vLyAjIyMgcHJvZHVjdGlvbiBuYW1lIC0gd2l0aCB0b29sdGlwIG9uIGhvdmVyXG5mdW5jdGlvbiByZW5kZXJQcm9kdWN0aW9uKG46IG5vZGUsIHA6IGdyYW1tYXIpIHtcbiAgcmV0dXJuIGBcbiAgICA8ZGl2IGNsYXNzPVwibmFtZVwiPiR7c2FuaXRpemUobi5wcm9kdWN0aW9uKX0ke1xuICAgICAgcFtuLnByb2R1Y3Rpb25dICYmIHBbbi5wcm9kdWN0aW9uXS5sZW5ndGggPiAwID9cbiAgICAgIGA8ZGl2IGNsYXNzPVwidG9vbHRpcFwiPjo6PSAke1xuICAgICAgICBwW24ucHJvZHVjdGlvbl0ubWFwKHNhbml0aXplKS5qb2luKCc8YnI+Jm5ic3A7fCZuYnNwOyZuYnNwOycpXG4gICAgICB9PC9kaXY+YFxuICAgICAgOiAnJ1xuICAgIH08L2Rpdj5cbiAgYDtcbn1cblxuLy8gIyMjIyMjIHJlbmRlcmluZyBhIG5vZGUvdHJlZSBhcyBhIHF1aXpcbmZ1bmN0aW9uIHJlbmRlclF1aXpOb2RlKG46IG5vZGUsIGxhbmc6IGltcGxlbWVudGVkTGFuZ3VhZ2UsIGdyYW1tYXI6IGdyYW1tYXIsIGk6bnVtYmVyPS0xKTpzdHJpbmcge1xuICByZXR1cm4gYFxuICAgIDxsaSBjbGFzcz1cIiR7aSA+PSAwID8gYGNoaWxkLSR7aSsxfWAgOiAnJ31cIlxuICAgICAgICBkYXRhLWNvbGxhcHNlZD1cIiR7aSA+PSAwID8gJ3RydWUnIDogJ2ZhbHNlJ31cIj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiJHtuLmhvbGVzLmxlbmd0aCA+IDAgPyAnJyA6ICd0ZXJtaW5hbC1zeW1ib2wnfVwiXG4gICAgICAgICAgICBkYXRhLXF1aXotc3RhdGU9XCIke2kgPj0gMCA/ICdwcm9kdWN0aW9uJyA6ICdkb25lJ31cIlxuICAgICAgICAgICAgZGF0YS1pcy10ZXJtaW5hbD1cIiR7bi5ob2xlcy5sZW5ndGggPD0gMH1cIlxuICAgICAgICAgICAgZGF0YS1pcy10cml2aWFsLWhvbGU9XCIke24uaG9sZXMubGVuZ3RoID09PSAxICYmIG4uaG9sZXNbMF0uc3RhcnQgPT09IDAgJiYgbi5ob2xlc1swXS5lbmQgPT09IG4uY29kZS5sZW5ndGh9XCI+XG5cbiAgICAgICAgJHtyZW5kZXJQcm9kdWN0aW9uUXVpeihuLCBsYW5nLCBncmFtbWFyKX1cblxuICAgICAgICAke3JlbmRlckhvbGVRdWl6KG4sIGxhbmcpfVxuXG4gICAgICAgICR7cmVuZGVyUHJvZHVjdGlvbihuLCBncmFtbWFyKX1cbiAgICAgICAgJHtyZW5kZXJDb2RlKG4pfVxuICAgICAgPC9zcGFuPlxuICAgICAgJHtuLmhvbGVzLmxlbmd0aCA+IDAgP1xuICAgICAgICBgPHVsPiR7XG4gICAgICAgICAgbi5ob2xlcy5tYXAoKGgsIGlkeCkgPT5cbiAgICAgICAgICAgIHJlbmRlclF1aXpOb2RlKGguY29udGVudCwgbGFuZywgZ3JhbW1hciwgaWR4KSlcbiAgICAgICAgICAgIC5qb2luKCcnKVxuICAgICAgICAgfTwvdWw+YFxuICAgICAgICA6ICcnXG4gICAgICB9XG4gICAgPC9saT5cbiAgYDtcbn1cblxuLy8gIyMjIGZpcnN0IHBhcnQgb2YgdGhlIHF1aXpcbmZ1bmN0aW9uIHJlbmRlclByb2R1Y3Rpb25RdWl6KG46IG5vZGUsIGxhbmc6IGltcGxlbWVudGVkTGFuZ3VhZ2UsIGdyYW1tYXI6IGdyYW1tYXIpOnN0cmluZyB7XG4gIHJldHVybiBgXG4gIDxkaXYgY2xhc3M9XCJwcm9kdWN0aW9uXCI+XG4gICAgPHNlbGVjdCBvbmNoYW5nZT1cImNoZWNrUHJvZHVjdGlvbihldmVudCwgJyR7bi5wcm9kdWN0aW9ufScpXCI+XG4gICAgICA8b3B0aW9uIHNlbGVjdGVkPVwidHJ1ZVwiPiR7ZGljdGlvbmFyeVtsYW5nXVsnc2VsZWN0IHByb2R1Y3Rpb24nXX08L29wdGlvbj5cbiAgICAgICR7T2JqZWN0LmtleXMoZ3JhbW1hcikubWFwKHAgPT4gYFxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIke3B9XCI+JHtzYW5pdGl6ZShwKX08L29wdGlvbj5cbiAgICAgICAgYCkuam9pbignJyl9XG4gICAgPC9zZWxlY3Q+XG4gIDwvZGl2PlxuICBgO1xufVxuXG4od2luZG93IGFzIGFueSkuY2hlY2tQcm9kdWN0aW9uID0gKGU6IEV2ZW50LCBwOiBzdHJpbmcpID0+IHtcbiAgY29uc3Qgc2VsID0gZS50YXJnZXQgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XG4gIGlmIChzZWwudmFsdWUgPT09IHApIHtcbiAgICAvLyBhbnN3ZXIgY29ycmVjdFxuICAgIGNvbnN0IHNwYW4gPSBnZXRQYXJlbnRUYWdSZWN1cnNpdmUoc2VsLCAnc3BhbicpO1xuICAgIGlmIChzcGFuKSB7XG4gICAgICBpZiAoc3Bhbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtaXMtdGVybWluYWwnKSA9PT0gJ3RydWUnKSB7XG4gICAgICAgIC8vIHdlJ3JlIGRvbmVcbiAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcXVpei1zdGF0ZScsICdkb25lJyk7XG4gICAgICB9IGVsc2UgaWYgKHNwYW4uZ2V0QXR0cmlidXRlKCdkYXRhLWlzLXRyaXZpYWwtaG9sZScpID09PSAndHJ1ZScpIHtcbiAgICAgICAgLy8gd2UncmUgZG9uZVxuICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZSgnZGF0YS1xdWl6LXN0YXRlJywgJ2RvbmUnKTtcbiAgICAgICAgLy8gYnV0IHdlIGFsc28gbmVlZCB0byBleHBhbmQgdGhlIGNoaWxkXG4gICAgICAgIG5hdmlnYXRlRE9NKFtzcGFuXSwnKy9saScsdHJ1ZSkubWFwKGMgPT5cbiAgICAgICAgICBjLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzZWQnLCAnZmFsc2UnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBtb3ZlIG9uIHRvIHNlbGVjdGluZyBob2xlc1xuICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZSgnZGF0YS1xdWl6LXN0YXRlJywgJ2hvbGUtbWFya2luZycpO1xuICAgICAgfVxuXG4gICAgICAvLyBleHBhbmQgbmV4dCBzaWJsaW5nIChpZiBwcmVzZW50KVxuICAgICAgbmF2aWdhdGVET00oW3NwYW5dLCAnLi4vKycpLm1hcChsID0+XG4gICAgICAgIGwuc2V0QXR0cmlidXRlKCdkYXRhLWNvbGxhcHNlZCcsICdmYWxzZScpKTtcblxuICAgICAgLy8gYWRqdXN0IGNvbm5lY3RvcnNcbiAgICAgIGNvbnN0IHF1aXogPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShzcGFuLCAndHJlZScpO1xuICAgICAgaWYgKHF1aXopIGFkanVzdENvbm5lY3RvcnMocXVpeik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIG1hcmsgb3B0aW9uIGFzIHRyaWVkLWFuZC13cm9uZ1xuICAgIEFycmF5LmZyb20oc2VsLnNlbGVjdGVkT3B0aW9ucykubWFwKG8gPT5cbiAgICAgIG8ucmVtb3ZlKCkpO1xuICAgIC8vIGdpdmUgdmlzdWFsIGZlZWRiYWNrXG4gICAgY29uc3Qgc3BhbiA9IGdldFBhcmVudFRhZ1JlY3Vyc2l2ZShzZWwsICdzcGFuJyk7XG4gICAgaWYgKHNwYW4pIHtcbiAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgnd3JvbmcnKTtcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QucmVtb3ZlKCd3cm9uZycpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gIyMjIHNlY29uZCBwYXJ0IG9mIHRoZSBxdWl6XG5mdW5jdGlvbiByZW5kZXJIb2xlUXVpeihuOiBub2RlLCBsYW5nOiBpbXBsZW1lbnRlZExhbmd1YWdlKTpzdHJpbmcge1xuICByZXR1cm4gYFxuICA8ZGl2IGNsYXNzPVwiaG9sZS1tYXJraW5nXCJcbiAgICAgICBkYXRhLWhvbGVzPVwiJHtidG9hKEpTT04uc3RyaW5naWZ5KG4uaG9sZXMubWFwKGggPT4gW2guc3RhcnQsaC5lbmQsIGZhbHNlXSkpKX1cIj5cbiAgICA8ZGl2IGNsYXNzPVwidGV4dGFyZWEtY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibWFya2VyLWNvbnRhaW5lclwiPlxuICAgICAgICAke24uY29kZS5zcGxpdCgnXFxuJylcbiAgICAgICAgICAgIC5tYXAobCA9PiBsLnNwbGl0KCcnKS5tYXAoYyA9PlxuICAgICAgICAgICAgICBgPHNwYW4gY2xhc3M9XCJjaGFyIG1hcmtlclwiPiR7Y308L3NwYW4+YFxuICAgICAgICAgICAgKS5qb2luKCcnKSlcbiAgICAgICAgICAgIC5qb2luKCc8c3BhbiBjbGFzcz1cImNoYXIgbWFya2VyXCI+PC9zcGFuPjxicj4nKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPHRleHRhcmVhIGF1dG9jb3JyZWN0PVwib2ZmXCJcbiAgICAgICAgICAgICAgICBzcGVsbGNoZWNrPVwiZmFsc2VcIlxuICAgICAgICAgICAgICAgIGNvbHM9XCIke24uY29kZS5zcGxpdCgnXFxuJykubWFwKGwgPT4gbC5sZW5ndGgpLnJlZHVjZSgoeCx5KSA9PiB4ID4geSA/IHggOiB5KX1cIlxuICAgICAgICAgICAgICAgIHJvd3M9XCIke24uY29kZS5zcGxpdCgnXFxuJykubGVuZ3RofVwiXG4gICAgICAgICAgICAgICAgb25pbnB1dD1cInN0b3BJbnB1dChldmVudCwgJyR7YnRvYShuLmNvZGUpfScpXCI+JHtuLmNvZGV9PC90ZXh0YXJlYT5cbiAgICA8L2Rpdj48YnI+XG4gICAgPGJ1dHRvbiBvbmNsaWNrPVwiY2hlY2tTZWxlY3Rpb24oZXZlbnQpXCI+XG4gICAgICAke2RpY3Rpb25hcnlbbGFuZ11bJ21hcmsgc2VsZWN0ZWQgdGV4dCBhcyBob2xlJ119XG4gICAgPC9idXR0b24+XG4gIDwvZGl2PlxuICBgO1xufVxuKHdpbmRvdyBhcyBhbnkpLnN0b3BJbnB1dCA9IChlOiBFdmVudCwgb2xkVmFsOiBzdHJpbmcpID0+IHtcbiAgKGUudGFyZ2V0IGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQpLnZhbHVlID0gYXRvYihvbGRWYWwpO1xufVxuKHdpbmRvdyBhcyBhbnkpLmNoZWNrU2VsZWN0aW9uID0gKGU6IEV2ZW50KSA9PiB7XG4gIC8vIGdldCBjb250ZXh0XG4gIGNvbnN0IGJ0biA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICBjb25zdCBkaXYgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShidG4sICdob2xlLW1hcmtpbmcnKTtcbiAgaWYgKCFkaXYpIHtcbiAgICBjb25zb2xlLmVycm9yKCdjaGVja1Byb2R1Y3Rpb24gY2FsbGVkIGZyb20gZWwuIG5vdCB3cmFwcGVkIGluIGRpdi5ob2xlLW1hcmtpbmcnKTtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gZ2V0IGhvbGVzIHRvIGZpbmRcbiAgY29uc3QgaG9sZXMgPSBKU09OLnBhcnNlKGF0b2IoZGl2LmdldEF0dHJpYnV0ZSgnZGF0YS1ob2xlcycpIGFzIHN0cmluZykpIGFzIFtudW1iZXIsbnVtYmVyLGJvb2xlYW5dW107XG5cbiAgLy8gZ2V0IGN1cnJlbnQgc2VsZWN0aW9uXG4gIGNvbnN0IHRleHRhcmVhID0gZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0ZXh0YXJlYScpWzBdIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gIGNvbnN0IHNlbFN0YXJ0ID0gdGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQ7XG4gIGNvbnN0IHNlbEVuZCA9IHRleHRhcmVhLnNlbGVjdGlvbkVuZDtcbiAgY29uc3Qgc3RhcnQgPSBzZWxTdGFydCA8IHNlbEVuZCA/IHNlbFN0YXJ0IDogc2VsRW5kO1xuICBjb25zdCBlbmQgPSBzZWxTdGFydCA8IHNlbEVuZCA/IHNlbEVuZCA6IHNlbFN0YXJ0O1xuXG4gIC8vIGNoZWNrIGlmIGhvbGUgaXMgZm91bmRcbiAgbGV0IGZvdW5kID0gLTE7XG4gIGhvbGVzLm1hcCgoaCxpKSA9PiB7XG4gICAgaWYgKGhbMF0gPT09IHN0YXJ0ICYmIGhbMV0gPT09IGVuZCkge1xuICAgICAgaFsyXSA9IHRydWU7XG4gICAgICBmb3VuZCA9IGk7XG4gICAgfVxuICB9KTtcblxuICBpZiAoZm91bmQgPj0gMCkge1xuICAgIC8vIHNhdmUgY2hhbmdlZCBzdGF0ZVxuICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaG9sZXMnLCBidG9hKEpTT04uc3RyaW5naWZ5KGhvbGVzKSkpO1xuICAgIC8vIG1hcmsgaG9sZSBhcyBjb3JyZWN0XG4gICAgbmF2aWdhdGVET00oW2Rpdl0sICcudGV4dGFyZWEtY29udGFpbmVyLy5tYXJrZXItY29udGFpbmVyLy5tYXJrZXInLCB0cnVlKVxuICAgICAgLnNsaWNlKHN0YXJ0LCBlbmQpXG4gICAgICAubWFwKG0gPT4gbS5jbGFzc0xpc3QuYWRkKCdjb3JyZWN0JykpO1xuICB9IGVsc2Uge1xuICAgIC8vIGdpdmUgZmVlZGJhY2sgYWJvdXQgd3Jvbmcgc2VsZWN0aW9uXG4gICAgY29uc3QgbWFya2VycyA9IG5hdmlnYXRlRE9NKFtkaXZdLCAnLnRleHRhcmVhLWNvbnRhaW5lci8ubWFya2VyLWNvbnRhaW5lci8ubWFya2VyJywgdHJ1ZSlcbiAgICAgIC5zbGljZShzdGFydCwgZW5kKTtcblxuICAgIG1hcmtlcnMubWFwKG0gPT4gbS5jbGFzc0xpc3QuYWRkKCd3cm9uZycpKTtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBtYXJrZXJzLm1hcChtID0+IG0uY2xhc3NMaXN0LnJlbW92ZSgnd3JvbmcnKSk7XG4gICAgfSwgMTAwKTtcbiAgfVxuICBpZihob2xlcy5ldmVyeShoID0+IGhbMl0pKSB7XG4gICAgLy8gbW92ZSBvbiB0byBuZXh0IHBoYXNlID09IGRvbmVcbiAgICBjb25zdCBzcGFuID0gZ2V0UGFyZW50VGFnUmVjdXJzaXZlKGRpdiwgJ3NwYW4nKTtcbiAgICBpZiAoc3Bhbikge1xuICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcXVpei1zdGF0ZScsICdkb25lJyk7XG4gICAgICAvLyBleHBhbmQgZmlyc3QgY2hpbGRcbiAgICAgIG5hdmlnYXRlRE9NKFtzcGFuXSwgJy4uL3VsLy5jaGlsZC0xJykubWFwKGMgPT5cbiAgICAgICAgYy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywgJ2ZhbHNlJykpO1xuXG4gICAgICAvLyBhZGp1c3QgY29ubmVjdG9ycyBmb3Igd2lkdGggY2hhbmdlXG4gICAgICBjb25zdCBxdWl6ID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUoc3BhbiwgJ3RyZWUnKTtcbiAgICAgIGlmIChxdWl6KSBhZGp1c3RDb25uZWN0b3JzKHF1aXopO1xuICAgIH1cbiAgfVxufVxuIiwgIlxuLy8gR2VuZXJhdGVkIGJ5IHBlZ2d5IHYuIDEuMi4wICh0cy1wZWdqcyBwbHVnaW4gdi4gMS4yLjIgKVxuLy9cbi8vIGh0dHBzOi8vcGVnZ3lqcy5vcmcvICAgaHR0cHM6Ly9naXRodWIuY29tL21ldGFkZXZwcm8vdHMtcGVnanNcblxuZXhwb3J0IGludGVyZmFjZSBJRmlsZVBvc2l0aW9uIHtcbiAgb2Zmc2V0OiBudW1iZXI7XG4gIGxpbmU6IG51bWJlcjtcbiAgY29sdW1uOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZpbGVSYW5nZSB7XG4gIHN0YXJ0OiBJRmlsZVBvc2l0aW9uO1xuICBlbmQ6IElGaWxlUG9zaXRpb247XG4gIHNvdXJjZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElMaXRlcmFsRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImxpdGVyYWxcIjtcbiAgdGV4dDogc3RyaW5nO1xuICBpZ25vcmVDYXNlOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDbGFzc1BhcnRzIGV4dGVuZHMgQXJyYXk8c3RyaW5nIHwgSUNsYXNzUGFydHM+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNsYXNzRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImNsYXNzXCI7XG4gIHBhcnRzOiBJQ2xhc3NQYXJ0cztcbiAgaW52ZXJ0ZWQ6IGJvb2xlYW47XG4gIGlnbm9yZUNhc2U6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUFueUV4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJhbnlcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRW5kRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImVuZFwiO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElPdGhlckV4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJvdGhlclwiO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBFeHBlY3RhdGlvbiA9IElMaXRlcmFsRXhwZWN0YXRpb24gfCBJQ2xhc3NFeHBlY3RhdGlvbiB8IElBbnlFeHBlY3RhdGlvbiB8IElFbmRFeHBlY3RhdGlvbiB8IElPdGhlckV4cGVjdGF0aW9uO1xuXG5mdW5jdGlvbiBwZWckcGFkRW5kKHN0cjogc3RyaW5nLCB0YXJnZXRMZW5ndGg6IG51bWJlciwgcGFkU3RyaW5nOiBzdHJpbmcpIHtcbiAgcGFkU3RyaW5nID0gcGFkU3RyaW5nIHx8ICcgJztcbiAgaWYgKHN0ci5sZW5ndGggPiB0YXJnZXRMZW5ndGgpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIHRhcmdldExlbmd0aCAtPSBzdHIubGVuZ3RoO1xuICBwYWRTdHJpbmcgKz0gcGFkU3RyaW5nLnJlcGVhdCh0YXJnZXRMZW5ndGgpO1xuICByZXR1cm4gc3RyICsgcGFkU3RyaW5nLnNsaWNlKDAsIHRhcmdldExlbmd0aCk7XG59XG5cbmV4cG9ydCBjbGFzcyBTeW50YXhFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHVibGljIHN0YXRpYyBidWlsZE1lc3NhZ2UoZXhwZWN0ZWQ6IEV4cGVjdGF0aW9uW10sIGZvdW5kOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgZnVuY3Rpb24gaGV4KGNoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIGNoLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGl0ZXJhbEVzY2FwZShzOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIHNcbiAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKVxuICAgICAgICAucmVwbGFjZSgvXCIvZywgIFwiXFxcXFxcXCJcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcMC9nLCBcIlxcXFwwXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXHQvZywgXCJcXFxcdFwiKVxuICAgICAgICAucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcci9nLCBcIlxcXFxyXCIpXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csICAgICAgICAgICAgKGNoKSA9PiBcIlxcXFx4MFwiICsgaGV4KGNoKSApXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MTAtXFx4MUZcXHg3Ri1cXHg5Rl0vZywgKGNoKSA9PiBcIlxcXFx4XCIgICsgaGV4KGNoKSApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsYXNzRXNjYXBlKHM6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gc1xuICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCBcIlxcXFxcXFxcXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXF0vZywgXCJcXFxcXVwiKVxuICAgICAgICAucmVwbGFjZSgvXFxeL2csIFwiXFxcXF5cIilcbiAgICAgICAgLnJlcGxhY2UoLy0vZywgIFwiXFxcXC1cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcMC9nLCBcIlxcXFwwXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXHQvZywgXCJcXFxcdFwiKVxuICAgICAgICAucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcci9nLCBcIlxcXFxyXCIpXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csICAgICAgICAgICAgKGNoKSA9PiBcIlxcXFx4MFwiICsgaGV4KGNoKSApXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MTAtXFx4MUZcXHg3Ri1cXHg5Rl0vZywgKGNoKSA9PiBcIlxcXFx4XCIgICsgaGV4KGNoKSApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRXhwZWN0YXRpb24oZXhwZWN0YXRpb246IEV4cGVjdGF0aW9uKSB7XG4gICAgICBzd2l0Y2ggKGV4cGVjdGF0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcImxpdGVyYWxcIjpcbiAgICAgICAgICByZXR1cm4gXCJcXFwiXCIgKyBsaXRlcmFsRXNjYXBlKGV4cGVjdGF0aW9uLnRleHQpICsgXCJcXFwiXCI7XG4gICAgICAgIGNhc2UgXCJjbGFzc1wiOlxuICAgICAgICAgIGNvbnN0IGVzY2FwZWRQYXJ0cyA9IGV4cGVjdGF0aW9uLnBhcnRzLm1hcCgocGFydCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGFydClcbiAgICAgICAgICAgICAgPyBjbGFzc0VzY2FwZShwYXJ0WzBdIGFzIHN0cmluZykgKyBcIi1cIiArIGNsYXNzRXNjYXBlKHBhcnRbMV0gYXMgc3RyaW5nKVxuICAgICAgICAgICAgICA6IGNsYXNzRXNjYXBlKHBhcnQpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIFwiW1wiICsgKGV4cGVjdGF0aW9uLmludmVydGVkID8gXCJeXCIgOiBcIlwiKSArIGVzY2FwZWRQYXJ0cyArIFwiXVwiO1xuICAgICAgICBjYXNlIFwiYW55XCI6XG4gICAgICAgICAgcmV0dXJuIFwiYW55IGNoYXJhY3RlclwiO1xuICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIFwiZW5kIG9mIGlucHV0XCI7XG4gICAgICAgIGNhc2UgXCJvdGhlclwiOlxuICAgICAgICAgIHJldHVybiBleHBlY3RhdGlvbi5kZXNjcmlwdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXNjcmliZUV4cGVjdGVkKGV4cGVjdGVkMTogRXhwZWN0YXRpb25bXSkge1xuICAgICAgY29uc3QgZGVzY3JpcHRpb25zID0gZXhwZWN0ZWQxLm1hcChkZXNjcmliZUV4cGVjdGF0aW9uKTtcbiAgICAgIGxldCBpOiBudW1iZXI7XG4gICAgICBsZXQgajogbnVtYmVyO1xuXG4gICAgICBkZXNjcmlwdGlvbnMuc29ydCgpO1xuXG4gICAgICBpZiAoZGVzY3JpcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChpID0gMSwgaiA9IDE7IGkgPCBkZXNjcmlwdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZGVzY3JpcHRpb25zW2kgLSAxXSAhPT0gZGVzY3JpcHRpb25zW2ldKSB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbnNbal0gPSBkZXNjcmlwdGlvbnNbaV07XG4gICAgICAgICAgICBqKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlc2NyaXB0aW9ucy5sZW5ndGggPSBqO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGRlc2NyaXB0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnNbMF07XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnNbMF0gKyBcIiBvciBcIiArIGRlc2NyaXB0aW9uc1sxXTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnMuc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKVxuICAgICAgICAgICAgKyBcIiwgb3IgXCJcbiAgICAgICAgICAgICsgZGVzY3JpcHRpb25zW2Rlc2NyaXB0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXNjcmliZUZvdW5kKGZvdW5kMTogc3RyaW5nIHwgbnVsbCkge1xuICAgICAgcmV0dXJuIGZvdW5kMSA/IFwiXFxcIlwiICsgbGl0ZXJhbEVzY2FwZShmb3VuZDEpICsgXCJcXFwiXCIgOiBcImVuZCBvZiBpbnB1dFwiO1xuICAgIH1cblxuICAgIHJldHVybiBcIkV4cGVjdGVkIFwiICsgZGVzY3JpYmVFeHBlY3RlZChleHBlY3RlZCkgKyBcIiBidXQgXCIgKyBkZXNjcmliZUZvdW5kKGZvdW5kKSArIFwiIGZvdW5kLlwiO1xuICB9XG5cbiAgcHVibGljIG1lc3NhZ2U6IHN0cmluZztcbiAgcHVibGljIGV4cGVjdGVkOiBFeHBlY3RhdGlvbltdO1xuICBwdWJsaWMgZm91bmQ6IHN0cmluZyB8IG51bGw7XG4gIHB1YmxpYyBsb2NhdGlvbjogSUZpbGVSYW5nZTtcbiAgcHVibGljIG5hbWU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIGV4cGVjdGVkOiBFeHBlY3RhdGlvbltdLCBmb3VuZDogc3RyaW5nIHwgbnVsbCwgbG9jYXRpb246IElGaWxlUmFuZ2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5leHBlY3RlZCA9IGV4cGVjdGVkO1xuICAgIHRoaXMuZm91bmQgPSBmb3VuZDtcbiAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgdGhpcy5uYW1lID0gXCJTeW50YXhFcnJvclwiO1xuXG4gICAgaWYgKHR5cGVvZiAoT2JqZWN0IGFzIGFueSkuc2V0UHJvdG90eXBlT2YgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgKE9iamVjdCBhcyBhbnkpLnNldFByb3RvdHlwZU9mKHRoaXMsIFN5bnRheEVycm9yLnByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICh0aGlzIGFzIGFueSkuX19wcm90b19fID0gU3ludGF4RXJyb3IucHJvdG90eXBlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIChFcnJvciBhcyBhbnkpLmNhcHR1cmVTdGFja1RyYWNlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIChFcnJvciBhcyBhbnkpLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFN5bnRheEVycm9yKTtcbiAgICB9XG4gIH1cblxuICBmb3JtYXQoc291cmNlczogeyBzb3VyY2U6IHN0cmluZzsgdGV4dDogc3RyaW5nIH1bXSk6IHN0cmluZyB7XG4gICAgbGV0IHN0ciA9ICdFcnJvcjogJyArIHRoaXMubWVzc2FnZTtcbiAgICBpZiAodGhpcy5sb2NhdGlvbikge1xuICAgICAgbGV0IHNyYzogc3RyaW5nW10gfCBudWxsID0gbnVsbDtcbiAgICAgIGxldCBrO1xuICAgICAgZm9yIChrID0gMDsgayA8IHNvdXJjZXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgaWYgKHNvdXJjZXNba10uc291cmNlID09PSB0aGlzLmxvY2F0aW9uLnNvdXJjZSkge1xuICAgICAgICAgIHNyYyA9IHNvdXJjZXNba10udGV4dC5zcGxpdCgvXFxyXFxufFxcbnxcXHIvZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBzID0gdGhpcy5sb2NhdGlvbi5zdGFydDtcbiAgICAgIGxldCBsb2MgPSB0aGlzLmxvY2F0aW9uLnNvdXJjZSArICc6JyArIHMubGluZSArICc6JyArIHMuY29sdW1uO1xuICAgICAgaWYgKHNyYykge1xuICAgICAgICBsZXQgZSA9IHRoaXMubG9jYXRpb24uZW5kO1xuICAgICAgICBsZXQgZmlsbGVyID0gcGVnJHBhZEVuZCgnJywgcy5saW5lLnRvU3RyaW5nKCkubGVuZ3RoLCAnICcpO1xuICAgICAgICBsZXQgbGluZSA9IHNyY1tzLmxpbmUgLSAxXTtcbiAgICAgICAgbGV0IGxhc3QgPSBzLmxpbmUgPT09IGUubGluZSA/IGUuY29sdW1uIDogbGluZS5sZW5ndGggKyAxO1xuICAgICAgICBzdHIgKz0gJ1xcbiAtLT4gJyArIGxvYyArICdcXG4nICsgZmlsbGVyICsgJyB8XFxuJyArIHMubGluZSArICcgfCAnICsgbGluZSArICdcXG4nICsgZmlsbGVyICsgJyB8ICcgK1xuICAgICAgICAgIHBlZyRwYWRFbmQoJycsIHMuY29sdW1uIC0gMSwgJyAnKSArXG4gICAgICAgICAgcGVnJHBhZEVuZCgnJywgbGFzdCAtIHMuY29sdW1uLCAnXicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyICs9ICdcXG4gYXQgJyArIGxvYztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5mdW5jdGlvbiBwZWckcGFyc2UoaW5wdXQ6IHN0cmluZywgb3B0aW9ucz86IElQYXJzZU9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMgOiB7fTtcblxuICBjb25zdCBwZWckRkFJTEVEOiBSZWFkb25seTxhbnk+ID0ge307XG4gIGNvbnN0IHBlZyRzb3VyY2UgPSBvcHRpb25zLmdyYW1tYXJTb3VyY2U7XG5cbiAgY29uc3QgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uczoge1tpZDogc3RyaW5nXTogYW55fSA9IHsgUHJvZ3JhbTogcGVnJHBhcnNlUHJvZ3JhbSB9O1xuICBsZXQgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uOiAoKSA9PiBhbnkgPSBwZWckcGFyc2VQcm9ncmFtO1xuXG4gIGNvbnN0IHBlZyRjMCA9IGZ1bmN0aW9uKGFsbDogYW55KTogYW55IHsgcmV0dXJuIGFsbCB9O1xuICBjb25zdCBwZWckYzEgPSAvXltcXHQgXFxuIFxccl0vO1xuICBjb25zdCBwZWckYzIgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCJcXHRcIiwgXCIgXCIsIFwiXFxuXCIsIFwiIFwiLCBcIlxcclwiXSwgZmFsc2UsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzID0gZnVuY3Rpb24oZGVmOiBhbnkpOiBhbnkgeyByZXR1cm4gZGVmIH07XG4gIGNvbnN0IHBlZyRjNCA9IFwiKGRlZmluZS1zdHJ1Y3RcIjtcbiAgY29uc3QgcGVnJGM1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIihkZWZpbmUtc3RydWN0XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM2ID0gXCIoXCI7XG4gIGNvbnN0IHBlZyRjNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIoXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM4ID0gXCIpXCI7XG4gIGNvbnN0IHBlZyRjOSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIpXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMCA9IGZ1bmN0aW9uKGJpbmRpbmc6IGFueSwgcHJvcGVydGllczogYW55KTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJ0eXBlXCI6IFwiU3RydWN0IERlZmluaXRpb25cIixcbiAgICBcdFwiYmluZGluZ1wiOiBiaW5kaW5nLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHByb3BlcnRpZXNcbiAgICAgIH1cbiAgICB9O1xuICBjb25zdCBwZWckYzExID0gXCIoZGVmaW5lXCI7XG4gIGNvbnN0IHBlZyRjMTIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKGRlZmluZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTMgPSBmdW5jdGlvbihuYW1lOiBhbnksIGFyZ3M6IGFueSwgYm9keTogYW55KTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJ0eXBlXCI6IFwiRnVuY3Rpb24gRGVmaW5pdGlvblwiLFxuICAgIFx0XCJuYW1lXCI6IG5hbWUsXG4gICAgICBcImFyZ3NcIjogYXJncyxcbiAgICAgIFwiYm9keVwiOiBib2R5XG4gICAgICB9XG4gICAgfTtcbiAgY29uc3QgcGVnJGMxNCA9IGZ1bmN0aW9uKG5hbWU6IGFueSwgdmFsdWU6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFwidHlwZVwiOiBcIkNvbnN0YW50IERlZmluaXRpb25cIixcbiAgICBcdFwibmFtZVwiOiBuYW1lLFxuICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZVxuICAgICAgfVxuICAgIH07XG4gIGNvbnN0IHBlZyRjMTUgPSBmdW5jdGlvbihleHByOiBhbnkpOiBhbnkgeyByZXR1cm4gZXhwciB9O1xuICBjb25zdCBwZWckYzE2ID0gXCIoY29uZFwiO1xuICBjb25zdCBwZWckYzE3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIihjb25kXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxOCA9IGZ1bmN0aW9uKG9wdGlvbnM6IGFueSk6IGFueSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBcInR5cGVcIjogXCJDb25kLUV4cHJlc3Npb25cIixcbiAgICAgICAgXCJvcHRpb25zXCI6IG9wdGlvbnNcbiAgICAgIH1cbiAgICB9O1xuICBjb25zdCBwZWckYzE5ID0gXCJbXCI7XG4gIGNvbnN0IHBlZyRjMjAgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiW1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjEgPSBcIl1cIjtcbiAgY29uc3QgcGVnJGMyMiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJdXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyMyA9IGZ1bmN0aW9uKGNvbmRpdGlvbjogYW55LCByZXN1bHQ6IGFueSk6IGFueSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBcInR5cGVcIjogXCJDb25kLU9wdGlvblwiLFxuICAgICAgICBcImNvbmRpdGlvblwiOiBjb25kaXRpb24sXG4gICAgICAgIFwicmVzdWx0XCI6cmVzdWx0XG4gICAgICB9XG4gICAgfTtcbiAgY29uc3QgcGVnJGMyNCA9IGZ1bmN0aW9uKG5hbWU6IGFueSwgYXJnczogYW55KTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJ0eXBlXCI6IFwiRnVuY3Rpb24gQ2FsbFwiLFxuICAgICAgXCJuYW1lXCI6IG5hbWUsXG4gICAgICBcImFyZ3NcIjogYXJnc1xuICAgICAgfVxuICAgIH07XG4gIGNvbnN0IHBlZyRjMjUgPSBcImRlZmluZVwiO1xuICBjb25zdCBwZWckYzI2ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImRlZmluZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjcgPSAvXlteXCIsJ2AoKVtcXF17fXwjXFxuXFx0XFxyMC05IF0vO1xuICBjb25zdCBwZWckYzI4ID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1wiXFxcIlwiLCBcIixcIiwgXCInXCIsIFwiYFwiLCBcIihcIiwgXCIpXCIsIFwiW1wiLCBcIl1cIiwgXCJ7XCIsIFwifVwiLCBcInxcIiwgXCIjXCIsIFwiXFxuXCIsIFwiXFx0XCIsIFwiXFxyXCIsIFtcIjBcIiwgXCI5XCJdLCBcIiBcIl0sIHRydWUsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyOSA9IGZ1bmN0aW9uKHN5bWJvbDogYW55KTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJ0eXBlXCI6IFwiU3ltYm9sXCIsXG4gICAgXHRcInN5bWJvbFwiOnN5bWJvbC5qb2luKFwiXCIpXG4gICAgICB9XG4gICAgfTtcbiAgY29uc3QgcGVnJGMzMCA9IGZ1bmN0aW9uKHZhbDogYW55KTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJ0eXBlXCI6IFwiTGl0ZXJhbCBWYWx1ZVwiLFxuICAgICAgXCJ2YWx1ZVwiOiB2YWxcbiAgICAgIH1cbiAgICB9O1xuICBjb25zdCBwZWckYzMxID0gL15bMC05XS87XG4gIGNvbnN0IHBlZyRjMzIgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiMFwiLCBcIjlcIl1dLCBmYWxzZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzMzID0gZnVuY3Rpb24oKTogYW55IHtyZXR1cm4gcGFyc2VJbnQodGV4dCgpLCAxMCl9O1xuICBjb25zdCBwZWckYzM0ID0gXCIjdHJ1ZVwiO1xuICBjb25zdCBwZWckYzM1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIiN0cnVlXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzNiA9IFwiI2ZhbHNlXCI7XG4gIGNvbnN0IHBlZyRjMzcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiI2ZhbHNlXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzOCA9IFwiI3RcIjtcbiAgY29uc3QgcGVnJGMzOSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIjdFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDAgPSBcIiNmXCI7XG4gIGNvbnN0IHBlZyRjNDEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiI2ZcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQyID0gZnVuY3Rpb24oYm9vbDogYW55KTogYW55IHsgcmV0dXJuIChib29sID09PSBcIiN0cnVlXCIgfHwgYm9vbCA9PT0gXCIjdFwiKSB9O1xuICBjb25zdCBwZWckYzQzID0gXCInKClcIjtcbiAgY29uc3QgcGVnJGM0NCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCInKClcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQ1ID0gZnVuY3Rpb24oKTogYW55IHsgcmV0dXJuIFwiJygpXCIgfTtcbiAgY29uc3QgcGVnJGM0NiA9IFwiXFxcIlwiO1xuICBjb25zdCBwZWckYzQ3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXCJcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQ4ID0gL15bXlwiXS87XG4gIGNvbnN0IHBlZyRjNDkgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCJcXFwiXCJdLCB0cnVlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNTAgPSBmdW5jdGlvbihzdHI6IGFueSk6IGFueSB7IHJldHVybiBzdHIuam9pbihcIlwiKSB9O1xuICBjb25zdCBwZWckYzUxID0gcGVnJG90aGVyRXhwZWN0YXRpb24oXCJ3aGl0ZXNwYWNlXCIpO1xuICBjb25zdCBwZWckYzUyID0gZnVuY3Rpb24oKTogYW55IHtyZXR1cm4gdW5kZWZpbmVkfTtcblxuICBsZXQgcGVnJGN1cnJQb3MgPSAwO1xuICBsZXQgcGVnJHNhdmVkUG9zID0gMDtcbiAgY29uc3QgcGVnJHBvc0RldGFpbHNDYWNoZSA9IFt7IGxpbmU6IDEsIGNvbHVtbjogMSB9XTtcbiAgbGV0IHBlZyRtYXhGYWlsUG9zID0gMDtcbiAgbGV0IHBlZyRtYXhGYWlsRXhwZWN0ZWQ6IEV4cGVjdGF0aW9uW10gPSBbXTtcbiAgbGV0IHBlZyRzaWxlbnRGYWlscyA9IDA7XG5cbiAgbGV0IHBlZyRyZXN1bHQ7XG5cbiAgaWYgKG9wdGlvbnMuc3RhcnRSdWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoIShvcHRpb25zLnN0YXJ0UnVsZSBpbiBwZWckc3RhcnRSdWxlRnVuY3Rpb25zKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3Qgc3RhcnQgcGFyc2luZyBmcm9tIHJ1bGUgXFxcIlwiICsgb3B0aW9ucy5zdGFydFJ1bGUgKyBcIlxcXCIuXCIpO1xuICAgIH1cblxuICAgIHBlZyRzdGFydFJ1bGVGdW5jdGlvbiA9IHBlZyRzdGFydFJ1bGVGdW5jdGlvbnNbb3B0aW9ucy5zdGFydFJ1bGVdO1xuICB9XG5cbiAgZnVuY3Rpb24gdGV4dCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBpbnB1dC5zdWJzdHJpbmcocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2NhdGlvbigpOiBJRmlsZVJhbmdlIHtcbiAgICByZXR1cm4gcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4cGVjdGVkKGRlc2NyaXB0aW9uOiBzdHJpbmcsIGxvY2F0aW9uMT86IElGaWxlUmFuZ2UpIHtcbiAgICBsb2NhdGlvbjEgPSBsb2NhdGlvbjEgIT09IHVuZGVmaW5lZFxuICAgICAgPyBsb2NhdGlvbjFcbiAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcblxuICAgIHRocm93IHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihcbiAgICAgIFtwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbildLFxuICAgICAgaW5wdXQuc3Vic3RyaW5nKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpLFxuICAgICAgbG9jYXRpb24xXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgbG9jYXRpb24xPzogSUZpbGVSYW5nZSkge1xuICAgIGxvY2F0aW9uMSA9IGxvY2F0aW9uMSAhPT0gdW5kZWZpbmVkXG4gICAgICA/IGxvY2F0aW9uMVxuICAgICAgOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuXG4gICAgdGhyb3cgcGVnJGJ1aWxkU2ltcGxlRXJyb3IobWVzc2FnZSwgbG9jYXRpb24xKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24odGV4dDE6IHN0cmluZywgaWdub3JlQ2FzZTogYm9vbGVhbik6IElMaXRlcmFsRXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwibGl0ZXJhbFwiLCB0ZXh0OiB0ZXh0MSwgaWdub3JlQ2FzZTogaWdub3JlQ2FzZSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGNsYXNzRXhwZWN0YXRpb24ocGFydHM6IElDbGFzc1BhcnRzLCBpbnZlcnRlZDogYm9vbGVhbiwgaWdub3JlQ2FzZTogYm9vbGVhbik6IElDbGFzc0V4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImNsYXNzXCIsIHBhcnRzOiBwYXJ0cywgaW52ZXJ0ZWQ6IGludmVydGVkLCBpZ25vcmVDYXNlOiBpZ25vcmVDYXNlIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckYW55RXhwZWN0YXRpb24oKTogSUFueUV4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImFueVwiIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckZW5kRXhwZWN0YXRpb24oKTogSUVuZEV4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImVuZFwiIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbjogc3RyaW5nKTogSU90aGVyRXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwib3RoZXJcIiwgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckY29tcHV0ZVBvc0RldGFpbHMocG9zOiBudW1iZXIpIHtcbiAgICBsZXQgZGV0YWlscyA9IHBlZyRwb3NEZXRhaWxzQ2FjaGVbcG9zXTtcbiAgICBsZXQgcDtcblxuICAgIGlmIChkZXRhaWxzKSB7XG4gICAgICByZXR1cm4gZGV0YWlscztcbiAgICB9IGVsc2Uge1xuICAgICAgcCA9IHBvcyAtIDE7XG4gICAgICB3aGlsZSAoIXBlZyRwb3NEZXRhaWxzQ2FjaGVbcF0pIHtcbiAgICAgICAgcC0tO1xuICAgICAgfVxuXG4gICAgICBkZXRhaWxzID0gcGVnJHBvc0RldGFpbHNDYWNoZVtwXTtcbiAgICAgIGRldGFpbHMgPSB7XG4gICAgICAgIGxpbmU6IGRldGFpbHMubGluZSxcbiAgICAgICAgY29sdW1uOiBkZXRhaWxzLmNvbHVtblxuICAgICAgfTtcblxuICAgICAgd2hpbGUgKHAgPCBwb3MpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocCkgPT09IDEwKSB7XG4gICAgICAgICAgZGV0YWlscy5saW5lKys7XG4gICAgICAgICAgZGV0YWlscy5jb2x1bW4gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRldGFpbHMuY29sdW1uKys7XG4gICAgICAgIH1cblxuICAgICAgICBwKys7XG4gICAgICB9XG5cbiAgICAgIHBlZyRwb3NEZXRhaWxzQ2FjaGVbcG9zXSA9IGRldGFpbHM7XG5cbiAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRjb21wdXRlTG9jYXRpb24oc3RhcnRQb3M6IG51bWJlciwgZW5kUG9zOiBudW1iZXIpOiBJRmlsZVJhbmdlIHtcbiAgICBjb25zdCBzdGFydFBvc0RldGFpbHMgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMoc3RhcnRQb3MpO1xuICAgIGNvbnN0IGVuZFBvc0RldGFpbHMgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMoZW5kUG9zKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzb3VyY2U6IHBlZyRzb3VyY2UsXG4gICAgICBzdGFydDoge1xuICAgICAgICBvZmZzZXQ6IHN0YXJ0UG9zLFxuICAgICAgICBsaW5lOiBzdGFydFBvc0RldGFpbHMubGluZSxcbiAgICAgICAgY29sdW1uOiBzdGFydFBvc0RldGFpbHMuY29sdW1uXG4gICAgICB9LFxuICAgICAgZW5kOiB7XG4gICAgICAgIG9mZnNldDogZW5kUG9zLFxuICAgICAgICBsaW5lOiBlbmRQb3NEZXRhaWxzLmxpbmUsXG4gICAgICAgIGNvbHVtbjogZW5kUG9zRGV0YWlscy5jb2x1bW5cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGZhaWwoZXhwZWN0ZWQxOiBFeHBlY3RhdGlvbikge1xuICAgIGlmIChwZWckY3VyclBvcyA8IHBlZyRtYXhGYWlsUG9zKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKHBlZyRjdXJyUG9zID4gcGVnJG1heEZhaWxQb3MpIHtcbiAgICAgIHBlZyRtYXhGYWlsUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICBwZWckbWF4RmFpbEV4cGVjdGVkID0gW107XG4gICAgfVxuXG4gICAgcGVnJG1heEZhaWxFeHBlY3RlZC5wdXNoKGV4cGVjdGVkMSk7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckYnVpbGRTaW1wbGVFcnJvcihtZXNzYWdlOiBzdHJpbmcsIGxvY2F0aW9uMTogSUZpbGVSYW5nZSkge1xuICAgIHJldHVybiBuZXcgU3ludGF4RXJyb3IobWVzc2FnZSwgW10sIFwiXCIsIGxvY2F0aW9uMSk7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IoZXhwZWN0ZWQxOiBFeHBlY3RhdGlvbltdLCBmb3VuZDogc3RyaW5nIHwgbnVsbCwgbG9jYXRpb24xOiBJRmlsZVJhbmdlKSB7XG4gICAgcmV0dXJuIG5ldyBTeW50YXhFcnJvcihcbiAgICAgIFN5bnRheEVycm9yLmJ1aWxkTWVzc2FnZShleHBlY3RlZDEsIGZvdW5kKSxcbiAgICAgIGV4cGVjdGVkMSxcbiAgICAgIGZvdW5kLFxuICAgICAgbG9jYXRpb24xXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZVByb2dyYW0oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBbXTtcbiAgICBzMiA9IHBlZyRwYXJzZURlZk9yRXhwcigpO1xuICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHdoaWxlIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczEucHVzaChzMik7XG4gICAgICAgIHMyID0gcGVnJHBhcnNlRGVmT3JFeHByKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjMChzMSk7XG4gICAgfVxuICAgIHMwID0gczE7XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VEZWZPckV4cHIoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlRGVmaW5pdGlvbigpO1xuICAgIGlmIChzMSBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJHBhcnNlRXhwcmVzc2lvbigpO1xuICAgIH1cbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgaWYgKHBlZyRjMS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHdoaWxlIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgICBpZiAocGVnJGMxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzAoczEpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZURlZmluaXRpb24oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VTdHJ1Y3REZWYoKTtcbiAgICAgIGlmIChzMiBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2VGdW5EZWYoKTtcbiAgICAgICAgaWYgKHMyIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gcGVnJHBhcnNlQ29uc3REZWYoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzMoczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZVN0cnVjdERlZigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAxNCkgPT09IHBlZyRjNCkge1xuICAgICAgczEgPSBwZWckYzQ7XG4gICAgICBwZWckY3VyclBvcyArPSAxNDtcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzUpOyB9XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJGM2O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gW107XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZU5hbWUoKTtcbiAgICAgICAgICAgIGlmIChzNiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgd2hpbGUgKHM2IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM1LnB1c2goczYpO1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRjODtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOSk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczYgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM3IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRjODtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzkpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczggYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTAoczIsIHM1KTtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VGdW5EZWYoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczk7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDcpID09PSBwZWckYzExKSB7XG4gICAgICBzMSA9IHBlZyRjMTE7XG4gICAgICBwZWckY3VyclBvcyArPSA3O1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTIpOyB9XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlXygpO1xuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgczMgPSBwZWckYzY7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzcpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgaWYgKHM1IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IFtdO1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZU5hbWUoKTtcbiAgICAgICAgICAgICAgaWYgKHM3IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChzNyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM2LnB1c2goczcpO1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczYgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzg7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOSk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM3IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczggYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRjODtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOSk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoczkgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzEzKHM0LCBzNiwgczgpO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VDb25zdERlZigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQ7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDcpID09PSBwZWckYzExKSB7XG4gICAgICBzMSA9IHBlZyRjMTE7XG4gICAgICBwZWckY3VyclBvcyArPSA3O1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTIpOyB9XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZUV4cHJlc3Npb24oKTtcbiAgICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJGM4O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzkpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzE0KHMyLCBzMyk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUV4cHJlc3Npb24oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VDb25kKCk7XG4gICAgICBpZiAoczIgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNlQ2FsbCgpO1xuICAgICAgICBpZiAoczIgYXMgYW55ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBwZWckcGFyc2VOYW1lKCk7XG4gICAgICAgICAgaWYgKHMyIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczIgPSBwZWckcGFyc2VWYWx1ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzE1KHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VDb25kKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNDtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjMTYpIHtcbiAgICAgIHMxID0gcGVnJGMxNjtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNyk7IH1cbiAgICB9XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJHBhcnNlT3B0aW9uKCk7XG4gICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHdoaWxlIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgICBzMyA9IHBlZyRwYXJzZU9wdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgczQgPSBwZWckYzg7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMTgoczIpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VPcHRpb24oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDkxKSB7XG4gICAgICAgIHMyID0gcGVnJGMxOTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIwKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgaWYgKHMzIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgaWYgKHM1IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZUV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgICAgaWYgKHM2IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTMpIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJGMyMTtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMik7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM3IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjMoczQsIHM2KTtcbiAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlQ2FsbCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQ7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgIHMxID0gcGVnJGM2O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzcpOyB9XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlTmFtZSgpO1xuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IFtdO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZUV4cHJlc3Npb24oKTtcbiAgICAgICAgd2hpbGUgKHM0IGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzLnB1c2goczQpO1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRjODtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMyNChzMiwgczMpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VOYW1lKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNDtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMjUpIHtcbiAgICAgICAgczMgPSBwZWckYzI1O1xuICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjYpOyB9XG4gICAgICB9XG4gICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgIGlmIChzMyBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gW107XG4gICAgICAgIGlmIChwZWckYzI3LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICBzNCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI4KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICB3aGlsZSAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMy5wdXNoKHM0KTtcbiAgICAgICAgICAgIGlmIChwZWckYzI3LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgczQgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjgpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzI5KHMzKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlVmFsdWUoKTogYW55IHtcbiAgICBsZXQgczAsIHMxO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZU51bWJlcigpO1xuICAgIGlmIChzMSBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJHBhcnNlQm9vbGVhbigpO1xuICAgICAgaWYgKHMxIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMSA9IHBlZyRwYXJzZUVtcHR5KCk7XG4gICAgICAgIGlmIChzMSBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMSA9IHBlZyRwYXJzZVN0cmluZygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzMwKHMxKTtcbiAgICB9XG4gICAgczAgPSBzMTtcblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZU51bWJlcigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIGlmIChwZWckYzMxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzIpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHdoaWxlIChzMyBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgICBpZiAocGVnJGMzMS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzIpOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMzMoKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VCb29sZWFuKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczI7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDUpID09PSBwZWckYzM0KSB7XG4gICAgICAgIHMyID0gcGVnJGMzNDtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gNTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM1KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMzNikge1xuICAgICAgICAgIHMyID0gcGVnJGMzNjtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzcpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMyIGFzIGFueSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzM4KSB7XG4gICAgICAgICAgICBzMiA9IHBlZyRjMzg7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzkpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMiBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzQwKSB7XG4gICAgICAgICAgICAgIHMyID0gcGVnJGM0MDtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQxKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyIGFzIGFueSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzQyKHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VFbXB0eSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAzKSA9PT0gcGVnJGM0Mykge1xuICAgICAgICBzMiA9IHBlZyRjNDM7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0NCk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGM0NSgpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZVN0cmluZygpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQ7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzQpIHtcbiAgICAgICAgczIgPSBwZWckYzQ2O1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDcpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gW107XG4gICAgICAgIGlmIChwZWckYzQ4LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICBzNCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ5KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNCBhcyBhbnkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICB3aGlsZSAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMy5wdXNoKHM0KTtcbiAgICAgICAgICAgIGlmIChwZWckYzQ4LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgczQgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDkpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzNCkge1xuICAgICAgICAgICAgczQgPSBwZWckYzQ2O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ3KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGM1MChzMyk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZV8oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMjtcblxuICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBbXTtcbiAgICBpZiAocGVnJGMxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyKTsgfVxuICAgIH1cbiAgICB3aGlsZSAoczIgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMS5wdXNoKHMyKTtcbiAgICAgIGlmIChwZWckYzEudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyKTsgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoczEgYXMgYW55ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGM1MigpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgIGlmIChzMCBhcyBhbnkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1MSk7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBwZWckcmVzdWx0ID0gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uKCk7XG5cbiAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgIHJldHVybiBwZWckcmVzdWx0O1xuICB9IGVsc2Uge1xuICAgIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zIDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICBwZWckZmFpbChwZWckZW5kRXhwZWN0YXRpb24oKSk7XG4gICAgfVxuXG4gICAgdGhyb3cgcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKFxuICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCxcbiAgICAgIHBlZyRtYXhGYWlsUG9zIDwgaW5wdXQubGVuZ3RoID8gaW5wdXQuY2hhckF0KHBlZyRtYXhGYWlsUG9zKSA6IG51bGwsXG4gICAgICBwZWckbWF4RmFpbFBvcyA8IGlucHV0Lmxlbmd0aFxuICAgICAgICA/IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJG1heEZhaWxQb3MsIHBlZyRtYXhGYWlsUG9zICsgMSlcbiAgICAgICAgOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRtYXhGYWlsUG9zLCBwZWckbWF4RmFpbFBvcylcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBhcnNlT3B0aW9ucyB7XG4gIGZpbGVuYW1lPzogc3RyaW5nO1xuICBzdGFydFJ1bGU/OiBzdHJpbmc7XG4gIHRyYWNlcj86IGFueTtcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuZXhwb3J0IHR5cGUgUGFyc2VGdW5jdGlvbiA9IChpbnB1dDogc3RyaW5nLCBvcHRpb25zPzogSVBhcnNlT3B0aW9ucykgPT4gYW55O1xuZXhwb3J0IGNvbnN0IHBhcnNlOiBQYXJzZUZ1bmN0aW9uID0gcGVnJHBhcnNlO1xuIiwgIi8vICMjIyMjIyMjIyBMQVlPVVQgQVNUIEFTIFRSRUUgRElBR1JBTSAjIyMjIyMjI1xuaW1wb3J0ICogYXMgQlNMX0FTVCBmcm9tIFwiLi9CU0xfQVNUXCI7XG5pbXBvcnQgKiBhcyBCU0xfUHJpbnQgZnJvbSBcIi4vQlNMX1ByaW50XCI7XG5pbXBvcnQge25vZGUsIHByb2R1Y3Rpb25UcmVlfSBmcm9tIFwiLi9Qcm9kdWN0aW9uX1RyZWVcIjtcbmltcG9ydCB7cGFyc2V9IGZyb20gXCIuL0JTTF9QYXJzZXJcIjtcbmltcG9ydCB7ZGVmYXVsdCBhcyBlcnJvcl9jc3N9IGZyb20gJy4vcmVzc291cmNlcy9lcnJvci5jc3MnO1xuXG4vLyAjIyMgbWFpbiBhcGlcbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzQnNsVHJlZXMoKSB7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JzbHRyZWUnKSkubWFwKGVsID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvZ3JhbSA6IEJTTF9BU1QucHJvZ3JhbSA9IHBhcnNlKEJTTF9QcmludC5kaXJ0aWZ5KGVsLmlubmVySFRNTCkpO1xuICAgICAgY29uc3Qgcm9vdCA9IHByb2dyYW1Ub05vZGUocHJvZ3JhbSk7XG4gICAgICBjb25zdCBxdWl6ID0gZWwuZ2V0QXR0cmlidXRlKCdxdWl6JykgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcbiAgICAgIGNvbnN0IGxhbmcgPSAoZWwuZ2V0QXR0cmlidXRlKCdsYW5nJykgPyBlbC5nZXRBdHRyaWJ1dGUoJ2xhbmcnKSA6IHVuZGVmaW5lZCkgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgcHJvZHVjdGlvblRyZWUocm9vdCwgZWwgYXMgSFRNTEVsZW1lbnQsIHByb2R1Y3Rpb25zLCBxdWl6LCBsYW5nKTtcbiAgICB9IGNhdGNoKGU6YW55KSB7XG4gICAgICByZW5kZXJFcnJvcihlbCBhcyBIVE1MRWxlbWVudCwgYCR7ZS5sb2NhdGlvbi5zdGFydC5saW5lfToke2UubG9jYXRpb24uc3RhcnQuY29sdW1ufSAke2V9YCk7XG4gICAgfVxuICB9KTtcbn1cbi8vICMjIyBlcnJvciBSZW5kZXIgRnVuY3Rpb25cbmZ1bmN0aW9uIHJlbmRlckVycm9yKGVsOiBIVE1MRWxlbWVudCwgZXJyb3I6c3RyaW5nKXtcbiAgLy8gYWRkIGNzcyBpZiBuZWNlc3NhcnlcbiAgaWYoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdic2wtdG9vbHMtZXJyb3Itc3R5bGUnKSkge1xuICAgIGNvbnN0IHN0eWxlTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGVOb2RlLmlubmVySFRNTCA9IGVycm9yX2NzcztcbiAgICBzdHlsZU5vZGUuaWQgPSAnYnNsLXRvb2xzLWVycm9yLXN0eWxlJztcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHN0eWxlTm9kZSk7XG4gIH1cblxuICBjb25zdCBvcmlnaW4gPSBlbC5pbm5lckhUTUw7XG4gIGVsLmlubmVySFRNTCA9XCJcIjtcbiAgLy9jcmVhdGUgZXJyb3Itd3JhcHBlclxuICBjb25zdCBlcnJvcldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZXJyb3JXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2Vycm9yLXdyYXBwZXInKTtcbiAgZWwuYXBwZW5kQ2hpbGQoZXJyb3JXcmFwcGVyKTtcbiAgLy9jcmVhdGUgb3JpZ2luRGl2XG4gIGNvbnN0IG1lc3NhZ2UgPWA8cD4gQlNMLVRyZWUgY291bGQgbm90IGJlIHBhcnNlZCEgPC9wPlxuICAgICAgICAgICAgICAgICAgPHA+IElucHV0OiA8YiBzdHlsZT1cImZvbnQtc2l6ZTowLjllbTtcIj4ke29yaWdpbn08L2I+IDwvcD5gO1xuICBjb25zdCBvcmlnaW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgb3JpZ2luRGl2LmNsYXNzTGlzdC5hZGQoJ29yaWdpbicpO1xuICBvcmlnaW5EaXYuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgZXJyb3JXcmFwcGVyLmFwcGVuZENoaWxkKG9yaWdpbkRpdik7XG4gIC8vQ3JlYXRlIGVyclByZVxuICBjb25zdCBlcnJQcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwcmUnKTtcbiAgZXJyUHJlLmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XG4gIGNvbnN0IGVyckNvZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjb2RlJyk7XG4gIGVyckNvZGUudGV4dENvbnRlbnQgPSBlcnJvcjtcbiAgZXJyb3JXcmFwcGVyLmFwcGVuZENoaWxkKGVyclByZSk7XG4gIGVyclByZS5hcHBlbmRDaGlsZChlcnJDb2RlKTtcbn1cblxuLy8gIyMjIGtub3duIGxpc3Qgb2YgcHJvZHVjdGlvbnNcbmNvbnN0IHByb2R1Y3Rpb25zID0ge1xuICAnPHByb2dyYW0+JzogICAgICBbJzxkZWYtb3ItZXhwcj4qJ10sXG4gICc8ZGVmLW9yLWV4cHI+Kic6IFtdLCAvLyBbJzxkZWYtb3ItZXhwcj4gPGRlZi1vci1leHByPionLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJyddLFxuICAnPGRlZi1vci1leHByPic6ICBbJzxkZWZpbml0aW9uPicsXG4gICAgICAgICAgICAgICAgICAgICAnPGU+J10sXG4gICc8ZGVmaW5pdGlvbj4nOiAgIFsnKGRlZmluZSAoPG5hbWU+IDxuYW1lPispIDxlPiknLFxuICAgICAgICAgICAgICAgICAgICAgJyhkZWZpbmUgPG5hbWU+IDxlPiknLFxuICAgICAgICAgICAgICAgICAgICAgJyhkZWZpbmUtc3RydWN0IDxuYW1lPiAoPG5hbWU+KikpJ10sXG4gICc8ZT4nOiAgICAgICAgICAgIFsnKG5hbWUgPGU+KiknLFxuICAgICAgICAgICAgICAgICAgICAgJyhjb25kIHtbPGU+LDxlPl19KyknLFxuICAgICAgICAgICAgICAgICAgICAgJzxuYW1lPicsXG4gICAgICAgICAgICAgICAgICAgICAnPHY+J10sXG4gICc8ZT4qJzogICAgICAgICAgIFtdLCAvL1snPGU+IDxlPionLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJyddLFxuICAne1sgPGU+IDxlPiBdfSsnOiBbXSwgLy9bJ1s8ZT4gPGU+XScsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAnWzxlPiA8ZT5dIHtbPGU+LDxlPl19KyddLFxuICAnWyA8ZT4gPGU+IF0nOiAgICBbXSwgLy9bJ1s8ZT4gPGU+XSddLFxuICAnPG5hbWU+Kic6ICAgICAgICBbXSwgLy9bJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAnPG5hbWU+IDxuYW1lPionXSxcbiAgJzxuYW1lPisnOiAgICAgICAgW10sIC8vWyc8bmFtZT4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzxuYW1lPiA8bmFtZT4rJ10sXG4gICc8bmFtZT4nOiAgICAgICAgIFtdLFxuICAnPHY+JzogICAgICAgICAgICBbXVxufTtcblxuLy8gIyMjIHRyYW5zZm9ybSBBU1QgaW50byBub2RlIGhlbHBlciBzdHJ1Y3R1cmVcbmZ1bmN0aW9uIHByb2dyYW1Ub05vZGUocDogQlNMX0FTVC5wcm9ncmFtKTogbm9kZSB7XG4gIGNvbnN0IGV4cHJlc3Npb25zID0gcC5tYXAoQlNMX1ByaW50LnByaW50RGVmT3JFeHByKTtcbiAgY29uc3QgaW5kaWNlcyA9IFtdO1xuICBsZXQgcHJvZ3JhbSA9ICcnO1xuICBmb3IobGV0IGkgPSAwOyBpIDwgZXhwcmVzc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaSA+IDApIHByb2dyYW0gPSBgJHtwcm9ncmFtfVxcbmA7XG4gICAgY29uc3Qgc3RhcnQgPSBwcm9ncmFtLmxlbmd0aDtcbiAgICBwcm9ncmFtID0gYCR7cHJvZ3JhbX0ke2V4cHJlc3Npb25zW2ldfWA7XG4gICAgY29uc3QgZW5kID0gcHJvZ3JhbS5sZW5ndGg7XG4gICAgaW5kaWNlcy5wdXNoKHtzdGFydDpzdGFydCxlbmQ6ZW5kfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAnPHByb2dyYW0+JyxcbiAgICBjb2RlOiBwcm9ncmFtLFxuICAgIGhvbGVzOiBbXG4gICAgICB7XG4gICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICBlbmQ6IHByb2dyYW0ubGVuZ3RoLFxuICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgcHJvZHVjdGlvbjogJzxkZWYtb3ItZXhwcj4qJyxcbiAgICAgICAgICBjb2RlOiBwcm9ncmFtLFxuICAgICAgICAgIGhvbGVzOiBpbmRpY2VzLm1hcCgoaCxpZHgpID0+IHsgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0OiBoLnN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBoLmVuZCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGRlZk9yRXhwclRvTm9kZShwW2lkeF0pXG4gICAgICAgICAgfX0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlZk9yRXhwclRvTm9kZShkZTogQlNMX0FTVC5kZWZPckV4cHIpOm5vZGUge1xuICBjb25zdCBjb2RlID0gQlNMX1ByaW50LnByaW50RGVmT3JFeHByKGRlKSBhcyBzdHJpbmc7XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJzxkZWYtb3ItZXhwcj4nLFxuICAgIGNvZGU6IGNvZGUsXG4gICAgaG9sZXM6IFt7XG4gICAgICBzdGFydDogMCxcbiAgICAgIGVuZDogY29kZS5sZW5ndGgsXG4gICAgICBjb250ZW50OiBCU0xfQVNULmlzRGVmaW5pdGlvbihkZSkgPyBkZWZUb05vZGUoZGUpIDogZXhwVG9Ob2RlKGRlKVxuICAgIH1dXG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmVG9Ob2RlKGQ6IEJTTF9BU1QuZGVmaW5pdGlvbik6bm9kZSB7XG4gIGxldCBjb2RlID0gJyc7XG4gIGNvbnN0IGhvbGVzID0gW107XG4gIGlmIChCU0xfQVNULmlzRnVuRGVmKGQpKSB7XG4gICAgY29kZSA9ICcoZGVmaW5lICgnO1xuICAgIGxldCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50TmFtZShkLm5hbWUpfWA7XG4gICAgaG9sZXMucHVzaCh7c3RhcnQ6c3RhcnQsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpuYW1lVG9Ob2RlKGQubmFtZSl9KTtcblxuICAgIGNvZGUgPSBgJHtjb2RlfSBgO1xuICAgIHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtkLmFyZ3MubWFwKEJTTF9QcmludC5wcmludE5hbWUpLmpvaW4oJyAnKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bmFtZVBsdXNUb05vZGUoZC5hcmdzKX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9KSBgO1xuICAgIHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnRFKGQuYm9keSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50OmV4cFRvTm9kZShkLmJvZHkpfSk7XG5cbiAgICBjb2RlID0gYCR7Y29kZX0pYDtcbiAgfSBlbHNlIGlmIChCU0xfQVNULmlzQ29uc3REZWYoZCkpIHtcbiAgICBjb2RlID0gJyhkZWZpbmUgJztcbiAgICBsZXQgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludE5hbWUoZC5uYW1lKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bmFtZVRvTm9kZShkLm5hbWUpfSk7XG5cbiAgICBjb2RlID0gYCR7Y29kZX0gYDtcbiAgICBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50RShkLnZhbHVlKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6ZXhwVG9Ob2RlKGQudmFsdWUpfSk7XG5cbiAgICBjb2RlID0gYCR7Y29kZX0pYDtcbiAgfSBlbHNlIHtcbiAgICBjb2RlID0gJyhkZWZpbmUtc3RydWN0ICc7XG4gICAgbGV0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnROYW1lKGQuYmluZGluZyl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVUb05vZGUoZC5iaW5kaW5nKX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9IChgO1xuICAgIHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgY29kZSA9IGAke2NvZGV9JHtkLnByb3BlcnRpZXMubWFwKEJTTF9QcmludC5wcmludE5hbWUpLmpvaW4oJyAnKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bmFtZVN0YXJUb05vZGUoZC5wcm9wZXJ0aWVzKX0pO1xuXG4gICAgY29kZSA9IGAke2NvZGV9KSlgO1xuICB9XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogYDxkZWZpbml0aW9uPmAsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfTtcbn1cblxuZnVuY3Rpb24gZXhwVG9Ob2RlKGU6IEJTTF9BU1QuZXhwcik6bm9kZSB7XG4gIGxldCBjb2RlID0gJyc7XG4gIGNvbnN0IGhvbGVzID0gW107XG4gIGlmKEJTTF9BU1QuaXNDYWxsKGUpKSB7XG4gICAgY29kZSA9ICcoJztcbiAgICBsZXQgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgICBjb2RlID0gYCR7Y29kZX0ke0JTTF9QcmludC5wcmludE5hbWUoZS5uYW1lKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bmFtZVRvTm9kZShlLm5hbWUpfSk7XG5cbiAgICBjb2RlID0gYCR7Y29kZX0gYDtcbiAgICBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7ZS5hcmdzLm1hcChCU0xfUHJpbnQucHJpbnRFKS5qb2luKCcgJyl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50OmVTdGFyVG9Ob2RlKGUuYXJncyl9KTtcblxuICAgIGNvZGUgPSBgJHtjb2RlfSlgO1xuICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNDb25kKGUpKSB7XG4gICAgY29kZSA9ICcoY29uZCAnO1xuICAgIGxldCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7ZS5vcHRpb25zLm1hcChCU0xfUHJpbnQucHJpbnRPcHRpb24pLmpvaW4oJyAnKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6b3B0aW9uc1RvTm9kZShlLm9wdGlvbnMpfSk7XG4gICAgY29kZSA9IGAke2NvZGV9KWA7XG4gIH0gZWxzZSBpZiAoQlNMX0FTVC5pc05hbWUoZSkpIHtcbiAgICBjb2RlID0gQlNMX1ByaW50LnByaW50TmFtZShlKTtcbiAgICBob2xlcy5wdXNoKHtzdGFydDowLCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6bmFtZVRvTm9kZShlKX0pO1xuICB9IGVsc2Uge1xuICAgIGNvZGUgPSBCU0xfUHJpbnQucHJpbnRFKGUpO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OjAsIGVuZDpjb2RlLmxlbmd0aCwgY29udGVudDpsaXRlcmFsVG9Ob2RlKGUpfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAnPGU+JyxcbiAgICBjb2RlOiBjb2RlLFxuICAgIGhvbGVzOiBob2xlc1xuICB9O1xufVxuXG5mdW5jdGlvbiBuYW1lVG9Ob2RlKG46IEJTTF9BU1QuTmFtZSk6bm9kZSB7XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJzxuYW1lPicsXG4gICAgY29kZTogQlNMX1ByaW50LnByaW50TmFtZShuKSxcbiAgICBob2xlczogW11cbiAgfTtcbn1cblxuZnVuY3Rpb24gbmFtZVBsdXNUb05vZGUobnM6IEJTTF9BU1QuTmFtZVtdKTpub2RlIHtcbiAgaWYgKG5zLmxlbmd0aCA8IDEpIGNvbnNvbGUuZXJyb3IoJzxuYW1lPisgYnV0IHVzZWQgYnV0IG5hbWVzIGFyZSBlbXB0eScpO1xuICBsZXQgY29kZSA9ICcnO1xuICBjb25zdCBob2xlcyA9IFtdO1xuICBmb3IobGV0IGkgPSAwOyBpIDwgbnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50TmFtZShuc1tpXSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVUb05vZGUobnNbaV0pfSk7XG5cbiAgICBpZihpIDwgbnMubGVuZ3RoIC0gMSkgY29kZSA9IGAke2NvZGV9IGA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAnPG5hbWU+KycsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfVxufVxuXG5mdW5jdGlvbiBuYW1lU3RhclRvTm9kZShuczogQlNMX0FTVC5OYW1lW10pOm5vZGUge1xuICBsZXQgY29kZSA9ICcnO1xuICBjb25zdCBob2xlcyA9IFtdO1xuICBmb3IobGV0IGkgPSAwOyBpIDwgbnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50TmFtZShuc1tpXSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50Om5hbWVUb05vZGUobnNbaV0pfSk7XG5cbiAgICBpZihpIDwgbnMubGVuZ3RoIC0gMSkgY29kZSA9IGAke2NvZGV9IGA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiAnPG5hbWU+KicsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfVxufVxuXG5mdW5jdGlvbiBlU3RhclRvTm9kZShlczogQlNMX0FTVC5leHByW10pOm5vZGUge1xuICBsZXQgY29kZSA9ICcnO1xuICBjb25zdCBob2xlcyA9IFtdO1xuICBmb3IobGV0IGkgPSAwOyBpIDwgZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50RShlc1tpXSl9YDtcbiAgICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50OmV4cFRvTm9kZShlc1tpXSl9KTtcblxuICAgIGlmKGkgPCBlcy5sZW5ndGggLSAxKSBjb2RlID0gYCR7Y29kZX0gYDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICc8ZT4qJyxcbiAgICBjb2RlOiBjb2RlLFxuICAgIGhvbGVzOiBob2xlc1xuICB9XG59XG5cbmZ1bmN0aW9uIG9wdGlvbnNUb05vZGUob3M6IEJTTF9BU1QuQ2xhdXNlW10pOm5vZGUge1xuICBsZXQgY29kZSA9ICcnO1xuICBjb25zdCBob2xlcyA9IFtdO1xuICBmb3IobGV0IGkgPSAwOyBpIDwgb3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFydCA9IGNvZGUubGVuZ3RoO1xuICAgIGNvZGUgPSBgJHtjb2RlfSR7QlNMX1ByaW50LnByaW50T3B0aW9uKG9zW2ldKX1gO1xuICAgIGhvbGVzLnB1c2goe3N0YXJ0OnN0YXJ0LCBlbmQ6Y29kZS5sZW5ndGgsIGNvbnRlbnQ6b3B0aW9uVG9Ob2RlKG9zW2ldKX0pO1xuXG4gICAgaWYoaSA8IG9zLmxlbmd0aCAtIDEpIGNvZGUgPSBgJHtjb2RlfSBgO1xuICB9XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJ3tbIDxlPiA8ZT4gXX0rJyxcbiAgICBjb2RlOiBjb2RlLFxuICAgIGhvbGVzOiBob2xlc1xuICB9XG59XG5cbmZ1bmN0aW9uIG9wdGlvblRvTm9kZShvOiBCU0xfQVNULkNsYXVzZSk6bm9kZSB7XG4gIGxldCBjb2RlID0gJyc7XG4gIGNvbnN0IGhvbGVzID0gW107XG4gIGNvZGUgPSBgJHtjb2RlfVtgO1xuICBsZXQgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnRFKG8uY29uZGl0aW9uKX1gO1xuICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50OmV4cFRvTm9kZShvLmNvbmRpdGlvbil9KTtcblxuICBjb2RlID0gYCR7Y29kZX0gYDtcbiAgc3RhcnQgPSBjb2RlLmxlbmd0aDtcbiAgY29kZSA9IGAke2NvZGV9JHtCU0xfUHJpbnQucHJpbnRFKG8ucmVzdWx0KX1gO1xuICBob2xlcy5wdXNoKHtzdGFydDpzdGFydCwgZW5kOmNvZGUubGVuZ3RoLCBjb250ZW50OmV4cFRvTm9kZShvLnJlc3VsdCl9KTtcblxuICBjb2RlID0gYCR7Y29kZX1dYDtcblxuICByZXR1cm4ge1xuICAgIHByb2R1Y3Rpb246ICdbIDxlPiA8ZT4gXScsXG4gICAgY29kZTogY29kZSxcbiAgICBob2xlczogaG9sZXNcbiAgfTtcblxufVxuXG5mdW5jdGlvbiBsaXRlcmFsVG9Ob2RlKHY6IEJTTF9BU1QuTGl0ZXJhbCk6bm9kZSB7XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdGlvbjogJzx2PicsXG4gICAgY29kZTogQlNMX1ByaW50LnByaW50RSh2KSxcbiAgICBob2xlczogW11cbiAgfVxufVxuIiwgImltcG9ydCB7bm9kZSwgcHJvZHVjdGlvblRyZWUsIGdyYW1tYXJ9IGZyb20gXCIuL1Byb2R1Y3Rpb25fVHJlZVwiO1xuaW1wb3J0IHtkaXJ0aWZ5fSBmcm9tICcuL0JTTF9QcmludCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzSnNvblRyZWVzKCkge1xuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdqc29udHJlZScpKS5tYXAoZWwgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXQgPSBwYXJzZUpzb25UcmVlKGRpcnRpZnkoZWwuaW5uZXJIVE1MKSk7XG4gICAgICBjb25zdCByb290ID0gcmV0LnJvb3Q7XG4gICAgICBjb25zdCBncmFtbWFyID0gcmV0LmdyYW1tYXI7XG4gICAgICBjb25zdCBxdWl6ID0gZWwuZ2V0QXR0cmlidXRlKCdxdWl6JykgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcbiAgICAgIGNvbnN0IGxhbmcgPSAoZWwuZ2V0QXR0cmlidXRlKCdsYW5nJykgPyBlbC5nZXRBdHRyaWJ1dGUoJ2xhbmcnKSA6IHVuZGVmaW5lZCkgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgcHJvZHVjdGlvblRyZWUocm9vdCwgZWwgYXMgSFRNTEVsZW1lbnQsIGdyYW1tYXIsIHF1aXosIGxhbmcpO1xuICAgIH0gY2F0Y2goZTphbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICBlbC5pbm5lckhUTUwgPSBgJHtlfWA7XG4gICAgICAoZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIHBhZGRpbmc6IDJlbTtcbiAgICAgICAgY29sb3I6IGRhcmtyZWQ7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgYDtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwYXJzZUpzb25UcmVlKGpzOiBzdHJpbmcpOiB7cm9vdDogbm9kZSwgZ3JhbW1hcjogZ3JhbW1hciB8IHVuZGVmaW5lZH0ge1xuICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShqcy50cmltKCkpO1xuICBjb25zdCBncmFtbWFyID0ganNvblsnZ3JhbW1hciddO1xuICBjb25zdCByb290ID0gcHJvY2Vzc0hvbGVzUmVjdXJzaXZlKGpzb24pO1xuICByZXR1cm4ge1xuICAgIHJvb3Q6IHJvb3QsXG4gICAgZ3JhbW1hcjogZ3JhbW1hclxuICB9O1xufVxuXG4vLyAjIyMgcnVudGltZSB0eXBlIGNoZWNraW5nLCBleHRyYWN0aW5nIGhvbGUgcG9zaXRpb25zIGFuZCByZW1vdmluZ1xuLy8gICAgIGRpdmlkZXJzICh8KSBmcm9tIGNvZGVcbmZ1bmN0aW9uIHByb2Nlc3NIb2xlc1JlY3Vyc2l2ZShuOiBub2RlKTogbm9kZSB7XG4gIC8vIHJ1bnRpbWUgdHlwZSBjaGVja2luZ1xuICBjb25zdCBwID0gbi5wcm9kdWN0aW9uO1xuICBpZighcCB8fCB0eXBlb2YocCkgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgYCR7SlNPTi5zdHJpbmdpZnkobiwgdW5kZWZpbmVkLCAyKS5yZXBsYWNlQWxsKCdcXG4nLCAnPGJyPicpfSBoYXMgd3Jvbmcgc3RydWN0dXJlLCBwcm9kdWN0aW9uIG5lZWRzIHRvIGJlIGEgc3RyaW5nYDtcbiAgfVxuICBjb25zdCBjID0gbi5jb2RlO1xuICBpZighYyB8fCB0eXBlb2YoYykgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgYCR7SlNPTi5zdHJpbmdpZnkobiwgdW5kZWZpbmVkLCAyKS5yZXBsYWNlQWxsKCdcXG4nLCAnPGJyPicpfSBoYXMgd3Jvbmcgc3RydWN0dXJlLCBjb2RlIG5lZWRzIHRvIGJlIGEgc3RyaW5nYDtcbiAgfVxuICBpZiAoIW4uaG9sZXMpIG4uaG9sZXMgPSBbXTtcblxuICAvLyBleHRyYWN0aW5nIGhvbGUgcG9zaXRpb25zIGFuZCByZW1vdmluZyBkaXZpZGVycyB8fCBmcm9tIGNvZGVcbiAgY29uc3QgY29kZVBhcnRzID0gYy5zcGxpdCgnfCcpO1xuICBsZXQgY29kZSA9ICcnO1xuICBsZXQgaG9sZXMgPSBbXTtcbiAgZm9yKGxldCBpID0gMDsgaSA8IGNvZGVQYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIC8vIHN0YXJ0OiBub3QgZW5jbG9zZWQgaW4gfHxcbiAgICBjb2RlID0gYCR7Y29kZX0ke2NvZGVQYXJ0c1tpXX1gO1xuXG4gICAgLy8gbmV4dCBwYXJ0OiBlbnRlciB8fFxuICAgIGkrKztcbiAgICBpZihpIDwgY29kZVBhcnRzLmxlbmd0aCAmJiBjb2RlUGFydHNbaV0pIHtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gY29kZS5sZW5ndGg7XG4gICAgICBjb2RlID0gYCR7Y29kZX0ke2NvZGVQYXJ0c1tpXX1gO1xuICAgICAgY29uc3QgY29udGVudCA9IG4uaG9sZXNbaG9sZXMubGVuZ3RoXSBhcyBhbnk7XG4gICAgICBpZighY29udGVudCkge1xuICAgICAgICB0aHJvdyBgJHtKU09OLnN0cmluZ2lmeShuLCB1bmRlZmluZWQsIDIpLnJlcGxhY2VBbGwoJ1xcbicsICc8YnI+Jyl9IGhhcyB3cm9uZyBzdHJ1Y3R1cmU6IGxlc3MgaG9sZXMgdGhhbiBtYXJrZWQgd2l0aCB8fCBpbiB0aGUgY29kZWA7XG4gICAgICB9XG4gICAgICBob2xlcy5wdXNoKHtzdGFydDogc3RhcnQsIGVuZDogY29kZS5sZW5ndGgsIGNvbnRlbnQ6IHByb2Nlc3NIb2xlc1JlY3Vyc2l2ZShjb250ZW50KX0pO1xuICAgIH1cbiAgfVxuICAvLyByZXR1cm4gcHJvY2Vzc2VkIG5vZGVcbiAgcmV0dXJuIHtcbiAgICBwcm9kdWN0aW9uOiBwLFxuICAgIGNvZGU6IGNvZGUsXG4gICAgaG9sZXM6IGhvbGVzXG4gIH07XG5cbn1cbiIsICJpbXBvcnQgKiBhcyBCU0xfQVNUIGZyb20gXCIuL0JTTF9BU1RcIjtcblxuZXhwb3J0IGVudW0gUHJvZHVjdGlvbiB7XG4gICAgU3RlcHBlciA9IFwiU3RlcHBlclwiLFxuICAgIEV4cHJTdGVwID0gXCJFeHByU3RlcFwiLFxuICAgIERlZmluaXRpb25TdGVwID0gXCJEZWZpbml0aW9uU3RlcFwiLFxuICAgIEV2YWxTdGVwID0gXCJFdmFsU3RlcFwiLFxuICAgIFNwbGl0ID0gXCJTcGxpdFwiLFxuICAgIFBsdWdSZXN1bHQgPSBcIlBsdWdSZXN1bHRcIixcbiAgICBDYWxsUmVkZXggPSBcIkNhbGxSZWRleFwiLFxuICAgIENvbmRSZWRleCA9IFwiQ29uZFJlZGV4XCIsXG4gICAgTmFtZVJlZGV4ID0gXCJOYW1lUmVkZXhcIixcbiAgICBDb25kT3B0aW9uID0gXCJDb25kT3B0aW9uXCIsXG4gICAgQXBwQ29udGV4dCA9IFwiQXBwQ29udGV4dFwiLFxuICAgIENvbmRDb250ZXh0ID0gXCJDb25kQ29udGV4dFwiLFxuICAgIEhvbGUgPSBcIkhvbGVcIixcbiAgICBQcmltID0gXCJQcmltXCIsXG4gICAgQ29uZFRydWUgPSBcIkNvbmRUcnVlXCIsXG4gICAgQ29uZEZhbHNlID0gXCJDb25kRmFsc2VcIixcbiAgICBDb25kRXJyb3IgPSBcIkNvbmRFcnJvclwiLFxuICAgIFByb2dSdWxlID0gXCJQcm9nUnVsZVwiLFxuICAgIENvbnN0ID0gXCJDb25zdFwiLFxuICAgIEtvbmcgPSBcIktvbmdcIixcbiAgICBGdW5WYWx1ZSA9IFwiRnVuVmFsdWVcIixcbiAgICBTdHJ1Y3RWYWx1ZSA9IFwiU3RydWN0VmFsdWVcIixcbiAgICBJZCA9IFwiSWRlbnRpZmllclwiLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0ZXBwZXIge1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uU3RlcHBlcjtcbiAgICByb290OiBIVE1MRWxlbWVudDtcbiAgICBvcmlnaW5Qcm9ncmFtOiBCU0xfQVNULnByb2dyYW07XG4gICAgc3RlcHBlclRyZWU6ICBQcm9nU3RlcFtdO1xufVxuLy8gUHJvZ1N0ZXAgcmVwcmVzZW50cyBhIGxpbmUgb2YgY29kZSBpbiBhIEJTTCBwcm9ncmFtXG4vLyAgZXhwb3J0IGludGVyZmFjZSBQcm9nU3RlcCB7XG4vLyAgICAgIHR5cGU6IFByb2R1Y3Rpb24uUHJvZ1N0ZXA7XG4vLyAgICAgIHN0ZXBMaXN0OiBTdGVwW107XG4vLyAgfVxuXG4vLyBTdGVwW11cbi8vIFN0ZXAgaXMgdHlwZSA9IEV4cHJTdGVwIHwgRGVmaW5pdGlvblN0ZXBcbmV4cG9ydCB0eXBlIFByb2dTdGVwID0gRXhwclN0ZXAgfCBEZWZpbml0aW9uU3RlcDtcblxuLy8gRGVmaW5pdGlvblN0ZXAgaGFzIFByb2dSdWxlXG5leHBvcnQgaW50ZXJmYWNlIERlZmluaXRpb25TdGVwIHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkRlZmluaXRpb25TdGVwO1xuICAgIGVudjogRW52aXJvbm1lbnQ7XG4gICAgZXZhbFN0ZXBzOiBFdmFsU3RlcFtdO1xuICAgIG9yaWdpbmFsRGVmT3JFeHByOiBCU0xfQVNULmRlZmluaXRpb247XG4gICAgcmVzdWx0OiBCU0xfQVNULmRlZmluaXRpb247IC8vZXZhbHVhdGVkIGRlZmluaXRpb24sIHdoaWNoIGlzIGdpdmVuIHRvIGVudlxufVxuZXhwb3J0IGludGVyZmFjZSBFeHByU3RlcCB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5FeHByU3RlcDtcbiAgICBlbnY6IEVudmlyb25tZW50O1xuICAgIGV2YWxTdGVwczogRXZhbFN0ZXBbXTtcbiAgICBvcmlnaW5hbERlZk9yRXhwcjogQlNMX0FTVC5leHByO1xuICAgIHJlc3VsdDogVmFsdWUgfCBFcnJvcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFdmFsU3RlcCB7XG4gICB0eXBlOiBQcm9kdWN0aW9uLkV2YWxTdGVwO1xuICAgZW52OiBFbnZpcm9ubWVudDtcbiAgIHJ1bGU6IEtvbmcgfCBPbmVSdWxlO1xuICAgcmVzdWx0OiBCU0xfQVNULmV4cHIgfCBWYWx1ZSB8IEVycm9yO1xufVxuLy8gTE9DQUwtUnVsZSBmXHUwMEZDciBJU0xcblxuZXhwb3J0IHR5cGUgU3BsaXRSZXN1bHQgPSBTcGxpdCB8IFZhbHVlO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNwbGl0IHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLlNwbGl0O1xuICAgIHJlZGV4OiBSZWRleDtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xufVxuXG4vKiBleHBvcnQgaW50ZXJmYWNlIFBsdWdSZXN1bHQge1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uUGx1Z1Jlc3VsdDtcbiAgICBydWxlOiBLb25nIHwgT25lUnVsZTtcbiAgICBleHByOiBCU0xfQVNULmV4cHIgfCBWYWx1ZTtcbn0gKi9cbi8vIFJlZGV4IGlzdCBTdW1tZW50eXA6IENhbGxSZWRleCB8IENvbmRSZWRleCwgZXRjLlxuLy8gIyMjIyMjIyBSRURFWCAjIyMjIyMjXG5leHBvcnQgdHlwZSBSZWRleCA9IENhbGxSZWRleCB8IENvbmRSZWRleCAgfCBOYW1lUmVkZXg7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlZGV4IHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkNhbGxSZWRleDtcbiAgICBuYW1lOiBCU0xfQVNULk5hbWU7XG4gICAgYXJnczogKFZhbHVlIHxcdTAwQTBJZClbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb25kUmVkZXgge1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uQ29uZFJlZGV4O1xuICAgIG9wdGlvbnM6IEJTTF9BU1QuQ2xhdXNlW107XG59XG5cbiBleHBvcnQgaW50ZXJmYWNlIE5hbWVSZWRleHtcbiAgICAgdHlwZTogUHJvZHVjdGlvbi5OYW1lUmVkZXg7XG4gICAgIHN5bWJvbDogc3RyaW5nO1xuIH1cbi8vICMjIyMjIyMgQ29udGV4dCAjIyMjIyMjXG5leHBvcnQgdHlwZSBDb250ZXh0ID0gQXBwQ29udGV4dCB8IENvbmRDb250ZXh0IHwgSG9sZTtcblxuZXhwb3J0IGludGVyZmFjZSBBcHBDb250ZXh0IHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLkFwcENvbnRleHQ7XG4gICAgb3A6IEJTTF9BU1QuTmFtZTtcbiAgICB2YWx1ZXM6IChWYWx1ZSB8IElkKVtdO1xuICAgIGN0eDogQ29udGV4dDtcbiAgICBhcmdzOiBCU0xfQVNULmV4cHJbXTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZENvbnRleHQge1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uQ29uZENvbnRleHQ7XG4gICAgb3B0aW9uczogQlNMX0FTVC5DbGF1c2VbXTtcbiAgICBjdHg6IENvbnRleHQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIEhvbGUge1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uSG9sZTtcbn1cbmV4cG9ydCB0eXBlIFZhbHVlID0gbnVtYmVyIHwgc3RyaW5nIHwgYm9vbGVhbiB8IGAnKClgIC8qfCBGdW5WYWx1ZS8qfCBDbG9zdXJlIHwgU3RydWN0VmFsdWUqLztcbmV4cG9ydCBpbnRlcmZhY2UgSWR7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5JZDtcbiAgICBzeW1ib2w6IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRnVuVmFsdWV7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5GdW5WYWx1ZTtcbiAgICBwYXJhbXM6IEJTTF9BU1QuTmFtZVtdO1xuICAgIGJvZHk6IEJTTF9BU1QuZXhwcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3RydWN0VmFsdWV7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5TdHJ1Y3RWYWx1ZTtcbiAgICBwYXJhbXM6IEJTTF9BU1QuTmFtZVtdO1xufVxuLy8jIyMjIyMjIyBPbmVSdWxlKHMpICMjIyMjIyMjYVxuZXhwb3J0IGludGVyZmFjZSBQcmltIHtcbiAgICB0eXBlOiBQcm9kdWN0aW9uLlByaW07XG4gICAgcmVkZXg6IENhbGxSZWRleDtcbiAgICByZXN1bHQ6IFZhbHVlO1xufVxuZXhwb3J0IHR5cGUgQ29uZFJ1bGUgPSBDb25kVHJ1ZSB8IENvbmRGYWxzZSAgfCBDb25kRXJyb3I7XG5leHBvcnQgaW50ZXJmYWNlIENvbmRUcnVle1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uQ29uZFRydWU7XG4gICAgcmVkZXg6Q29uZFJlZGV4O1xuICAgIHJlc3VsdDpCU0xfQVNULmV4cHIgfCBWYWx1ZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZEZhbHNle1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uQ29uZEZhbHNlO1xuICAgIHJlZGV4OkNvbmRSZWRleDtcbiAgICByZXN1bHQ6IEJTTF9BU1QuQ29uZDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZEVycm9ye1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uQ29uZEVycm9yO1xuICAgIHJlZGV4OkNvbmRSZWRleDtcbiAgICByZXN1bHQ6IEVycm9yO1xufVxuZXhwb3J0IGludGVyZmFjZSBQcm9nUnVsZSB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5Qcm9nUnVsZTtcbiAgICBkZWZpbml0aW9uOiBCU0xfQVNULmRlZmluaXRpb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uc3Qge1xuICAgIHR5cGU6IFByb2R1Y3Rpb24uQ29uc3Q7XG4gICAgcmVkZXg6IFJlZGV4O1xuICAgIHJlc3VsdDogQlNMX0FTVC5leHByIHwgVmFsdWU7XG59XG5cbmV4cG9ydCB0eXBlIE9uZVJ1bGUgPSBQcmltIHwgQ29uZFJ1bGUgfCBDb25zdDsgLyp8IFByb2dSdWxlKi9cblxuLy8gIyMjIyMjIyBQcm9nU3RlcFJ1bGUocykgIyMjIyMjIyNcbmV4cG9ydCBpbnRlcmZhY2UgS29uZyB7XG4gICAgdHlwZTogUHJvZHVjdGlvbi5Lb25nO1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgcmVkZXhSdWxlOiBPbmVSdWxlO1xufVxuLy8gIyMjIyMjIyMjIERFRklOSVRJT05TICMjIyMjIyMjXG5cbi8vIGRlZmluaXRpb24gaXMgZWl0aGVyIHN0cnVjdERlZiwgZnVuRGVmIG9yIGNvbnN0RGVmXG4vLyBEZWZSdWxlcyBQUk9HLCBTVFJVQ1QsIEZVTiwgQ09OU1RcblxuXG4vLyBFTlZJUk9OTUVOVFxuXG5leHBvcnQgdHlwZSBFbnZpcm9ubWVudCA9IHsgW2tleTogc3RyaW5nXTogVmFsdWUgfTtcbi8vIEJTTF9BU1QuZXhwciB6dWVyc3QgYXVzd2VydGVuIChjYWxsIGJ5IHZhbHVlKVxuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuLy8gcnVudGltZSB0eXBlIGNoZWNraW5nXG4vLyBTdGVwcGVyIGFuZCBTdGVwc1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3RlcHBlcihvYmo6YW55KTogb2JqIGlzIFN0ZXBwZXIge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5TdGVwcGVyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRXhwclN0ZXAob2JqOmFueSk6IG9iaiBpcyBFeHByU3RlcCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkV4cHJTdGVwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRGVmaW5pdGlvblN0ZXAob2JqOiBhbnkpOiBvYmogaXMgRGVmaW5pdGlvblN0ZXAge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5EZWZpbml0aW9uU3RlcDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0V2YWxTdGVwKG9iajogYW55KTogb2JqIGlzIEV2YWxTdGVwIHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uRXZhbFN0ZXA7XG59XG4vL1JlZGV4XG5leHBvcnQgZnVuY3Rpb24gaXNDYWxsUmVkZXgob2JqOiBhbnkpOiBvYmogaXMgQ2FsbFJlZGV4IHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ2FsbFJlZGV4O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uZFJlZGV4KG9iajogYW55KTogb2JqIGlzIENvbmRSZWRleCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkNvbmRSZWRleDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc05hbWVSZWRleChvYmo6IGFueSk6IG9iaiBpcyBOYW1lUmVkZXgge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5OYW1lUmVkZXg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0hvbGUob2JqOiBhbnkpOiBvYmogaXMgSG9sZSB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLkhvbGU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb250ZXh0KG9iajogYW55KTogb2JqIGlzIENvbnRleHQge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5BcHBDb250ZXh0IHx8IG9iai50eXBlID09PSBQcm9kdWN0aW9uLkNvbmRDb250ZXh0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXBwQ29udGV4dChvYmo6IGFueSk6IG9iaiBpcyBBcHBDb250ZXh0IHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQXBwQ29udGV4dDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbmRDb250ZXh0KG9iajogYW55KTogb2JqIGlzIENvbmRDb250ZXh0IHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ29uZENvbnRleHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTcGxpdChvYmo6IGFueSk6IG9iaiBpcyBTcGxpdCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlNwbGl0O1xufVxuLyogZXhwb3J0IGZ1bmN0aW9uIGlzUGx1Z1Jlc3VsdChvYmo6IGFueSk6IG9iaiBpcyBQbHVnUmVzdWx0IHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uUGx1Z1Jlc3VsdDtcbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09uZVJ1bGUob2JqOiBhbnkpOiBvYmogaXMgT25lUnVsZSB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLlByaW0gfHwgKG9iai50eXBlID09PSBQcm9kdWN0aW9uLkNvbmRUcnVlIHx8IG9iai50eXBlID09PSBQcm9kdWN0aW9uLkNvbmRGYWxzZSB8fCBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25kRXJyb3IpIHx8IG9iai50eXBlID09PSBQcm9kdWN0aW9uLkNvbnN0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJpbShvYmo6IGFueSk6IG9iaiBpcyBQcmltIHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uUHJpbTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbmRSdWxlKG9iajogYW55KTogb2JqIGlzIENvbmRSdWxlIHtcbiAgICByZXR1cm4gb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ29uZFRydWUgfHwgb2JqLnR5cGUgPT09IFByb2R1Y3Rpb24uQ29uZEZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uc3Qob2JqOiBhbnkpOiBvYmogaXMgQ29uc3Qge1xuICAgIHJldHVybiBvYmoudHlwZSA9PT0gUHJvZHVjdGlvbi5Db25zdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0tvbmcob2JqOiBhbnkpOiBvYmogaXMgS29uZyB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLktvbmc7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNWYWx1ZShvYmo6IGFueSk6IG9iaiBpcyBWYWx1ZSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdudW1iZXInIHx8IHR5cGVvZiBvYmogPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBvYmogPT09ICdib29sZWFuJyB8fCBvYmogPT09IGAnKClgIC8vfHwgaXNDbG9zdXJlKG9iaik7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNJZChvYmo6IGFueSk6IG9iaiBpcyBJZCB7XG4gICAgcmV0dXJuIG9iai50eXBlID09PSBQcm9kdWN0aW9uLklkO1xufVxuIiwgImltcG9ydCAqIGFzIEJTTF9BU1QgZnJvbSBcIi4vQlNMX0FTVFwiO1xuaW1wb3J0ICogYXMgU0lfU1RSVUNUIGZyb20gXCIuL1NJX1NUUlVDVFwiO1xuXG4vLyBjYWxjdWxhdGVBbGxTdGVwcyAoZm9yIHRoZSB3aG9sZSBwcm9ncmFtKVxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVByb2dyYW0oXG4gICAgcHJvZ3JhbTogQlNMX0FTVC5wcm9ncmFtLFxuICAgIHN0ZXBwZXI6IFNJX1NUUlVDVC5TdGVwcGVyXG4pOiBTSV9TVFJVQ1QuU3RlcHBlciB8IEVycm9yIHtcbiAgICBjb25zdCBjb3B5UHJvZ3JhbSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocHJvZ3JhbSkpO1xuICAgIGxldCBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudCA9IHt9O1xuICAgIHdoaWxlIChjb3B5UHJvZ3JhbS5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vcHJvZ3JhbS5mb3JFYWNoXG4gICAgICAgIGxldCBzdGVwcGVyVHJlZTogU0lfU1RSVUNULlByb2dTdGVwW10gPSBzdGVwcGVyLnN0ZXBwZXJUcmVlO1xuICAgICAgICBsZXQgZGVmT3JFeHByID0gY29weVByb2dyYW0uc2hpZnQoKTtcbiAgICAgICAgLy9ORVcgQVBQUk9BQ0hcbiAgICAgICAgbGV0IHByb2dTdGVwID0gY2FsY3VsYXRlUHJvZ1N0ZXAoZGVmT3JFeHByLCBlbnYpO1xuICAgICAgICBpZiAocHJvZ1N0ZXAgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHByb2dTdGVwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZW52ID0gcHJvZ1N0ZXAuZW52O1xuICAgICAgICAgICAgc3RlcHBlclRyZWUucHVzaChwcm9nU3RlcCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJwcm9nU3RlcFwiLCBwcm9nU3RlcCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZW52XCIsIGVudik7XG4gICAgICAgIHN0ZXBwZXIuc3RlcHBlclRyZWUgPSBzdGVwcGVyVHJlZTtcbiAgICB9XG4gICAgY29uc3QgbmV3U3RlcHBlcjogU0lfU1RSVUNULlN0ZXBwZXIgPSB7XG4gICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLlN0ZXBwZXIsXG4gICAgICAgIHJvb3Q6IHN0ZXBwZXIucm9vdCxcbiAgICAgICAgb3JpZ2luUHJvZ3JhbTogc3RlcHBlci5vcmlnaW5Qcm9ncmFtLFxuICAgICAgICBzdGVwcGVyVHJlZTogc3RlcHBlci5zdGVwcGVyVHJlZSxcbiAgICB9O1xuICAgIC8vbmV3U3RlcHBlci5zdGVwcGVyVHJlZS5tYXAoKHN0ZXAsIGkpID0+IChzdGVwLmN1cnJlbnRTdGVwID0gaSkpO1xuICAgIHJldHVybiBuZXdTdGVwcGVyO1xufVxuXG4vLyBjYWxjdWxhdGUgUHJvZ1N0ZXBcbi8vIGxpbmUgaXMgYSBsaW5lIG9mIHByb2dyYW0gY29kZSAtPiBQcm9nU3RlcCB8IEVycm9yXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlUHJvZ1N0ZXAoXG4gICAgZGVmT3JFeHByOiBCU0xfQVNULmV4cHIgfCBCU0xfQVNULmRlZmluaXRpb24sXG4gICAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IFNJX1NUUlVDVC5Qcm9nU3RlcCB8IEVycm9yIHtcbiAgICBpZiAoQlNMX0FTVC5pc0V4cHIoZGVmT3JFeHByKSkge1xuICAgICAgICBjb25zdCBldmFsU3RlcCA9IGNhbGN1bGF0ZUV2YWxTdGVwcyhkZWZPckV4cHIsIGVudik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZXhwclN0ZXA6XCIsIGV2YWxTdGVwKTtcbiAgICAgICAgaWYgKGV2YWxTdGVwIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBldmFsU3RlcDtcbiAgICAgICAgfSBlbHNlIGlmKGV2YWxTdGVwLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uRXhwclN0ZXAsXG4gICAgICAgICAgICAgIGVudjogZW52LFxuICAgICAgICAgICAgICBldmFsU3RlcHM6IFtdLFxuICAgICAgICAgICAgICBvcmlnaW5hbERlZk9yRXhwcjogZGVmT3JFeHByLFxuICAgICAgICAgICAgICByZXN1bHQ6IGV2YWx1YXRlRXhwcmVzc2lvbihkZWZPckV4cHIsIGVudikgYXMgU0lfU1RSVUNULlZhbHVlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZXZhbFN0ZXBbZXZhbFN0ZXAubGVuZ3RoIC0gMV0ucmVzdWx0O1xuICAgICAgICAgICAgaWYoQlNMX0FTVC5pc0V4cHIocmVzdWx0KSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcIlJlc3VsdCBpcyBub3QgYSB2YWx1ZVwiKVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkV4cHJTdGVwLFxuICAgICAgICAgICAgICAgIGVudjogZXZhbFN0ZXBbZXZhbFN0ZXAubGVuZ3RoIC0gMV0uZW52LFxuICAgICAgICAgICAgICAgIGV2YWxTdGVwczogZXZhbFN0ZXAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxEZWZPckV4cHI6IGRlZk9yRXhwcixcbiAgICAgICAgICAgICAgICByZXN1bHQ6IHJlc3VsdCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZGVmaW5pdGlvblwiLCBkZWZPckV4cHIpO1xuICAgICAgICBjb25zdCBkZWZTdGVwID0gY2FsY3VsYXRlRGVmU3RlcHMoZGVmT3JFeHByLCBlbnYpO1xuICAgICAgICBpZiAoZGVmU3RlcCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmU3RlcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZGVmU3RlcFwiLCBkZWZTdGVwKTtcbiAgICAgICAgICAgIHJldHVybiBkZWZTdGVwO1xuICAgICAgICB9XG4gICAgfVxufVxuLy9wcm9nXG4vL2RlZmluaXRpb24sIEVudmlyb25tZW50ID0+IFNJX1NUUlVDVC5EZWZTdGVwXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlRGVmU3RlcHMoXG4gICAgZGVmOiBCU0xfQVNULmRlZmluaXRpb24sXG4gICAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IFNJX1NUUlVDVC5EZWZpbml0aW9uU3RlcCB8IEVycm9yIHtcbiAgICBpZiAoQlNMX0FTVC5pc0NvbnN0RGVmKGRlZikpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGRlZi5uYW1lO1xuICAgICAgICBjb25zdCBleHByID0gZGVmLnZhbHVlO1xuICAgICAgICBjb25zb2xlLmxvZyhcIm5hbWVcIiwgbmFtZSArIFwiZXhwclwiLCBleHByKTtcbiAgICAgICAgaWYgKEJTTF9BU1QuaXNMaXRlcmFsKGV4cHIpKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGV4cHIudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBuZXdFbnYgPSBhZGRUb0VudihlbnYsIG5hbWUuc3ltYm9sLCB2YWx1ZSk7XG4gICAgICAgICAgICBpZiAobmV3RW52IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3RW52O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5EZWZpbml0aW9uU3RlcCxcbiAgICAgICAgICAgICAgICAgICAgZW52OiBuZXdFbnYsXG4gICAgICAgICAgICAgICAgICAgIGV2YWxTdGVwczogW10sXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRGVmT3JFeHByOiBkZWYsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogZGVmLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc3RlcExpc3QgPSBjYWxjdWxhdGVFdmFsU3RlcHMoZXhwciwgZW52KTtcbiAgICAgICAgICAgIGlmIChzdGVwTGlzdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ZXBMaXN0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHN0ZXBMaXN0W3N0ZXBMaXN0Lmxlbmd0aCAtIDFdLnJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAoU0lfU1RSVUNULmlzVmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0VudiA9IGFkZFRvRW52KGVudiwgbmFtZS5zeW1ib2wsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0VudiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3RW52O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RGVmOiBCU0xfQVNULkNvbnN0RGVmID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25zdGFudERlZmluaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogeyB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCwgdmFsdWU6IHZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5EZWZpbml0aW9uU3RlcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnY6IG5ld0VudixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmFsU3RlcHM6IHN0ZXBMaXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRGVmT3JFeHByOiBkZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBuZXdEZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjYWxjdWxhdGVEZWZTdGVwczogTGFzdCBFeHByU3RlcCBpcyBhbiBFeHByLCBub3QgYSBWYWx1ZVwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChCU0xfQVNULmlzRnVuRGVmKGRlZikpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGRlZi5uYW1lO1xuICAgICAgICBpZiAobmFtZS5zeW1ib2wgaW4gZW52KSB7XG4gICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJjYWxjdWxhdGVEZWZTdGVwczogbmFtZSBhbHJlYWR5IGJvdW5kXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwiY2FsY3VsYXRlRGVmU3RlcHM6IGZ1bmN0aW9uIGRlZmluaXRpb24gbm90IGRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gRXJyb3IoXCJjYWxjdWxhdGVEZWZTdGVwczogc3RydWN0IGRlZmluaXRpb24gbm90IGRlZmluZWRcIik7XG4gICAgfVxufVxuLy8gY2FsY3VsYXRlRXhwclN0ZXBzXG4vLyBleHByLCBzdGVwcFJlc3VsdFtdID0+IGV4cHJTdGVwW10gfCBFcnJvclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUV2YWxTdGVwcyhcbiAgICBleHByOiBCU0xfQVNULmV4cHIsXG4gICAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IFNJX1NUUlVDVC5FdmFsU3RlcFtdIHwgRXJyb3Ige1xuICAgIGxldCBzdGVwTGlzdDogU0lfU1RSVUNULkV2YWxTdGVwW10gPSBbXTtcbiAgICBsZXQgY3VycmVudEV4cHI6IEJTTF9BU1QuZXhwciB8IFNJX1NUUlVDVC5WYWx1ZSA9IGV4cHI7XG4gICAgd2hpbGUgKCFTSV9TVFJVQ1QuaXNWYWx1ZShjdXJyZW50RXhwcikpIHtcbiAgICAgICAgY29uc3Qgc3RlcCA9IGV2YWx1YXRlRXhwcmVzc2lvbihjdXJyZW50RXhwciwgZW52KTtcbiAgICAgICAgaWYgKFNJX1NUUlVDVC5pc1ZhbHVlKHN0ZXApKSB7XG4gICAgICAgICAgICBjdXJyZW50RXhwciA9IHN0ZXA7XG4gICAgICAgIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzRXZhbFN0ZXAoc3RlcCkpIHtcbiAgICAgICAgICAgIGlmIChzdGVwLnJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgc3RlcExpc3QucHVzaChzdGVwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEV4cHIgPSBzdGVwLnJlc3VsdDtcbiAgICAgICAgICAgICAgICBzdGVwTGlzdC5wdXNoKHN0ZXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0ZXBMaXN0O1xufVxuXG4vL2V2YWx1YXRlRXhwcmVzc2lvblxuXG5leHBvcnQgZnVuY3Rpb24gZXZhbHVhdGVFeHByZXNzaW9uKFxuICAgIGV4cHI6IEJTTF9BU1QuZXhwcixcbiAgICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudFxuKTogU0lfU1RSVUNULkV2YWxTdGVwIHwgU0lfU1RSVUNULlZhbHVlIHwgRXJyb3Ige1xuICAgIGlmIChCU0xfQVNULmlzTGl0ZXJhbChleHByKSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImV2YWx1YXRlRXhwcmVzc2lvbjogTGl0ZXJhbFwiLCBleHByKTtcbiAgICAgICAgcmV0dXJuIGV4cHIudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc3BsaXRFeHByID0gc3BsaXQoZXhwcik7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJzcGxpdEV4cHJcIiwgc3BsaXRFeHByKTtcbiAgICAgICAgaWYgKFNJX1NUUlVDVC5pc1NwbGl0KHNwbGl0RXhwcikpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXBFeHByID0gc3RlcChzcGxpdEV4cHIucmVkZXgsIGVudik7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwic3RlcEV4cHJcIiwgc3RlcEV4cHIpO1xuICAgICAgICAgICAgaWYgKFNJX1NUUlVDVC5pc09uZVJ1bGUoc3RlcEV4cHIpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhwclN0ZXAgPSBwbHVnKHN0ZXBFeHByLCBzcGxpdEV4cHIuY29udGV4dCwgZW52KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImV4cHJTdGVwXCIsIGV4cHJTdGVwKTtcbiAgICAgICAgICAgICAgICBpZiAoU0lfU1RSVUNULmlzRXZhbFN0ZXAoZXhwclN0ZXApKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHByU3RlcDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwclN0ZXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcEV4cHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3BsaXRFeHByO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vL3NwbGl0XG4vLyBFeHByZXNzaW9uID0gPiBTcGxpdFJlc3VsdCB8IEVycm9yXG5leHBvcnQgZnVuY3Rpb24gc3BsaXQoZXhwcjogQlNMX0FTVC5leHByKTogU0lfU1RSVUNULlNwbGl0UmVzdWx0IHwgRXJyb3Ige1xuICAgIGNvbnN0IGhvbGU6IFNJX1NUUlVDVC5Ib2xlID0geyB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5Ib2xlIH07XG4gICAgaWYgKEJTTF9BU1QuaXNDYWxsKGV4cHIpKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBleHByLm5hbWU7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBleHByLmFyZ3M7XG4gICAgICAgIGNvbnN0IHZhbHVlTHN0OiBTSV9TVFJVQ1QuVmFsdWVbXSA9IFtdO1xuICAgICAgICBsZXQgcmVjRXhwcjogQlNMX0FTVC5leHByID0ge30gYXMgQlNMX0FTVC5leHByO1xuICAgICAgICBjb25zdCBleHByTHN0OiBCU0xfQVNULmV4cHJbXSA9IFtdO1xuICAgICAgICAvLyBsb2NhbCBmdW5jdGlvbiBzcGxpdCBpbnRvIHZhbHVlIGFuZCBleHByXG4gICAgICAgIC8vID0+IEVpdGhlcihWYWx1ZVtdLCAoVmFsdWVbXSxleHByLCBleHByW10pKVxuICAgICAgICAvLyBmaW5kIHBvc2l0aW9uIHdpdGggbWFwXG4gICAgICAgIGxldCBwb3NGb3VuZCA9IGZhbHNlO1xuICAgICAgICBhcmdzLm1hcCgoYXJnKSA9PiB7XG4gICAgICAgICAgICAvL2lmIHRoZSBhcmd1bWVudCBpcyBhIHZhbHVlLCBhZGQgaXQgdG8gdGhlIHZhbHVlIGxpc3RcbiAgICAgICAgICAgIGlmICghcG9zRm91bmQgJiYgQlNMX0FTVC5pc0xpdGVyYWwoYXJnKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlTHN0LnB1c2goYXJnLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAvL2Vsc2UgaWYgdGhlIGFyZ3VtZW50IGlzIG5laXRoZXIgYSB2YWx1ZSBub3IgYSBuYW1lLCBzZXQgdGhlIHBvc2l0aW9uXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFwb3NGb3VuZCkge1xuICAgICAgICAgICAgICAgIHBvc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZWNFeHByID0gYXJnO1xuICAgICAgICAgICAgICAgIC8vIGVsc2UgdGhlIGFyZ3VtZW50IGlzIGFuIGV4cHJlc3Npb24sIGFkZCBpdCB0byB0aGUgZXhwcmVzc2lvbiBsaXN0XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4cHJMc3QucHVzaChhcmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gY29udGV4dCwgYWxsIGFyZ3VtZW50cyBhcmUgdmFsdWVzIGFuZCB0aGUgcmVzdWx0IGlzIGEgdmFsdWVcbiAgICAgICAgaWYgKHBvc0ZvdW5kID09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb25zdCByZWRleDogU0lfU1RSVUNULkNhbGxSZWRleCA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5DYWxsUmVkZXgsXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICBhcmdzOiB2YWx1ZUxzdCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLlNwbGl0LFxuICAgICAgICAgICAgICAgIHJlZGV4OiByZWRleCxcbiAgICAgICAgICAgICAgICBjb250ZXh0OiBob2xlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIGVsc2UgdGhlcmUgaXMgYSBjb250ZXh0IGFuZCB0aGUgcmVzdWx0IGlzIGFuIGV4cHJlc3Npb25cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHNwbGl0UmVzdWx0ID0gc3BsaXQocmVjRXhwcik7XG4gICAgICAgICAgICBpZiAoU0lfU1RSVUNULmlzU3BsaXQoc3BsaXRSZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uU3BsaXQsXG4gICAgICAgICAgICAgICAgICAgIHJlZGV4OiBzcGxpdFJlc3VsdC5yZWRleCxcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uQXBwQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiB2YWx1ZUxzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eDogc3BsaXRSZXN1bHQuY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IGV4cHJMc3QsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwbGl0UmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChCU0xfQVNULmlzQ29uZChleHByKSkge1xuICAgICAgICBjb25zdCBjbGF1c2UgPSBleHByLm9wdGlvbnNbMF07XG4gICAgICAgIC8vIGlmIGNvbmRpdGlvbiBpcyBhbHJlYWR5IHJlZHVjZWQsIGJ1aWxkIENvbmRSZWRleFxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBCU0xfQVNULmlzTGl0ZXJhbChjbGF1c2UuY29uZGl0aW9uKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uU3BsaXQsXG4gICAgICAgICAgICAgICAgcmVkZXg6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uQ29uZFJlZGV4LFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBleHByLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb250ZXh0OiBob2xlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlbHNlIHNwbGl0IGNvbmRpdGlvblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHNwbGl0UmVzdWx0ID0gc3BsaXQoY2xhdXNlLmNvbmRpdGlvbik7XG4gICAgICAgICAgICBpZiAoU0lfU1RSVUNULmlzU3BsaXQoc3BsaXRSZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uU3BsaXQsXG4gICAgICAgICAgICAgICAgICAgIHJlZGV4OiBzcGxpdFJlc3VsdC5yZWRleCxcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uQ29uZENvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBleHByLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHg6IHNwbGl0UmVzdWx0LmNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwbGl0UmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChCU0xfQVNULmlzTmFtZShleHByKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uU3BsaXQsXG4gICAgICAgICAgICBjb250ZXh0OiBob2xlLFxuICAgICAgICAgICAgcmVkZXg6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5OYW1lUmVkZXgsXG4gICAgICAgICAgICAgICAgc3ltYm9sOiBleHByLnN5bWJvbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEVycm9yKFwic3BsaXQ6IG5laXRoZXIgYSBjYWxsIG5vciBhIGNvbmQgbm9yIG5hbWVcIik7XG4gICAgfVxufVxuXG4vLyBzdGVwXG4vLyBSZWRleCA9PiBPbmVSdWxlIHwgRXJyb3JcbmV4cG9ydCBmdW5jdGlvbiBzdGVwKFxuICAgIHI6IFNJX1NUUlVDVC5SZWRleCxcbiAgICBlbnY6IFNJX1NUUlVDVC5FbnZpcm9ubWVudFxuKTogU0lfU1RSVUNULk9uZVJ1bGUgfCBFcnJvciB7XG4gICAgLy8gYmVmb3JlIHN0ZXBwaW5nIGNoZWNrIGlmIHRoZSByZWRleCBoYXMgbm8gbmFtZXMgaW4gaXRcbiAgICAvLyBpZiBpdCBoYXMsIGxvb2t1cCBpbiBlbnZpcm9ubWVudCBhbmQgY29uc3RydWN0IFJ1bGUgKENvbnN0LCBGdW4sIG9yIFN0cnVjdClcbiAgICBpZiAoU0lfU1RSVUNULmlzQ2FsbFJlZGV4KHIpKSB7XG4gICAgICAgIC8vY2hlY2sgaWYgYWxsIGFyZ3MgZG8gbm90IGNvbnRhaW4gbmFtZXNcbiAgICAgICAgY29uc3QgYWxsQXJnc0FyZVZhbHVlcyA9IHIuYXJncy5ldmVyeSgoYXJnKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gU0lfU1RSVUNULmlzVmFsdWUoYXJnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChhbGxBcmdzQXJlVmFsdWVzKSB7XG4gICAgICAgICAgICBjb25zdCBhcmdzOiBTSV9TVFJVQ1QuVmFsdWVbXSA9IHIuYXJncyBhcyBTSV9TVFJVQ1QuVmFsdWVbXTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3RlcDogQ2FsbFJlZGV4IGhhcyBubyBuYW1lc1wiKTtcbiAgICAgICAgICAgIGNvbnN0IHByaW1SZXN1bHQgPSBwcmltKHIubmFtZSwgYXJncyk7XG4gICAgICAgICAgICBpZiAoU0lfU1RSVUNULmlzVmFsdWUocHJpbVJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5QcmltLFxuICAgICAgICAgICAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBwcmltUmVzdWx0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBFcnJvcihcInN0ZXA6IHByaW0gaXMgbm90IGFwcGxpY2FibGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0ZXA6IGVudjpcIiArIEpTT04uc3RyaW5naWZ5KGVudikpO1xuICAgICAgICAgICAgY29uc3Qgc3Vic3RSZWQ6IEJTTF9BU1QuZXhwciB8IEVycm9yID0gc3Vic3RDb25zdChyLCBlbnYpO1xuICAgICAgICAgICAgaWYgKHN1YnN0UmVkIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic3RSZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkNvbnN0LFxuICAgICAgICAgICAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBzdWJzdFJlZCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNDb25kUmVkZXgocikpIHtcbiAgICAgICAgLy9jaGVjayBpZiBjb25kaXRpb24gaXMgYSBuYW1lXG4gICAgICAgIGlmIChCU0xfQVNULmlzTGl0ZXJhbChyLm9wdGlvbnNbMF0uY29uZGl0aW9uKSkge1xuICAgICAgICAgICAgY29uc3QgY29uZFJlc3VsdCA9IGNvbmQocik7XG4gICAgICAgICAgICBpZiAoY29uZFJlc3VsdCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdPcHRpb25zID0gci5vcHRpb25zLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdPcHRpb25zLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkNvbmRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBFcnJvcihcImNvbmQ6IGFsbCBxdWVzdGlvbiByZXN1bHRzIHdlcmUgZmFsc2VcIiksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0V4cHI6IEJTTF9BU1QuQ29uZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkNvbmRFeHByZXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBuZXdPcHRpb25zLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uQ29uZEZhbHNlLFxuICAgICAgICAgICAgICAgICAgICByZWRleDogcixcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBuZXdFeHByLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJTTF9BU1QuaXNFeHByKGNvbmRSZXN1bHQpIHx8IFNJX1NUUlVDVC5pc1ZhbHVlKGNvbmRSZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uQ29uZFRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJlZGV4OiByLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IGNvbmRSZXN1bHQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwic3RlcDogY29uZCBpcyBub3QgYXBwbGljYWJsZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YnN0UmVkOiBCU0xfQVNULmV4cHIgfCBFcnJvciA9IHN1YnN0Q29uc3QociwgZW52KTtcbiAgICAgICAgICAgIGlmIChzdWJzdFJlZCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnN0UmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5Db25zdCxcbiAgICAgICAgICAgICAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogc3Vic3RSZWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzTmFtZVJlZGV4KHIpKSB7XG4gICAgICAgIGNvbnN0IHN1YnN0UmVkOiBCU0xfQVNULmV4cHIgfCBFcnJvciA9IHN1YnN0Q29uc3QociwgZW52KTtcbiAgICAgICAgaWYgKHN1YnN0UmVkIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBzdWJzdFJlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uQ29uc3QsXG4gICAgICAgICAgICAgICAgcmVkZXg6IHIsXG4gICAgICAgICAgICAgICAgcmVzdWx0OiBzdWJzdFJlZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gRXJyb3IoXCJzdGVwOiByZWRleCBpcyBuZWl0aGVyIGEgY2FsbCBub3IgY29uZCBub3IgbmFtZVwiKTtcbiAgICB9XG59XG5cbi8vIHBsdWdcbi8vIHBsdWcob25lUnVsZSwgYzogQ29udGV4dCk6IEV4cHJTdGVwIHwgRXJyb3JcbmV4cG9ydCBmdW5jdGlvbiBwbHVnKFxuICAgIG9uZVJ1bGU6IFNJX1NUUlVDVC5PbmVSdWxlLFxuICAgIGM6IFNJX1NUUlVDVC5Db250ZXh0LFxuICAgIGVudjogU0lfU1RSVUNULkVudmlyb25tZW50XG4pOiBTSV9TVFJVQ1QuRXZhbFN0ZXAgfCBFcnJvciB7XG4gICAgLy9jaGVjayBpZiBjb250ZXh0IGlzIGEgSG9sZVxuICAgIGNvbnNvbGUubG9nKFwicGx1Zzogb25lUnVsZTogXCIgKyBKU09OLnN0cmluZ2lmeShvbmVSdWxlKSk7XG4gICAgaWYgKFNJX1NUUlVDVC5pc0hvbGUoYykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkV2YWxTdGVwLFxuICAgICAgICAgICAgZW52OiBlbnYsXG4gICAgICAgICAgICBydWxlOiBvbmVSdWxlLFxuICAgICAgICAgICAgcmVzdWx0OiBvbmVSdWxlLnJlc3VsdCxcbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvL0FwcGx5IE9uZVJ1bGUgd2l0aCBLT05HIFJVTEVcbiAgICAgICAgY29uc3QgZXhwclN0ZXAgPSBwbHVnKG9uZVJ1bGUsIGMuY3R4LCBlbnYpO1xuICAgICAgICBpZiAoU0lfU1RSVUNULmlzRXZhbFN0ZXAoZXhwclN0ZXApKSB7XG4gICAgICAgICAgICAvLyBSZXN1bHQgaXMgUnVsZUVycm9yXG4gICAgICAgICAgICBpZiAoZXhwclN0ZXAucmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwclN0ZXA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vQXBwQ29udGV4dFxuICAgICAgICAgICAgICAgIGlmIChTSV9TVFJVQ1QuaXNBcHBDb250ZXh0KGMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBbYy52YWx1ZXMsIGV4cHJTdGVwLnJlc3VsdCwgYy5hcmdzXS5mbGF0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0FyZ3MgPSBhcmdzLm1hcCgoYXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoU0lfU1RSVUNULmlzVmFsdWUoYXJnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0FyZzogQlNMX0FTVC5MaXRlcmFsID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uTGl0ZXJhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGFyZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdBcmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0lkKGFyZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdBcmc6IEJTTF9BU1QuTmFtZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLlN5bWJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sOiBhcmcuc3ltYm9sLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld0FyZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsRXhwcjogQlNMX0FTVC5DYWxsID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkZ1bmN0aW9uQ2FsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGMub3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBuZXdBcmdzLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInBsdWc6IGVudjogXCIgKyBKU09OLnN0cmluZ2lmeShlbnYpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLkV2YWxTdGVwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW52OiBlbnYsXG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogU0lfU1RSVUNULlByb2R1Y3Rpb24uS29uZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBjLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZGV4UnVsZTogb25lUnVsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IGZpbmFsRXhwcixcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgLy9Db25kQ29udGV4dFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzQ29uZENvbnRleHQoYykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGMub3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwcjogQlNMX0FTVC5leHByID0gU0lfU1RSVUNULmlzVmFsdWUoZXhwclN0ZXAucmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICAgICAgPyB7IHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLCB2YWx1ZTogZXhwclN0ZXAucmVzdWx0IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogZXhwclN0ZXAucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdENsYXVzZTogQlNMX0FTVC5DbGF1c2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZE9wdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogZXhwcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogb3B0aW9uc1swXS5yZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld09wdGlvbnMgPSBbZmlyc3RDbGF1c2UsIC4uLm9wdGlvbnMuc2xpY2UoMSldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbEV4cHI6IEJTTF9BU1QuQ29uZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kRXhwcmVzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG5ld09wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5FdmFsU3RlcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudjogZW52LFxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFNJX1NUUlVDVC5Qcm9kdWN0aW9uLktvbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRleFJ1bGU6IG9uZVJ1bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBmaW5hbEV4cHIsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwicGx1ZzogY29udGV4dCBpcyBub3QgYW4gQXBwQ29udGV4dCBvciBDb25kQ29udGV4dFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZXhwclN0ZXA7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vICMjIyMjIyMgT05FIFJVTEUgRlVOQ1RJT05TICMjIyMjIyNcbi8vVE9ETzogcmVmYWN0b3IgcHJpbSB3aXRoIG1hcCBpbnN0ZWFkIG9mIGZvciBsb29wXG5leHBvcnQgZnVuY3Rpb24gcHJpbShcbiAgICBuYW1lOiBCU0xfQVNULk5hbWUsXG4gICAgYXJnczogU0lfU1RSVUNULlZhbHVlW11cbik6IFNJX1NUUlVDVC5WYWx1ZSB8IEVycm9yIHtcbiAgICAvLyArIC0gKlxuICAgIGlmIChuYW1lLnN5bWJvbCA9PT0gXCIrXCIpIHtcbiAgICAgICAgbGV0IG4gPSAwO1xuICAgICAgICBhcmdzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVsID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICBuICs9IGVsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJlcnJvcjogYXJndW1lbnQgaXMgbm90IGEgbnVtYmVyOiBcIiArIGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH0gZWxzZSBpZiAobmFtZS5zeW1ib2wgPT09IFwiKlwiKSB7XG4gICAgICAgIGxldCBuID0gMTtcbiAgICAgICAgYXJncy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbCA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgbiAqPSBlbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwiZXJyb3I6IGFyZ3VtZW50IGlzIG5vdCBhIG51bWJlcjogXCIgKyBlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbjtcbiAgICB9IGVsc2UgaWYgKG5hbWUuc3ltYm9sID09PSBcIi1cIikge1xuICAgICAgICBsZXQgbiA9IGFyZ3NbMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGVsID0gYXJnc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZWwgPT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgbiA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgbiAtPSBlbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwiZXJyb3I6IGFyZ3VtZW50IGlzIG5vdCBhIG51bWJlcjogXCIgKyBhcmdzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbjtcbiAgICB9IGVsc2UgaWYgKG5hbWUuc3ltYm9sID09PSBcIi9cIikge1xuICAgICAgICBsZXQgbiA9IGFyZ3NbMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGVsID0gYXJnc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbiA9PSBcIm51bWJlclwiICYmIHR5cGVvZiBlbCA9PSBcIm51bWJlclwiICYmIGVsICE9IDApIHtcbiAgICAgICAgICAgICAgICBuIC89IGVsO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVycm9yKFwiZXJyb3I6IGRpdmlzaW9uIGJ5IHplcm9cIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBFcnJvcihcImVycm9yOiBhcmd1bWVudCBpcyBub3QgYSBudW1iZXI6IFwiICsgZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICAvLyBhbmQsIG9yLCBub3RcbiAgICBlbHNlIGlmIChuYW1lLnN5bWJvbCA9PT0gXCJhbmRcIikge1xuICAgICAgICBpZiAoYXJncy5ldmVyeSgoZWwpID0+IHR5cGVvZiBlbCA9PSBcImJvb2xlYW5cIikpIHtcbiAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MuZXZlcnkoKGVsKSA9PiBlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVycm9yKGBwcmltOiAke25hbWUuc3ltYm9sfSBuZWVkcyBhdCBsZWFzdCB0d28gYXJndW1lbnRzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJwcmltOiAnYW5kJyBuZWVkcyBib29sZWFuIGFyZ3VtZW50c1wiKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAobmFtZS5zeW1ib2wgPT09IFwib3JcIikge1xuICAgICAgICBpZiAoYXJncy5ldmVyeSgoZWwpID0+IHR5cGVvZiBlbCA9PSBcImJvb2xlYW5cIikpIHtcbiAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3Muc29tZSgoZWwpID0+IGVsKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJwcmltOiAnb3InIG5lZWRzIGF0IGxlYXN0IHR3byBhcmd1bWVudHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJwcmltOiAnb3InIG5lZWRzIGJvb2xlYW4gYXJndW1lbnRzXCIpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChuYW1lLnN5bWJvbCA9PT0gXCJub3RcIikge1xuICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFhcmdzWzBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJwcmltOiAnbm90JyBuZWVkcyBleGFjdGx5IG9uZSBhcmd1bWVudFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBFcnJvcihcInByaW06ICdub3QnIG5lZWRzIGJvb2xlYW4gYXJndW1lbnRcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gbGVzcyB0aGFuIGFuZCBncmVhdGVyIHRoYW4sIHRvIHRlc3QgSFRNTCBlc2NhcGluZ1xuICAgIGVsc2UgaWYgKFtcIjxcIiwgXCI+XCIsIFwiPD1cIiwgXCI+PVwiXS5pbmNsdWRlcyhuYW1lLnN5bWJvbCkpIHtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gRXJyb3IoYHByaW06ICR7bmFtZS5zeW1ib2x9IG5lZWRzIGV4YWN0bHkgdHdvIGFyZ3VtZW50c2ApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxlZnQgPSBhcmdzWzBdO1xuICAgICAgICBjb25zdCByaWdodCA9IGFyZ3NbMV07XG4gICAgICAgIGlmICh0eXBlb2YgbGVmdCAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgcmlnaHQgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBFcnJvcihcbiAgICAgICAgICAgICAgICBgcHJpbTogJHtuYW1lLnN5bWJvbH0gbmVlZHMgdHdvIG51bWJlcnMsIGJ1dCByZWNlaXZlZCAke2xlZnR9IGFuZCAke3JpZ2h0fWBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChuYW1lLnN5bWJvbCkge1xuICAgICAgICAgICAgY2FzZSBcIjxcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdCA8IHJpZ2h0O1xuICAgICAgICAgICAgY2FzZSBcIjw9XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnQgPD0gcmlnaHQ7XG4gICAgICAgICAgICBjYXNlIFwiPj1cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdCA+PSByaWdodDtcbiAgICAgICAgICAgIGNhc2UgXCI+XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnQgPiByaWdodDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIG5ldmVyIHJlYWNoZWQgYnV0IG5lZWRlZCBmb3IgY29tcGlsZXJcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBlbHNlIHRocm93IGVycm9yXG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBFcnJvcihcInByaW06IHRoaXMgZnVuY3Rpb24gaXMgbm90IGltcGxlbWVudGVkXCIpO1xuICAgIH1cbn1cblxuLy8gY29uZFxuLy8gY29uZCBSZWRleCA9PiAgQlNMX0FTVC5leHByIHwgZmFsc2VcbmZ1bmN0aW9uIGNvbmQoXG4gICAgcjogU0lfU1RSVUNULkNvbmRSZWRleFxuKTogQlNMX0FTVC5leHByIHwgU0lfU1RSVUNULlZhbHVlIHwgdW5kZWZpbmVkIHwgRXJyb3Ige1xuICAgIGNvbnN0IGNsYXVzZSA9IHIub3B0aW9uc1swXTtcbiAgICBpZiAoQlNMX0FTVC5pc0xpdGVyYWwoY2xhdXNlLmNvbmRpdGlvbikgJiYgY2xhdXNlLmNvbmRpdGlvbi52YWx1ZSA9PSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IEJTTF9BU1QuaXNMaXRlcmFsKGNsYXVzZS5yZXN1bHQpXG4gICAgICAgICAgICA/IGNsYXVzZS5yZXN1bHQudmFsdWVcbiAgICAgICAgICAgIDogY2xhdXNlLnJlc3VsdDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgICBCU0xfQVNULmlzTGl0ZXJhbChjbGF1c2UuY29uZGl0aW9uKSAmJlxuICAgICAgICBjbGF1c2UuY29uZGl0aW9uLnZhbHVlID09IGZhbHNlXG4gICAgKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEVycm9yKFwiZXJyb3I6IGNvbmRpdGlvbiBpcyBub3QgYSBib29sZWFuXCIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc3Vic3RDb25zdChcbiAgICByOiBTSV9TVFJVQ1QuUmVkZXgsXG4gICAgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnRcbik6IEJTTF9BU1QuZXhwciB8IEVycm9yIHtcbiAgICBpZiAoU0lfU1RSVUNULmlzQ2FsbFJlZGV4KHIpKSB7XG4gICAgICAgIC8vIGdldCB0aGUgaWRlbnRpZmllciBhcmd1bWVudFxuICAgICAgICBjb25zdCBpZExzdDogU0lfU1RSVUNULklkW10gPSByLmFyZ3MuZmlsdGVyKChlbCkgPT5cbiAgICAgICAgICAgIFNJX1NUUlVDVC5pc0lkKGVsKVxuICAgICAgICApIGFzIFNJX1NUUlVDVC5JZFtdO1xuICAgICAgICBjb25zdCBpZDogU0lfU1RSVUNULklkID0gaWRMc3RbMF07XG4gICAgICAgIGNvbnN0IHZhbHVlID0gbG9va3VwRW52KGVudiwgaWQuc3ltYm9sKTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0FyZ3M6IEJTTF9BU1QuZXhwcltdID0gci5hcmdzLm1hcCgoZWwpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoU0lfU1RSVUNULmlzSWQoZWwpICYmIGVsLnN5bWJvbCA9PT0gaWQuc3ltYm9sKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdMaXQ6IEJTTF9BU1QuTGl0ZXJhbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3TGl0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzSWQoZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdOYW1lOiBCU0xfQVNULk5hbWUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uU3ltYm9sLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sOiBlbC5zeW1ib2wsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdMaXQ6IEJTTF9BU1QuTGl0ZXJhbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5MaXRlcmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGVsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3TGl0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uRnVuY3Rpb25DYWxsLFxuICAgICAgICAgICAgICAgIG5hbWU6IHIubmFtZSxcbiAgICAgICAgICAgICAgICBhcmdzOiBuZXdBcmdzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoU0lfU1RSVUNULmlzQ29uZFJlZGV4KHIpKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSByLm9wdGlvbnNbMF0uY29uZGl0aW9uO1xuICAgICAgICBpZiAoQlNMX0FTVC5pc05hbWUobmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbG9va3VwRW52KGVudiwgbmFtZS5zeW1ib2wpO1xuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBuZXdMaXQ6IEJTTF9BU1QuTGl0ZXJhbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGxldCBuZXdPcHQ6IEJTTF9BU1QuQ2xhdXNlID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBCU0xfQVNULlByb2R1Y3Rpb24uQ29uZE9wdGlvbixcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uOiBuZXdMaXQsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogci5vcHRpb25zWzBdLnJlc3VsdCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGxldCBuZXdDb25kOiBCU0xfQVNULkNvbmQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEJTTF9BU1QuUHJvZHVjdGlvbi5Db25kRXhwcmVzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogW25ld09wdF0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3Q29uZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBFcnJvcihcInN1YnN0Q29uc3Q6IGNvbmRpdGlvbiBpcyBub3QgYSBuYW1lXCIpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNOYW1lUmVkZXgocikpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBsb29rdXBFbnYoZW52LCByLnN5bWJvbCk7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgbmV3TGl0OiBCU0xfQVNULkxpdGVyYWwgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogQlNMX0FTVC5Qcm9kdWN0aW9uLkxpdGVyYWwsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBuZXdMaXQ7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gRXJyb3IoXCJzdWJzdENvbnN0OiByZWRleCBpcyBub3QgYSBjYWxsIG9yIGNvbmQgb3IgbmFtZVwiKTtcbiAgICB9XG59XG5cbi8vZnVuXG4vKmZ1bmN0aW9uIHN1YnN0RnVuKHI6U0lfU1RSVUNULkNhbGxSZWRleCwgZW52OiBTSV9TVFJVQ1QuRW52aXJvbm1lbnQpOiBCU0xfQVNULmV4cHIgfCBFcnJvciB7XG4gICAgY29uc3QgdmFsdWU6IFNJX1NUUlVDVC5WYWx1ZSA9IGxvb2t1cEVudihlbnYsIHIubmFtZS5zeW1ib2wpO1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0Z1bih2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgcGFyYW0gPSB2YWx1ZS5wYXJhbTtcbiAgICAgICAgY29uc3QgYm9keSA9IHZhbHVlLmJvZHk7XG4gICAgICAgIGlmIChyLmFyZ3MubGVuZ3RoID09IHBhcmFtLmxlbmd0aCkge1xuICAgICAgICAvL0RvIFNISVRcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gRXJyb3IoXCJzdWJzdEZ1bjogbnVtYmVyIG9mIGFyZ3VtZW50cyBkb2Vzbid0IG1hdGNoXCIpO1xuICAgICAgICB9XG5cbn0qL1xuXG4vL3N0cnVjdFxuZnVuY3Rpb24gc3RydWN0UnVsZSgpIHsgfVxuXG4vLyAjIyMjIyMjIEVudmlyb25tZW50IEZ1bmN0aW9ucyAjIyMjIyMjXG5cbmZ1bmN0aW9uIGFkZFRvRW52KFxuICAgIGVudjogU0lfU1RSVUNULkVudmlyb25tZW50LFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICB2YWx1ZTogU0lfU1RSVUNULlZhbHVlXG4pOiBTSV9TVFJVQ1QuRW52aXJvbm1lbnQgfCBFcnJvciB7XG4gICAgaWYgKGVudltuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IG5ld0VudiA9IHsgLi4uZW52IH07XG4gICAgICAgIG5ld0VudltuYW1lXSA9IHZhbHVlO1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcImFkZFRvRW52OiBcIiArIG5hbWUgKyBcIjpcIiArIHZhbHVlICsgXCIgYWRkZWQgdG8gXCIgKyBKU09OLnN0cmluZ2lmeShlbnYpXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUud2FybihcImFkZFRvRW52OiBuZXdFbnYgPSBcIiArIEpTT04uc3RyaW5naWZ5KG5ld0VudikpO1xuICAgICAgICByZXR1cm4gbmV3RW52O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBFcnJvcihcImFkZFRvRW52OiBuYW1lIGFscmVhZHkgZXhpc3RzIGluIGVudmlyb25tZW50XCIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbG9va3VwRW52KFxuICAgIGVudjogU0lfU1RSVUNULkVudmlyb25tZW50LFxuICAgIG5hbWU6IHN0cmluZ1xuKTogU0lfU1RSVUNULlZhbHVlIHwgRXJyb3Ige1xuICAgIGlmIChuYW1lIGluIGVudikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJsb29rdXBFbnY6IFwiICsgbmFtZSArIFwiIGZvdW5kIGluIFwiICsgSlNPTi5zdHJpbmdpZnkoZW52KSk7XG4gICAgICAgIHJldHVybiBlbnZbbmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEVycm9yKFwibG9va3VwRW52OiBuYW1lIGlzIG5vdCBib3VuZCBpbiBlbnZpcm9ubWVudFwiKTtcbiAgICB9XG59XG4iLCAiLy8gcGFyc2luZyBhbmQgcHJvY2Vzc2luZyBjb2RlIGlucHV0XG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gJy4vQlNMX1BhcnNlcic7XG5pbXBvcnQgKiBhcyBCU0xfQVNUIGZyb20gXCIuL0JTTF9BU1RcIjtcbmltcG9ydCAqIGFzIEJTTF9QcmludCBmcm9tICcuL0JTTF9QcmludCc7XG4vLyBzbWFsbC1zdGVwIGludGVycHJldGVyIGJhY2stZW5kXG5pbXBvcnQgKiBhcyBTSV9TVFJVQ1QgZnJvbSBcIi4vU0lfU1RSVUNUXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVQcm9ncmFtIH0gZnJvbSAnLi9TSSc7XG4vLyBzdHlsZXMgJiBpY29uIHJlc3NvdXJjZXNcbmltcG9ydCB7IGRlZmF1bHQgYXMgc21hbGxfaW50ZXJwcmV0ZXJfY3NzIH0gZnJvbSAnLi9yZXNzb3VyY2VzL3NtYWxsLWludGVycHJldGVyLmNzcyc7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIGFuZ2xlX3VwIH0gZnJvbSAnLi9yZXNzb3VyY2VzL2ljb25zL2FuZ2xlLXVwLXNvbGlkLnN2Zyc7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIGFuZ2xlX2Rvd24gfSBmcm9tICcuL3Jlc3NvdXJjZXMvaWNvbnMvYW5nbGUtZG93bi1zb2xpZC5zdmcnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBwbHVzX2ljb24gfSBmcm9tICcuL3Jlc3NvdXJjZXMvaWNvbnMvcGx1cy1zb2xpZC5zdmcnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBtaW51c19pY29uIH0gZnJvbSAnLi9yZXNzb3VyY2VzL2ljb25zL21pbnVzLXNvbGlkLnN2Zyc7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIGNpcmNsZV9pbmZvIH0gZnJvbSAnLi9yZXNzb3VyY2VzL2ljb25zL2NpcmNsZS1pbmZvLXNvbGlkLnN2Zyc7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIGNpcmNsZV94bWFyayB9IGZyb20gJy4vcmVzc291cmNlcy9pY29ucy9jaXJjbGUteG1hcmstc29saWQuc3ZnJztcbi8vIGh0bWwgaGVscGVyc1xuaW1wb3J0IHsgZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUsIG5hdmlnYXRlRE9NIH0gZnJvbSAnLi9ET01fSGVscGVycyc7XG5cbi8vICMjIyMjIyMjIyBtYWluIGZ1bmN0aW9uIHByb2Nlc3Npbmcgc3RlcHBlcnMgIyMjIyMjIyMjIyNcbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzU3RlcHBlcnMoKSB7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N0ZXBwZXInKSkubWFwKGVsID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvZ3JhbSA6IEJTTF9BU1QucHJvZ3JhbSA9IHBhcnNlKEJTTF9QcmludC5kaXJ0aWZ5KGVsLmlubmVySFRNTCkpO1xuICAgICAgY29uc29sZS5sb2coQlNMX1ByaW50LmluZGVudChCU0xfUHJpbnQucHByaW50KHByb2dyYW0pLCAzMCkpO1xuICAgICAgc2V0VXBTdGVwcGVyR3VpKHByb2dyYW0sIGVsIGFzIEhUTUxFbGVtZW50KTtcbiAgICB9IGNhdGNoIChlOmFueSkge1xuICAgICAgbGV0IGVycm9yO1xuICAgICAgaWYoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICBlcnJvciA9IGAke2V9YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIGVycm9yJyk7XG4gICAgICAgIGVycm9yID0gJ1Vua25vd24gRXJyb3InO1xuICAgICAgfVxuICAgICAgZWwuaW5uZXJIVE1MID0gYFxuICAgICAgICA8aDM+RXJyb3IgdHVybmluZyBQcm9ncmFtIGludG8gU3RlcHBlcjwvaDM+XG4gICAgICAgIDxkaXY+JHtlbC5pbm5lckhUTUx9PC9kaXY+XG4gICAgICAgIDxkaXY+JHtlcnJvcn08L2Rpdj5cbiAgICAgIGA7XG4gICAgICAoZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIHBhZGRpbmc6IDJlbTtcbiAgICAgICAgY29sb3I6IGRhcmtyZWQ7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgYDtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyAjIyMgc2V0IHVwIGEgc2luZ2xlIHN0ZXBwZXIgIyMjXG5leHBvcnQgZnVuY3Rpb24gc2V0VXBTdGVwcGVyR3VpKHByb2dyYW06QlNMX0FTVC5wcm9ncmFtLCBlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAvLyBhZGQgY3NzIGlmIG5lY2Vzc2FyeVxuICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JzbC10b29scy1zdGVwcGVyLXN0eWxlJykpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgc3R5bGVOb2RlLmlubmVySFRNTCA9IHNtYWxsX2ludGVycHJldGVyX2NzcztcbiAgICAgICAgc3R5bGVOb2RlLmlkID0gJ2JzbC10b29scy1zdGVwcGVyLXN0eWxlJztcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChzdHlsZU5vZGUpO1xuICAgIH1cbiAgICAvLyBjYWxjdWxhdGUgU3RlcHNcbiAgICBjb25zdCBleHByID0gIHByb2dyYW1bMF0gYXMgQlNMX0FTVC5leHByO1xuICAgIGNvbnNvbGUubG9nKFwiZXhwcmVzc2lvblwiLCBleHByKTtcbiAgICBjb25zdCBlbXB0eVN0ZXBwZXI6IFNJX1NUUlVDVC5TdGVwcGVyID0ge1xuICAgICAgICB0eXBlOiBTSV9TVFJVQ1QuUHJvZHVjdGlvbi5TdGVwcGVyLFxuICAgICAgICByb290OiBlbCxcbiAgICAgICAgb3JpZ2luUHJvZ3JhbTogcHJvZ3JhbSxcbiAgICAgICAgc3RlcHBlclRyZWU6IFtdLFxuICAgIH07XG4gICAgY29uc3Qgc3RlcHBlciA9IGNhbGN1bGF0ZVByb2dyYW0ocHJvZ3JhbSwgZW1wdHlTdGVwcGVyKTtcbiAgICBpZiAoc3RlcHBlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICB0aHJvdyBzdGVwcGVyO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcInN0ZXBwZXJcIiwgc3RlcHBlcik7XG4gICAgLy8gc2V0IGxhbmd1YWdlXG4gICAgbGV0IGxhbmcgPSBlbC5nZXRBdHRyaWJ1dGUoJ2xhbmcnKTtcbiAgICBpZiAoIWxhbmcpIHtcbiAgICAgIGxhbmcgPSAnZW4nO1xuICAgIH0gZWxzZSBpZiAoIWltcGxlbWVudGVkTGFuZ3VhZ2VzLmluY2x1ZGVzKGxhbmcpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBcbiAgICAgICAgTGFuZ3VhZ2UgJHtsYW5nfSBpcyBub3QgaW1wbGVtZW50ZWQgZm9yIHRoaXMgbW9kdWxlLFxuICAgICAgICB5b3UgY2FuIGNob29zZSBmcm9tICR7aW1wbGVtZW50ZWRMYW5ndWFnZXMuam9pbignLCcpfS5cbiAgICAgICAgRGVmYXVsdGluZyB0byAnZW4nLlxuICAgICAgYCk7XG4gICAgICBsYW5nID0gJ2VuJztcbiAgICB9XG4gICAgLy8gZ2V0IHdpZHRoIG9mIHNpbmdsZSBjaGFyYWN0ZXIgZm9yIGR5bmFtaWMgbWF4d2lkdGggaW5kZW50YXRpb25cbiAgICBzZXRDaGFyUHhXaWR0aChlbCk7XG4gICAgLy8gcmVuZGVyIGFuZCBhdHRhY2hcbiAgICBlbC5pbm5lckhUTUwgPSByZW5kZXJTdGVwcGVyKHN0ZXBwZXIsIGxhbmcgYXMgaW1wbGVtZW50ZWRMYW5ndWFnZSk7XG59XG5cbi8vICMjIyMjIyBpbnRlcm5hdGlvbmFsaXphdGlvbiBmb3IgdGhpcyBtb2R1bGUgIyMjIyNcbnR5cGUgaW1wbGVtZW50ZWRMYW5ndWFnZSA9ICdlbicgfCAnZGUnO1xuY29uc3QgaW1wbGVtZW50ZWRMYW5ndWFnZXMgPSBbJ2VuJywgJ2RlJ107XG5cbmNvbnN0IGRpY3Rpb25hcnkgPSB7XG4gICdlbic6IHtcbiAgICAnY3VycmVudCBldmFsdWF0aW9uJzogJ0N1cnJlbnQgRXZhbHVhdGlvbicsXG4gICAgJ25leHQgc3RlcCc6ICdOZXh0IFN0ZXAnLFxuICAgICdwcmV2aW91cyBzdGVwJzogJ1ByZXZpb3VzIFN0ZXAnLFxuICAgICdlbnZpcm9ubWVudCc6ICdFbnZpcm9ubWVudCcsXG4gICAgJ3JlbWFpbmluZyBwcm9ncmFtJzogJ1JlbWFpbmluZyBQcm9ncmFtJyxcbiAgICAnc3RhcnQgZXZhbHVhdGlvbic6ICdTdGFydCBFdmFsdWF0aW9uJyxcbiAgICAnZXZhbHVhdGlvbiBmaW5pc2hlZCc6ICdFdmFsdWF0aW9uIEZpbmlzaGVkJyxcbiAgICAnZ28gYmFjayc6ICdHbyBCYWNrJ1xuICB9LFxuICAnZGUnOiB7XG4gICAgJ2N1cnJlbnQgZXZhbHVhdGlvbic6ICdBa3R1ZWxsZSBBdXN3ZXJ0dW5nJyxcbiAgICAnbmV4dCBzdGVwJzogJ05cdTAwRTRjaHN0ZXIgU2Nocml0dCcsXG4gICAgJ3ByZXZpb3VzIHN0ZXAnOiAnVm9yaGVyaWdlciBTY2hyaXR0JyxcbiAgICAnZW52aXJvbm1lbnQnOiAnVW1nZWJ1bmcnLFxuICAgICdyZW1haW5pbmcgcHJvZ3JhbSc6ICdcdTAwRENicmlnZXMgUHJvZ3JhbW0nLFxuICAgICdzdGFydCBldmFsdWF0aW9uJzogJ0F1c3dlcnR1bmcgU3RhcnRlbicsXG4gICAgJ2V2YWx1YXRpb24gZmluaXNoZWQnOiAnQXVzd2VydHVuZyBCZWVuZGV0JyxcbiAgICAnZ28gYmFjayc6ICdTY2hyaXR0IHp1clx1MDBGQ2NrJ1xuICB9LFxufTtcblxuLy8gIyMjIyMjIyBSRU5ERVIgRlVOQ1RJT05TICMjIyMjIyNcbi8vIGhlbHBlciBmb3IgZ2V0dGluZyB3aWR0aCBvZiBlbSBpbiBweFxubGV0IGNoYXJQeFdpZHRoID0gMTI7IC8vIGFyYml0cmFyeSBkZWZhdWx0XG5sZXQgbWF4V2lkdGhJbkNoYXJzID0gODA7XG5mdW5jdGlvbiBzZXRDaGFyUHhXaWR0aChlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgZWwuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJzdGVwcGVyXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJib3hcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0ZXAgY29kZVwiXG4gICAgICAgICAgICAgZGF0YS1jdXJyZW50U3RlcD1cInRydWVcIj5cbiAgICAgICAgICA8cCBzdHlsZT1cImRpc3BsYXk6IGlubGluZS1ibG9jaztcIj5Mb2FkaW5nLi4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xuICBjb25zdCBwID0gZWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3AnKVswXTtcbiAgY29uc3Qgc3RlcHBlciA9IGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0ZXBwZXInKVswXTtcbiAgaWYoIXAgfHwgIXN0ZXBwZXIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdmYWlsZWQgdG8gaW5qZWN0IG1lYXN1cmluZyBIVE1MIGludG8nLCBlbCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNoYXJQeFdpZHRoID0gcC5jbGllbnRXaWR0aCAvICdMb2FkaW5nLi4uJy5sZW5ndGg7XG4gIGNvbnNvbGUubG9nKGBGb3VuZCB0aGF0IDFlbSBpcyAke2NoYXJQeFdpZHRofSB3aWRlYCk7XG4gIGNvbnN0IGZhY3RvciA9IDAuOTtcbiAgbWF4V2lkdGhJbkNoYXJzID0gTWF0aC5yb3VuZCgoZmFjdG9yICogc3RlcHBlci5jbGllbnRXaWR0aCkgLyBjaGFyUHhXaWR0aCk7XG4gIGNvbnNvbGUubG9nKGBcbiAgICBUaGF0IG1lYW5zIHRvIGZpbGwgJHtmYWN0b3J9IG9mIHRoZSBhdmFpbGFibGUgd2lkdGgsXG4gICAgd2UgbWF5IHByaW50IGF0IG1vc3QgJHttYXhXaWR0aEluQ2hhcnN9IGNoYXJhY3RlcnMuXG4gIGApO1xufVxuXG4vLyBtYWluIGZ1bmN0aW9uXG5mdW5jdGlvbiByZW5kZXJTdGVwcGVyKHN0ZXBwZXI6IFNJX1NUUlVDVC5TdGVwcGVyLCBsYW5nOiBpbXBsZW1lbnRlZExhbmd1YWdlKTogc3RyaW5ne1xuICAgIGNvbnN0IHN0ZXBwZXJUcmVlID0gc3RlcHBlci5zdGVwcGVyVHJlZTtcblxuICAgIGNvbnN0IHN0ciA9XG4gICAgYDxkaXYgY2xhc3M9XCJzdGVwcGVyXCI+XG5cbiAgICAgICA8ZGl2IGNsYXNzPVwiYm94IGVudmlyb25tZW50XCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYm94bGFiZWxcIj4ke2RpY3Rpb25hcnlbbGFuZ11bJ2Vudmlyb25tZW50J119PC9kaXY+XG4gICAgICAgICAke3N0ZXBwZXJUcmVlLm1hcChyZW5kZXJEZWZpbml0aW9uKS5qb2luKCcnKX1cbiAgICAgICA8L2Rpdj5cblxuICAgICAgIDxkaXYgY2xhc3M9XCJib3ggZXhwcmVzc2lvbi1zdGVwc1wiXG4gICAgICAgICAgICBkYXRhLXByb2dzdGVwPVwiLTFcIlxuICAgICAgICAgICAgZGF0YS12aXNpYmxlPVwidHJ1ZVwiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cImJveGxhYmVsXCI+JHtkaWN0aW9uYXJ5W2xhbmddWydjdXJyZW50IGV2YWx1YXRpb24nXX08L2Rpdj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwXCJcbiAgICAgICAgICAgICAgZGF0YS1jdXJyZW50U3RlcD1cInRydWVcIj5cbiAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5leHQtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbmNsaWNrPVwiZ290b0V4cHJlc3Npb24oZXZlbnQsIDEpXCI+XG4gICAgICAgICAgICAgJHtkaWN0aW9uYXJ5W2xhbmddWydzdGFydCBldmFsdWF0aW9uJ119IDxpbWcgY2xhc3M9XCJpY29uXCIgc3JjPVwiJHthbmdsZV9kb3dufVwiPlxuICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZGl2PlxuXG4gICAgICAgJHtzdGVwcGVyVHJlZS5tYXAoKGVsLCBpKSA9PiByZW5kZXJFdmFsU3RlcHMoZWwsIGksIGxhbmcpKS5qb2luKCcnKX1cblxuICAgICAgIDxkaXYgY2xhc3M9XCJib3ggZXhwcmVzc2lvbi1zdGVwc1wiXG4gICAgICAgICAgICBkYXRhLXByb2dzdGVwPVwiJHtzdGVwcGVyVHJlZS5sZW5ndGh9XCJcbiAgICAgICAgICAgIGRhdGEtdmlzaWJsZT1cImZhbHNlXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYm94bGFiZWxcIj4ke2RpY3Rpb25hcnlbbGFuZ11bJ2N1cnJlbnQgZXZhbHVhdGlvbiddfTwvZGl2PlxuICAgICAgICAgPGRpdiBjbGFzcz1cInN0ZXBcIlxuICAgICAgICAgICAgICBkYXRhLWN1cnJlbnRTdGVwPVwidHJ1ZVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvZGVcIj4ke2RpY3Rpb25hcnlbbGFuZ11bJ2V2YWx1YXRpb24gZmluaXNoZWQnXX08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgIG9uY2xpY2s9XCJnb3RvRXhwcmVzc2lvbihldmVudCwgLTEpXCI+XG4gICAgICAgICAgICAgICR7ZGljdGlvbmFyeVtsYW5nXVsnZ28gYmFjayddfSA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cIiR7YW5nbGVfdXB9XCI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZGl2PlxuXG4gICAgICAgPGRpdiBjbGFzcz1cImJveCBwcm9ncmFtXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYm94bGFiZWxcIj4ke2RpY3Rpb25hcnlbbGFuZ11bJ3JlbWFpbmluZyBwcm9ncmFtJ119PC9kaXY+XG4gICAgICAgICAke3N0ZXBwZXJUcmVlLm1hcChyZW5kZXJPcmlnaW5hbEV4cHJlc3Npb24pLmpvaW4oJycpfVxuICAgICAgIDwvZGl2PlxuXG4gICAgPC9kaXY+YDtcbiAgICByZXR1cm4gc3RyO1xufVxuKHdpbmRvdyBhcyBhbnkpLmdvdG9FeHByZXNzaW9uID0gKGU6IEV2ZW50LCBhOiBudW1iZXIpID0+IHtcbiAgbmF2aWdhdGVFeHByZXNzaW9uKGUsIGEpO1xufVxuLy8gcmVuZGVyIHdoYXQgcmVtYWlucyBvZiBhbiBleHByZXNzaW9uIGFmdGVyIGV2YWx1YXRpb25cbmZ1bmN0aW9uIHJlbmRlckRlZmluaXRpb24ocHJvZ1N0ZXA6IFNJX1NUUlVDVC5Qcm9nU3RlcCwgaWR4OiBudW1iZXIpOiBzdHJpbmcge1xuICAvLyBmaWx0ZXJpbmcgYXQgdGhpcyBwb3NpdGlvbiBpbiBvcmRlciB0byBrZWVwIGNvcnJlY3QgaW1wbGljaXQgcHJvZ1N0ZXAgaW5kZXhcbiAgaWYgKFNJX1NUUlVDVC5pc0RlZmluaXRpb25TdGVwKHByb2dTdGVwKSkge1xuICAgIHJldHVybiBgXG4gICAgICA8ZGl2IGNsYXNzPVwic3RlcCBjb2RlXCJcbiAgICAgICAgICAgZGF0YS1wcm9nc3RlcD1cIiR7aWR4fVwiXG4gICAgICAgICAgIGRhdGEtdmlzaWJsZT1cImZhbHNlXCI+XG4gICAgICAgICR7QlNMX1ByaW50LmluZGVudChcbiAgICAgICAgICAgIEJTTF9QcmludC5zYW5pdGl6ZShcbiAgICAgICAgICAgICAgQlNMX1ByaW50LnByaW50RGVmaW5pdGlvbihwcm9nU3RlcC5yZXN1bHQpKSxcbiAgICAgICAgICAgIG1heFdpZHRoSW5DaGFycywgJ2h0bWwnKX1cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbn1cblxuLy8gcmVuZGVyIHRoZSBwYXJ0IG9mIHRoZSBvcmlnaW5hbCBQcm9ncmFtIHRoYXQgaXMgYmVpbmcgcmVwcmVzZW50ZWQgYnkgYSBwcm9nc3RlcFxuZnVuY3Rpb24gcmVuZGVyT3JpZ2luYWxFeHByZXNzaW9uKHByb2dTdGVwOiBTSV9TVFJVQ1QuUHJvZ1N0ZXAsIGlkeDogbnVtYmVyKTogc3RyaW5nIHtcbiAgcmV0dXJuIGBcbiAgICA8ZGl2IGNsYXNzPVwic3RlcCBjb2RlXCJcbiAgICAgICAgIGRhdGEtcHJvZ3N0ZXA9XCIke2lkeH1cIlxuICAgICAgICAgZGF0YS12aXNpYmxlPVwidHJ1ZVwiPlxuICAgICAgJHtCU0xfUHJpbnQuaW5kZW50KFxuICAgICAgICAgIEJTTF9QcmludC5zYW5pdGl6ZShCU0xfUHJpbnQucHJpbnREZWZPckV4cHIocHJvZ1N0ZXAub3JpZ2luYWxEZWZPckV4cHIpKSxcbiAgICAgICAgICBtYXhXaWR0aEluQ2hhcnMsICdodG1sJyl9XG4gICAgPC9kaXY+XG4gIGA7XG59XG4vLyBvbmUgc3RlcHBlciBmb3Igb25lIGV4cHJlc3Npb25cbmZ1bmN0aW9uIHJlbmRlckV2YWxTdGVwcyhwcm9nU3RlcDogU0lfU1RSVUNULlByb2dTdGVwLCBpZHg6IG51bWJlciwgbGFuZzogaW1wbGVtZW50ZWRMYW5ndWFnZSk6IHN0cmluZyB7XG4gIGZ1bmN0aW9uIHJlbmRlckRlZmluaXRpb25Db250ZXh0KGRlZjogQlNMX0FTVC5kZWZpbml0aW9uKTogQ29udGV4dCB7XG4gICAgaWYoQlNMX0FTVC5pc0NvbnN0RGVmKGRlZikpIHtcbiAgICAgIHJldHVybiB7bGVmdDogYChkZWZpbmUgJHtkZWYubmFtZS5zeW1ib2x9IGAsIHJpZ2h0OiAnKSd9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkb2VzIG5vdCBtYXR0ZXIsIG5vIGV2YWwgc3RlcHMgaGVyZSBhbnl3YXlcbiAgICAgIHJldHVybiB7bGVmdDogJycsIHJpZ2h0OiAnJ307XG4gICAgfVxuICB9XG4gIGNvbnN0IGN0eCA9XG4gICAgU0lfU1RSVUNULmlzRGVmaW5pdGlvblN0ZXAocHJvZ1N0ZXApXG4gICAgPyByZW5kZXJEZWZpbml0aW9uQ29udGV4dChwcm9nU3RlcC5vcmlnaW5hbERlZk9yRXhwcilcbiAgICA6IHtsZWZ0OiAnJywgcmlnaHQ6ICcnfTtcbiAgcmV0dXJuIGBcbiAgICA8ZGl2IGNsYXNzPVwiYm94IGV4cHJlc3Npb24tc3RlcHNcIlxuICAgICAgICAgZGF0YS1wcm9nc3RlcD1cIiR7aWR4fVwiXG4gICAgICAgICBkYXRhLXZpc2libGU9XCJmYWxzZVwiPlxuICAgICAgPGRpdiBjbGFzcz1cImJveGxhYmVsXCI+JHtkaWN0aW9uYXJ5W2xhbmddWydjdXJyZW50IGV2YWx1YXRpb24nXX08L2Rpdj5cbiAgICAgICR7XG4gICAgICAgICAgLy8gYWxsIGV2YWx1YXRpb24gc3RlcHNcbiAgICAgICAgICBwcm9nU3RlcC5ldmFsU3RlcHMubWFwKChlbCwgaSkgPT4gcmVuZGVyU3RlcChpLCBlbCwgbGFuZywgey4uLmN0eH0pKS5qb2luKCcnKVxuICAgICAgICAgIC8vIHJlc3VsdFxuICAgICAgIH1cbiAgICAgIDxkaXYgY2xhc3M9XCJzdGVwXCJcbiAgICAgICAgICAgZGF0YS1zdGVwPVwiJHtwcm9nU3RlcC5ldmFsU3RlcHMubGVuZ3RofVwiXG4gICAgICAgICAgIGRhdGEtY3VycmVudFN0ZXA9XCIke3Byb2dTdGVwLmV2YWxTdGVwcy5sZW5ndGggPT09IDAgPyAndHJ1ZScgOiAnZmFsc2UnfVwiXG4gICAgICAgICAgIGRhdGEtY29sbGFwc2VkPVwiZmFsc2VcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInByZXYtYnV0dG9uXCJcbiAgICAgICAgICAgICBvbmNsaWNrPVwicHJldlN0ZXAoZXZlbnQpXCI+XG4gICAgICAgICAgJHtkaWN0aW9uYXJ5W2xhbmddWydwcmV2aW91cyBzdGVwJ119IDxpbWcgY2xhc3M9XCJpY29uXCIgc3JjPVwiJHthbmdsZV91cH1cIj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuZXh0LWJ1dHRvblwiXG4gICAgICAgICAgICAgb25jbGljaz1cIm5leHRTdGVwKGV2ZW50KVwiPlxuICAgICAgICAgICR7ZGljdGlvbmFyeVtsYW5nXVsnbmV4dCBzdGVwJ119IDxpbWcgY2xhc3M9XCJpY29uXCIgc3JjPVwiJHthbmdsZV9kb3dufVwiPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwic3BsaXQtcmVzdWx0IGNvZGVcIj5cbiAgICAgICAgICAke1NJX1NUUlVDVC5pc0RlZmluaXRpb25TdGVwKHByb2dTdGVwKVxuICAgICAgICAgICAgPyBCU0xfUHJpbnQucHJpbnREZWZpbml0aW9uKHByb2dTdGVwLnJlc3VsdClcbiAgICAgICAgICAgIDogYCR7cHJvZ1N0ZXAucmVzdWx0IGluc3RhbmNlb2YgRXJyb3IgP1xuICAgICAgICAgICAgICAgICAgICAgIHByb2dTdGVwLnJlc3VsdCA6IEJTTF9QcmludC5wcmludFZhbHVlKHByb2dTdGVwLnJlc3VsdCl9YFxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcbn1cbi8vIG5hdmlnYXRlIGJldHdlZW4gZXhwcmVzc2lvbnNcbmZ1bmN0aW9uIG5hdmlnYXRlRXhwcmVzc2lvbihlOiBFdmVudCwgYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcbiAgY29uc3QgZWwgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgLy8gZWwgd2lsbCBiZSBhIGJ1dHRvblxuICBjb25zdCBvbGRCdXR0b25Qb3NpdGlvbiA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnk7XG4gIGNvbnN0IGV4cHJlc3Npb25EaXYgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShlbCwgJ2V4cHJlc3Npb24tc3RlcHMnKTtcbiAgaWYoIWV4cHJlc3Npb25EaXYpIHtcbiAgICBjb25zb2xlLmVycm9yKCdmb3VuZCBubyBwYXJlbnQgd2l0aCBjbGFzcyAuZXhwcmVzc2lvbi1zdGVwcycsIGVsKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgaWR4U3RyaW5nID0gZXhwcmVzc2lvbkRpdi5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZ3N0ZXAnKTtcbiAgaWYoIWlkeFN0cmluZykge1xuICAgIGNvbnNvbGUuZXJyb3IoJ2RpdiB3aXRoIGNsYXNzIC5leHByZXNzaW9uLXN0ZXBzIGhhcyBubyBkYXRhLXByb2dzdGVwIGF0dHJpYnV0ZScsIGV4cHJlc3Npb25EaXYpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBpZHggPSBwYXJzZUludChpZHhTdHJpbmcpO1xuICBjb25zdCB0YXJnZXRJZHggPSBpZHggKyBhbW91bnQ7XG4gIGlmKHRhcmdldElkeCA8IC0xKSB7XG4gICAgY29uc29sZS5lcnJvcihgY2Fubm90IG5hdmlnYXRlIHRvIHByb2dTdGVwICR7dGFyZ2V0SWR4fTogZG9lcyBub3QgZXhpc3RgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gc2V0IHZpc2liaWxpdHkgaW4gZW52aXJvbm1lbnRcbiAgbmF2aWdhdGVET00oW2V4cHJlc3Npb25EaXZdLCAnLi4vLmVudmlyb25tZW50L2RpdicpLm1hcChkZWYgPT4ge1xuICAgIGNvbnN0IGlkeFN0cmluZyA9IGRlZi5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZ3N0ZXAnKTtcbiAgICBpZihpZHhTdHJpbmcpIHtcbiAgICAgIGlmKHBhcnNlSW50KGlkeFN0cmluZykgPCB0YXJnZXRJZHgpIHtcbiAgICAgICAgZGVmLnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgJ3RydWUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmlzaWJsZScsICdmYWxzZScpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIC8vIHNldCB2aXNpYmlsaXR5IGluIHByb2dyYW1cbiAgbmF2aWdhdGVET00oW2V4cHJlc3Npb25EaXZdLCAnLi4vLnByb2dyYW0vZGl2JykubWFwKHByb2cgPT4ge1xuICAgIGNvbnN0IGlkeFN0cmluZyA9IHByb2cuZ2V0QXR0cmlidXRlKCdkYXRhLXByb2dzdGVwJyk7XG4gICAgaWYoaWR4U3RyaW5nKSB7XG4gICAgICBpZihwYXJzZUludChpZHhTdHJpbmcpIDw9IHRhcmdldElkeCkge1xuICAgICAgICBwcm9nLnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgJ2ZhbHNlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9nLnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgJ3RydWUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAvLyBzaG93IGNvcnJlY3Qgc3RlcHBlclxuICBuYXZpZ2F0ZURPTShbZXhwcmVzc2lvbkRpdl0sICcuLi8uZXhwcmVzc2lvbi1zdGVwcycpLm1hcChlID0+IHtcbiAgICBjb25zdCBpZHhTdHJpbmcgPSBlLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9nc3RlcCcpO1xuICAgIGlmKGlkeFN0cmluZykge1xuICAgICAgaWYocGFyc2VJbnQoaWR4U3RyaW5nKSA9PT0gdGFyZ2V0SWR4KSB7XG4gICAgICAgIGUuc2V0QXR0cmlidXRlKCdkYXRhLXZpc2libGUnLCAndHJ1ZScpO1xuICAgICAgICAvLyBtb3ZlIHByZXYvbmV4dC1idXR0b24gdG8gc3RheSB1bmRlciBtb3VzZVxuICAgICAgICBBcnJheS5mcm9tKGUuY2hpbGRyZW4pLmZpbHRlcihjID0+XG4gICAgICAgICAgYy5nZXRBdHRyaWJ1dGUoJ2RhdGEtY3VycmVudHN0ZXAnKSA9PT0gJ3RydWUnXG4gICAgICAgICkubWFwKGMgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld0J1dHRvbiA9IGMucXVlcnlTZWxlY3RvcihhbW91bnQgPiAwID8gJy5uZXh0LWJ1dHRvbicgOiAnLnByZXYtYnV0dG9uJyk7XG4gICAgICAgICAgaWYgKCFuZXdCdXR0b24pIHJldHVybjtcbiAgICAgICAgICBjb25zdCBuZXdCdXR0b25Qb3NpdGlvbiA9IG5ld0J1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55O1xuICAgICAgICAgIHdpbmRvdy5zY3JvbGxCeSgwLCBuZXdCdXR0b25Qb3NpdGlvbiAtIG9sZEJ1dHRvblBvc2l0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlLnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgJ2ZhbHNlJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxufVxuXG4vLyBvbmUgaW5kaXZpZHVhbCBzdGVwXG5mdW5jdGlvbiByZW5kZXJTdGVwKGN1cnJlbnRTdGVwOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA6IFNJX1NUUlVDVC5FdmFsU3RlcCxcbiAgICAgICAgICAgICAgICAgICAgbGFuZzogaW1wbGVtZW50ZWRMYW5ndWFnZSxcbiAgICAgICAgICAgICAgICAgICAgY3R4OiBDb250ZXh0ID0ge2xlZnQ6ICcnLCByaWdodDogJyd9KTogc3RyaW5nIHtcbiAgLy8gY29uc29sZS5sb2coYFJlbmRlcmluZyBzdGVwICR7Y3VycmVudFN0ZXB9YCk7XG4gIC8vIGFjcXVpcmUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uOlxuICAvLyBjb250ZXh0IGFuZCByZWRleFxuICBjb25zdCBjb250ZXh0OkNvbnRleHQgPVxuICAgIFNJX1NUUlVDVC5pc0tvbmcoc3RlcC5ydWxlKSA/XG4gICAgICBwcmludENvbnRleHQoc3RlcC5ydWxlLmNvbnRleHQsIGN0eClcbiAgICAgIDogY3R4O1xuICBjb25zdCByZWRleFJ1bGUgPSBTSV9TVFJVQ1QuaXNLb25nKHN0ZXAucnVsZSkgPyBzdGVwLnJ1bGUucmVkZXhSdWxlIDogc3RlcC5ydWxlO1xuICAvLyByZXN1bHQgYW5kIHJ1bGUgbmFtZVxuICBjb25zdCByZWRleDogc3RyaW5nID1cbiAgICBCU0xfUHJpbnQuc2FuaXRpemUocHJpbnRSZWRleChyZWRleFJ1bGUucmVkZXgpKTtcbiAgZnVuY3Rpb24gcmVuZGVyUmVzdWx0KHJlczogQlNMX0FTVC5leHByIHwgU0lfU1RSVUNULlZhbHVlIHwgRXJyb3IpOiBzdHJpbmcge1xuICAgIGlmKFNJX1NUUlVDVC5pc1ZhbHVlKHJlcykpIHtcbiAgICAgIHJldHVybiBgJHtjb250ZXh0LmxlZnR9PHNwYW4gY2xhc3M9XCJob2xlIGhvbGUtcmVzdWx0XCI+JHtcbiAgICAgICAgQlNMX1ByaW50LnByaW50VmFsdWUocmVzKVxuICAgICAgfTwvc3Bhbj4ke2NvbnRleHQucmlnaHR9YDtcbiAgICB9IGVsc2UgaWYocmVzIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCJob2xlIGhvbGUtcmVzdWx0IGhvbGUtZXJyb3JcIj5cIiR7cmVzfVwiPC9zcGFuPmA7IC8vIHRvIHByZXZlbnQgaW5kZW50YXRpb24gaXNzdWVzXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgJHtjb250ZXh0LmxlZnR9PHNwYW4gY2xhc3M9XCJob2xlIGhvbGUtcmVzdWx0XCI+JHtCU0xfUHJpbnQuc2FuaXRpemUoQlNMX1ByaW50LnByaW50RShyZXMpKX08L3NwYW4+JHtjb250ZXh0LnJpZ2h0fWA7XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlc3VsdDogc3RyaW5nID0gcmVuZGVyUmVzdWx0KHJlZGV4UnVsZS5yZXN1bHQpO1xuICBjb25zdCBydWxlTmFtZSA9IHJlZGV4UnVsZS50eXBlO1xuICAvLyBwcmVwYXJlIGluZGVudGVkIGNvZGUgZXhwcmVzc2lvbnNcbiAgY29uc3QgY29kZV9iZWZvcmUgPVxuICAgIEJTTF9QcmludC5pbmRlbnQoXG4gICAgICBgJHtjb250ZXh0LmxlZnR9PHNwYW4gY2xhc3M9XCJob2xlXCI+JHtyZWRleH08L3NwYW4+JHtjb250ZXh0LnJpZ2h0fWAsXG4gICAgICBtYXhXaWR0aEluQ2hhcnMsXG4gICAgICAnaHRtbCcpO1xuICBjb25zdCBjb2RlX2FmdGVyID1cbiAgICBCU0xfUHJpbnQuaW5kZW50KFxuICAgICAgcmVzdWx0LFxuICAgICAgbWF4V2lkdGhJbkNoYXJzLFxuICAgICAgJ2h0bWwnKTtcblxuICAvLyBmaW5kIG91dCB3aGVyZSB0byBwb3NpdGlvbiB0aGUgcnVsZSBhcnJvdyBzbyB0aGF0IGl0IHBvaW50cyBhdCB0aGUgaG9sZVxuICBjb25zdCBjb2RlX2JlZm9yZV9ob2xlID1cbiAgICBjb2RlX2FmdGVyLnNsaWNlKDAsY29kZV9hZnRlci5pbmRleE9mKCc8c3BhbiBjbGFzcz1cImhvbGUgaG9sZS1yZXN1bHQnKSlcbiAgICAgICAgICAgICAgLnNwbGl0KCc8YnI+JylcbiAgICAgICAgICAgICAgLnJldmVyc2UoKVswXTtcbiAgY29uc3QgaG9sZV9wb3NpdGlvbiA9IGNvZGVfYmVmb3JlX2hvbGUgPyBCU0xfUHJpbnQuZGlydGlmeShjb2RlX2JlZm9yZV9ob2xlKS5sZW5ndGggOiAwO1xuICBjb25zdCBLT05HX1dJRFRIID0gNDtcbiAgY29uc3QgbGVmdF9vZmZzZXRfYXJyb3cgPVxuICAgIGNvbnRleHQubGVmdC5sZW5ndGggPiAwICYmIGhvbGVfcG9zaXRpb24gPCBLT05HX1dJRFRIXG4gICAgPyBLT05HX1dJRFRIXG4gICAgOiBob2xlX3Bvc2l0aW9uO1xuICAvLyBmaW5kIG91dCBpZiB3ZSBoYXZlIHBsYWNlIHRvIHJlcGVhdCB0aGUgaG9sZXNcbiAgY29uc3Qgc3BhY2VfbGVmdCA9ICAgICAgICAgICAgICAgICAvLyAzIGZvciB0aGUgYXJyb3csIDIgZm9yIHRoZSBpY29uIC0tLXZcbiAgICBtYXhXaWR0aEluQ2hhcnMgLSBsZWZ0X29mZnNldF9hcnJvdyAtIHJ1bGVzW3J1bGVOYW1lXVsnbmFtZSddLmxlbmd0aCAtIDU7XG4gIGNvbnN0IHJlbmRlckhvbGVzSW5SdWxlID1cbiAgICByZWRleC5sZW5ndGggKyByZXN1bHQubGVuZ3RoIDw9IHNwYWNlX2xlZnQ7XG5cbiAgcmV0dXJuIGBcbiAgICA8ZGl2IGNsYXNzPVwic3RlcFwiXG4gICAgICAgICBkYXRhLXN0ZXA9XCIke2N1cnJlbnRTdGVwfVwiXG4gICAgICAgICBkYXRhLWN1cnJlbnRTdGVwPVwiJHtjdXJyZW50U3RlcCA9PT0gMCA/ICd0cnVlJyA6ICdmYWxzZSd9XCJcbiAgICAgICAgIGRhdGEtY29sbGFwc2VkPVwiZmFsc2VcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwcmV2LWJ1dHRvblwiXG4gICAgICAgICAgIG9uY2xpY2s9XCJwcmV2U3RlcChldmVudClcIj5cbiAgICAgICAgJHtkaWN0aW9uYXJ5W2xhbmddWydwcmV2aW91cyBzdGVwJ119IDxpbWcgY2xhc3M9XCJpY29uXCIgc3JjPVwiJHthbmdsZV91cH1cIj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5leHQtYnV0dG9uXCJcbiAgICAgICAgICAgb25jbGljaz1cIm5leHRTdGVwKGV2ZW50KVwiPlxuICAgICAgICAke2RpY3Rpb25hcnlbbGFuZ11bJ25leHQgc3RlcCddfSA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cIiR7YW5nbGVfZG93bn1cIj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwic3BsaXQtcmVzdWx0IGNvZGVcIj4ke1xuICAgICAgICAgIGNvZGVfYmVmb3JlXG4gICAgICAgIH08aW1nIGNsYXNzPVwiaWNvbiBleHBhbmRlclwiXG4gICAgICAgICAgICAgIHNyYz1cIiR7cGx1c19pY29ufVwiXG4gICAgICAgICAgICAgIG9uY2xpY2s9XCJleHBhbmQoZXZlbnQpXCJcbiAgICAgICAgPjxpbWcgY2xhc3M9XCJpY29uIGNvbGxhcHNlclwiXG4gICAgICAgICAgICAgIHNyYz1cIiR7bWludXNfaWNvbn1cIlxuICAgICAgICAgICAgICBvbmNsaWNrPVwiY29sbGFwc2UoZXZlbnQpXCJcbiAgICAgID48L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cInBsdWctcmVzdWx0IGNvZGVcIlxuICAgICAgICAgICBkYXRhLWluZm8tY29sbGFwc2VkPVwidHJ1ZVwiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICR7Ly8gaWYgY29udGV4dCBpcyBub3QgZW1wdHksIHdlIGFyZSBhcHBseWluZyBLT05HXG4gICAgICAgICAgICBjb250ZXh0LmxlZnQgIT09ICcnID9cbiAgICAgICAgICAgICAgYDxzcGFuIGNsYXNzPVwicnVsZSBydWxlLW5hbWUgbGVmdC1hcnJvd2VkIGtvbmdcIj5cbiAgICAgICAgICAgICAgICAgJHtydWxlc1snS29uZyddWyduYW1lJ119XG4gICAgICAgICAgICAgIDwvc3Bhbj5gIDogJyd9XG5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInJ1bGUgbGVmdC1hcnJvd2VkIG9uZS1ydWxlXCJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIi0tb25lLXJ1bGUtbWFyZ2luLWxlZnQ6ICR7bGVmdF9vZmZzZXRfYXJyb3cgKiBjaGFyUHhXaWR0aH1weFwiPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicnVsZS1uYW1lXCI+JHtcbiAgICAgICAgICAgICAgIHJ1bGVzW3J1bGVOYW1lXVsnbmFtZSddXG4gICAgICAgICAgICAgfTwvc3Bhbj4ke1xuICAgICAgICAgICAgICAgcmVuZGVySG9sZXNJblJ1bGUgP1xuICAgICAgICAgICAgICAgYDpcbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicnVsZS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImhvbGUgcnVsZS1ob2xlXCI+JHtcbiAgICAgICAgICAgICAgICAgICByZWRleFxuICAgICAgICAgICAgICAgICB9PC9zcGFuPiBcdTIxOTJcbiAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJob2xlIGhvbGUtcmVzdWx0IHJ1bGUtaG9sZVwiPiR7XG4gICAgICAgICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgICAgICAgIH08L3NwYW4+XG4gICAgICAgICAgICAgICA8L3NwYW4+YCA6ICcnXG4gICAgICAgICAgICAgfVxuICAgICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgICAgPGltZyBzcmM9XCIke2NpcmNsZV9pbmZvfVwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJpY29uIGluZm8tdG9nZ2xlIGluZm8tZXhwYW5kXCJcbiAgICAgICAgICAgICAgICBvbmNsaWNrPVwiZXhwYW5kSW5mbyhldmVudClcIj5cbiAgICAgICAgICAgPGltZyBzcmM9XCIke2NpcmNsZV94bWFya31cIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwiaWNvbiBpbmZvLXRvZ2dsZSBpbmZvLWNvbGxhcHNlXCJcbiAgICAgICAgICAgICAgICBvbmNsaWNrPVwiY29sbGFwc2VJbmZvKGV2ZW50KVwiPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgICAke1xuICAgICAgICAgIHJlbmRlclJ1bGVJbmZvcm1hdGlvbihydWxlTmFtZSwgY29udGV4dC5sZWZ0ICE9PSAnJylcbiAgICAgICAgfVxuICAgICAgICA8ZGl2PiR7XG4gICAgICAgICAgY29kZV9hZnRlclxuICAgICAgICB9PC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgIDwvZGl2PlxuICBgO1xufVxuLy8gZXZlbnQgaGFuZGxlcnNcbih3aW5kb3cgYXMgYW55KS5uZXh0U3RlcCA9IChlOiBFdmVudCkgPT4ge1xuICBjb25zdCBidXR0b24gPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3Qgb2xkQnV0dG9uUG9zaXRpb24gPSBidXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueTtcbiAgY29uc3QgY3VycmVudFN0ZXAgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShidXR0b24sICdzdGVwJyk7XG4gIGlmKGN1cnJlbnRTdGVwICYmIGN1cnJlbnRTdGVwLm5leHRFbGVtZW50U2libGluZykge1xuICAgIGN1cnJlbnRTdGVwLnNldEF0dHJpYnV0ZSgnZGF0YS1jdXJyZW50U3RlcCcsICdmYWxzZScpO1xuICAgIGN1cnJlbnRTdGVwLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzZWQnLCAndHJ1ZScpO1xuICAgIGN1cnJlbnRTdGVwLm5leHRFbGVtZW50U2libGluZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3VycmVudFN0ZXAnLCAndHJ1ZScpO1xuICAgIGN1cnJlbnRTdGVwLm5leHRFbGVtZW50U2libGluZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGFwc2VkJywnZmFsc2UnKTtcbiAgICAvLyBtb3ZlIFwibmV4dFwiIGJ1dHRvbiB1bmRlciBtb3VzZVxuICAgIGNvbnN0IG5ld0J1dHRvbiA9IGN1cnJlbnRTdGVwLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcubmV4dC1idXR0b24nKTtcbiAgICBpZiAoIW5ld0J1dHRvbikgcmV0dXJuO1xuICAgIGNvbnN0IG5ld0J1dHRvblBvc2l0aW9uID0gbmV3QnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnk7XG4gICAgd2luZG93LnNjcm9sbEJ5KDAsIG5ld0J1dHRvblBvc2l0aW9uIC0gb2xkQnV0dG9uUG9zaXRpb24pO1xufSBlbHNlIGlmIChjdXJyZW50U3RlcCAmJiAhY3VycmVudFN0ZXAubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgLy8gY29udGludWUgd2l0aCBuZXh0IGV4cHJlc3Npb25cbiAgICBuYXZpZ2F0ZUV4cHJlc3Npb24oZSwgMSk7XG4gIH1cbn1cbih3aW5kb3cgYXMgYW55KS5wcmV2U3RlcCA9IChlOiBFdmVudCkgPT4ge1xuICBjb25zdCBidXR0b24gPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3Qgb2xkQnV0dG9uUG9zaXRpb24gPSBidXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueTtcbiAgY29uc3QgY3VycmVudFN0ZXAgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShidXR0b24sICdzdGVwJyk7XG4gIGlmKCFjdXJyZW50U3RlcCkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ3ByZXZTdGVwIG5vdCBjYWxsZWQgZnJvbSB3aXRoaW4gYW4gZWxlbWVudCBvZiB0aGUgLnN0ZXAgY2xhc3MnKTtcbiAgICByZXR1cm47XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBjdXJyZW50U3RlcC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3RlcCcpO1xuICAgIGlmKHBvc2l0aW9uID09PSAnMCcpIHtcbiAgICAgIG5hdmlnYXRlRXhwcmVzc2lvbihlLCAtMSk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmKGN1cnJlbnRTdGVwLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHtcbiAgICAgIGN1cnJlbnRTdGVwLnNldEF0dHJpYnV0ZSgnZGF0YS1jdXJyZW50U3RlcCcsICdmYWxzZScpO1xuICAgICAgY3VycmVudFN0ZXAuc2V0QXR0cmlidXRlKCdkYXRhLWNvbGxhcHNlZCcsICd0cnVlJyk7XG4gICAgICBjdXJyZW50U3RlcC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnNldEF0dHJpYnV0ZSgnZGF0YS1jdXJyZW50U3RlcCcsICd0cnVlJyk7XG4gICAgICBjdXJyZW50U3RlcC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzZWQnLCAnZmFsc2UnKTtcbiAgICAgIC8vIG1vdmUgXCJwcmV2XCIgYnV0dG9uIHRvIGJlIHVuZGVyIG1vdXNlXG4gICAgICBjb25zdCBuZXdCdXR0b24gPSBjdXJyZW50U3RlcC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJy5wcmV2LWJ1dHRvbicpO1xuICAgICAgaWYgKCFuZXdCdXR0b24pIHJldHVybjtcbiAgICAgIGNvbnN0IG5ld0J1dHRvblBvc2l0aW9uID0gbmV3QnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnk7XG4gICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgbmV3QnV0dG9uUG9zaXRpb24gLSBvbGRCdXR0b25Qb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ3ByZXZTdGVwIGNhbGxlZCBvbiBhIHN0ZXAgd2l0aCBubyBwcmV2aW91cyBodG1sIGVsZW1lbnQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn1cbih3aW5kb3cgYXMgYW55KS5jb2xsYXBzZSA9IChlOiBFdmVudCkgPT4ge1xuICBjb25zdCBidXR0b24gPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3Qgc3RlcCA9IGdldFBhcmVudENsYXNzUmVjdXJzaXZlKGJ1dHRvbiwgJ3N0ZXAnKTtcbiAgaWYoc3RlcCkge1xuICAgIHN0ZXAuc2V0QXR0cmlidXRlKCdkYXRhLWNvbGxhcHNlZCcsICd0cnVlJyk7XG4gIH1cbn1cbih3aW5kb3cgYXMgYW55KS5leHBhbmQgPSAoZTogRXZlbnQpID0+IHtcbiAgY29uc3QgYnV0dG9uID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IHN0ZXAgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZShidXR0b24sICdzdGVwJyk7XG4gIGlmKHN0ZXApIHtcbiAgICBzdGVwLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsYXBzZWQnLCAnZmFsc2UnKTtcbiAgfVxufVxuXG4vLyByZWN1cnNpdmUgZGVmaW5pdGlvbiBvZiBwcmludGluZyB0aGUgY29udGV4dFxuaW50ZXJmYWNlIENvbnRleHQge1xuICBsZWZ0OiBzdHJpbmcsXG4gIHJpZ2h0OiBzdHJpbmdcbn1cbmZ1bmN0aW9uIHByaW50Q29udGV4dChjdHg6IFNJX1NUUlVDVC5Db250ZXh0LCBhY2M6IENvbnRleHQgPSB7bGVmdDogJycsIHJpZ2h0OiAnJ30pOiBDb250ZXh0IHtcbiAgaWYgKFNJX1NUUlVDVC5pc0hvbGUoY3R4KSkge1xuICAgIHJldHVybiB7XG4gICAgICBsZWZ0OkJTTF9QcmludC5zYW5pdGl6ZShhY2MubGVmdCksXG4gICAgICByaWdodDogQlNMX1ByaW50LnNhbml0aXplKGFjYy5yaWdodClcbiAgICB9O1xuICB9XG4gIGlmIChTSV9TVFJVQ1QuaXNBcHBDb250ZXh0KGN0eCkpIHtcbiAgICBjb25zdCBsZWZ0RWxzID0gW0JTTF9QcmludC5wcmludE5hbWUoY3R4Lm9wKSwgLi4uY3R4LnZhbHVlcy5tYXAodiA9PiBgJHt2fWApXTtcbiAgICBhY2MubGVmdCA9XG4gICAgICBgJHthY2MubGVmdH0oJHtsZWZ0RWxzLmpvaW4oJyAnKX0gYDtcbiAgICBhY2MucmlnaHQgPVxuICAgICAgIGN0eC5hcmdzLmxlbmd0aCA+IDAgP1xuICAgICAgYCAke2N0eC5hcmdzLm1hcChCU0xfUHJpbnQucHJpbnRFKS5qb2luKCcgJyl9KSR7YWNjLnJpZ2h0fWBcbiAgICAgIDogYCkke2FjYy5yaWdodH1gO1xuICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc0NvbmRDb250ZXh0KGN0eCkpIHtcbiAgICBhY2MubGVmdCA9XG4gICAgICBgJHthY2MubGVmdH0oY29uZCBbYDtcbiAgICBjb25zdCByZXN0ID0gW1xuICAgICAgYCR7QlNMX1ByaW50LnByaW50RShjdHgub3B0aW9uc1swXS5yZXN1bHQpfV1gLFxuICAgICAgLi4uY3R4Lm9wdGlvbnMuc2xpY2UoMSkubWFwKEJTTF9QcmludC5wcmludE9wdGlvbilcbiAgICBdO1xuICAgIGFjYy5yaWdodCA9XG4gICAgICBgICR7cmVzdC5qb2luKCcgJyl9KSR7YWNjLnJpZ2h0fWA7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcignUHJpbnRpbmcgdGhpcyBjb250ZXh0IGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQnLCBjdHgpO1xuICAgIHRocm93KGBQcmludGluZyAke2N0eFsndHlwZSddfSBjb250ZXh0IGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQhYCk7XG4gIH1cbiAgcmV0dXJuIHByaW50Q29udGV4dChjdHguY3R4LCBhY2MpO1xufVxuLy8gcmVjdXJzaXZlIGRlZmluaXRpb24gb2YgcHJpbnRpbmcgdGhlIHJlZGV4XG5mdW5jdGlvbiBwcmludFJlZGV4KHJlZGV4OiBTSV9TVFJVQ1QuUmVkZXgpOiBzdHJpbmcge1xuICBpZiAoU0lfU1RSVUNULmlzQ2FsbFJlZGV4KHJlZGV4KSkge1xuICAgIHJldHVybiBgKCR7QlNMX1ByaW50LnByaW50TmFtZShyZWRleC5uYW1lKX0gJHtyZWRleC5hcmdzLm1hcChhcmcgPT4gU0lfU1RSVUNULmlzVmFsdWUoYXJnKSA/IGAke2FyZ31gIDogcHJpbnRJZGVudGlmaWVyKGFyZykpLmpvaW4oJyAnKX0pYDtcbiAgfSBlbHNlIGlmIChTSV9TVFJVQ1QuaXNDb25kUmVkZXgocmVkZXgpKSB7XG4gICAgcmV0dXJuIGAoY29uZCAke3JlZGV4Lm9wdGlvbnMubWFwKEJTTF9QcmludC5wcmludE9wdGlvbikuam9pbignICcpfSlgO1xuICB9IGVsc2UgaWYgKFNJX1NUUlVDVC5pc05hbWVSZWRleChyZWRleCkpe1xuICAgIHJldHVybiByZWRleC5zeW1ib2w7XG4gIH1lbHNle1xuICAgIHRocm93IFwiSW52YWxpZCBJbnB1dCB0byBwcmludFJlZGV4XCI7XG4gIH1cbn1cbi8vIFByaW50IElkZW50aWZpZXJcbmZ1bmN0aW9uIHByaW50SWRlbnRpZmllcihpZDogU0lfU1RSVUNULklkKTogc3RyaW5nIHtcbiAgcmV0dXJuIGlkLnN5bWJvbDtcbn1cblxuLy8gcmVuZGVyaW5nIHRoZSBydWxlIHRpcFxuZnVuY3Rpb24gcmVuZGVyUnVsZUluZm9ybWF0aW9uKHJ1bGU6IGF2YWlsYWJsZVJ1bGVzLCBrb25nOiBib29sZWFuKTpzdHJpbmcge1xuICBjb25zdCBydWxlSW5mbyA9IHJ1bGVzW3J1bGVdO1xuICByZXR1cm4gYDxkaXYgY2xhc3M9XCJydWxlLWluZm9cIj4ke1xuICAgICAgICAgICBrb25nID8gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby10ZXh0LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicnVsZS1pbmZvLXJ1bGUtbmFtZVwiPiR7cnVsZXNbJ0tvbmcnXVsnbmFtZSddfTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicnVsZS1pbmZvLXJ1bGUtdGV4dFwiPiR7cnVsZXNbJ0tvbmcnXVsndGV4dCddfTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgIGAgOiAnJ1xuICAgICAgICAgfVxuICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby10ZXh0LWNvbnRhaW5lclwiPlxuICAgICAgICAgICA8ZGl2IGNsYXNzPVwicnVsZS1pbmZvLXJ1bGUtbmFtZVwiPiR7cnVsZUluZm9bJ25hbWUnXX08L2Rpdj5cbiAgICAgICAgICAgPGRpdiBjbGFzcz1cInJ1bGUtaW5mby1ydWxlLXRleHRcIj4ke3J1bGVJbmZvWyd0ZXh0J119PC9kaXY+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDwvZGl2PmA7XG59XG4od2luZG93IGFzIGFueSkuZXhwYW5kSW5mbyA9IChlOiBFdmVudCkgPT4ge1xuICBjb25zdCB0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IHAgPSBnZXRQYXJlbnRDbGFzc1JlY3Vyc2l2ZSh0LCAncGx1Zy1yZXN1bHQnKTtcbiAgaWYoIXApIHJldHVybjtcbiAgcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5mby1jb2xsYXBzZWQnLCAnZmFsc2UnKTtcbn1cbih3aW5kb3cgYXMgYW55KS5jb2xsYXBzZUluZm8gPSAoZTogRXZlbnQpID0+IHtcbiAgY29uc3QgdCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICBjb25zdCBwID0gZ2V0UGFyZW50Q2xhc3NSZWN1cnNpdmUodCwgJ3BsdWctcmVzdWx0Jyk7XG4gIGlmKHApIHAuc2V0QXR0cmlidXRlKCdkYXRhLWluZm8tY29sbGFwc2VkJywgJ3RydWUnKTtcbn1cbi8vICMjIyBydWxlcyAjIyNcbi8vIGFzIHRha2VuIGZyb20gb3ZlcnZpZXctcmVkdWN0aW9uLWFuZC1lcXVpdmFsZW5jZS5wZGYsIGkuZS4gdGhlIHNjcmlwdFxuLy8gdG8gYmUgZGlzcGxheWVkIGFzIHJlZmVyZW5jZVxudHlwZSBhdmFpbGFibGVSdWxlcyA9ICdLb25nJyB8ICdGdW4nIHwgJ1ByaW0nIHwgJ0NvbnN0JyB8ICdDb25kVHJ1ZScgfCAnQ29uZEZhbHNlJyB8XHUwMEEwJ0NvbmRFcnJvcicgfCAnU3RydWN0TWFrZScgfCAnU3RydWN0U2VsZWN0JyB8ICdTdHJ1Y3RQcmVkVHJ1ZScgfCAnU3RydWN0UHJlZEZhbHNlJyB8ICdQcm9nUnVsZSc7XG5jb25zdCBydWxlcyA9IHtcbiAgJ0tvbmcnOiB7XG4gICAgJ25hbWUnOiBgPGNhcD5Lb25nPC9jYXA+YCxcbiAgICAndGV4dCc6IGBcbiAgICAgIDxlbT5FW2U8c21hbGw+MTwvc21hbGw+XSBcdTIxOTIgRVtlPHNtYWxsPjI8L3NtYWxsPl0gZmFsbHMgZTxzbWFsbD4xPC9zbWFsbD4gXHUyMTkyIGU8c21hbGw+Mjwvc21hbGw+PC9lbT48YnI+XG4gICAgICA8ZW0+XHUyMDM5RVx1MjAzQSA6Oj0gW108YnI+XG4gICAgICAmbmJzcDsmbmJzcDsmbmJzcDt8IChcdTIwMzluYW1lXHUyMDNBIFx1MjAzOXZcdTIwM0EqIFx1MjAzOUVcdTIwM0EgXHUyMDM5ZVx1MjAzQSopPGJyPlxuICAgICAgJm5ic3A7Jm5ic3A7Jm5ic3A7fCAoPHN0cm9uZz5jb25kPC9zdHJvbmc+IFtcdTIwMzlFXHUyMDNBIFx1MjAzOWVcdTIwM0EgXXtbIFx1MjAzOWVcdTIwM0EgXHUyMDM5ZVx1MjAzQV19Kik8L2VtPlxuICAgIGBcbiAgfSxcbiAgJ0Z1bic6IHtcbiAgICAnbmFtZSc6IGA8Y2FwPkZ1bjwvY2FwPmAsXG4gICAgJ3RleHQnOiBgXG4gICAgICA8ZW0+KG5hbWUgdjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IHY8c21hbGw+bjwvc21hbGw+KSBcdTIxOTJcbiAgICAgIGVbbmFtZTxzbWFsbD4xPC9zbWFsbD4gOj0gdjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IG5hbWU8c21hbGw+bjwvc21hbGw+IDo9IHY8c21hbGw+bjwvc21hbGw+IF08L2VtPlxuICAgICAgZmFsbHNcbiAgICAgIDxlbT4oPC9lbT4gPHN0cm9uZz5kZWZpbmU8L3N0cm9uZz4gPGVtPihuYW1lIG5hbWU8c21hbGw+MTwvc21hbGw+IFx1MjAyNiBuYW1lPHNtYWxsPm48L3NtYWxsPikgZSk8L2VtPiBpbiBVbWdlYnVuZ1xuICAgIGBcbiAgfSxcbiAgJ1ByaW0nOiB7XG4gICAgJ25hbWUnOiBgPGNhcD5QcmltPC9jYXA+YCxcbiAgICAndGV4dCc6IGBcbiAgICAgIDxlbT4obmFtZSB2PHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgdjxzbWFsbD5uPC9zbWFsbD4pIFx1MjE5MiB2PC9lbT4gZmFsbHNcbiAgICAgIDxlbT5uYW1lPC9lbT4gZWluZSBwcmltaXRpdmUgRnVua3Rpb24gPGVtPmY8L2VtPiBpc3QgdW5kXG4gICAgICA8ZW0+Zih2PHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgdjxzbWFsbD5uPC9zbWFsbD4pID0gdjwvZW0+XG4gICAgYFxuICB9LFxuICAnQ29uc3QnOiB7XG4gICAgJ25hbWUnOiBgPGNhcD5Db25zdDwvY2FwPmAsXG4gICAgJ3RleHQnOiBgXG4gICAgICA8ZW0+bmFtZSBcdTIxOTIgdjwvZW0+IGZhbGxzIDxlbT4oPHN0cm9uZz5kZWZpbmU8L3N0cm9uZz4gbmFtZSB2KTwvZW0+IGluIFVtZ2VidW5nLlxuICAgIGBcbiAgfSxcbiAgJ0NvbmRUcnVlJzoge1xuICAgICduYW1lJzogYDxjYXA+Q29uZDwvY2FwPi1UcnVlYCxcbiAgICAndGV4dCc6IGBcbiAgICAgIDxlbT4oPHN0cm9uZz5jb25kPC9zdHJvbmc+IFs8c3Ryb25nPiN0cnVlPC9zdHJvbmc+IGVdIFx1MjAyNikgXHUyMTkyIGU8L2VtPlxuICAgIGBcbiAgfSxcbiAgJ0NvbmRGYWxzZSc6IHtcbiAgICAnbmFtZSc6IGA8Y2FwPkNvbmQ8L2NhcD4tRmFsc2VgLFxuICAgICd0ZXh0JzogYFxuICAgICAgPGVtPig8c3Ryb25nPmNvbmQ8L3N0cm9uZz4gWzxzdHJvbmc+I2ZhbHNlPC9zdHJvbmc+IGU8c21hbGw+MTwvc21hbGw+XVxuICAgICAgICAgW2U8c21hbGw+Mjwvc21hbGw+IGU8c21hbGw+Mzwvc21hbGw+XSBcdTIwMjYpIFx1MjE5MlxuICAgICAgICAgKDxzdHJvbmc+Y29uZDwvc3Ryb25nPiBbZTxzbWFsbD4yPC9zbWFsbD4gZTxzbWFsbD4zPC9zbWFsbD5dIFx1MjAyNik8L2VtPlxuICAgIGBcbiAgfSxcbiAgJ0NvbmRFcnJvcic6IHtcbiAgICAnbmFtZSc6IGA8Y2FwPkNvbmQ8L2NhcD4tRXJyb3JgLFxuICAgICd0ZXh0JzogYFxuICAgICAgPGVtPig8c3Ryb25nPmNvbmQ8L3N0cm9uZz4gW2U8c21hbGw+MTwvc21hbGw+IGU8c21hbGw+Mjwvc21hbGw+XSBcdTIwMjYpIFx1MjE5MlxuICAgICAgICAgICg8c3Ryb25nPmVycm9yPC9zdHJvbmc+IFwiY29uZDogYWxsIGNvbmRpdGlvbnMgZmFsc2VcIik8L2VtPlxuICAgIGBcbiAgfSxcbiAgJ1N0cnVjdE1ha2UnOiB7XG4gICAgJ25hbWUnOiBgPGNhcD5TdHJ1Y3Q8L2NhcD4tbWFrZWAsXG4gICAgJ3RleHQnOiBgXG4gICAgICA8ZW0+KDxzdHJvbmc+bWFrZTwvc3Ryb25nPi1uYW1lIHY8c21hbGw+MTwvc21hbGw+IFx1MjAyNiB2PHNtYWxsPm48L3NtYWxsPikgXHUyMTkyXG4gICAgICAmbHQ7PHN0cm9uZz5tYWtlPC9zdHJvbmc+LW5hbWUgdjxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IHY8c21hbGw+bjwvc21hbGw+Jmd0OzwvZW0+XG4gICAgICBmYWxscyA8ZW0+KDxzdHJvbmc+ZGVmaW5lLXN0cnVjdDwvc3Ryb25nPiBuYW1lIChuYW1lPHNtYWxsPjE8L3NtYWxsPiBcdTIwMjYgbmFtZTxzbWFsbD5uPC9zbWFsbD4pKTwvZW0+IGluIFVtZ2VidW5nXG4gICAgYFxuICB9LFxuICAnU3RydWN0U2VsZWN0Jzoge1xuICAgICduYW1lJzogYDxjYXA+U3RydWN0PC9jYXA+LXNlbGVjdGAsXG4gICAgJ3RleHQnOiBgXG4gICAgICA8ZW0+KG5hbWUtbmFtZTxzbWFsbD5pPC9zbWFsbD4gJmx0OzxzdHJvbmc+bWFrZTwvc3Ryb25nPi1uYW1lXG4gICAgICAgIHY8c21hbGw+MTwvc21hbGw+IFx1MjAyNiB2PHNtYWxsPm48L3NtYWxsPiZndDspIFx1MjE5MiB2PHNtYWxsPmk8L3NtYWxsPjwvZW0+XG4gICAgICAgIGZhbGxzIDxlbT4oPHN0cm9uZz5kZWZpbmUtc3RydWN0PC9zdHJvbmc+IG5hbWVcbiAgICAgICAgICAobmFtZTxzbWFsbD4xPC9zbWFsbD4gXHUyMDI2IG5hbWU8c21hbGw+bjwvc21hbGw+KSk8L2VtPiBpbiBVbWdlYnVuZ1xuICAgIGBcbiAgfSxcbiAgJ1N0cnVjdFByZWRUcnVlJzoge1xuICAgICduYW1lJzogYDxjYXA+U3RydWN0PC9jYXA+LXByZWR0cnVlYCxcbiAgICAndGV4dCc6IGBcbiAgICAgIDxlbT4obmFtZT8gJmx0OzxzdHJvbmc+bWFrZTwvc3Ryb25nPi1uYW1lIFx1MjAyNiZndDspIFx1MjE5MiA8c3Ryb25nPiN0cnVlPC9zdHJvbmc+PC9lbT5cbiAgICBgXG4gIH0sXG4gICdTdHJ1Y3RQcmVkRmFsc2UnOiB7XG4gICAgJ25hbWUnOiBgPGNhcD5TdHJ1Y3Q8L2NhcD4tcHJlZGZhbHNlYCxcbiAgICAndGV4dCc6IGBcbiAgICAgIDxlbT4obmFtZT8gdikgXHUyMTkyIDxzdHJvbmc+I2ZhbHNlPC9zdHJvbmc+PC9lbT4gZmFsbHMgPGVtPnY8L2VtPiBuaWNodFxuICAgICAgPGVtPiZsdDs8c3Ryb25nPm1ha2U8L3N0cm9uZz4tbmFtZSBcdTIwMjYmZ3Q7PC9lbT4gaXN0XG4gICAgYFxuICB9LFxuICAnUHJvZ1J1bGUnOiB7XG4gICAgJ25hbWUnOiBgPGNhcD5Qcm9nPC9jYXA+YCxcbiAgICAndGV4dCc6IGBcbiAgICAgIEVpbiBQcm9ncmFtbSB3aXJkIHZvbiBsaW5rcyBuYWNoIHJlY2h0cyBhdXNnZWZcdTAwRkNocnQgdW5kIHN0YXJ0ZXQgbWl0IGRlclxuICAgICAgbGVlcmVuIFVtZ2VidW5nLiBJc3QgZGFzIG5cdTAwRTRjaHN0ZSBQcm9ncmFtbWVsZW1lbnQgZWluZSBGdW5rdGlvbnMtIG9kZXJcbiAgICAgIFN0cnVrdHVyZGVmaW5pdGlvbiwgc28gd2lyZCBkaWVzZSBEZWZpbml0aW9uIGluIGRpZSBVbWdlYnVuZyBhdWZnZW5vbW1lblxuICAgICAgdW5kIGRpZSBBdXNmXHUwMEZDaHJ1bmcgbWl0IGRlbSBuXHUwMEU0Y2hzdGVuIFByb2dyYW1tZWxlbWVudCBpbiBkZXIgZXJ3ZWl0ZXJ0ZW5cbiAgICAgIFVtZ2VidW5nIGZvcnRnZXNldHp0LiBJc3QgZGFzIG5cdTAwRTRjaHN0ZSBQcm9ncmFtbWVsZW1lbnQgZWluIEF1c2RydWNrLCBzb1xuICAgICAgd2lyZCBkaWVzZXIgZ2VtXHUwMEU0XHUwMERGIGRlciB1bnRlbiBzdGVoZW5kZW4gUmVnZWxuIGluIGRlciBha3R1ZWxsZW4gVW1nZWJ1bmcgenVcbiAgICAgIGVpbmVtIFdlcnQgYXVzZ2V3ZXJ0LiBJc3QgZGFzIG5cdTAwRTRjaHN0ZSBQcm9ncmFtbWVsZW1lbnQgZWluZVxuICAgICAgS29uc3RhbnRlbmRlZmluaXRpb24gPGVtPig8c3Ryb25nPmRlZmluZTwvc3Ryb25nPiB4IGUpPC9lbT4sIHNvIHdpcmQgaW5cbiAgICAgIGRlciBha3R1ZWxsZW4gVW1nZWJ1bmcgenVuXHUwMEU0Y2hzdCA8ZW0+ZTwvZW0+IHp1IGVpbmVtIFdlcnQgPGVtPnY8L2VtPlxuICAgICAgYXVzZ2V3ZXJ0ZXQgdW5kIGRhbm4gPGVtPig8c3Ryb25nPmRlZmluZTwvc3Ryb25nPiB4IHYpPC9lbT4genVyIGFrdHVlbGxlblxuICAgICAgVW1nZWJ1bmcgaGluenVnZWZcdTAwRkNndC5cbiAgICBgXG4gIH0sXG59XG4iLCAiaW1wb3J0IHtwcm9jZXNzQnNsVHJlZXN9IGZyb20gJy4vQlNMX1RyZWUnO1xuaW1wb3J0IHtwcm9jZXNzSnNvblRyZWVzfSBmcm9tICcuL0pTT05fVHJlZSc7XG5pbXBvcnQge3Byb2Nlc3NTdGVwcGVyc30gZnJvbSAnLi9TSV9SZW5kZXJlcic7XG5cbi8vIHNldHVwIGNhbGxiYWNrc1xud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgcHJvY2Vzc0JzbFRyZWVzKCk7XG4gIHByb2Nlc3NKc29uVHJlZXMoKTtcbiAgcHJvY2Vzc1N0ZXBwZXJzKCk7XG59XG4iXSwKICAibWFwcGluZ3MiOiAib2NBMkRPLFlBQXNCLEVBQTZCLENBQ3hELE1BQU8sR0FBUyxDQUFHLEdBQUssRUFBVyxDQUFHLEdBQUssR0FBWSxDQUFHLENBQzVELENBQ08sV0FBa0IsRUFBeUIsQ0FDaEQsTUFBTyxHQUFJLE9BQVMscUJBQ3RCLENBQ08sV0FBb0IsRUFBMkIsQ0FDcEQsTUFBTyxHQUFJLE9BQVMscUJBQ3RCLENBQ08sWUFBcUIsRUFBNEIsQ0FDdEQsTUFBTyxHQUFJLE9BQVMsbUJBQ3RCLENBRU8sWUFBZ0IsRUFBdUIsQ0FDNUMsTUFBTyxHQUFP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LEdBQ3ZCLE1BQU8sMEJBQ0UsRUFBTztBQUFBO0FBQUEsaURBRStCLEdBQU0sS0FBUTtBQUFBLGlEQUNkLEdBQU0sS0FBUTtBQUFBO0FBQUEsYUFFaEQ7QUFBQTtBQUFBLDhDQUcrQixFQUFTO0FBQUEsOENBQ1QsRUFBUztBQUFBO0FBQUEsZ0JBR3ZELENBQ0EsQUFBQyxPQUFlLFdBQWEsQUFBQyxHQUFhLENBQ3pDLEdBQU0sR0FBSSxFQUFFLE9BQ04sRUFBSSxFQUF3QixFQUFHLGFBQWEsRUFDbEQsQUFBRyxDQUFDLEdBQ0osRUFBRSxhQUFhLHNCQUF1QixPQUFPLENBQy9DLEVBQ0EsQUFBQyxPQUFlLGFBQWUsQUFBQyxHQUFhLENBQzNDLEdBQU0sR0FBSSxFQUFFLE9BQ04sRUFBSSxFQUF3QixFQUFHLGFBQWEsRUFDbEQsQUFBRyxHQUFHLEVBQUUsYUFBYSxzQkFBdUIsTUFBTSxDQUNwRCxFQUtBLEdBQU0sSUFBUSxDQUNaLEtBQVEsQ0FDTixLQUFRLGtCQUNSLEtBQVE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBTVYsRUFDQSxJQUFPLENBQ0wsS0FBUSxpQkFDUixLQUFRO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxLQU1WLEVBQ0EsS0FBUSxDQUNOLEtBQVEsa0JBQ1IsS0FBUTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBS1YsRUFDQSxNQUFTLENBQ1AsS0FBUSxtQkFDUixLQUFRO0FBQUE7QUFBQSxLQUdWLEVBQ0EsU0FBWSxDQUNWLEtBQVEsdUJBQ1IsS0FBUTtBQUFBO0FBQUEsS0FHVixFQUNBLFVBQWEsQ0FDWCxLQUFRLHdCQUNSLEtBQVE7QUFBQTtBQUFBO0FBQUE7QUFBQSxLQUtWLEVBQ0EsVUFBYSxDQUNYLEtBQVEsd0JBQ1IsS0FBUTtBQUFBO0FBQUE7QUFBQSxLQUlWLEVBQ0EsV0FBYyxDQUNaLEtBQVEseUJBQ1IsS0FBUTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBS1YsRUFDQSxhQUFnQixDQUNkLEtBQVEsMkJBQ1IsS0FBUTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsS0FNVixFQUNBLGVBQWtCLENBQ2hCLEtBQVEsNkJBQ1IsS0FBUTtBQUFBO0FBQUEsS0FHVixFQUNBLGdCQUFtQixDQUNqQixLQUFRLDhCQUNSLEtBQVE7QUFBQTtBQUFBO0FBQUEsS0FJVixFQUNBLFNBQVksQ0FDVixLQUFRLGtCQUNSLEtBQVE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsS0FhVixDQUNGLEVDM3NCQSxPQUFPLE9BQVMsSUFBTSxDQUNwQixHQUFnQixFQUNoQixHQUFpQixFQUNqQixHQUFnQixDQUNsQiIsCiAgIm5hbWVzIjogW10KfQo=
